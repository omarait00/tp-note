(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[7],{39:function(e,t,i){"use strict";i.r(t),i.d(t,"FILTER_EDITOR_WIDTH",(function(){return x})),i.d(t,"FilterItem",(function(){return h}));var l=i(8),a=i.n(l),n=(i(48),i(2)),r=i(37),o=i(38),s=i.n(o),d=i(1),b=i(13),c=i(47),u=i(3),f=i(16),g=i(0);const m=({filter:e,readOnly:t,iconOnClick:i,onClick:l,valueLabel:o,fieldLabel:s,errorMessage:d,filterLabelStatus:b,hideAlias:c,...m})=>{const[p,F]=Object(n.useInnerText)(),x=t?u.i18n.translate("unifiedSearch.filter.filterBar.filterString",{defaultMessage:"Filter: {innerText}.",values:{innerText:F}}):u.i18n.translate("unifiedSearch.filter.filterBar.filterActionsMessage",{defaultMessage:"Filter: {innerText}. Select for more filter actions.",values:{innerText:F}});let h=d||x;Object(r.isFilterPinned)(e)&&(h=`${u.i18n.translate("unifiedSearch.filter.filterBar.pinnedFilterPrefix",{defaultMessage:"Pinned"})} ${h}`),e.meta.disabled&&(h=`${u.i18n.translate("unifiedSearch.filter.filterBar.disabledFilterPrefix",{defaultMessage:"Disabled"})} ${h}`);const I={color:"hollow",tabIndex:0},j=t?{...I,title:void 0}:{...I,title:h,iconType:"cross",iconSide:"right",closeButtonProps:{tabIndex:-1},iconOnClick:i,iconOnClickAriaLabel:u.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeIconAriaLabel",{defaultMessage:"Delete {filter}",values:{filter:F}}),onClick:l,onClickAriaLabel:u.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeAriaLabel",{defaultMessage:"Filter actions"})},_=()=>Object(g.jsx)(n.EuiBadge,a()({},j,m),Object(g.jsx)(f.d,{filter:e,valueLabel:o,fieldLabel:s,filterLabelStatus:b,hideAlias:c}));return t?Object(g.jsx)(n.EuiToolTip,{position:"bottom",content:h},Object(g.jsx)("span",{ref:p},Object(g.jsx)(_,null))):Object(g.jsx)("span",{ref:p},Object(g.jsx)(_,null))},p="warn",F="error",x=800;function h(e){const[t,i]=Object(d.useState)(!1),[l,o]=Object(d.useState)("menu"),{id:u,filter:f,indexPatterns:h,hiddenPanelOptions:I,readOnly:j=!1}=e;function _(){const t=Object(r.toggleFilterDisabled)(f);e.onUpdate(t)}function k(e){const{disabled:t}=f.meta;return t||e.status===F}Object(d.useEffect)((()=>{t&&o("menu")}),[t]);const v=function(){var t;const i={title:"",message:"",status:""};if(null!==(t=f.meta)&&void 0!==t&&t.isMultiIndex)return i;if(!e.indexPatterns.length||Object(b.getIndexPatternFromFilter)(f,h)||h.map((e=>e.fields.map((e=>e.name)))).reduce(((e,t)=>[...e,...t]),[]).includes((null===(l=f.meta)||void 0===l?void 0:l.key)||""))try{i.title=Object(b.getDisplayValueFromFilter)(f,h)}catch(t){i.status=p,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=t.message}else i.status=p,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningInfo",defaultMessage:"Field {fieldName} does not exist in current view"},{fieldName:f.meta.key});var l;return i}();if(v.status===F&&!f.meta.disabled)return f.meta.disabled=!0,e.onUpdate(f),null;const O={filter:f,readOnly:j,valueLabel:v.title,fieldLabel:Object(b.getFieldDisplayValueFromFilter)(f,h),filterLabelStatus:v.status,errorMessage:v.message,className:(M=!!f.meta.negate,w=v,s()("globalFilterItem",{"globalFilterItem-isDisabled":k(w),"globalFilterItem-isError":w.status===F,"globalFilterItem-isWarning":w.status===p,"globalFilterItem-isPinned":Object(r.isFilterPinned)(f),"globalFilterItem-isExcluded":M},e.className)),iconOnClick:function(t){e.onRemove(),i(!1)},onClick:function(e){e.shiftKey?_():i(!t)},"data-test-subj":function(e){const t=f.meta.key?`filter-key-${f.meta.key}`:"",i=function(e){return""===e.status}(e)?e.title:e.status,l=i?`filter-value-${i}`:"",a=f.meta.negate?"filter-negated":"",n="filter-"+(k(e)?"disabled":"enabled"),o="filter-"+(Object(r.isFilterPinned)(f)?"pinned":"unpinned");return s()("filter",n,t,l,o,a)}(v)};var M,w;const L={id:`popoverFor_filter${u}`,className:"globalFilterItem__popover",anchorClassName:"globalFilterItem__popoverAnchor",isOpen:t,closePopover:()=>{i(!1)},button:Object(g.jsx)(m,O),panelPaddingSize:"none"};return j?Object(g.jsx)(m,O):Object(g.jsx)(n.EuiPopover,a()({anchorPosition:"downLeft"},L),"menu"===l?Object(g.jsx)(n.EuiContextMenu,{initialPanelId:0,panels:function(){const{negate:t,disabled:l}=f.meta;let a=[{name:Object(r.isFilterPinned)(f)?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.unpinFilterButtonLabel",defaultMessage:"Unpin"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.pinFilterButtonLabel",defaultMessage:"Pin across all apps"}),icon:"pin",onClick:()=>{i(!1),function(){const t=Object(r.toggleFilterPinned)(f);e.onUpdate(t)}()},"data-test-subj":"pinFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.editFilterButtonLabel",defaultMessage:"Edit filter"}),icon:"pencil","data-test-subj":"editFilter",onClick:()=>{o("editFilter")}},{name:t?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.includeFilterButtonLabel",defaultMessage:"Include results"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.excludeFilterButtonLabel",defaultMessage:"Exclude results"}),icon:t?"plusInCircle":"minusInCircle",onClick:()=>{i(!1),function(){const t=Object(r.toggleFilterNegated)(f);e.onUpdate(t)}()},"data-test-subj":"negateFilter"},{name:l?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.enableFilterButtonLabel",defaultMessage:"Re-enable"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.disableFilterButtonLabel",defaultMessage:"Temporarily disable"}),icon:l?"eye":"eyeClosed",onClick:()=>{i(!1),_()},"data-test-subj":"disableFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.deleteFilterButtonLabel",defaultMessage:"Delete"}),icon:"trash",onClick:()=>{i(!1),e.onRemove()},"data-test-subj":"deleteFilter"}];return I&&I.length>0&&(a=a.filter((e=>!I.includes(e["data-test-subj"])))),[{id:0,items:a}]}()}):Object(g.jsx)(n.EuiContextMenuPanel,{items:[Object(g.jsx)("div",{style:{width:x}},Object(g.jsx)(c.a,{filter:f,indexPatterns:h,onSubmit:function(t){i(!1),e.onUpdate(t)},onCancel:()=>{i(!1)},timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride}))]}))}t.default=h},48:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(49);case"v8light":return i(51)}},49:function(e,t,i){var l=i(22),a=i(50);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},50:function(e,t,i){(t=i(23)(!1)).push([e.i,'.globalFilterItem{border:none;color:#dfe5ef;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#16171c;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;box-shadow:0 0 #0000,inset 0 0 0 1px #424752;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#34374180;color:#98a2b3;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#f87972}.globalFilterItem-isWarning .globalFilterLabel__value{color:#f3d371}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#424752;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #7c3632}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#c6564f}.globalFilterItem__editorForm{padding:8px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},51:function(e,t,i){var l=i(22),a=i(52);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},52:function(e,t,i){(t=i(23)(!1)).push([e.i,'.globalFilterItem{border:none;color:#343741;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#fbfcfd;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #112b861a;box-shadow:0 0 #0000,inset 0 0 0 1px #bcc3ce;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#d3dae680;color:#69707d;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#b4251d}.globalFilterItem-isWarning .globalFilterLabel__value{color:#765b0a}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#bcc3ce;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #ebbebc}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#d16862}.globalFilterItem__editorForm{padding:8px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t}}]);