!function(e){function t(t){for(var n,r,i=t[0],o=t[1],s=0,l=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&l.push(a[r][0]),a[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);l.length;)l.shift()()}var n={},a={3:0};function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=function(e){return r.p+"unifiedSearch.chunk."+e+".js"}(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}a[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=o;r(r.s=29)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){e.exports=n(24)(2)},function(e,t,n){"use strict";let a;n.d(t,"a",(function(){return a})),function(e){e.Field="field",e.Value="value",e.Operator="operator",e.Conjunction="conjunction",e.RecentSearch="recentSearch"}(a||(a={}))},function(e,t,n){e.exports=n(24)(3)},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var a=n(12);const[r,i]=Object(a.createGetterSetter)("IndexPatterns"),[o,s]=Object(a.createGetterSetter)("Theme"),[u,l]=Object(a.createGetterSetter)("Overlays")},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return b}));var a=n(1),r=n.n(a),i=n(0);const o=()=>Object(i.jsx)("div",null),s=r.a.lazy((()=>Promise.all([n.e(0),n.e(4)]).then(n.bind(null,44)))),u=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(o,null)},Object(i.jsx)(s,e)),l=r.a.lazy((()=>Promise.all([n.e(0),n.e(5)]).then(n.bind(null,42)))),c=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(o,null)},Object(i.jsx)(l,e)),d=r.a.lazy((()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,43)))),p=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(o,null)},Object(i.jsx)(d,e)),g=r.a.lazy((()=>Promise.all([n.e(0),n.e(7)]).then(n.bind(null,39)))),b=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(o,null)},Object(i.jsx)(g,e))},function(e,t,n){n.r(t);var a=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(a))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(8),r=n.n(a),i=n(1),o=n.n(i),s=n(2),u=n(3),l=n(0),c={name:"18g08sj",styles:"padding-bottom:0"};function d({dataViewsList:e,onChangeDataView:t,isTextBasedLangSelected:n,currentDataViewId:a,selectableProps:i,searchListInputId:d}){return Object(l.jsx)(s.EuiSelectable,r()({},i,{"data-test-subj":"indexPattern-switcher",searchable:!0,singleSelection:"always",options:null==e?void 0:e.map((({title:e,id:t,name:r,isAdhoc:i})=>({key:t,label:r||e,value:t,checked:t!==a||Boolean(n)?void 0:"on",append:i?Object(l.jsx)(s.EuiBadge,{color:"hollow","data-test-subj":`dataViewItemTempBadge-${r}`},u.i18n.translate("unifiedSearch.query.queryBar.indexPattern.temporaryDataviewLabel",{defaultMessage:"Temporary"})):null}))),onChange:e=>{const n=e.find((({checked:e})=>e));t(n.value)},searchProps:{id:d,compressed:!0,placeholder:u.i18n.translate("unifiedSearch.query.queryBar.indexPattern.findDataView",{defaultMessage:"Find a data view"}),"data-test-subj":"indexPattern-switcher--input",...i?i.searchProps:void 0}}),((e,t)=>Object(l.jsx)(o.a.Fragment,null,Object(l.jsx)(s.EuiPanel,{css:c,color:"transparent",paddingSize:"s"},t),e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n(9),i=n(18),o=n(2),s=n(0),u=n(3);const l=({noDataViewMatches:e,indexMatches:t,dataViewSearchString:n,setPopoverIsOpen:a,onCreateDefaultAdHocDataView:r})=>{const{euiTheme:i}=Object(o.useEuiTheme)();return r&&e&&t>0?Object(s.jsx)(o.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween","data-test-subj":"select-text-based-language-panel",css:Object(s.css)("margin:",i.size.s,";margin-bottom:0;","")},Object(s.jsx)(o.EuiFlexItem,{grow:!0},Object(s.jsx)(o.EuiButton,{fullWidth:!0,size:"s",onClick:()=>{a(!1),r(n)}},u.i18n.translate("unifiedSearch.query.queryBar.indexPattern.createForMatchingIndices",{defaultMessage:"Explore {indicesLength, plural,\n              one {# matching index}\n              other {# matching indices}}",values:{indicesLength:t}})),Object(s.jsx)(o.EuiSpacer,{size:"s"}))):null},c=({currentDataViewId:e,searchListInputId:t,dataViewsList:n,selectableProps:o,isTextBasedLangSelected:u,setPopoverIsOpen:c,onChangeDataView:d,onCreateDefaultAdHocDataView:p})=>{const g=Object(r.useKibana)(),{dataViews:b}=g.services,[f,h]=Object(a.useState)(!1),[m,y]=Object(a.useState)(""),[x,_]=Object(a.useState)(0),S=Object(a.useRef)();return Object(a.useEffect)((()=>(S.current=setTimeout((async function(){if(""!==m&&f){const e=await b.getIndices({pattern:m,isRollupIndex:()=>!1,showAllIndices:!1});_(e.length)}}),250),()=>{S.current&&clearTimeout(S.current)})),[m,b,f]),Object(s.jsx)(a.Fragment,null,Object(s.jsx)(i.a,{dataViewsList:n,onChangeDataView:d,currentDataViewId:e,selectableProps:{...o||{},searchProps:{...(null==o?void 0:o.searchProps)||{},onChange:(e,t)=>{var a,r;null==o||null===(a=o.searchProps)||void 0===a||null===(r=a.onChange)||void 0===r||r.call(a,e,t),h(0===t.length&&n.length>0),y(e)}}},searchListInputId:t,isTextBasedLangSelected:u}),Object(s.jsx)(l,{noDataViewMatches:f,indexMatches:x,dataViewSearchString:m,setPopoverIsOpen:c,onCreateDefaultAdHocDataView:p}))}},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){"use strict";var a,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],r=0;r<e.length;r++){var s=e[r],u=t.base?s[0]+t.base:s[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=o(c),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(p)):i.push({identifier:c,updater:f(p,t),references:1}),a.push(c)}return a}function u(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var i=n.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=r(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,a){var r=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function p(e,t,n){var a=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var g=null,b=0;function f(e,t){var n,a,r;if(t.singleton){var i=b++;n=g||(g=u(t)),a=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=u(t),a=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var r=o(n[a]);i[r].references--}for(var u=s(e,t),l=0;l<n.length;l++){var c=o(n[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=u}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,a,r,i=e[1]||"",o=e[3];if(!o)return i;if(t&&"function"==typeof btoa){var s=(n=o,a=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(r," */")),u=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[i].concat(u).concat([s]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(a)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(r[o]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);a&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.d(t,"a",(function(){return autocomplete_service_AutocompleteService}));var a=n(6),r=n.n(a),i=n(21),o=n.n(i),s=n(20),u=n.n(s),l=n(5),c=n(17);const d=()=>Promise.resolve([]);var p=n(27),g=n(14);let b;!function(e){e.CALL="autocomplete:call",e.REQUEST="autocomplete:req",e.RESULT="autocomplete:res",e.ERROR="autocomplete:err"}(b||(b={}));var f=n(13),h=n(7);const m=(e,t)=>{const n=["raw","keyword"];return n.map((t=>`${e.name}.${t}`)).includes(t.name)?1:n.map((e=>`${t.name}.${e}`)).includes(e.name)?-1:e.name.localeCompare(t.name)},y=e=>{const t=e.getStartServices().then((([e,t,n])=>n.autocomplete));return async({indexPatterns:e,boolFilter:n,useTimeRange:a,signal:r,method:i},{start:o,end:s,prefix:u,suffix:c,fieldName:d,nestedPath:p})=>{const g=p?`${p}.${d}`:d,b=[];e.forEach((e=>{e.fields.filter((e=>e.name===g)).forEach((t=>b.push([e,t])))}));const f=`${u}${c}`.trim(),{getValueSuggestions:m}=await t,y=await Promise.all(b.map((([e,t])=>m({indexPattern:e,field:t,query:f,boolFilter:n,useTimeRange:a,signal:r,method:i}).then((e=>{const t=e.map((e=>{return"string"==typeof e?`"${t=e,t.replace(/[\\"]/g,"\\$&")}"`:`${e}`;var t}));return((e,t,n,a)=>a.filter((e=>e.toLowerCase().includes(n.toLowerCase()))).map((n=>({type:h.a.Value,text:`${n} `,start:e,end:t}))))(o,s,f,t)})))));return Object(l.flatten)(y)}};n(1);var x=n(4),_=n(0);const S=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.equalOperatorDescription.equalsText",defaultMessage:"equals",description:"Part of unifiedSearch.kueryAutocomplete.equalOperatorDescription. Full text: 'equals some value'"}),v=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription.lessThanOrEqualToText",defaultMessage:"less than or equal to",description:"Part of unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription. Full text: 'is less than or equal to some value'"}),k=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription.greaterThanOrEqualToText",defaultMessage:"greater than or equal to",description:"Part of unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription. Full text: 'is greater than or equal to some value'"}),j=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOperatorDescription.lessThanText",defaultMessage:"less than",description:"Part of unifiedSearch.kueryAutocomplete.lessThanOperatorDescription. Full text: 'is less than some value'"}),T=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription.greaterThanText",defaultMessage:"greater than",description:"Part of unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription. Full text: 'is greater than some value'"}),O=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.existOperatorDescription.existsText",defaultMessage:"exists",description:"Part of unifiedSearch.kueryAutocomplete.existOperatorDescription. Full text: 'exists in any form'"}),w={":":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.equalOperatorDescription",defaultMessage:"{equals} some value",values:{equals:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},S)},description:"Full text: 'equals some value'. See 'unifiedSearch.kueryAutocomplete.equalOperatorDescription.equalsText' for 'equals' part."}),fieldTypes:["string","number","number_range","date","date_range","ip","ip_range","geo_point","geo_shape","boolean"]},"<=":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription",defaultMessage:"is {lessThanOrEqualTo} some value",values:{lessThanOrEqualTo:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},v)},description:"Full text: 'is less than or equal to some value'. See 'unifiedSearch.kueryAutocomplete.lessThanOrEqualOperatorDescription.lessThanOrEqualToText' for 'less than or equal to' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},">=":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription",defaultMessage:"is {greaterThanOrEqualTo} some value",values:{greaterThanOrEqualTo:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},k)},description:"Full text: 'is greater than or equal to some value'. See 'unifiedSearch.kueryAutocomplete.greaterThanOrEqualOperatorDescription.greaterThanOrEqualToText' for 'greater than or equal to' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},"<":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.lessThanOperatorDescription",defaultMessage:"is {lessThan} some value",values:{lessThan:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},j)},description:"Full text: 'is less than some value'. See 'unifiedSearch.kueryAutocomplete.lessThanOperatorDescription.lessThanText' for 'less than' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},">":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription",defaultMessage:"is {greaterThan} some value",values:{greaterThan:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},T)},description:"Full text: 'is greater than some value'. See 'unifiedSearch.kueryAutocomplete.greaterThanOperatorDescription.greaterThanText' for 'greater than' part."}),fieldTypes:["number","number_range","date","date_range","ip","ip_range"]},": *":{description:Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.existOperatorDescription",defaultMessage:"{exists} in any form",values:{exists:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},O)},description:"Full text: 'exists in any form'. See 'unifiedSearch.kueryAutocomplete.existOperatorDescription.existsText' for 'exists' part."}),fieldTypes:void 0}},I=e=>w[e],E=e=>Object(_.jsx)("p",null,I(e).description),D=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.andOperatorDescription.bothArgumentsText",defaultMessage:"both arguments",description:"Part of unifiedSearch.kueryAutocomplete.andOperatorDescription. Full text: 'Requires both arguments to be true'"}),M=Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.orOperatorDescription.oneOrMoreArgumentsText",defaultMessage:"one or more arguments",description:"Part of unifiedSearch.kueryAutocomplete.orOperatorDescription. Full text: 'Requires one or more arguments to be true'"}),P={and:Object(_.jsx)("p",null,Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.andOperatorDescription",defaultMessage:"Requires {bothArguments} to be true",values:{bothArguments:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},D)},description:"Full text: ' Requires both arguments to be true'. See 'unifiedSearch.kueryAutocomplete.andOperatorDescription.bothArgumentsText' for 'both arguments' part."})),or:Object(_.jsx)("p",null,Object(_.jsx)(x.FormattedMessage,{id:"unifiedSearch.kueryAutocomplete.orOperatorDescription",defaultMessage:"Requires {oneOrMoreArguments} to be true",values:{oneOrMoreArguments:Object(_.jsx)("span",{className:"kbnSuggestionItem__callout"},M)},description:"Full text: 'Requires one or more arguments to be true'. See 'unifiedSearch.kueryAutocomplete.orOperatorDescription.oneOrMoreArgumentsText' for 'one or more arguments' part."}))};class autocomplete_service_AutocompleteService{constructor(e){r()(this,"autocompleteConfig",void 0),r()(this,"querySuggestionProviders",new Map),r()(this,"getValueSuggestions",void 0),r()(this,"getQuerySuggestions",(e=>{const{language:t}=e,n=this.querySuggestionProviders.get(t);if(n)return n(e)})),r()(this,"hasQuerySuggestions",(e=>this.querySuggestionProviders.has(e))),this.initializerContext=e;const{autocomplete:t}=e.config.get();this.autocompleteConfig=t}setup(e,{timefilter:t,usageCollection:a}){const{autocomplete:r}=this.initializerContext.config.get(),{terminateAfter:i,timeout:s}=r.valueSuggestions,x=((e,t)=>{const n=async()=>{const[{application:t}]=await e();return t.currentAppId$.pipe(Object(p.first)()).toPromise()};return{trackCall:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,g.METRIC_TYPE.LOADED,b.CALL)},trackRequest:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,g.METRIC_TYPE.LOADED,b.REQUEST)},trackResult:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,g.METRIC_TYPE.LOADED,b.RESULT)},trackError:async()=>{const e=await n();return null==t?void 0:t.reportUiCounter(e,g.METRIC_TYPE.LOADED,b.ERROR)}}})(e.getStartServices,a);return this.getValueSuggestions=this.autocompleteConfig.valueSuggestions.enabled?((e,{timefilter:t,usageCollector:a})=>{function r(e,t,n,a){return[Math.floor(Date.now()/1e3/60),n,e,t.name,JSON.stringify(a)].join("|")}const i=Object(l.memoize)(((t,n,r,i=[],o,s=e.uiSettings.get(c.UI_SETTINGS.AUTOCOMPLETE_VALUE_SUGGESTION_METHOD))=>{var u;return null==a||a.trackRequest(),e.http.fetch(`/api/kibana/suggestions/values/${t}`,{method:"POST",body:JSON.stringify({query:r,field:n.name,fieldMeta:null==n||null===(u=n.toSpec)||void 0===u?void 0:u.call(n),filters:i,method:s}),signal:o}).then((e=>(null==a||a.trackResult(),e)))}),r);return async({indexPattern:o,field:s,query:l,useTimeRange:d,boolFilter:p,signal:g,method:b})=>{var f,h;const m=e.uiSettings.get(c.UI_SETTINGS.FILTERS_EDITOR_SUGGEST_VALUES);d=null!==(f=d)&&void 0!==f?f:e.uiSettings.get(c.UI_SETTINGS.AUTOCOMPLETE_USE_TIMERANGE);const{title:y}=o,x="string"===s.type&&(null===(h=s.esTypes)||void 0===h?void 0:h.includes("version"));if("boolean"===s.type)return[!0,!1];if(!m||!s.aggregatable||"string"!==s.type||x)return[];const _=d?(({timefilter:e},t)=>{const n=e.getTime(),a={from:u.a.parse(n.from).startOf("minute").toISOString(),to:u.a.parse(n.to,{roundUp:!0}).endOf("minute").toISOString()};return e.createFilter(t,a)})(t,o):void 0,{buildQueryFromFilters:S}=await Promise.resolve().then(n.t.bind(null,37,7)),v=[...p||[],..._?S([_],o).filter:[]];try{return null==a||a.trackCall(),await i(y,s,l,v,g,b)}catch(e){return null!=g&&g.aborted||null==a||a.trackError(),i.cache.delete(r(y,s,l,v)),[]}}})(e,{timefilter:t,usageCollector:x}):d,this.autocompleteConfig.querySuggestions.enabled&&this.querySuggestionProviders.set("kuery",(e=>{const t={field:async({indexPatterns:e},{start:t,end:a,prefix:r,suffix:i,nestedPath:o=""})=>{const s=Object(l.flatten)(e.map((e=>e.fields.filter(f.indexPatterns.isFilterable)))),u=`${r}${i}`.trim().toLowerCase(),c=function(e,t,n){if(!t)return e;const a=(""+t).toLowerCase(),r=Object(l.partition)(e,(e=>(""+e.name).toLowerCase().startsWith(a)));return[...r[0],...r[1]]}(s.filter((e=>{const t=f.indexPatterns.getFieldSubtypeNested(e);return(!o||o&&(null==t?void 0:t.nested.path.includes(o)))&&e.name.toLowerCase().includes(u)})).sort(m),u),{escapeKuery:d}=await Promise.resolve().then(n.t.bind(null,37,7)),p=c.map((e=>{const n=e.subType&&e.subType.nested?e.subType.nested.path.slice(o?o.length+1:0):"",r=e.subType&&e.subType.nested&&n.length>0?`${d(n)}:{ ${d(e.name.slice(e.subType.nested.path.length+1))}  }`:`${d(e.name.slice(o?o.length+1:0))} `,i=e.subType&&e.subType.nested&&n.length>0?r.length-2:r.length;return{type:h.a.Field,text:r,start:t,end:a,cursorIndex:i,field:e}}));return Promise.resolve(p)},value:y(e),operator:({indexPatterns:e},{end:t,fieldName:n,nestedPath:a})=>{const r=Object(l.flatten)(e.map((e=>e.fields.slice()))),i=a?`${a}.${n}`:n,o=r.filter((e=>e.name===i)).map((e=>Object.keys(w).filter((t=>{const{fieldTypes:n}=I(t);return!n||n.includes(e.type)})).map((e=>({type:h.a.Operator,text:e+" ",description:E(e),start:t,end:t})))));return Promise.resolve(Object(l.flatten)(o))},conjunction:(e,{text:t,end:n})=>{let a=[];return t.endsWith(" ")&&(a=Object.keys(P).map((e=>({type:h.a.Conjunction,text:`${e} `,description:P[e],start:n,end:n})))),Promise.resolve(a)}};return async e=>{const{query:a,selectionStart:r,selectionEnd:i}=e,o=`${a.substr(0,r)}@kuery-cursor@${a.substr(i)}`;return Promise.all(await(async(e,a)=>{try{const{fromKueryExpression:r}=await Promise.resolve().then(n.t.bind(null,37,7)),i=r(e,{cursorSymbol:"@kuery-cursor@",parseCursor:!0});return i.suggestionTypes.map((e=>t[e](a,i)))}catch(e){return[]}})(o,e)).then((e=>{return t=Object(l.flatten)(e),Object(l.uniqBy)(t,(({type:e,text:t,start:n,end:a})=>[e,t,n,a].join("|")));var t}))}})(e)),{getQuerySuggestions:this.getQuerySuggestions,getAutocompleteSettings:()=>({terminateAfter:o.a.duration(i).asMilliseconds(),timeout:o.a.duration(s).asMilliseconds()})}}start(){return{getQuerySuggestions:this.getQuerySuggestions,hasQuerySuggestions:this.hasQuerySuggestions,getValueSuggestions:this.getValueSuggestions}}clearProviders(){this.querySuggestionProviders.clear()}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(1),r=n.n(a),i=n(8),o=n.n(i),s=n(3),u=n(0),l=n(2),c=n(9),d=n(28),p=n.n(d),g=n(19);const b="data.textLangTransitionModal",f=()=>Object(u.jsx)("div",null),h=r.a.lazy((()=>n.e(12).then(n.bind(null,128)))),m=e=>Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)(f,null)},Object(u.jsx)(h,e)),y=r.a.lazy((()=>n.e(11).then(n.bind(null,129)))),x=e=>Object(u.jsx)(r.a.Suspense,{fallback:Object(u.jsx)(f,null)},Object(u.jsx)(y,e));function _({isMissingCurrent:e,currentDataViewId:t,adHocDataViews:n,savedDataViews:i,onChangeDataView:d,onAddField:f,onDataViewCreated:h,trigger:y,selectableProps:_,textBasedLanguages:S,onSaveTextLanguageQuery:v,onTextLangQuerySubmit:k,textBasedLanguage:j,isDisabled:T,onEditDataView:O,onCreateDefaultAdHocDataView:w}){const{euiTheme:I}=Object(l.useEuiTheme)(),[E,D]=Object(a.useState)(!1),[M,P]=Object(a.useState)([]),[C,q]=Object(a.useState)(""),[A,F]=Object(a.useState)(Boolean(j)),[R,L]=Object(a.useState)(!1),[V,B]=Object(a.useState)(t),Q=Object(c.useKibana)(),{application:N,data:U,storage:z,dataViews:$,dataViewEditor:G}=Q.services,W=(({fullWidth:e})=>({trigger:{maxWidth:e?void 0:280},popoverContent:{width:280}}))({fullWidth:y.fullWidth}),[H,Y]=Object(a.useState)((()=>Boolean(z.get(b)))),K=Object(l.useGeneratedHtmlId)({prefix:"dataviewPickerListSearchInput"});Object(a.useEffect)((()=>{(async()=>{const e=i||await U.dataViews.getIdsWithTitle();null!=n&&n.length&&n.forEach((t=>{t.id&&e.push({title:t.title,name:t.name,id:t.id,isAdhoc:!0})})),P(e)})()}),[U,t,n,i]),Object(a.useEffect)((()=>{y.label&&q(j?j.toUpperCase():y.label)}),[j,y.label]),Object(a.useEffect)((()=>{Boolean(j)!==A&&F(Boolean(j))}),[A,j]);const Z=Object(a.useMemo)((()=>null==n?void 0:n.some((e=>e.id===t))),[n,t]);let J;const X=Object(a.useCallback)((()=>{z.set(b,!0),Y(!0)}),[z]),ee=Object(a.useCallback)((e=>{L(!1),F(!1),null==k||k({language:"kuery",query:""}),V&&d(V),q(y.label),e&&X()}),[d,k,X,V,y.label]),te=Object(a.useCallback)(((e,t)=>{Boolean(t)?(L(!1),null==v||v({onSave:()=>{ee(e)},onCancel:()=>{L(!1)}})):ee(e)}),[ee,v]);return R&&!H&&(J=Object(u.jsx)(m,{closeModal:te,setIsTextLangTransitionModalVisible:L})),Object(u.jsx)(r.a.Fragment,null,Object(u.jsx)(l.EuiPopover,{panelClassName:"changeDataViewPopover",button:function(){const{label:t,title:n,"data-test-subj":a,fullWidth:i,...s}=y;return Object(u.jsx)(l.EuiButton,o()({css:W.trigger,"data-test-subj":a,onClick:()=>{D(!E)},color:e?"danger":"primary",iconSide:"right",iconType:"arrowDown",title:C,fullWidth:i,disabled:T,textProps:{className:"eui-textTruncate"}},s),Object(u.jsx)(r.a.Fragment,null,Z&&Object(u.jsx)(l.EuiIcon,{type:p.a,color:"primary",css:Object(u.css)("margin-right:",I.size.s,";","")}),C))}(),panelProps:{"data-test-subj":"changeDataViewPopover"},isOpen:E,closePopover:()=>D(!1),panelPaddingSize:"none",initialFocus:A?void 0:`#${K}`,display:"block",buffer:8},Object(u.jsx)("div",{css:W.popoverContent},Object(u.jsx)(l.EuiContextMenuPanel,{size:"s",items:(()=>{const e=[];return f&&!A&&e.push(Object(u.jsx)(l.EuiContextMenuItem,{key:"add",icon:"indexOpen","data-test-subj":"indexPattern-add-field",onClick:()=>{D(!1),f()}},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.addFieldButton",{defaultMessage:"Add a field to this data view"})),O||G.userPermissions.editDataView()?Object(u.jsx)(l.EuiContextMenuItem,{key:"manage",icon:"indexSettings","data-test-subj":"indexPattern-manage-field",onClick:async()=>{if(O){const e=await $.get(t);G.openEditor({editData:e,onSave:e=>{O(e)}})}else N.navigateToApp("management",{path:`/kibana/indexPatterns/patterns/${t}`});D(!1)}},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.manageFieldButton",{defaultMessage:"Manage this data view"})):Object(u.jsx)(r.a.Fragment,null),Object(u.jsx)(l.EuiHorizontalRule,{margin:"none"})),e.push(Object(u.jsx)(r.a.Fragment,null,h&&Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween",responsive:!1,css:Object(u.css)("margin:",I.size.s,";margin-bottom:0;","")},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:!1},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Boolean(A)?Object(u.jsx)(l.EuiToolTip,{position:"top",content:s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.textBasedLangSwitchWarning",{defaultMessage:"Switching data views removes the current SQL query. Save this search to ensure you don't lose work."})},Object(u.jsx)(l.EuiIcon,{type:"alert",color:"warning","data-test-subj":"textBasedLang-warning"})):null),Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(l.EuiText,{size:"s"},Object(u.jsx)("h5",null,s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.dataViewsLabel",{defaultMessage:"Data views"})))))),Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(l.EuiButtonEmpty,{onClick:()=>{D(!1),h(),A&&(F(!1),null==k||k({language:"kuery",query:""}),q(y.label))},size:"xs",iconType:"plusInCircleFilled",iconSide:"left","data-test-subj":"dataview-create-new"},s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.addNewDataView",{defaultMessage:"Create a data view"})))),Object(u.jsx)(g.a,{currentDataViewId:t,searchListInputId:K,dataViewsList:M,selectableProps:_,isTextBasedLangSelected:A,setPopoverIsOpen:D,onChangeDataView:async e=>{const t=await U.dataViews.get(e);await U.dataViews.refreshFields(t),B(e),D(!1),A&&!H?L(!0):A&&H?(F(!1),null==k||k({language:"kuery",query:""}),d(e),q(y.label)):d(e)},onCreateDefaultAdHocDataView:w}))),null!=S&&S.length&&e.push(Object(u.jsx)(l.EuiHorizontalRule,{margin:"none"}),Object(u.jsx)(l.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween","data-test-subj":"select-text-based-language-panel",css:Object(u.css)("margin:",I.size.s,";margin-bottom:0;","")},Object(u.jsx)(l.EuiFlexItem,{grow:!1},Object(u.jsx)(l.EuiText,{size:"s"},Object(u.jsx)("h5",null,s.i18n.translate("unifiedSearch.query.queryBar.indexPattern.textBasedLanguagesLabel",{defaultMessage:"Text-based query languages"}))))),Object(u.jsx)(x,{textBasedLanguages:S,selectedOption:C,onChange:e=>{q(e),D(!1),F(!0),null==k||k({sql:`SELECT * FROM "${y.title}"`})}})),e})()}))),J)}let S;!function(e){e.SQL="SQL",e.ESQL="ESQL"}(S||(S={}));const v=({isMissingCurrent:e,currentDataViewId:t,adHocDataViews:n,savedDataViews:a,onChangeDataView:r,onEditDataView:i,onAddField:o,onDataViewCreated:s,trigger:l,selectableProps:c,textBasedLanguages:d,onSaveTextLanguageQuery:p,onTextLangQuerySubmit:g,textBasedLanguage:b,onCreateDefaultAdHocDataView:f,isDisabled:h})=>Object(u.jsx)(_,{isMissingCurrent:e,currentDataViewId:t,onChangeDataView:r,onEditDataView:i,onAddField:o,onDataViewCreated:s,onCreateDefaultAdHocDataView:f,trigger:l,adHocDataViews:n,savedDataViews:a,selectableProps:c,textBasedLanguages:d,onSaveTextLanguageQuery:p,onTextLangQuerySubmit:g,textBasedLanguage:b,isDisabled:h})},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEyIDJIMlYxM1YxNEgxVjEzVjJWMUgxM1YySDEyWk01IDVIMTAuOTk5VjRINVY1Wk0zIDVWNEg0VjVIM1pNNSA4VjdIOVY4SDVaTTMgOFY3SDRWOEgzWk01IDExVjEwSDhWMTFINVpNMyAxMVYxMEg0VjExSDNaIiBmaWxsPSIjMDdDIi8+CjxyZWN0IHg9IjEuNSIgeT0iMS41IiB3aWR0aD0iMTEiIGhlaWdodD0iMTIiIHN0cm9rZT0iIzA3QyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAyIi8+Cjwvc3ZnPgo="},function(e,t,n){n(30),__kbnBundles__.define("plugin/unifiedSearch/public",n,36)},function(e,t,n){n.p=window.__kbnPublicPath__.unifiedSearch},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(32);case"v8light":return n(34)}},function(e,t,n){var a=n(22),r=n(33);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(23)(!1)).push([e.i,".kbnTypeahead.kbnTypeahead--small{max-height:20vh}.kbnTypeahead__popover--top{border-top-left-radius:6px;border-top-right-radius:6px;box-shadow:0 0 .8px #00000026,0 0 2px #0000001a,0 0 5px #0000001a,0 0 17px rgba(0,0,0,.075);-webkit-clip-path:polygon(-50px -50px,calc(100% + 50px) -50px,calc(100% + 50px) 100%,-50px 100%);clip-path:polygon(-50px -50px,calc(100% + 50px) -50px,calc(100% + 50px) 100%,-50px 100%)}.kbnTypeahead__popover--bottom{border-bottom-left-radius:6px;border-bottom-right-radius:6px;box-shadow:0 1px 5px #00000040,0 3.6px 13px rgba(0,0,0,.175),0 8.4px 23px #00000026,0 23px 35px rgba(0,0,0,.125);-webkit-clip-path:polygon(-50px 1px,calc(100% + 50px) 1px,calc(100% + 50px) calc(100% + 50px),-50px calc(100% + 50px));clip-path:polygon(-50px 1px,calc(100% + 50px) 1px,calc(100% + 50px) calc(100% + 50px),-50px calc(100% + 50px))}.kbnTypeahead{max-height:60vh}.kbnTypeahead .kbnTypeahead__popover{background-color:#1d1e24;border:1px solid #343741;color:#dfe5ef;max-height:inherit;overflow-y:auto;position:relative;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;width:100%;z-index:2000}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar{height:16px;width:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-corner,.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-track{background-color:#0000}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item{border-bottom:none;font-size:12px;height:32px;line-height:normal;padding:0;vertical-align:middle;white-space:nowrap}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:hover{cursor:pointer}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:last-child{border-bottom:none;border-radius:0 0 6px 6px}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:first-child{border-bottom:none}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active{background-color:#25262e}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__callout{background:#1d1e24}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__text,.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__type{color:#fff}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#61542d}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#325956}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#164160}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#3a2d4a}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#212429}.kbnSuggestionItem{align-items:center;display:inline-flex;font-size:12px;white-space:nowrap;width:100%}.kbnSuggestionItem.kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#7a6a39;color:#f6edc6}.kbnSuggestionItem.kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#3f6f6c;color:#c0eeeb}.kbnSuggestionItem.kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#1b5178;color:#87c7f6}.kbnSuggestionItem.kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#49385c;color:#baa5d2}.kbnSuggestionItem.kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#2a2d33;color:#93979f}.kbnSuggestionItem__description,.kbnSuggestionItem__text,.kbnSuggestionItem__type{padding-right:16px}.kbnSuggestionItem__type{align-items:center;display:flex;flex-basis:auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:32px;justify-content:center;overflow:hidden;padding:4px;text-align:center;width:32px}.kbnSuggestionItem__text{color:#dfe5ef;font-family:Roboto Mono,Consolas,Menlo,Courier,monospace;min-width:250px;overflow:hidden;padding-left:8px;text-overflow:ellipsis}.kbnSuggestionItem__description{color:#98a2b3;flex-shrink:1}.kbnSuggestionItem__description,.kbnSuggestionItem__description>p{overflow:hidden;text-overflow:ellipsis}.kbnSuggestionItem__description:empty{width:0}.kbnSuggestionItem__callout{background:#25262e;color:#fff;display:inline-block;font-family:Roboto Mono,Consolas,Menlo,Courier,monospace;padding:0 4px}",""]),e.exports=t},function(e,t,n){var a=n(22),r=n(35);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);a(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(23)(!1)).push([e.i,".kbnTypeahead.kbnTypeahead--small{max-height:20vh}.kbnTypeahead__popover--top{border-top-left-radius:6px;border-top-right-radius:6px;box-shadow:0 0 .8px #0000000f,0 0 2px #0000000a,0 0 5px #0000000a,0 0 17px #00000008;-webkit-clip-path:polygon(-50px -50px,calc(100% + 50px) -50px,calc(100% + 50px) 100%,-50px 100%);clip-path:polygon(-50px -50px,calc(100% + 50px) -50px,calc(100% + 50px) 100%,-50px 100%)}.kbnTypeahead__popover--bottom{border-bottom-left-radius:6px;border-bottom-right-radius:6px;box-shadow:0 1px 5px #0000001a,0 3.6px 13px #00000012,0 8.4px 23px #0000000f,0 23px 35px #0000000d;-webkit-clip-path:polygon(-50px 1px,calc(100% + 50px) 1px,calc(100% + 50px) calc(100% + 50px),-50px calc(100% + 50px));clip-path:polygon(-50px 1px,calc(100% + 50px) 1px,calc(100% + 50px) calc(100% + 50px),-50px calc(100% + 50px))}.kbnTypeahead{max-height:60vh}.kbnTypeahead .kbnTypeahead__popover{background-color:#fff;border:1px solid #d3dae6;color:#343741;max-height:inherit;overflow-y:auto;position:relative;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;width:100%;z-index:2000}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar{height:16px;width:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-corner,.kbnTypeahead .kbnTypeahead__popover::-webkit-scrollbar-track{background-color:#0000}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item{border-bottom:none;font-size:12px;height:32px;line-height:normal;padding:0;vertical-align:middle;white-space:nowrap}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:hover{cursor:pointer}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:last-child{border-bottom:none;border-radius:0 0 6px 6px}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item:first-child{border-bottom:none}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active{background-color:#f5f7fa}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__callout{background:#fff}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__text,.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem__type{color:#000}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#fff3d0}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#ccf2f0}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#cce4f5}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#e9e2f1}.kbnTypeahead .kbnTypeahead__popover .kbnTypeahead__item.active .kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#eaecf0}.kbnSuggestionItem{align-items:center;display:inline-flex;font-size:12px;white-space:nowrap;width:100%}.kbnSuggestionItem.kbnSuggestionItem--field .kbnSuggestionItem__type{background-color:#fff9e8;color:#8a6a0a}.kbnSuggestionItem.kbnSuggestionItem--value .kbnSuggestionItem__type{background-color:#e6f9f7;color:#007e77}.kbnSuggestionItem.kbnSuggestionItem--operator .kbnSuggestionItem__type{background-color:#e6f1fa;color:#006bb8}.kbnSuggestionItem.kbnSuggestionItem--conjunction .kbnSuggestionItem__type{background-color:#f4f1f8;color:#7c609e}.kbnSuggestionItem.kbnSuggestionItem--recentSearch .kbnSuggestionItem__type{background-color:#f5f6f7;color:#6a717d}.kbnSuggestionItem__description,.kbnSuggestionItem__text,.kbnSuggestionItem__type{padding-right:16px}.kbnSuggestionItem__type{align-items:center;display:flex;flex-basis:auto;flex-direction:column;flex-grow:0;flex-shrink:0;height:32px;justify-content:center;overflow:hidden;padding:4px;text-align:center;width:32px}.kbnSuggestionItem__text{color:#343741;font-family:Roboto Mono,Consolas,Menlo,Courier,monospace;min-width:250px;overflow:hidden;padding-left:8px;text-overflow:ellipsis}.kbnSuggestionItem__description{color:#69707d;flex-shrink:1}.kbnSuggestionItem__description,.kbnSuggestionItem__description>p{overflow:hidden;text-overflow:ellipsis}.kbnSuggestionItem__description:empty{width:0}.kbnSuggestionItem__callout{background:#f5f7fa;color:#000;display:inline-block;font-family:Roboto Mono,Consolas,Menlo,Courier,monospace;padding:0 4px}",""]),e.exports=t},function(e,t,n){"use strict";n.r(t),n.d(t,"QueryStringInput",(function(){return u})),n.d(t,"SearchBar",(function(){return T})),n.d(t,"FilterLabel",(function(){return O.d})),n.d(t,"FilterItem",(function(){return O.b})),n.d(t,"FilterItems",(function(){return O.c})),n.d(t,"DataViewsList",(function(){return w.a})),n.d(t,"DataViewSelector",(function(){return I.a})),n.d(t,"DataViewPicker",(function(){return E.a})),n.d(t,"ACTION_GLOBAL_APPLY_FILTER",(function(){return q})),n.d(t,"UPDATE_FILTER_REFERENCES_ACTION",(function(){return R})),n.d(t,"UPDATE_FILTER_REFERENCES_TRIGGER",(function(){return L})),n.d(t,"QuerySuggestionTypes",(function(){return B.a})),n.d(t,"plugin",(function(){return Y}));var a=n(1),r=n.n(a),i=n(0);const o=()=>Object(i.jsx)("div",null),s=r.a.lazy((()=>n.e(1).then(n.bind(null,127)))),u=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(o,null)},Object(i.jsx)(s,e));var l=n(8),c=n.n(l),d=n(5),p=n.n(d),g=n(9),b=n(11),f=n(3);const h=(e,t)=>{const{timefilter:{timefilter:n},filterManager:a,queryString:r}=e;t.attributes.timefilter&&(n.setTime({from:t.attributes.timefilter.from,to:t.attributes.timefilter.to}),t.attributes.timefilter.refreshInterval&&n.setRefreshInterval(t.attributes.timefilter.refreshInterval)),r.setQuery(t.attributes.query);const i=t.attributes.filters||[],o=a.getGlobalFilters();a.setFilters([...o,...i])},m=e=>{e.filterManager.removeAll(),e.queryString.clearQuery()},y=e=>{const{timefilter:t}=e.timefilter;return e=>{t.setRefreshInterval({value:e.refreshInterval,pause:e.isPaused})}},x=(e,t,n)=>{if(!e.useDefaultBehaviors)return e.onQuerySubmit;const{timefilter:a}=t.timefilter;return r=>{p.a.isEqual(a.getTime(),r.dateRange)&&p.a.isEqual(r.query,n)?e.onQuerySubmit&&e.onQuerySubmit({dateRange:a.getTime(),query:n},!1):(a.setTime(r.dateRange),r.query?t.queryString.setQuery(r.query):t.queryString.clearQuery())}},_=(e,t)=>e.useDefaultBehaviors?()=>{t(),e.onSavedQueryIdChange&&e.onSavedQueryIdChange()}:e.onClearSavedQuery,S=(e,t)=>e.useDefaultBehaviors?n=>{t(n),e.onSavedQueryIdChange&&e.onSavedQueryIdChange(n.id)}:e.onSavedQueryUpdated;function v({core:e,storage:t,data:n,usageCollection:r,isScreenshotMode:o=!1,unifiedSearch:s}){return u=>{const{useDefaultBehaviors:l}=u,d=Object(a.useRef)(u.onQuerySubmit),{filters:p}=(e=>{const[t,n]=Object(a.useState)(e.filters||e.filterManager.getFilters());return Object(a.useEffect)((()=>{const t=new b.Subscription;return t.add(e.filterManager.getUpdates$().subscribe({next:()=>{const t=e.filterManager.getFilters();n(t)}})),()=>{t.unsubscribe()}}),[e.filterManager]),{filters:t}})({filters:u.filters,filterManager:n.query.filterManager}),{query:v}=(e=>{const[t,n]=Object(a.useState)(e.query||e.queryStringManager.getQuery());Object(a.useEffect)((()=>{const t=new b.Subscription;return t.add(e.queryStringManager.getUpdates$().subscribe({next:()=>{const t=e.queryStringManager.getQuery();n(t)}})),()=>{t.unsubscribe()}}),[e.queryStringManager]);const r=(i=t,Boolean(i&&"query"in i));var i;return{query:Object(a.useMemo)((()=>r?{language:t.language,query:t.query}:t),[r,t])}})({query:u.query,queryStringManager:n.query.queryString}),{timeRange:k,refreshInterval:j}=(e=>{const t={from:e.dateRangeFrom||e.timefilter.getTime().from,to:e.dateRangeTo||e.timefilter.getTime().to},n={value:e.refreshInterval||e.timefilter.getRefreshInterval().value,pause:e.isRefreshPaused||e.timefilter.getRefreshInterval().pause},[r,i]=Object(a.useState)(t),[o,s]=Object(a.useState)(n);return Object(a.useEffect)((()=>{const t=new b.Subscription;return t.add(e.timefilter.getRefreshIntervalUpdate$().subscribe({next:()=>{const t=e.timefilter.getRefreshInterval();s(t)}})),t.add(e.timefilter.getTimeUpdate$().subscribe({next:()=>{i(e.timefilter.getTime())}})),()=>{t.unsubscribe()}}),[e.timefilter]),{refreshInterval:o,timeRange:r}})({dateRangeFrom:u.dateRangeFrom,dateRangeTo:u.dateRangeTo,refreshInterval:u.refreshInterval,isRefreshPaused:u.isRefreshPaused,timefilter:n.query.timefilter.timefilter}),{savedQuery:O,setSavedQuery:w,clearSavedQuery:I}=(e=>{const[t,n]=Object(a.useState)();return Object(a.useEffect)((()=>{e.savedQueryId?(async t=>{try{const a=await e.queryService.savedQueries.getSavedQuery(t);a&&a.id===t&&(n(a),h(e.queryService,a))}catch(a){n(void 0),m(e.queryService),e.notifications.toasts.addWarning({title:f.i18n.translate("unifiedSearch.search.unableToGetSavedQueryToastTitle",{defaultMessage:"Unable to load saved query {savedQueryId}",values:{savedQueryId:t}}),text:`${a.message}`})}})(e.savedQueryId):n(void 0)}),[e.notifications.toasts,e.queryService,e.queryService.savedQueries,e.savedQueryId]),{savedQuery:t,setSavedQuery:t=>{n(t),h(e.queryService,t)},clearSavedQuery:()=>{n(void 0),m(e.queryService)}}})({queryService:n.query,savedQueryId:u.savedQueryId,notifications:e.notifications});return Object(a.useEffect)((()=>{l&&d.current&&d.current({dateRange:k,query:v},!0)}),[v,k,l]),Object(i.jsx)(g.KibanaContextProvider,{services:{appName:u.appName,data:n,storage:t,usageCollection:r,unifiedSearch:s,...e}},Object(i.jsx)(T,c()({showAutoRefreshOnly:u.showAutoRefreshOnly,showDatePicker:u.showDatePicker,showFilterBar:u.showFilterBar,showQueryMenu:u.showQueryMenu,showQueryInput:u.showQueryInput,showSaveQuery:u.showSaveQuery,showSubmitButton:u.showSubmitButton,submitButtonStyle:u.submitButtonStyle,isDisabled:u.isDisabled,screenTitle:u.screenTitle,indexPatterns:u.indexPatterns,indicateNoData:u.indicateNoData,timeHistory:n.query.timefilter.history,dateRangeFrom:k.from,dateRangeTo:k.to,refreshInterval:j.value,isRefreshPaused:j.pause,filters:p,query:v,onFiltersUpdated:(E=n.query,D=u.onFiltersUpdated,e=>{D?D(e):E.filterManager.setFilters(e)}),onRefreshChange:y(n.query),savedQuery:O,onQuerySubmit:x(u,n.query,v),onClearSavedQuery:_(u,I),onSavedQueryUpdated:S(u,w),onSaved:S(u,w),iconType:u.iconType,nonKqlMode:u.nonKqlMode,customSubmitButton:u.customSubmitButton,isClearable:u.isClearable,placeholder:u.placeholder},(e=>e.useDefaultBehaviors?{}:e)(u),{dataViewPickerComponentProps:u.dataViewPickerComponentProps,textBasedLanguageModeErrors:u.textBasedLanguageModeErrors,onTextBasedSavedAndExit:u.onTextBasedSavedAndExit,displayStyle:u.displayStyle,isScreenshotMode:o})));var E,D}}const k=()=>Object(i.jsx)("div",null),j=r.a.lazy((()=>Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,133)))),T=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(k,null)},Object(i.jsx)(j,e));var O=n(16),w=n(18),I=n(19),E=n(26),D=n(15),M=n(10);const P=()=>Object(i.jsx)("div",null),C=r.a.lazy((()=>n.e(10).then(n.bind(null,130)))),q="ACTION_GLOBAL_APPLY_FILTER";async function A(e){return void 0!==e.filters}function F(e,t,a){return Object(D.createAction)({type:q,id:q,order:100,getIconType:()=>"filter",getDisplayName:()=>f.i18n.translate("unifiedSearch.filter.applyFilterActionTitle",{defaultMessage:"Apply filter to current view"}),isCompatible:A,execute:async({filters:o,timeFieldName:s,controlledBy:u})=>{if(!o)throw new Error("Applying a filter requires a filter");if(!await A({filters:o}))throw new D.IncompatibleActionError;let l=o;if(l.length>1){const e=await Promise.all(o.map((e=>Object(M.a)().get(e.meta.index)))),t=new Promise((t=>{const n=Object(M.b)().openModal(Object(g.toMountPoint)(((e,a,o,s)=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(P,null)},Object(i.jsx)(C,{indexPatterns:a,filters:e,onCancel:()=>{n.close(),t([])},onSubmit:e=>{n.close(),t(e)}})))(o,e),{theme$:a.theme$}),{"data-test-subj":"test"})}));l=await t}if(u&&e.getFilters().forEach((t=>{t.meta.controlledBy===u&&e.removeFilter(t)})),s){const{extractTimeFilter:a}=await Promise.resolve().then(n.t.bind(null,37,7)),{timeRangeFilter:r,restOfFilters:i}=a(s,l);e.addFilters(i),r&&async function(e,t){const{convertRangeFilterToTimeRange:a}=await Promise.resolve().then(n.t.bind(null,37,7));e.setTime(a(t))}(t,r)}else e.addFilters(l)}})}const R="UPDATE_FILTER_REFERENCES_ACTION",L="UPDATE_FILTER_REFERENCES_TRIGGER",V={id:L,title:f.i18n.translate("unifiedSearch.triggers.updateFilterReferencesTrigger",{defaultMessage:"Update filter references"}),description:f.i18n.translate("unifiedSearch.triggers.updateFilterReferencesTriggerDescription",{defaultMessage:"Update filter references"})};var B=n(7),Q=n(6),N=n.n(Q),U=n(12),z=n(13),$=n(25);const G=()=>Object(i.jsx)("div",null),W=r.a.lazy((()=>n.e(13).then(n.bind(null,131)))),H=e=>Object(i.jsx)(r.a.Suspense,{fallback:Object(i.jsx)(G,null)},Object(i.jsx)(W,e));n(31);class plugin_UnifiedSearchPublicPlugin{constructor(e){N()(this,"storage",void 0),N()(this,"autocomplete",void 0),N()(this,"usageCollection",void 0),this.storage=new U.Storage(window.localStorage),this.autocomplete=new $.a(e)}setup(e,{uiActions:t,data:n,usageCollection:a}){const{query:r}=n;var i;return t.registerTrigger(V),t.registerAction(F(r.filterManager,r.timefilter.timefilter,e.theme)),t.registerAction((i=r.filterManager,Object(D.createAction)({type:R,id:R,execute:async({fromDataView:e,toDataView:t,usedDataViews:n,defaultDataView:a})=>{const r=n.filter((t=>t===e)).length,o=i.getFilters();r>1||!o.length||!e||(e&&!t&&(n.length>1&&(t=n.filter((t=>t!==e))[0]),!t&&a&&(t=a)),t&&i.setFilters(o.map((n=>n.meta.index===e?{...n,meta:{...n.meta,index:t}}:n))))}}))),this.usageCollection=a,{autocomplete:this.autocomplete.setup(e,{timefilter:r.timefilter,usageCollection:a})}}start(e,{data:t,dataViews:n,uiActions:a,screenshotMode:r}){Object(M.f)(e.theme),Object(M.e)(e.overlays),Object(M.d)(n);const o=this.autocomplete.start(),s=v({core:e,data:t,storage:this.storage,usageCollection:this.usageCollection,isScreenshotMode:Boolean(null==r?void 0:r.isScreenshotMode()),unifiedSearch:{autocomplete:o}});return a.addTriggerAction(z.APPLY_FILTER_TRIGGER,a.getAction(q)),a.addTriggerAction(L,a.getAction(R)),{ui:{IndexPatternSelect:(u=n,e=>Object(i.jsx)(H,c()({},e,{indexPatternService:u}))),SearchBar:s,AggregateQuerySearchBar:s},autocomplete:o};var u}stop(){this.autocomplete.clearProviders()}}function Y(e){return new plugin_UnifiedSearchPublicPlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.Classnames},,function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco}]);