(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[0],{45:function(e,t,s){"use strict";s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return p})),s.d(t,"a",(function(){return E}));var r=s(3),i=s(37),a=s(72);const n={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isOperatorOptionLabel",{defaultMessage:"is"}),type:i.FILTERS.PHRASE,negate:!1},o={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isNotOperatorOptionLabel",{defaultMessage:"is not"}),type:i.FILTERS.PHRASE,negate:!0},l={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isOneOfOperatorOptionLabel",{defaultMessage:"is one of"}),type:i.FILTERS.PHRASES,negate:!1,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]},d={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isNotOneOfOperatorOptionLabel",{defaultMessage:"is not one of"}),type:i.FILTERS.PHRASES,negate:!0,fieldTypes:["string","number","date","ip","geo_point","geo_shape"]},u={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isBetweenOperatorOptionLabel",{defaultMessage:"is between"}),type:i.FILTERS.RANGE,negate:!1,field:e=>{var t;return!!["number","number_range","date","date_range","ip","ip_range"].includes(e.type)||!("string"!==e.type||null===(t=e.esTypes)||void 0===t||!t.includes(a.a.VERSION))}},c={message:r.i18n.translate("unifiedSearch.filter.filterEditor.isNotBetweenOperatorOptionLabel",{defaultMessage:"is not between"}),type:i.FILTERS.RANGE,negate:!0,field:e=>{var t;return!!["number","number_range","date","date_range","ip","ip_range"].includes(e.type)||!("string"!==e.type||null===(t=e.esTypes)||void 0===t||!t.includes(a.a.VERSION))}},p={message:r.i18n.translate("unifiedSearch.filter.filterEditor.existsOperatorOptionLabel",{defaultMessage:"exists"}),type:i.FILTERS.EXISTS,negate:!1},h={message:r.i18n.translate("unifiedSearch.filter.filterEditor.doesNotExistOperatorOptionLabel",{defaultMessage:"does not exist"}),type:i.FILTERS.EXISTS,negate:!0},E=[n,o,l,d,u,c,p,h]},46:function(e,t,s){"use strict";s.d(t,"a",(function(){return u})),s.d(t,"c",(function(){return c})),s.d(t,"b",(function(){return p})),s.d(t,"d",(function(){return h})),s.d(t,"f",(function(){return E})),s.d(t,"e",(function(){return f}));var r=s(20),i=s.n(r),a=s(72),n=s(87),o=s.n(n),l=s(17),d=s(45);function u(e,t){return t.fields.find((t=>t.name===e.meta.key))}function c(e){return d.a.find((t=>e.meta.type===t.type&&e.meta.negate===t.negate))}function p(e){return e.fields.filter(l.isFilterable)}function h(e){return d.a.filter((t=>t.field?t.field(e):!t.fieldTypes||t.fieldTypes.includes(e.type)))}function E(e,t){var s;switch(null==t?void 0:t.type){case"date":const r="string"==typeof e?i.a.parse(e):null;return Boolean("string"==typeof e&&r&&r.isValid());case"ip":try{return Boolean(new l.IpAddress(e))}catch(e){return!1}case"string":return null===(s=t.esTypes)||void 0===s||!s.includes(a.a.VERSION)||o()(e);default:return!0}}function f(e,t,s,r){if(!e||!t||!s)return!1;switch(s.type){case"phrase":return E(r,t);case"phrases":return!(!Array.isArray(r)||!r.length)&&r.every((e=>E(e,t)));case"range":return"object"==typeof r&&(!r.from||E(r.from,t))&&(!r.to||E(r.to,t));case"exists":return!0;default:throw new Error(`Unknown operator type: ${s.type}`)}}},47:function(e,t,s){"use strict";s.d(t,"a",(function(){return v}));var r=s(6),i=s.n(r),a=s(2),n=s(3),o=s(4),l=s(37),d=s(5),u=s(1),c=s.n(u),p=s(41),h=s(13),E=s(9),f=s(53),g=s(46),O=s(57),m=s(58),I=s(54),b=s(59),S=s(0);const N=n.i18n.translate("unifiedSearch.filter.filterEditor.addFilterPopupTitle",{defaultMessage:"Add filter"}),T=n.i18n.translate("unifiedSearch.filter.filterEditor.editFilterPopupTitle",{defaultMessage:"Edit filter"}),R=n.i18n.translate("unifiedSearch.filter.filterEditor.addButtonLabel",{defaultMessage:"Add filter"}),L=n.i18n.translate("unifiedSearch.filter.filterEditor.updateButtonLabel",{defaultMessage:"Update filter"});class FilterEditorUI extends u.Component{constructor(e){super(e),i()(this,"toggleCustomEditor",(()=>{const e=!this.state.isCustomEditorOpen;this.setState({isCustomEditorOpen:e})})),i()(this,"onIndexPatternChange",(([e])=>{this.setState({selectedIndexPattern:e,selectedField:void 0,selectedOperator:void 0,params:void 0})})),i()(this,"onFieldChange",(([e])=>{this.setState({selectedField:e,selectedOperator:void 0,params:void 0})})),i()(this,"onOperatorChange",(([e])=>{const t=Object(d.get)(this.state.selectedOperator,"type")===Object(d.get)(e,"type")?this.state.params:void 0;this.setState({selectedOperator:e,params:t})})),i()(this,"onCustomLabelSwitchChange",(e=>{const t=e.target.checked,s=e.target.checked?"":null;this.setState({useCustomLabel:t,customLabel:s})})),i()(this,"onCustomLabelChange",(e=>{const t=e.target.value;this.setState({customLabel:t})})),i()(this,"onParamsChange",(e=>{this.setState({params:e})})),i()(this,"onParamsUpdate",(e=>{this.setState((t=>({params:[e,...t.params||[]]})))})),i()(this,"onQueryDslChange",(e=>{this.setState({queryDsl:e})})),i()(this,"onSubmit",(()=>{const{selectedIndexPattern:e,selectedField:t,selectedOperator:s,params:r,useCustomLabel:i,customLabel:a,isCustomEditorOpen:n,queryDsl:o}=this.state,{$state:d}=this.props.filter;if(!d||!d.store)return;const u=i?a:null;if(n){const{index:e,disabled:t=!1,negate:s=!1}=this.props.filter.meta,r=e||this.props.indexPatterns[0].id,i=JSON.parse(o),a=Object(l.buildCustomFilter)(r,i,t,s,u,d.store);this.props.onSubmit(a)}else if(e&&t&&s){var c;const i=Object(l.buildFilter)(e,t,s.type,s.negate,null!==(c=this.props.filter.meta.disabled)&&void 0!==c&&c,null!=r?r:"",u,d.store);this.props.onSubmit(i)}})),this.state={selectedIndexPattern:this.getIndexPatternFromFilter(),selectedField:this.getFieldFromFilter(),selectedOperator:this.getSelectedOperator(),params:Object(l.getFilterParams)(e.filter),useCustomLabel:null!==e.filter.meta.alias,customLabel:e.filter.meta.alias||"",queryDsl:JSON.stringify(Object(l.cleanFilter)(e.filter),null,2),isCustomEditorOpen:this.isUnknownFilterType()}}render(){return Object(S.jsx)("div",null,Object(S.jsx)(a.EuiPopoverTitle,{paddingSize:"s"},Object(S.jsx)(a.EuiFlexGroup,{alignItems:"baseline",responsive:!1},Object(S.jsx)(a.EuiFlexItem,null,"add"===this.props.mode?N:T),Object(S.jsx)(a.EuiFlexItem,{grow:!1,className:"filterEditor__hiddenItem"}),Object(S.jsx)(a.EuiFlexItem,{grow:!1},Object(S.jsx)(a.EuiButtonEmpty,{size:"xs","data-test-subj":"editQueryDSL",onClick:this.toggleCustomEditor},this.state.isCustomEditorOpen?Object(S.jsx)(o.FormattedMessage,{id:"unifiedSearch.filter.filterEditor.editFilterValuesButtonLabel",defaultMessage:"Edit filter values"}):Object(S.jsx)(o.FormattedMessage,{id:"unifiedSearch.filter.filterEditor.editQueryDslButtonLabel",defaultMessage:"Edit as Query DSL"}))))),Object(S.jsx)(a.EuiForm,null,Object(S.jsx)("div",{className:"globalFilterItem__editorForm"},this.renderIndexPatternInput(),this.state.isCustomEditorOpen?this.renderCustomEditor():this.renderRegularEditor(),Object(S.jsx)(a.EuiSpacer,{size:"m"}),Object(S.jsx)(a.EuiSwitch,{id:"filterEditorCustomLabelSwitch","data-test-subj":"createCustomLabel",label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.createCustomLabelSwitchLabel",defaultMessage:"Create custom label?"}),checked:this.state.useCustomLabel,onChange:this.onCustomLabelSwitchChange}),this.state.useCustomLabel&&Object(S.jsx)("div",null,Object(S.jsx)(a.EuiSpacer,{size:"m"}),Object(S.jsx)(a.EuiFormRow,{label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.createCustomLabelInputLabel",defaultMessage:"Custom label"}),fullWidth:!0},Object(S.jsx)(a.EuiFieldText,{value:`${this.state.customLabel}`,onChange:this.onCustomLabelChange,fullWidth:!0})))),Object(S.jsx)(a.EuiPopoverFooter,{paddingSize:"s"},Object(S.jsx)(a.EuiFlexGroup,{direction:"rowReverse",alignItems:"center",style:{isolation:"isolate"},responsive:!1},Object(S.jsx)(a.EuiFlexItem,{grow:!1},Object(S.jsx)(a.EuiButton,{fill:!0,onClick:this.onSubmit,isDisabled:!this.isFilterValid(),"data-test-subj":"saveFilter"},"add"===this.props.mode?R:L)),Object(S.jsx)(a.EuiFlexItem,{grow:!1},Object(S.jsx)(a.EuiButtonEmpty,{flush:"right",onClick:this.props.onCancel,"data-test-subj":"cancelSaveFilter"},Object(S.jsx)(o.FormattedMessage,{id:"unifiedSearch.filter.filterEditor.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(S.jsx)(a.EuiFlexItem,null)))))}renderIndexPatternInput(){if(this.props.indexPatterns.length<=1&&this.props.indexPatterns.find((e=>e===this.getIndexPatternFromFilter())))return"";const{selectedIndexPattern:e}=this.state;return Object(S.jsx)(c.a.Fragment,null,Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.dateViewSelectLabel",defaultMessage:"Data view"})},Object(S.jsx)(j,{fullWidth:!0,placeholder:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterBar.indexPatternSelectPlaceholder",defaultMessage:"Select a data view"}),options:this.props.indexPatterns,selectedOptions:e?[e]:[],getLabel:e=>e.getName(),onChange:this.onIndexPatternChange,singleSelection:{asPlainText:!0},isClearable:!1,"data-test-subj":"filterIndexPatternsSelect"})),Object(S.jsx)(a.EuiSpacer,{size:"s"}))}renderRegularEditor(){return Object(S.jsx)("div",null,Object(S.jsx)(a.EuiFlexGroup,{responsive:!0,gutterSize:"s"},Object(S.jsx)(a.EuiFlexItem,{grow:2},this.renderFieldInput()),Object(S.jsx)(a.EuiFlexItem,{grow:!1,style:{flexBasis:160}},this.renderOperatorInput())),Object(S.jsx)(a.EuiSpacer,{size:"s"}),Object(S.jsx)("div",{"data-test-subj":"filterParams"},this.renderParamsEditor()))}renderFieldInput(){const{selectedIndexPattern:e,selectedField:t}=this.state,s=e?Object(g.b)(e):[];return Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.fieldSelectLabel",defaultMessage:"Field"})},Object(S.jsx)(A,{fullWidth:!0,id:"fieldInput",isDisabled:!e,placeholder:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.fieldSelectPlaceholder",defaultMessage:"Select a field first"}),options:s,selectedOptions:t?[t]:[],getLabel:e=>e.customLabel||e.name,onChange:this.onFieldChange,singleSelection:{asPlainText:!0},isClearable:!1,"data-test-subj":"filterFieldSuggestionList"}))}renderOperatorInput(){const{selectedField:e,selectedOperator:t}=this.state,s=e?Object(g.d)(e):[];return Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.operatorSelectLabel",defaultMessage:"Operator"})},Object(S.jsx)(C,{fullWidth:!0,isDisabled:!e,placeholder:e?this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.operatorSelectPlaceholderSelect",defaultMessage:"Select"}):this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.operatorSelectPlaceholderWaiting",defaultMessage:"Waiting"}),options:s,selectedOptions:t?[t]:[],getLabel:({message:e})=>e,onChange:this.onOperatorChange,singleSelection:{asPlainText:!0},isClearable:!1,"data-test-subj":"filterOperatorList"}))}renderCustomEditor(){return Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:n.i18n.translate("unifiedSearch.filter.filterEditor.queryDslLabel",{defaultMessage:"Elasticsearch Query DSL"})},Object(S.jsx)(E.CodeEditor,{languageId:p.XJsonLang.ID,width:"100%",height:"250px",value:this.state.queryDsl,onChange:this.onQueryDslChange,"data-test-subj":"customEditorInput","aria-label":n.i18n.translate("unifiedSearch.filter.filterEditor.queryDslAriaLabel",{defaultMessage:"Elasticsearch Query DSL editor"})}))}renderParamsEditor(){const e=this.state.selectedIndexPattern;if(!e||!this.state.selectedOperator||!this.state.selectedField)return"";const{isInvalid:t,errorMessage:s}=Object(b.a)(this.state.selectedField,this.state.params);switch(this.state.selectedOperator.type){case"exists":return"";case"phrase":return Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.valueInputLabel",defaultMessage:"Value"}),isInvalid:t,error:s},Object(S.jsx)(O.a,{indexPattern:e,field:this.state.selectedField,value:this.state.params,onChange:this.onParamsChange,"data-test-subj":"phraseValueInput",timeRangeForSuggestionsOverride:this.props.timeRangeForSuggestionsOverride,fullWidth:!0}));case"phrases":return Object(S.jsx)(a.EuiFormRow,{fullWidth:!0,label:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.valuesSelectLabel",defaultMessage:"Values"})},Object(S.jsx)(m.a,{indexPattern:e,field:this.state.selectedField,values:this.state.params,onChange:this.onParamsChange,onParamsUpdate:this.onParamsUpdate,timeRangeForSuggestionsOverride:this.props.timeRangeForSuggestionsOverride,fullWidth:!0}));case"range":return Object(S.jsx)(I.a,{field:this.state.selectedField,value:this.state.params,onChange:this.onParamsChange,fullWidth:!0})}}isUnknownFilterType(){const{type:e}=this.props.filter.meta;return!!e&&!["phrase","phrases","range","exists"].includes(e)}getIndexPatternFromFilter(){return Object(h.getIndexPatternFromFilter)(this.props.filter,this.props.indexPatterns)}getFieldFromFilter(){const e=this.getIndexPatternFromFilter();return e&&Object(g.a)(this.props.filter,e)}getSelectedOperator(){return Object(g.c)(this.props.filter)}isFilterValid(){const{isCustomEditorOpen:e,queryDsl:t,selectedIndexPattern:s,selectedField:r,selectedOperator:i,params:a}=this.state;if(e)try{const e=JSON.parse(t);return Object.keys(e).length>0}catch(e){return!1}return Object(g.e)(s,r,i,a)}}function j(e){return Object(f.a)(e)}function A(e){return Object(f.a)(e)}function C(e){return Object(f.a)(e)}const v=Object(o.injectI18n)(FilterEditorUI)},53:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(8),i=s.n(r),a=s(2),n=(s(1),s(0));function o(e){const{options:t,selectedOptions:s,getLabel:r,onChange:o,...l}=e,d=t.map(r),u=d.map((e=>({label:e}))),c=s.filter((e=>-1!==t.indexOf(e))).map((e=>u[t.indexOf(e)]));return Object(n.jsx)(a.EuiComboBox,i()({options:u,selectedOptions:c,onChange:e=>{const s=e.map((({label:e})=>t[d.indexOf(e)]));o(s)},sortMatchesBy:"startsWith"},l))}},54:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var r=s(21),i=s.n(r),a=s(2),n=s(4),o=s(5),l=(s(1),s(9)),d=s(56),u=s(0);const c=Object(n.injectI18n)((function(e){const t=Object(l.useKibana)(),s=e=>{if("string"!=typeof e&&"number"!=typeof e)return e;const s=t.services.uiSettings.get("dateFormat:tz"),r=s&&"Browser"!==s?s:i.a.tz.guess(),a=i()(e).tz(r);return a.isValid()?null==a?void 0:a.format("YYYY-MM-DDTHH:mm:ss.SSSZ"):e},r=t=>{if("string"!=typeof t&&"number"!=typeof t)throw new Error("Range params must be a string or number");e.onChange({from:t,to:Object(o.get)(e,"value.to")})},n=t=>{if("string"!=typeof t&&"number"!=typeof t)throw new Error("Range params must be a string or number");e.onChange({from:Object(o.get)(e,"value.from"),to:t})};return Object(u.jsx)("div",null,Object(u.jsx)(a.EuiFormControlLayoutDelimited,{fullWidth:e.fullWidth,"aria-label":e.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.rangeInputLabel",defaultMessage:"Range"}),startControl:Object(u.jsx)(d.a,{controlOnly:!0,compressed:e.compressed,field:e.field,value:e.value?e.value.from:void 0,onChange:r,onBlur:e=>{r(s(e))},placeholder:e.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.rangeStartInputPlaceholder",defaultMessage:"Start of the range"})}),endControl:Object(u.jsx)(d.a,{controlOnly:!0,compressed:e.compressed,field:e.field,value:e.value?e.value.to:void 0,onChange:n,onBlur:e=>{n(s(e))},placeholder:e.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.rangeEndInputPlaceholder",defaultMessage:"End of the range"})})}))}))},55:function(e,t,s){"use strict";s.d(t,"a",(function(){return PhraseSuggestorUI}));var r=s(6),i=s.n(r),a=s(1),n=s.n(a),o=s(9),l=s(17),d=s(5);class PhraseSuggestorUI extends n.a.Component{constructor(...e){super(...e),i()(this,"services",this.props.kibana.services),i()(this,"abortController",void 0),i()(this,"state",{suggestions:[],isLoading:!1}),i()(this,"onSearchChange",(e=>{this.updateSuggestions(`${e}`)})),i()(this,"updateSuggestions",Object(d.debounce)((async(e="")=>{this.abortController&&this.abortController.abort(),this.abortController=new AbortController;const{indexPattern:t,field:s,timeRangeForSuggestionsOverride:r}=this.props;if(!s||!this.isSuggestingValues())return;this.setState({isLoading:!0});const i=await this.services.unifiedSearch.autocomplete.getValueSuggestions({indexPattern:t,field:s,query:e,signal:this.abortController.signal,useTimeRange:r});this.setState({suggestions:i,isLoading:!1})}),500))}componentDidMount(){this.updateSuggestions()}componentWillUnmount(){this.abortController&&this.abortController.abort()}isSuggestingValues(){var e;const t=this.services.uiSettings.get(l.UI_SETTINGS.FILTERS_EDITOR_SUGGEST_VALUES),{field:s}=this.props,r=null==s||null===(e=s.esTypes)||void 0===e?void 0:e.includes("version");return t&&s&&s.aggregatable&&"string"===s.type&&!r}}Object(o.withKibana)(PhraseSuggestorUI)},56:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var r=s(6),i=s.n(r),a=s(2),n=s(4),o=s(5),l=s(1),d=s(46),u=s(0);class ValueInputTypeUI extends l.Component{constructor(...e){super(...e),i()(this,"getValueForNumberField",(e=>{if("string"==typeof e){const t=parseFloat(e);return isNaN(t)?e:t}return e})),i()(this,"onBoolChange",(e=>{const t="true"===e.target.value;this.props.onChange(t)})),i()(this,"onChange",(e=>{const t=e.target.value;this.props.onChange(t)})),i()(this,"onBlur",(e=>{if(this.props.onBlur){const t=e.target.value;this.props.onBlur(t)}}))}render(){var e,t;const s=this.props.value;let r;switch(null!==(e=null===(t=this.props.field)||void 0===t?void 0:t.type)&&void 0!==e?e:"string"){case"string":r=Object(u.jsx)(a.EuiFieldText,{compressed:this.props.compressed,disabled:this.props.disabled,fullWidth:this.props.fullWidth,placeholder:this.props.placeholder,value:s,onChange:this.onChange,isInvalid:!Object(d.f)(s,this.props.field),controlOnly:this.props.controlOnly,className:this.props.className});break;case"number":case"number_range":r=Object(u.jsx)(a.EuiFieldNumber,{compressed:this.props.compressed,disabled:this.props.disabled,fullWidth:this.props.fullWidth,placeholder:this.props.placeholder,value:this.getValueForNumberField(s),onChange:this.onChange,controlOnly:this.props.controlOnly,className:this.props.className});break;case"date":case"date_range":r=Object(u.jsx)(a.EuiFieldText,{compressed:this.props.compressed,disabled:this.props.disabled,fullWidth:this.props.fullWidth,placeholder:this.props.placeholder,value:s,onChange:this.onChange,onBlur:this.onBlur,isInvalid:this.props.isInvalid,controlOnly:this.props.controlOnly,className:this.props.className});break;case"ip":case"ip_range":r=Object(u.jsx)(a.EuiFieldText,{fullWidth:this.props.fullWidth,disabled:this.props.disabled,placeholder:this.props.placeholder,value:s,onChange:this.onChange,isInvalid:!Object(o.isEmpty)(s)&&!Object(d.f)(s,this.props.field),controlOnly:this.props.controlOnly,className:this.props.className,compressed:this.props.compressed});break;case"boolean":r=Object(u.jsx)(a.EuiSelect,{options:[{value:void 0,text:this.props.placeholder},{value:"true",text:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.trueOptionLabel",defaultMessage:"true"})},{value:"false",text:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.falseOptionLabel",defaultMessage:"false"})}],value:s,onChange:this.onBoolChange,className:this.props.className,fullWidth:this.props.fullWidth,compressed:this.props.compressed})}return r}}const c=Object(n.injectI18n)(ValueInputTypeUI)},57:function(e,t,s){"use strict";s.d(t,"a",(function(){return h}));var r=s(4),i=s(5),a=s(1),n=s.n(a),o=s(9),l=s(53),d=s(55),u=s(56),c=s(0);class PhraseValueInputUI extends d.a{render(){return Object(c.jsx)(n.a.Fragment,null,this.isSuggestingValues()?this.renderWithSuggestions():Object(c.jsx)(u.a,{disabled:this.props.disabled,compressed:this.props.compressed,fullWidth:this.props.fullWidth,placeholder:this.props.intl.formatMessage({id:"unifiedSearch.filter.filterEditor.valueInputPlaceholder",defaultMessage:"Enter a value"}),value:this.props.value,onChange:this.props.onChange,field:this.props.field,isInvalid:this.props.isInvalid}))}renderWithSuggestions(){const{suggestions:e}=this.state,{value:t,intl:s,onChange:r,fullWidth:a}=this.props,n=String(t),o=t?Object(i.uniq)([n,...e]):e;return Object(c.jsx)(p,{isDisabled:this.props.disabled,fullWidth:a,compressed:this.props.compressed,placeholder:s.formatMessage({id:"unifiedSearch.filter.filterEditor.valueSelectPlaceholder",defaultMessage:"Select a value"}),options:o,getLabel:e=>e,selectedOptions:t?[n]:[],onChange:([e=""])=>r(e),onSearchChange:this.onSearchChange,singleSelection:{asPlainText:!0},onCreateOption:r,isClearable:!1,"data-test-subj":"filterParamsComboBox phraseParamsComboxBox"})}}function p(e){return Object(l.a)(e)}const h=Object(r.injectI18n)(Object(o.withKibana)(PhraseValueInputUI))},58:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var r=s(4),i=s(5),a=(s(1),s(9)),n=s(53),o=s(55),l=s(0);class PhrasesValuesInputUI extends o.a{render(){const{suggestions:e}=this.state,{values:t,intl:s,onChange:r,fullWidth:a,onParamsUpdate:n,compressed:o}=this.props,u=t?Object(i.uniq)([...t,...e]):e;return Object(l.jsx)(d,{fullWidth:a,compressed:o,placeholder:s.formatMessage({id:"unifiedSearch.filter.filterEditor.valuesSelectPlaceholder",defaultMessage:"Select values"}),delimiter:",",options:u,getLabel:e=>e,selectedOptions:t||[],onSearchChange:this.onSearchChange,onCreateOption:e=>{n(e.trim())},onChange:r,isClearable:!1,"data-test-subj":"filterParamsComboBox phrasesParamsComboxBox"})}}function d(e){return Object(n.a)(e)}const u=Object(r.injectI18n)(Object(a.withKibana)(PhrasesValuesInputUI))},59:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var r=s(3),i=s(13),a=s(5),n=s(46);const o=(e,t)=>{switch(null==e?void 0:e.type){case i.KBN_FIELD_TYPES.DATE:case i.KBN_FIELD_TYPES.DATE_RANGE:if(!Object(a.isEmpty)(t)&&!Object(n.f)(t,e))return d()}return l()},l=()=>({isInvalid:!1}),d=()=>({isInvalid:!0,errorMessage:r.i18n.translate("unifiedSearch.filter.filterBar.invalidDateFormatProvidedErrorMessage",{defaultMessage:"Invalid date format provided"})})},61:function(e,t){const s=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:s,MAX_SAFE_COMPONENT_LENGTH:16}},68:function(e,t,s){const{MAX_SAFE_COMPONENT_LENGTH:r}=s(61),i=s(69),a=(t=e.exports={}).re=[],n=t.src=[],o=t.t={};let l=0;const d=(e,t,s)=>{const r=l++;i(e,r,t),o[e]=r,n[r]=t,a[r]=new RegExp(t,s?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","[0-9]+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),d("MAINVERSION",`(${n[o.NUMERICIDENTIFIER]})\\.(${n[o.NUMERICIDENTIFIER]})\\.(${n[o.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${n[o.NUMERICIDENTIFIERLOOSE]})\\.(${n[o.NUMERICIDENTIFIERLOOSE]})\\.(${n[o.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${n[o.NUMERICIDENTIFIER]}|${n[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${n[o.NUMERICIDENTIFIERLOOSE]}|${n[o.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${n[o.PRERELEASEIDENTIFIER]}(?:\\.${n[o.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${n[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${n[o.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER","[0-9A-Za-z-]+"),d("BUILD",`(?:\\+(${n[o.BUILDIDENTIFIER]}(?:\\.${n[o.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${n[o.MAINVERSION]}${n[o.PRERELEASE]}?${n[o.BUILD]}?`),d("FULL",`^${n[o.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${n[o.MAINVERSIONLOOSE]}${n[o.PRERELEASELOOSE]}?${n[o.BUILD]}?`),d("LOOSE",`^${n[o.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${n[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${n[o.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${n[o.XRANGEIDENTIFIER]})(?:\\.(${n[o.XRANGEIDENTIFIER]})(?:\\.(${n[o.XRANGEIDENTIFIER]})(?:${n[o.PRERELEASE]})?${n[o.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${n[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${n[o.XRANGEIDENTIFIERLOOSE]})(?:${n[o.PRERELEASELOOSE]})?${n[o.BUILD]}?)?)?`),d("XRANGE",`^${n[o.GTLT]}\\s*${n[o.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${n[o.GTLT]}\\s*${n[o.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),d("COERCERTL",n[o.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${n[o.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${n[o.LONETILDE]}${n[o.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${n[o.LONETILDE]}${n[o.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${n[o.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${n[o.LONECARET]}${n[o.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${n[o.LONECARET]}${n[o.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${n[o.GTLT]}\\s*(${n[o.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${n[o.GTLT]}\\s*(${n[o.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${n[o.GTLT]}\\s*(${n[o.LOOSEPLAIN]}|${n[o.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${n[o.XRANGEPLAIN]})\\s+-\\s+(${n[o.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${n[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${n[o.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},69:function(e,t,s){(function(t){const s="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=s}).call(this,s(89))},70:function(e,t){const s=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:s.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},72:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r,i,a=s(85),n=s.n(a),o=s(86),l=s.n(o),d=s(6),u=s.n(d);!function(e){e._ID="_id",e._INDEX="_index",e._SOURCE="_source",e._TYPE="_type",e.STRING="string",e.TEXT="text",e.MATCH_ONLY_TEXT="match_only_text",e.KEYWORD="keyword",e.VERSION="version",e.BOOLEAN="boolean",e.OBJECT="object",e.DATE="date",e.DATE_NANOS="date_nanos",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.FLOAT="float",e.HALF_FLOAT="half_float",e.SCALED_FLOAT="scaled_float",e.DOUBLE="double",e.INTEGER="integer",e.LONG="long",e.SHORT="short",e.UNSIGNED_LONG="unsigned_long",e.AGGREGATE_METRIC_DOUBLE="aggregate_metric_double",e.FLOAT_RANGE="float_range",e.DOUBLE_RANGE="double_range",e.INTEGER_RANGE="integer_range",e.LONG_RANGE="long_range",e.NESTED="nested",e.BYTE="byte",e.IP="ip",e.IP_RANGE="ip_range",e.ATTACHMENT="attachment",e.TOKEN_COUNT="token_count",e.MURMUR3="murmur3",e.HISTOGRAM="histogram"}(r||(r={})),function(e){e._SOURCE="_source",e.ATTACHMENT="attachment",e.BOOLEAN="boolean",e.DATE="date",e.DATE_RANGE="date_range",e.GEO_POINT="geo_point",e.GEO_SHAPE="geo_shape",e.IP="ip",e.IP_RANGE="ip_range",e.MURMUR3="murmur3",e.NUMBER="number",e.NUMBER_RANGE="number_range",e.STRING="string",e.UNKNOWN="unknown",e.CONFLICT="conflict",e.OBJECT="object",e.NESTED="nested",e.HISTOGRAM="histogram",e.MISSING="missing"}(i||(i={}));var c=n()((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,e),u()(this,"name",void 0),u()(this,"sortable",void 0),u()(this,"filterable",void 0),u()(this,"esTypes",void 0),this.name=t.name||i.UNKNOWN,this.sortable=t.sortable||!1,this.filterable=t.filterable||!1,this.esTypes=Object.freeze((t.esTypes||[]).slice())}));new c({name:i.UNKNOWN});new c({name:i.STRING,sortable:!0,filterable:!0,esTypes:[r.STRING,r.TEXT,r.MATCH_ONLY_TEXT,r.KEYWORD,r.VERSION,r._TYPE,r._ID]}),new c({name:i.NUMBER,sortable:!0,filterable:!0,esTypes:[r.FLOAT,r.HALF_FLOAT,r.SCALED_FLOAT,r.DOUBLE,r.INTEGER,r.LONG,r.UNSIGNED_LONG,r.SHORT,r.BYTE,r.TOKEN_COUNT,r.AGGREGATE_METRIC_DOUBLE]}),new c({name:i.NUMBER_RANGE,sortable:!0,filterable:!0,esTypes:[r.FLOAT_RANGE,r.DOUBLE_RANGE,r.INTEGER_RANGE,r.LONG_RANGE]}),new c({name:i.DATE,sortable:!0,filterable:!0,esTypes:[r.DATE,r.DATE_NANOS]}),new c({name:i.DATE_RANGE,sortable:!0,filterable:!0,esTypes:[r.DATE_RANGE]}),new c({name:i.IP,sortable:!0,filterable:!0,esTypes:[r.IP]}),new c({name:i.IP_RANGE,sortable:!0,filterable:!0,esTypes:[r.IP_RANGE]}),new c({name:i.BOOLEAN,sortable:!0,filterable:!0,esTypes:[r.BOOLEAN]}),new c({name:i.OBJECT,esTypes:[r.OBJECT]}),new c({name:i.NESTED,esTypes:[r.NESTED]}),new c({name:i.GEO_POINT,esTypes:[r.GEO_POINT]}),new c({name:i.GEO_SHAPE,esTypes:[r.GEO_SHAPE]}),new c({name:i.ATTACHMENT,esTypes:[r.ATTACHMENT]}),new c({name:i.MURMUR3,esTypes:[r.MURMUR3]}),new c({name:i._SOURCE,esTypes:[r._SOURCE]}),new c({name:i.HISTOGRAM,filterable:!0,esTypes:[r.HISTOGRAM]}),new c({name:i.CONFLICT})},85:function(e,t,s){e.exports=s(24)(17)},86:function(e,t,s){e.exports=s(24)(16)},87:function(e,t,s){const r=s(88);e.exports=(e,t)=>{const s=r(e,t);return s?s.version:null}},88:function(e,t,s){const{MAX_LENGTH:r}=s(61),{re:i,t:a}=s(68),n=s(90),o=s(70);e.exports=(e,t)=>{if(t=o(t),e instanceof n)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?i[a.LOOSE]:i[a.FULL]).test(e))return null;try{return new n(e,t)}catch(e){return null}}},89:function(e,t,s){e.exports=s(24)(477)},90:function(e,t,s){const r=s(69),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=s(61),{re:n,t:o}=s(68),l=s(70),{compareIdentifiers:d}=s(91);class SemVer{constructor(e,t){if(t=l(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const s=e.trim().match(t.loose?n[o.LOOSE]:n[o.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),d(this.major,e.major)||d(this.minor,e.minor)||d(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const s=this.prerelease[t],i=e.prerelease[t];if(r("prerelease compare",t,s,i),void 0===s&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===s)return-1;if(s!==i)return d(s,i)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const s=this.build[t],i=e.build[t];if(r("prerelease compare",t,s,i),void 0===s&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===s)return-1;if(s!==i)return d(s,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===d(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=SemVer},91:function(e,t){const s=/^[0-9]+$/,r=(e,t)=>{const r=s.test(e),i=s.test(t);return r&&i&&(e=+e,t=+t),e===t?0:r&&!i?-1:i&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}}}]);