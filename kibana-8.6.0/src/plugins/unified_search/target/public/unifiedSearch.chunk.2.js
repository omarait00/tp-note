(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[2,7],Array(39).concat([function(e,t,o){"use strict";o.r(t),o.d(t,"FILTER_EDITOR_WIDTH",(function(){return h})),o.d(t,"FilterItem",(function(){return j}));var n=o(8),i=o.n(n),r=(o(48),o(2)),a=o(37),s=o(38),l=o.n(s),d=o(1),u=o(13),c=o(47),b=o(3),g=o(16),f=o(0);const p=({filter:e,readOnly:t,iconOnClick:o,onClick:n,valueLabel:s,fieldLabel:l,errorMessage:d,filterLabelStatus:u,hideAlias:c,...p})=>{const[m,x]=Object(r.useInnerText)(),h=t?b.i18n.translate("unifiedSearch.filter.filterBar.filterString",{defaultMessage:"Filter: {innerText}.",values:{innerText:x}}):b.i18n.translate("unifiedSearch.filter.filterBar.filterActionsMessage",{defaultMessage:"Filter: {innerText}. Select for more filter actions.",values:{innerText:x}});let j=d||h;Object(a.isFilterPinned)(e)&&(j=`${b.i18n.translate("unifiedSearch.filter.filterBar.pinnedFilterPrefix",{defaultMessage:"Pinned"})} ${j}`),e.meta.disabled&&(j=`${b.i18n.translate("unifiedSearch.filter.filterBar.disabledFilterPrefix",{defaultMessage:"Disabled"})} ${j}`);const v={color:"hollow",tabIndex:0},O=t?{...v,title:void 0}:{...v,title:j,iconType:"cross",iconSide:"right",closeButtonProps:{tabIndex:-1},iconOnClick:o,iconOnClickAriaLabel:b.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeIconAriaLabel",{defaultMessage:"Delete {filter}",values:{filter:x}}),onClick:n,onClickAriaLabel:b.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeAriaLabel",{defaultMessage:"Filter actions"})},_=()=>Object(f.jsx)(r.EuiBadge,i()({},O,p),Object(f.jsx)(g.d,{filter:e,valueLabel:s,fieldLabel:l,filterLabelStatus:u,hideAlias:c}));return t?Object(f.jsx)(r.EuiToolTip,{position:"bottom",content:j},Object(f.jsx)("span",{ref:m},Object(f.jsx)(_,null))):Object(f.jsx)("span",{ref:m},Object(f.jsx)(_,null))},m="warn",x="error",h=800;function j(e){const[t,o]=Object(d.useState)(!1),[n,s]=Object(d.useState)("menu"),{id:b,filter:g,indexPatterns:j,hiddenPanelOptions:v,readOnly:O=!1}=e;function _(){const t=Object(a.toggleFilterDisabled)(g);e.onUpdate(t)}function E(e){const{disabled:t}=g.meta;return t||e.status===x}Object(d.useEffect)((()=>{t&&s("menu")}),[t]);const y=function(){var t;const o={title:"",message:"",status:""};if(null!==(t=g.meta)&&void 0!==t&&t.isMultiIndex)return o;if(!e.indexPatterns.length||Object(u.getIndexPatternFromFilter)(g,j)||j.map((e=>e.fields.map((e=>e.name)))).reduce(((e,t)=>[...e,...t]),[]).includes((null===(n=g.meta)||void 0===n?void 0:n.key)||""))try{o.title=Object(u.getDisplayValueFromFilter)(g,j)}catch(t){o.status=m,o.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),o.message=t.message}else o.status=m,o.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),o.message=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningInfo",defaultMessage:"Field {fieldName} does not exist in current view"},{fieldName:g.meta.key});var n;return o}();if(y.status===x&&!g.meta.disabled)return g.meta.disabled=!0,e.onUpdate(g),null;const w={filter:g,readOnly:O,valueLabel:y.title,fieldLabel:Object(u.getFieldDisplayValueFromFilter)(g,j),filterLabelStatus:y.status,errorMessage:y.message,className:(T=!!g.meta.negate,F=y,l()("globalFilterItem",{"globalFilterItem-isDisabled":E(F),"globalFilterItem-isError":F.status===x,"globalFilterItem-isWarning":F.status===m,"globalFilterItem-isPinned":Object(a.isFilterPinned)(g),"globalFilterItem-isExcluded":T},e.className)),iconOnClick:function(t){e.onRemove(),o(!1)},onClick:function(e){e.shiftKey?_():o(!t)},"data-test-subj":function(e){const t=g.meta.key?`filter-key-${g.meta.key}`:"",o=function(e){return""===e.status}(e)?e.title:e.status,n=o?`filter-value-${o}`:"",i=g.meta.negate?"filter-negated":"",r="filter-"+(E(e)?"disabled":"enabled"),s="filter-"+(Object(a.isFilterPinned)(g)?"pinned":"unpinned");return l()("filter",r,t,n,s,i)}(y)};var T,F;const k={id:`popoverFor_filter${b}`,className:"globalFilterItem__popover",anchorClassName:"globalFilterItem__popoverAnchor",isOpen:t,closePopover:()=>{o(!1)},button:Object(f.jsx)(p,w),panelPaddingSize:"none"};return O?Object(f.jsx)(p,w):Object(f.jsx)(r.EuiPopover,i()({anchorPosition:"downLeft"},k),"menu"===n?Object(f.jsx)(r.EuiContextMenu,{initialPanelId:0,panels:function(){const{negate:t,disabled:n}=g.meta;let i=[{name:Object(a.isFilterPinned)(g)?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.unpinFilterButtonLabel",defaultMessage:"Unpin"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.pinFilterButtonLabel",defaultMessage:"Pin across all apps"}),icon:"pin",onClick:()=>{o(!1),function(){const t=Object(a.toggleFilterPinned)(g);e.onUpdate(t)}()},"data-test-subj":"pinFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.editFilterButtonLabel",defaultMessage:"Edit filter"}),icon:"pencil","data-test-subj":"editFilter",onClick:()=>{s("editFilter")}},{name:t?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.includeFilterButtonLabel",defaultMessage:"Include results"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.excludeFilterButtonLabel",defaultMessage:"Exclude results"}),icon:t?"plusInCircle":"minusInCircle",onClick:()=>{o(!1),function(){const t=Object(a.toggleFilterNegated)(g);e.onUpdate(t)}()},"data-test-subj":"negateFilter"},{name:n?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.enableFilterButtonLabel",defaultMessage:"Re-enable"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.disableFilterButtonLabel",defaultMessage:"Temporarily disable"}),icon:n?"eye":"eyeClosed",onClick:()=>{o(!1),_()},"data-test-subj":"disableFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.deleteFilterButtonLabel",defaultMessage:"Delete"}),icon:"trash",onClick:()=>{o(!1),e.onRemove()},"data-test-subj":"deleteFilter"}];return v&&v.length>0&&(i=i.filter((e=>!v.includes(e["data-test-subj"])))),[{id:0,items:i}]}()}):Object(f.jsx)(r.EuiContextMenuPanel,{items:[Object(f.jsx)("div",{style:{width:h}},Object(f.jsx)(c.a,{filter:g,indexPatterns:j,onSubmit:function(t){o(!1),e.onUpdate(t)},onCancel:()=>{o(!1)},timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride}))]}))}t.default=j},,,,,,,,,function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(49);case"v8light":return o(51)}},function(e,t,o){var n=o(22),i=o(50);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.globalFilterItem{border:none;color:#dfe5ef;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#16171c;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;box-shadow:0 0 #0000,inset 0 0 0 1px #424752;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#34374180;color:#98a2b3;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#f87972}.globalFilterItem-isWarning .globalFilterLabel__value{color:#f3d371}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#424752;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #7c3632}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#c6564f}.globalFilterItem__editorForm{padding:8px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},function(e,t,o){var n=o(22),i=o(52);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.globalFilterItem{border:none;color:#343741;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#fbfcfd;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #112b861a;box-shadow:0 0 #0000,inset 0 0 0 1px #bcc3ce;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#d3dae680;color:#69707d;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#b4251d}.globalFilterItem-isWarning .globalFilterLabel__value{color:#765b0a}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#bcc3ce;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #ebbebc}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#d16862}.globalFilterItem__editorForm{padding:8px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},,,,,,,,,,function(e,t,o){"use strict";o.d(t,"c",(function(){return n.c})),o.d(t,"b",(function(){return n.b})),o.d(t,"a",(function(){return i.a})),o(59);var n=o(45),i=(o(46),o(53),o(55),o(58),o(57),o(54),o(56),o(47))},,,,,function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o(1),i=o.n(n),r=o(37),a=o(14),s=o(9),l=o(17),d=o(39),u=o(62),c=o(64),b=o(0);const g=i.a.memo((function({indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,closePopover:i,onFiltersUpdated:g}){const f=Object(s.useKibana)(),{uiSettings:p,data:m,usageCollection:x,appName:h}=f.services,j=null==x?void 0:x.reportUiCounter.bind(x,h),[v,O]=Object(n.useState)([]),[_,E]=Object(n.useState)(void 0),y=p.get(l.UI_SETTINGS.FILTERS_PINNED_BY_DEFAULT);return Object(n.useEffect)((()=>{e&&(async()=>{const t=null==e?void 0:e.filter((e=>"string"==typeof e)),o=null==e?void 0:e.filter((e=>"string"!=typeof e)),n=await Object(c.a)(m.dataViews,t.map((e=>({type:"title",value:e}))));O([...o,...n]);const[i]=[...o,...n],a=i&&i.id,s=Object(r.buildEmptyFilter)(y,a);E(s)})()}),[m.dataViews,e,y]),Object(b.jsx)("div",{style:{width:d.FILTER_EDITOR_WIDTH,maxWidth:"100%"}},_&&Object(b.jsx)(u.a,{filter:_,indexPatterns:v,onSubmit:function(e){null==j||j(a.METRIC_TYPE.CLICK,"filter:added"),null==i||i();const o=[...t,e];null==g||g(o)},onCancel:()=>null==i?void 0:i(),key:JSON.stringify(_),timeRangeForSuggestionsOverride:o,mode:"add"}))}))},,,,function(e,t,o){e.exports=o(24)(10)},,,function(e,t,o){"use strict";e.exports=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,i,r;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(i=n;0!=i--;)if(!e(t[i],o[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(r=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(o,r[i]))return!1;for(i=n;0!=i--;){var a=r[i];if(!e(t[a],o[a]))return!1}return!0}return t!=t&&o!=o}},,,,,,,,,,,,,,,,,,function(e,t,o){e.exports=o(24)(2745)},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(94);case"v8light":return o(96)}},function(e,t,o){var n=o(22),i=o(95);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.documentation__docs{background:#1d1e24}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #343741}.documentation__docsSidebar{background:#25262e}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #343741}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #343741}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #343741;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},function(e,t,o){var n=o(22),i=o(97);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.documentation__docs{background:#fff}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #d3dae6}.documentation__docsSidebar{background:#f5f7fa}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #d3dae6}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #d3dae6}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #d3dae6;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(40),i=o(1),r=n.__importDefault(o(99));t.default=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=[]);var n=r.default(e,t),a=n[0],s=n[1],l=n[2];return i.useEffect(l,o),[a,s]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);t.default=function(e,t){void 0===t&&(t=0);var o=n.useRef(!1),i=n.useRef(),r=n.useRef(e),a=n.useCallback((function(){return o.current}),[]),s=n.useCallback((function(){o.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){o.current=!0,r.current()}),t)}),[t]),l=n.useCallback((function(){o.current=null,i.current&&clearTimeout(i.current)}),[]);return n.useEffect((function(){r.current=e}),[e]),n.useEffect((function(){return s(),l}),[t]),[a,l,s]}},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(101);case"v8light":return o(103)}},function(e,t,o){var n=o(22),i=o(102);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.unifiedTextLangEditor--resizableButtonContainer{bottom:0;display:flex;flex-direction:column;left:0;position:absolute;right:0}.unifiedTextLangEditor--resizableButton{cursor:row-resize;flex-shrink:0;height:16px;margin-bottom:-8px;margin-top:-8px;position:relative;z-index:1}.unifiedTextLangEditor--resizableButton:after,.unifiedTextLangEditor--resizableButton:before{background-color:#d4dae5;content:"";display:block;height:1px;left:50%;position:absolute;top:50%;transition:width .15s ease,height .15s ease,transform .15s ease,background-color .15s ease;width:12px}.unifiedTextLangEditor--resizableButton:before{transform:translate(-50%,-2px)}.unifiedTextLangEditor--resizableButton:after{transform:translate(-50%,2px)}.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{background-color:#535966;transition-delay:.15s}.unifiedTextLangEditor--resizableButton:focus:not(:disabled){background-color:#36a2ef1a}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before{background-color:#36a2ef;transition:width .15s ease,height .15s ease,transform .15s ease;transition-delay:75ms}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{width:100%}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{transform:translate(-50%,-1px)}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after{transform:translate(-50%)}',""]),e.exports=t},function(e,t,o){var n=o(22),i=o(104);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,'.unifiedTextLangEditor--resizableButtonContainer{bottom:0;display:flex;flex-direction:column;left:0;position:absolute;right:0}.unifiedTextLangEditor--resizableButton{cursor:row-resize;flex-shrink:0;height:16px;margin-bottom:-8px;margin-top:-8px;position:relative;z-index:1}.unifiedTextLangEditor--resizableButton:after,.unifiedTextLangEditor--resizableButton:before{background-color:#343741;content:"";display:block;height:1px;left:50%;position:absolute;top:50%;transition:width .15s ease,height .15s ease,transform .15s ease,background-color .15s ease;width:12px}.unifiedTextLangEditor--resizableButton:before{transform:translate(-50%,-2px)}.unifiedTextLangEditor--resizableButton:after{transform:translate(-50%,2px)}.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{background-color:#98a2b3;transition-delay:.15s}.unifiedTextLangEditor--resizableButton:focus:not(:disabled){background-color:#0077cc1a}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before{background-color:#07c;transition:width .15s ease,height .15s ease,transform .15s ease;transition-delay:75ms}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{width:100%}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{transform:translate(-50%,-1px)}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after{transform:translate(-50%)}',""]),e.exports=t},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(106);case"v8light":return o(108)}},function(e,t,o){var n=o(22),i=o(107);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,".unifiedTextLangEditor .monaco-editor{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor .monaco-editor .monaco-hover{display:none!important}.unifiedTextLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.unifiedTextLangEditor .monaco-editor .margin{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor--compact .monaco-editor{border-bottom-left-radius:0;border-top-left-radius:0}.unifiedTextLangEditor--compact .monaco-editor .margin{background-color:#25262e;border-bottom-left-radius:0;border-top-left-radius:0;color:#515761}.unifiedTextLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#515761}.unifiedTextLangEditor .monaco-editor .current-line~.line-numbers{color:#7a7f89}.unifiedTextLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:4px}.unifiedTextLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}",""]),e.exports=t},function(e,t,o){var n=o(22),i=o(109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,".unifiedTextLangEditor .monaco-editor{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor .monaco-editor .monaco-hover{display:none!important}.unifiedTextLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.unifiedTextLangEditor .monaco-editor .margin{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor--compact .monaco-editor{border-bottom-left-radius:0;border-top-left-radius:0}.unifiedTextLangEditor--compact .monaco-editor .margin{background-color:#f5f7fa;border-bottom-left-radius:0;border-top-left-radius:0;color:#abb4c4}.unifiedTextLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#abb4c4}.unifiedTextLangEditor .monaco-editor .current-line~.line-numbers{color:#69707d}.unifiedTextLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:4px}.unifiedTextLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}",""]),e.exports=t},function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(111);case"v8light":return o(113)}},function(e,t,o){var n=o(22),i=o(112);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,".kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid{background-image:linear-gradient(0deg,#f86b63,#f86b63 2px,#0000 0,#0000)}.kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid:focus{background-color:#16171c;background-image:linear-gradient(0deg,#36a2ef,#36a2ef 2px,#0000 0,#0000);color:#dfe5ef}",""]),e.exports=t},function(e,t,o){var n=o(22),i=o(114);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,o){(t=o(23)(!1)).push([e.i,".kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid{background-image:linear-gradient(0deg,#bd271e,#bd271e 2px,#0000 0,#0000)}.kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid:focus{background-color:#fbfcfd;background-image:linear-gradient(0deg,#07c,#07c 2px,#0000 0,#0000);color:#343741}",""]),e.exports=t},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(40),i=o(1),r=n.__importDefault(o(116));t.default=function(e,t){var o=i.useState(t),n=o[0],a=o[1];return r.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),n}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1),i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=i},,,,,,,,,,function(e,t,o){"use strict";o.r(t),o.d(t,"QueryBarTopRow",(function(){return oe}));var n=o(8),i=o.n(n),r=o(20),a=o.n(r),s=o(38),l=o.n(s),d=o(1),u=o.n(d),c=o(74),b=o.n(c),g=o(115),f=o.n(g),p=o(37),m=o(11),x=o(27),h=o(5),j=o(2),v=o(13),O=o(3),_=o(9),E=o(17),y=o(127),w=o(0);const T="data.noDataPopover";function F({showNoDataPopover:e,storage:t,children:o}){const[n,i]=Object(d.useState)((()=>Boolean(t.get(T)))),[r,a]=Object(d.useState)(!1);return Object(d.useEffect)((()=>{e&&!n&&a(!0)}),[n,e]),Object(w.jsx)(j.EuiTourStep,{onFinish:()=>{},closePopover:()=>{a(!1)},content:Object(w.jsx)(j.EuiText,{size:"s"},Object(w.jsx)("p",{style:{maxWidth:300}},O.i18n.translate("unifiedSearch.noDataPopover.content",{defaultMessage:"This time range doesn't contain any data. Increase or adjust the time range to see more fields and create charts."}))),minWidth:300,anchorPosition:"downCenter",anchorClassName:"eui-displayBlock",step:1,stepsTotal:1,isStepOpen:r,subtitle:O.i18n.translate("unifiedSearch.noDataPopover.subtitle",{defaultMessage:"Tip"}),title:O.i18n.translate("unifiedSearch.noDataPopover.title",{defaultMessage:"Empty dataset"}),footerAction:Object(w.jsx)(j.EuiButtonEmpty,{size:"xs",flush:"right",color:"text","data-test-subj":"noDataPopoverDismissButton",onClick:()=>{t.set(T,!0),i(!0),a(!1)}},O.i18n.translate("unifiedSearch.noDataPopover.dismissAction",{defaultMessage:"Don't show again"}))},Object(w.jsx)("div",{onFocus:()=>{a(!1)}},o))}var k=o(60),L=o(67);const S=u.a.memo((function({indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,onFiltersUpdated:n,buttonProps:r,isDisabled:a}){const[s,l]=Object(d.useState)(!1),u=O.i18n.translate("unifiedSearch.filter.filterBar.addFilterButtonLabel",{defaultMessage:"Add filter"}),c=Object(w.jsx)(j.EuiToolTip,{delay:"long",content:u},Object(w.jsx)(j.EuiButtonIcon,i()({display:"base",iconType:"plusInCircleFilled","aria-label":u,"data-test-subj":"addFilter",onClick:()=>l((e=>!e)),size:"m",disabled:a},r)));return Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiPopover,{id:"addFilterPopover",button:c,isOpen:s,closePopover:()=>l(!1),anchorPosition:"downLeft",panelPaddingSize:"none",panelProps:{"data-test-subj":"addFilterPopover"},initialFocus:".filterEditor__hiddenItem",ownFocus:!0,repositionOnScroll:!0},Object(w.jsx)(L.a,{indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,onFiltersUpdated:n,closePopover:()=>l(!1)})))}));var I=o(26),B=o(66),C=o(41),z=o(71),M=o.n(z),P=o(92),R=o.n(P);function D(e){var t=e.language,o=e.sections,n=Object(d.useState)(),i=M()(n,2),r=i[0],a=i[1],s=Object(d.useRef)({});Object(d.useEffect)((function(){r&&s.current[r]&&s.current[r].scrollIntoView()}),[r]);var l=Object(d.useState)(""),c=M()(l,2),b=c[0],g=c[1],f=b.trim().toLocaleLowerCase(),p=null==o?void 0:o.groups.map((function(e){var t=e.items.filter((function(e){return!f||e.label.toLocaleLowerCase().includes(f)}));return R()(R()({},e),{},{items:t})})).filter((function(e){return e.items.length>0||!f||e.label.toLocaleLowerCase().includes(f)}));return Object(w.jsx)(u.a.Fragment,null,Object(w.jsx)(j.EuiPopoverTitle,{className:"documentation__docsHeader",paddingSize:"m","data-test-subj":"language-documentation-title"},O.i18n.translate("languageDocumentationPopover.header",{defaultMessage:"{language} reference",values:{language:t}})),Object(w.jsx)(j.EuiFlexGroup,{className:"documentation__docsContent",gutterSize:"none",responsive:!1,alignItems:"stretch"},Object(w.jsx)(j.EuiFlexItem,{className:"documentation__docsSidebar",grow:1},Object(w.jsx)(j.EuiFlexGroup,{className:"documentation__docsSidebarInner",direction:"column",gutterSize:"none",responsive:!1},Object(w.jsx)(j.EuiFlexItem,{className:"documentation__docsSearch",grow:!1},Object(w.jsx)(j.EuiFieldSearch,{value:b,onChange:function(e){g(e.target.value)},"data-test-subj":"language-documentation-navigation-search",placeholder:O.i18n.translate("languageDocumentationPopover.searchPlaceholder",{defaultMessage:"Search"})})),Object(w.jsx)(j.EuiFlexItem,{className:"documentation__docsNav"},null==p?void 0:p.map((function(e,t){return Object(w.jsx)("nav",{className:"documentation__docsNavGroup",key:e.label},Object(w.jsx)(j.EuiTitle,{size:"xxs","data-test-subj":"language-documentation-navigation-title"},Object(w.jsx)("h6",null,Object(w.jsx)(j.EuiLink,{className:"documentation__docsNavGroupLink",color:"text",onClick:function(){a(e.label)}},Object(w.jsx)(j.EuiHighlight,{search:b},e.label)))),e.items.length?Object(w.jsx)(u.a.Fragment,null,Object(w.jsx)(j.EuiSpacer,{size:"s"}),Object(w.jsx)(j.EuiListGroup,{gutterSize:"none"},e.items.map((function(e){return Object(w.jsx)(j.EuiListGroupItem,{key:e.label,label:Object(w.jsx)(j.EuiHighlight,{search:b},e.label),size:"s",onClick:function(){a(e.label)}})})))):null)}))))),Object(w.jsx)(j.EuiFlexItem,{className:"documentation__docsText",grow:2},Object(w.jsx)(j.EuiText,{size:"s"},Object(w.jsx)("section",{className:"documentation__docsTextIntro",ref:function(e){var t;e&&null!=o&&null!==(t=o.groups)&&void 0!==t&&t.length&&(s.current[o.groups[0].label]=e)}},null==o?void 0:o.initialSection),null==o?void 0:o.groups.slice(1).map((function(e,t){return Object(w.jsx)("section",{className:"documentation__docsTextGroup",key:e.label,ref:function(t){t&&(s.current[e.label]=t)}},Object(w.jsx)("h2",null,e.label),Object(w.jsx)("p",null,e.description),null==o?void 0:o.groups[t+1].items.map((function(e){return Object(w.jsx)("article",{className:"documentation__docsTextItem",key:e.label,ref:function(t){t&&(s.current[e.label]=t)}},e.description)})))}))))))}o(93);var N=u.a.memo(D);function q(e){var t=e.language,o=e.sections,n=e.buttonProps,r=Object(d.useState)(!1),a=M()(r,2),s=a[0],l=a[1],u=Object(d.useCallback)((function(){l(!s)}),[s]);return Object(w.jsx)(j.EuiPopover,{panelClassName:"documentation__docs--overlay",panelPaddingSize:"none",isOpen:s,closePopover:function(){return l(!1)},button:Object(w.jsx)(j.EuiToolTip,{position:"top",content:O.i18n.translate("languageDocumentationPopover.tooltip",{defaultMessage:"{lang} reference",values:{lang:t}})},Object(w.jsx)(j.EuiButtonIcon,i()({iconType:"documentation",onClick:u},n)))},Object(w.jsx)(N,{language:t,sections:o}))}var W=u.a.memo(q),A=o(98),G=o.n(A);const Q=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^";var U={name:"rnnx2x",styles:"font-size:12px"},K={name:"rulwqv",styles:"&:hover{cursor:pointer;text-decoration:underline;}"};const H=Object(d.memo)((function({lines:e,containerCSS:t,errors:o}){const[n,i]=Object(d.useState)(!1);return Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween","data-test-subj":"unifiedTextLangEditor-footer",css:t,responsive:!1},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1,style:{marginRight:"16px"}},Object(w.jsx)(j.EuiText,{size:"xs",color:"subdued","data-test-subj":"unifiedTextLangEditor-footer-lines"},Object(w.jsx)("p",null,O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:e}})))),o&&o.length>0&&Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiIcon,{type:"crossInACircleFilled",color:"danger",size:"s"})),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiPopover,{button:Object(w.jsx)(j.EuiText,{size:"xs",color:"danger",css:K,onClick:()=>i(!n)},Object(w.jsx)("p",null,O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.errorCount",{defaultMessage:"{count} {count, plural, one {error} other {errors}}",values:{count:o.length}}))),ownFocus:!1,isOpen:n,closePopover:()=>i(!1)},Object(w.jsx)("div",{style:{width:500}},Object(w.jsx)(j.EuiPopoverTitle,{paddingSize:"s"},O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.errorsTitle",{defaultMessage:"Errors"})),Object(w.jsx)(j.EuiDescriptionList,null,o.map(((e,t)=>Object(w.jsx)(j.EuiDescriptionListDescription,{key:t},Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"xl",alignItems:"flexStart"},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiIcon,{type:"crossInACircleFilled",color:"danger",size:"s"})),Object(w.jsx)(j.EuiFlexItem,{style:{whiteSpace:"nowrap"}},O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineNumber",{defaultMessage:"Line {lineNumber}",values:{lineNumber:e.startLineNumber}})))),Object(w.jsx)(j.EuiFlexItem,{grow:!1,className:"unifiedTextLangEditor_errorMessage"},e.message))))))))))))),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiText,{size:"xs",color:"subdued"},Object(w.jsx)("p",null,O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.runQuery",{defaultMessage:"Run query"})))),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiCode,{transparentBackground:!0,css:U},`${Q} + Enter`)))))}));function $({onMouseDownResizeHandler:e,onKeyDownResizeHandler:t}){return Object(w.jsx)("div",{className:"unifiedTextLangEditor--resizableButtonContainer"},Object(w.jsx)("button",{"data-test-subj":"unifiedTextLangEditor-resize",className:"unifiedTextLangEditor--resizableButton",onMouseDown:e,onKeyDown:t,onClick:e=>e.currentTarget.focus()}))}o(100),o(105);let V=!1,Y=!0,J=!1;var X={name:"ti75j2",styles:"margin:0"};const Z=Object(d.memo)((function({query:e,onTextLangQueryChange:t,onTextLangQuerySubmit:n,expandCodeEditor:i,isCodeEditorExpanded:r,errors:a,isDisabled:s}){var c;const{euiTheme:b}=Object(j.useEuiTheme)(),g=Object(p.getAggregateQueryMode)(e),f=null!==(c=e[g])&&void 0!==c?c:"",[m,x]=Object(d.useState)(1),[h,v]=Object(d.useState)(null!=f?f:""),[E,y]=Object(d.useState)(""),[T,F]=Object(d.useState)(r?140:38),[k,L]=Object(d.useState)(r),[S,I]=Object(d.useState)(r),[B,z]=Object(d.useState)(!1),[M,P]=Object(d.useState)(!0),[R,D]=Object(d.useState)([]),[N,q]=Object(d.useState)(),A=Object(_.useKibana)(),{uiSettings:Q}=A.services,U=((e,t,o,n,i,r)=>{let a=t?"absolute":"relative";n&&(a="relative");const s=i?e.colors.danger:e.colors.primary;return{editorContainer:{position:a,zIndex:t?4:0,height:`${o}px`,border:t?e.border.thin:"none",borderTopLeftRadius:n?0:"6px",borderBottom:n?"none":t?e.border.thin:"none"},resizableContainer:{display:"flex",width:n?"100%":"calc(100% - 80px)",alignItems:t?"flex-start":"center",border:t?"none":e.border.thin,borderTopLeftRadius:"6px",borderBottomLeftRadius:"6px",borderBottomWidth:i?"2px":"1px",borderBottomColor:i?e.colors.danger:e.colors.lightShade},linesBadge:{position:"absolute",zIndex:1,right:i?"60px":"12px",top:"50%",transform:"translate(0, -50%)"},errorsBadge:{position:"absolute",zIndex:1,right:"12px",top:"50%",transform:"translate(0, -50%)"},bottomContainer:{border:e.border.thin,borderTop:n&&!r?i?`2px solid ${e.colors.danger}`:e.border.thin:`2px solid ${s}`,backgroundColor:e.colors.lightestShade,paddingLeft:e.size.base,paddingRight:e.size.base,paddingTop:e.size.xs,paddingBottom:e.size.xs,width:"calc(100% + 2px)",position:"relative",marginTop:0,marginLeft:0,marginBottom:0,borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"},topContainer:{border:e.border.thin,borderTopLeftRadius:"6px",borderTopRightRadius:"6px",backgroundColor:e.colors.lightestShade,paddingLeft:e.size.base,paddingRight:e.size.base,paddingTop:e.size.xs,paddingBottom:e.size.xs,width:"calc(100% + 2px)",position:"relative",marginLeft:0,marginTop:e.size.s},dragResizeContainer:{width:"100%",cursor:"row-resize",textAlign:"center",height:e.size.base},dragResizeButton:{cursor:"row-resize"}}})(b,S,T,r,Boolean(null==a?void 0:a.length),B),K=Q.get("theme:darkMode"),Z=Object(d.useRef)(),ee=Object(d.useRef)(),te=Object(d.useRef)(null),oe=l()("unifiedTextLangEditor",{"unifiedTextLangEditor--expanded":r,"unifiedTextLangEditor--compact":S,"unifiedTextLangEditor--initial":!S}),ne=Object(d.useCallback)((e=>{const t=T,o=e.pageY;function n(e){const n=t-o+e.pageY,i=Math.min(Math.max(n,40),400);F(i)}document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",(function(){document.body.removeEventListener("mousemove",n)}),{once:!0})}),[T]),ie=Object(d.useCallback)((e=>{let t=T;if(38===e.keyCode||40===e.keyCode){t+=38===e.keyCode?-10:10;const o=Math.min(Math.max(t,40),400);F(o)}}),[T]),re=()=>{if(ee.current){var e;if(1===((null===(e=Z.current)||void 0===e?void 0:e.getLineCount())||1)||V||Y)return;const t=ee.current.getDomNode(),o=Math.min(250,ee.current.getContentHeight());t&&(t.style.height=`${o}px`);const n=Number(null==t?void 0:t.style.width.replace("px",""));ee.current.layout({width:n,height:o}),F(o)}};((e,{skipFirstRender:t}={skipFirstRender:!1},o,n)=>{const i=Object(d.useRef)(!0),r=[...n||[],i];G()((()=>{if(!t||!i.current)return e();i.current=!1}),o,r)})((()=>{var e,t,o,i;if(Z.current)if(null===(e=ee.current)||void 0===e||e.onDidChangeModelContent((e=>{var t;J&&x((null===(t=Z.current)||void 0===t?void 0:t.getLineCount())||1)})),null===(t=ee.current)||void 0===t||t.onDidFocusEditorText((()=>{I(!0),z(!0),L(!0),y(""),V=!1,Y=!1,J=!0})),null===(o=ee.current)||void 0===o||o.addCommand(C.monaco.KeyMod.CtrlCmd|C.monaco.KeyCode.Enter,(function(){n()})),r||null===(i=ee.current)||void 0===i||i.onDidContentSizeChange(re),a&&a.length){const e=((e,t)=>e.map((e=>{if(e.message.includes("line")){const t=e.message.split("line")[1],[o,n,i]=t.split(":");let r=10;const[a,s]=i.split("[");return s&&(r=s.length-1),{message:i,startColumn:Number(n),startLineNumber:Number(o),endColumn:Number(n)+r,endLineNumber:Number(o),severity:C.monaco.MarkerSeverity.Error}}if(e.message.includes("No data view found")){var o,n;const i=Object(p.getIndexPatternFromSQLQuery)(t),r=t.split(i),a=(null===(o=r[0])||void 0===o||o.charAt((null===(n=r[0])||void 0===n?void 0:n.length)-1),2),s=5+i.length+a;if(/\r|\n/.exec(t)){const o=t.split(/\r|\n/);let n=1,i="";o.forEach(((e,t)=>{(e.includes("FROM")||e.includes("from"))&&(n=t+1,i=e)}));const r=i.toUpperCase();return{message:e.message,startColumn:r.indexOf("FROM")+1,startLineNumber:n,endColumn:r.indexOf("FROM")+1+s,endLineNumber:n,severity:C.monaco.MarkerSeverity.Error}}return{message:e.message,startColumn:t.toUpperCase().indexOf("FROM")+1,startLineNumber:1,endColumn:t.toUpperCase().indexOf("FROM")+1+s,endLineNumber:1,severity:C.monaco.MarkerSeverity.Error}}return{message:e.message,startColumn:1,startLineNumber:1,endColumn:10,endLineNumber:1,severity:C.monaco.MarkerSeverity.Error}})))(a,h);D(e),C.monaco.editor.setModelMarkers(Z.current,"Unified search",e)}else C.monaco.editor.setModelMarkers(Z.current,"Unified search",[]),D([])}),{skipFirstRender:!1},256,[a]),Object(d.useEffect)((()=>{const e=Z,t=ee;return()=>{var o,n;null===(o=e.current)||void 0===o||o.dispose(),null===(n=t.current)||void 0===n||n.dispose()}}),[]);const ae=Object(d.useCallback)(((e,t)=>{var o;if((null===(o=te.current)||void 0===o?void 0:o.offsetWidth)&&(!S||t)){const t=/\r|\n/.exec(f);t&&!J&&x(f.split(/\r|\n/).length);const o=((e,t)=>t?e.replace(/\r?\n|\r/g," ").replace(/  +/g," "):e)(f,Boolean(t)),n=o.length,i=a&&a.length?220:180,r=Math.floor((e-i)/8);if(n>r){const e=o.substring(0,r)+"...";y(e)}else y(o)}}),[f,a,S]);Object(d.useEffect)((()=>{if(ee.current&&!S){const e=ee.current.getDomNode();if(e){const t=Number(null==e?void 0:e.style.width.replace("px",""));h!==f&&(v(f),ae(t))}}}),[ae,h,S,f]);const se=Object(d.useCallback)((e=>{v(e),t({[g]:e})}),[g,t]);Object(d.useEffect)((()=>{!async function(){const e=await(async e=>{const t=[];if("sql"===e){const{comparisonOperators:e,logicalOperators:n,mathOperators:i,initialSection:r,aggregateFunctions:a}=await o.e(14).then(o.bind(null,132));return t.push({label:O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.howItWorks",{defaultMessage:"How it works"}),items:[]}),t.push(e,n,i,a),{groups:t,initialSection:r}}})(g);q(e)}()}),[g]);const le={automaticLayout:!1,accessibilitySupport:"off",folding:!1,fontSize:14,padding:{top:8,bottom:8},scrollBeyondLastLine:!1,quickSuggestions:!0,minimap:{enabled:!1},wordWrap:M?"on":"off",lineNumbers:k?"on":"off",theme:K?"vs-dark":"vs",lineDecorationsWidth:12,autoIndent:"none",wrappingIndent:"none",lineNumbersMinChars:3,overviewRulerLanes:0,hideCursorInOverviewRuler:!0,scrollbar:{vertical:"hidden",horizontal:"hidden"},overviewRulerBorder:!1,readOnly:s};return S&&(le.overviewRulerLanes=4,le.hideCursorInOverviewRuler=!1,le.overviewRulerBorder=!0),Object(w.jsx)(u.a.Fragment,null,r&&Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",css:U.topContainer,responsive:!1},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiToolTip,{position:"top",content:M?O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Disable word wrap"}):O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Enable word wrap"})},Object(w.jsx)(j.EuiButtonIcon,{iconType:M?"wordWrap":"wordWrapDisabled",color:"text","data-test-subj":"unifiedTextLangEditor-toggleWordWrap","aria-label":M?O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Disable word wrap"}):O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Enable word wrap"}),isSelected:!M,onClick:()=>{var e;null===(e=ee.current)||void 0===e||e.updateOptions({wordWrap:M?"off":"on"}),P(!M)}}))),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1,style:{marginRight:"8px"}},Object(w.jsx)(j.EuiToolTip,{position:"top",content:O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.minimizeTooltip",{defaultMessage:"Compact query editor"})},Object(w.jsx)(j.EuiButtonIcon,{iconType:"minimize",color:"text","aria-label":O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.MinimizeEditor",{defaultMessage:"Minimize editor"}),"data-test-subj":"unifiedTextLangEditor-minimize",onClick:()=>{i(!1),J=!1}}))),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(W,{language:String(g).toUpperCase(),sections:N,buttonProps:{color:"text","data-test-subj":"unifiedTextLangEditor-documentation","aria-label":O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"})}}))))),Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"none",responsive:!1,css:X,ref:te},Object(w.jsx)(j.EuiResizeObserver,{onResize:({width:e})=>{ae(e),ee.current&&ee.current.layout({width:e,height:T})}},(e=>Object(w.jsx)(j.EuiOutsideClickDetector,{onOutsideClick:()=>{(()=>{if(z(!1),!r&&(F(38),I(!1),L(!1),J=!1,V=!0,ee.current)){const e=ee.current.getDomNode();if(e){e.style.height="38px";const t=Number(null==e?void 0:e.style.width.replace("px",""));ae(t,!0),ee.current.layout({width:t,height:38})}}})()}},Object(w.jsx)("div",{ref:e,css:U.resizableContainer},Object(w.jsx)(j.EuiFlexItem,{"data-test-subj":"unifiedTextLangEditor",className:oe},Object(w.jsx)("div",{css:U.editorContainer},!S&&Object(w.jsx)(j.EuiBadge,{color:b.colors.lightShade,css:U.linesBadge,"data-test-subj":"unifiedTextLangEditor-inline-lines-badge"},O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:m}})),!S&&a&&a.length>0&&Object(w.jsx)(j.EuiBadge,{color:b.colors.danger,css:U.errorsBadge,iconType:"crossInACircleFilled",iconSide:"left","data-test-subj":"unifiedTextLangEditor-inline-errors-badge"},a.length),Object(w.jsx)(_.CodeEditor,{languageId:C.EsqlLang.ID,value:E||h,options:le,width:"100%",onChange:se,editorDidMount:e=>{ee.current=e;const t=e.getModel();t&&(Z.current=t),r&&x((null==t?void 0:t.getLineCount())||1)}}),S&&!r&&Object(w.jsx)(H,{lines:m,containerCSS:U.bottomContainer,errors:R}))))))),!r&&Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiToolTip,{position:"top",content:O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.expandTooltip",{defaultMessage:"Expand query editor"})},Object(w.jsx)(j.EuiButtonIcon,{display:"empty",iconType:"expand",size:"m","aria-label":"Expand",onClick:()=>i(!0),"data-test-subj":"unifiedTextLangEditor-expand",css:Object(w.css)({borderRadius:0,backgroundColor:K?b.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important"},"","")}))),Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(W,{language:String(g).toUpperCase(),sections:N,buttonProps:{display:"empty","data-test-subj":"unifiedTextLangEditor-inline-documentation","aria-label":O.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"}),size:"m",css:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:K?b.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important",borderLeft:"transparent !important"}}}))))),r&&Object(w.jsx)(H,{lines:m,containerCSS:U.bottomContainer,errors:R}),r&&Object(w.jsx)($,{onMouseDownResizeHandler:ne,onKeyDownResizeHandler:ie}))}));o(110);const ee=u.a.memo(j.EuiSuperDatePicker),te=u.a.memo((function({from:e,to:t,dateFormat:o}){function n(e,t=!1){const o=a.a.parse(e,{roundUp:t});return o?o.toISOString():e}const i=Object(j.usePrettyDuration)({timeFrom:n(e),timeTo:n(t),quickRanges:[],dateFormat:o});return Object(w.jsx)("div",{"data-shared-timefilter-duration":i,"data-test-subj":"dataSharedTimefilterDuration"})})),oe=u.a.memo((function(e){var t,o;const n=Object(j.useIsWithinBreakpoints)(["xs","s"]),[r,a]=Object(d.useState)(!1),[s,c]=Object(d.useState)(!1),b=null!==(t=e.submitButtonStyle)&&void 0!==t?t:"auto",g="auto"===b?!r:"iconOnly"===b;Object(d.useEffect)((()=>{if("auto"!==b)return;const e=Object(h.throttle)((()=>{a(window.innerWidth>=1440)}),50);return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[b]);const{showQueryInput:T=!0,showDatePicker:k=!0,showAutoRefreshOnly:L=!1,showSubmitButton:C=!0}=e,[z,M]=Object(d.useState)(!1),[P,R]=Object(d.useState)(!1),D=Object(_.useKibana)(),{uiSettings:N,storage:q,appName:W,data:A,usageCollection:G,unifiedSearch:Q,notifications:U,docLinks:K,http:H,dataViews:$}=D.services,V=e.query&&!Object(p.isOfQueryType)(e.query),Y=e.query&&Object(p.isOfQueryType)(e.query)&&e.query.language,J=Object(d.useRef)(e.query);J.current=e.query;const X=u.a.useMemo((()=>Y&&N&&q&&W?Object(v.getQueryLog)(N,q,W,Y):void 0),[W,Y,N,q]),oe=function(){const t=N.get(E.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS);return{from:e.dateRangeFrom||t.from,to:e.dateRangeTo||t.to}}(),ne=Object(d.useRef)(oe);ne.current=oe;const ie=e.onSubmit,re=e=>e.map((({from:e,to:t})=>({start:e,end:t}))),ae=e.timeHistory,se=Object(d.useMemo)((()=>{var e;return null!==(e=null==ae?void 0:ae.get$().pipe(Object(x.map)(re)))&&void 0!==e?e:m.EMPTY}),[ae]),le=f()(se,re(null!==(o=null==ae?void 0:ae.get())&&void 0!==o?o:[])),[de]=Object(d.useState)((()=>{var e,t;return null!==(e=null==N||null===(t=N.get(E.UI_SETTINGS.TIMEPICKER_QUICK_RANGES))||void 0===t?void 0:t.map((({from:e,to:t,display:o})=>({start:e,end:t,label:o}))))&&void 0!==e?e:[]})),ue=Object(d.useCallback)((({query:e,dateRange:t})=>{ae&&ae.add(t),ie({query:e,dateRange:t})}),[ae,ie]),ce=Object(d.useCallback)((e=>{X&&J.current&&Object(p.isOfQueryType)(J.current)&&X.add(J.current.query),e.preventDefault(),ue({query:J.current,dateRange:ne.current})}),[X,ue]),be=e.onChange,ge=Object(d.useCallback)((e=>be({query:e,dateRange:ne.current})),[be]),fe=Object(d.useCallback)((e=>{R(e)}),[]),pe=Object(d.useCallback)((({start:e,end:t,isInvalid:o,isQuickSelection:n})=>{M(o);const i={query:J.current,dateRange:{from:e,to:t}};n?ue(i):be(i)}),[be,ue]),me=e.onRefresh,xe=Object(d.useCallback)((({start:e,end:t})=>{me&&me({dateRange:{from:e,to:t}})}),[me]),he=Object(d.useCallback)((e=>{ue({query:e,dateRange:ne.current})}),[ue]);function je(){return Boolean(T&&e.indexPatterns&&e.query&&q)}function ve(){return Boolean(k||L)}function Oe(){return!Boolean(e.showAddFilter)&&Boolean(e.prepend)}function _e(){return Boolean(C)&&Boolean(T||k||L)}function Ee(){return Boolean(e.showDatePickerAsBadge)&&!je()}function ye(){return(Boolean(e.showAddFilter)||Boolean(e.prepend))&&Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(B.a,{items:[e.prepend,Boolean(e.showAddFilter)&&Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(S,{indexPatterns:e.indexPatterns,filters:e.filters,timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride,onFiltersUpdated:e.onFiltersUpdated,buttonProps:{size:Ee()?"s":"m",display:"empty"},isDisabled:e.isDisabled}))],attached:Oe(),size:Ee()?"s":"m"}))}function we(){return V&&e.query&&Object(p.isOfAggregateQueryType)(e.query)&&Object(w.jsx)(Z,{query:e.query,onTextLangQueryChange:e.onTextLangQueryChange,expandCodeEditor:e=>c(e),isCodeEditorExpanded:s,errors:e.textBasedLanguageModeErrors,onTextLangQuerySubmit:()=>ue({query:J.current,dateRange:ne.current}),isDisabled:e.isDisabled})}const Te=!0===e.isScreenshotMode;return Object(w.jsx)(u.a.Fragment,null,Object(w.jsx)(te,{from:oe.from,to:oe.to,dateFormat:N.get("dateFormat")}),!Te&&Object(w.jsx)(u.a.Fragment,null,Object(w.jsx)(j.EuiFlexGroup,{className:"kbnQueryBar",direction:n&&!Ee()?"column":"row",responsive:!1,gutterSize:"s",justifyContent:Ee()?"flexStart":"flexEnd",wrap:!0},function(){if(!e.dataViewPickerComponentProps)return;let t;if(Boolean(V)){const o=e.query;t=Object(p.getAggregateQueryMode)(o)}return Object(w.jsx)(j.EuiFlexItem,{style:{maxWidth:"100%"},grow:n},Object(w.jsx)(I.a,i()({},e.dataViewPickerComponentProps,{trigger:{fullWidth:n,...e.dataViewPickerComponentProps.trigger},onTextLangQuerySubmit:e.onTextLangQuerySubmit,textBasedLanguage:t,onSaveTextLanguageQuery:e.onTextBasedSavedAndExit,isDisabled:e.isDisabled})))}(),Object(w.jsx)(j.EuiFlexItem,{grow:!Ee(),style:{minWidth:Ee()?"auto":320,maxWidth:"100%"}},V?s?null:we():Object(w.jsx)(j.EuiFlexGroup,{gutterSize:"s",responsive:!1},!Oe()&&ye(),je()&&Object(w.jsx)(j.EuiFlexItem,{"data-test-subj":"unifiedQueryInput"},Object(w.jsx)(y.default,{disableAutoFocus:e.disableAutoFocus,indexPatterns:e.indexPatterns,query:e.query,screenTitle:e.screenTitle,onChange:ge,onChangeQueryInputFocus:fe,onSubmit:he,persistedLog:X,dataTestSubj:e.dataTestSubj,placeholder:e.placeholder,isClearable:e.isClearable,iconType:e.iconType,nonKqlMode:e.nonKqlMode,timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride,disableLanguageSwitcher:!0,prepend:Oe()&&ye(),size:e.suggestionsSize,isDisabled:e.isDisabled,appName:W,deps:{unifiedSearch:Q,data:A,storage:q,usageCollection:G,notifications:U,docLinks:K,http:H,uiSettings:N,dataViews:$}})))),Ee()&&e.filterBar,function(){if(!_e()&&!ve())return null;const t=O.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.update",{defaultMessage:"Needs updating"}),o=O.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.refresh",{defaultMessage:"Refresh query"}),i=O.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.run",{defaultMessage:"Run query"}),r=Boolean(V)?"play":"kqlFunction",a=Boolean(V)?i:t,s=e.customSubmitButton?u.a.cloneElement(e.customSubmitButton,{onClick:ce}):Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(j.EuiSuperUpdateButton,{iconType:e.isDirty?r:"refresh",iconOnly:g,"aria-label":e.isLoading?t:o,isDisabled:z||e.isDisabled,isLoading:e.isLoading,onClick:ce,size:Ee()?"s":"m",color:e.isDirty?"success":"primary",fill:e.isDirty,needsUpdate:e.isDirty,"data-test-subj":"querySubmitButton",toolTipProps:{content:e.isDirty?a:o,delay:"long",position:"bottom"}}));return!ve()&&_e()?s:Object(w.jsx)(j.EuiFlexItem,{grow:!1},Object(w.jsx)(F,{storage:q,showNoDataPopover:e.indicateNoData},Object(w.jsx)(j.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},ve()?function(){if(!ve())return null;const t=l()("kbnQueryBar__datePickerWrapper");return Object(w.jsx)(j.EuiFlexItem,{className:t},Object(w.jsx)(ee,{isDisabled:e.isDisabled,start:e.dateRangeFrom,end:e.dateRangeTo,isPaused:e.isRefreshPaused,refreshInterval:e.refreshInterval,onTimeChange:pe,onRefresh:xe,onRefreshChange:e.onRefreshChange,showUpdateButton:!1,recentlyUsedRanges:le,commonlyUsedRanges:de,dateFormat:N.get("dateFormat"),isAutoRefreshOnly:L,className:"kbnQueryBar__datePicker",isQuickSelectOnly:!n&&P,width:n?"full":"auto",compressed:Ee()}))}():null,_e()?s:null)))}()),!Ee()&&e.filterBar,s&&we()))}),(({query:e,...t},{query:o,...n})=>{let i=!0;return e!==o&&(b()(e,o)||(i=!1)),i&&Object(k.a)(t,n)}));t.default=oe}])]);