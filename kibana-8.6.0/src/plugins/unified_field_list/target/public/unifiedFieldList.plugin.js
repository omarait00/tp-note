!function(e){function t(t){for(var i,l,a=t[0],s=t[1],r=0,d=[];r<a.length;r++)l=a[r],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);for(o&&o(t);d.length;)d.shift()()}var i={},n={0:0};function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,l){i=n[e]=[t,l]}));t.push(i[2]=a);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,l.nc&&r.setAttribute("nonce",l.nc),r.src=function(e){return l.p+"unifiedFieldList.chunk."+e+".js"}(e);var o=new Error;s=function(t){r.onerror=r.onload=null,clearTimeout(d);var i=n[e];if(0!==i){if(i){var l=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;o.message="Loading chunk "+e+" failed.\n("+l+": "+a+")",o.name="ChunkLoadError",o.type=l,o.request=a,i[1](o)}n[e]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(i,n,function(t){return e[t]}.bind(null,n));return i},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var a=window.unifiedFieldList_bundle_jsonpfunction=window.unifiedFieldList_bundle_jsonpfunction||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var r=0;r<a.length;r++)t(a[r]);var o=s;l(l.s=15)}([function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,i){e.exports=i(17)(3)},function(e,t,i){"use strict";let n,l;i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return l})),function(e){e.failed="failed",e.succeeded="succeeded",e.unknown="unknown"}(n||(n={})),function(e){e.SpecialFields="SpecialFields",e.SelectedFields="SelectedFields",e.AvailableFields="AvailableFields",e.EmptyFields="EmptyFields",e.MetaFields="MetaFields"}(l||(l={}))},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/uiActions/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,i){"use strict";var n,l=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),a=[];function s(e){for(var t=-1,i=0;i<a.length;i++)if(a[i].identifier===e){t=i;break}return t}function r(e,t){for(var i={},n=[],l=0;l<e.length;l++){var r=e[l],o=t.base?r[0]+t.base:r[0],d=i[o]||0,u="".concat(o," ").concat(d);i[o]=d+1;var c=s(u),f={css:r[1],media:r[2],sourceMap:r[3]};-1!==c?(a[c].references++,a[c].updater(f)):a.push({identifier:u,updater:v(f,t),references:1}),n.push(u)}return n}function o(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=l(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var d,u=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function c(e,t,i,n){var l=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=u(t,l);else{var a=document.createTextNode(l),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function f(e,t,i){var n=i.css,l=i.media,a=i.sourceMap;if(l?e.setAttribute("media",l):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,b=0;function v(e,t){var i,n,l;if(t.singleton){var a=b++;i=p||(p=o(t)),n=c.bind(null,i,a,!1),l=c.bind(null,i,a,!0)}else i=o(t),n=f.bind(null,i,t),l=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else l()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var i=r(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var l=s(i[n]);a[l].references--}for(var o=r(e,t),d=0;d<i.length;d++){var u=s(i[d]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}i=o}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i,n,l,a=e[1]||"",s=e[3];if(!s)return a;if(t&&"function"==typeof btoa){var r=(i=s,n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(l," */")),o=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[a].concat(o).concat([r]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var l={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(l[s]=!0)}for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&l[o[0]]||(i&&(o[2]?o[2]="".concat(i," and ").concat(o[2]):o[2]=i),t.push(o))}},t}},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));const n=async e=>{const{loadFieldStats:t}=await i.e(3).then(i.bind(null,29));return await t(e)}},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,i){i(16),__kbnBundles__.define("plugin/unifiedFieldList/public",i,23)},function(e,t,i){i.p=window.__kbnPublicPath__.unifiedFieldList},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(19);case"v8light":return i(21)}},function(e,t,i){var n=i(8),l=i(20);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},function(e,t,i){(t=i(9)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:300px;min-width:260px}",""]),e.exports=t},function(e,t,i){var n=i(8),l=i(22);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);n(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},function(e,t,i){(t=i(9)(!1)).push([e.i,".unifiedFieldList__fieldPopover__fieldPopoverPanel{max-width:300px;min-width:260px}",""]),e.exports=t},function(e,t,i){"use strict";i.r(t),i.d(t,"FieldListGrouped",(function(){return o})),i.d(t,"FieldTopValuesBucket",(function(){return p})),i.d(t,"FieldStats",(function(){return f})),i.d(t,"FieldPopover",(function(){return m})),i.d(t,"FieldPopoverHeader",(function(){return g})),i.d(t,"FieldPopoverVisualize",(function(){return T})),i.d(t,"FieldVisualizeButton",(function(){return L})),i.d(t,"getVisualizeInformation",(function(){return I})),i.d(t,"triggerVisualizeActions",(function(){return S})),i.d(t,"triggerVisualizeActionsTextBasedLanguages",(function(){return P})),i.d(t,"loadFieldStats",(function(){return D.a})),i.d(t,"loadFieldExisting",(function(){return M})),i.d(t,"plugin",(function(){return Z})),i.d(t,"ExistenceFetchStatus",(function(){return A.a})),i.d(t,"FieldsGroupNames",(function(){return A.b})),i.d(t,"useExistingFieldsFetcher",(function(){return z})),i.d(t,"useExistingFieldsReader",(function(){return H})),i.d(t,"resetExistingFieldsCache",(function(){return U})),i.d(t,"useGroupedFields",(function(){return K})),i.d(t,"useQuerySubscriber",(function(){return Y}));class UnifiedFieldListPlugin{setup(e){return{}}start(e){return{}}stop(){}}var n=i(0),l=i.n(n),a=i(1);const s=()=>Object(a.jsx)(n.Fragment,null),r=l.a.lazy((()=>i.e(1).then(i.bind(null,42)))),o=function(e){return Object(a.jsx)(l.a.Suspense,{fallback:Object(a.jsx)(s,null)},Object(a.jsx)(r,e))},d=()=>Object(a.jsx)(n.Fragment,null),u=l.a.lazy((()=>i.e(4).then(i.bind(null,31)))),c=l.a.lazy((()=>i.e(2).then(i.bind(null,43)))),f=e=>Object(a.jsx)(l.a.Suspense,{fallback:Object(a.jsx)(d,null)},Object(a.jsx)(c,e)),p=e=>Object(a.jsx)(l.a.Suspense,{fallback:Object(a.jsx)(d,null)},Object(a.jsx)(u,e));var b=i(4),v=i.n(b),F=i(2);i(18);const m=({isOpen:e,closePopover:t,renderHeader:i,renderContent:n,...s})=>{const r=e&&(null==i?void 0:i())||null,o=e&&(null==n?void 0:n())||null;return Object(a.jsx)(F.EuiPopover,v()({ownFocus:!0,isOpen:e,closePopover:t,display:"block",anchorPosition:"rightUp","data-test-subj":"fieldPopover",panelClassName:"unifiedFieldList__fieldPopover__fieldPopoverPanel"},s),e&&Object(a.jsx)(l.a.Fragment,null,o&&r?Object(a.jsx)(F.EuiPopoverTitle,null,r):r,o))};var h=i(3);const g=({field:e,closePopover:t,buttonAddFieldToWorkspaceProps:i,buttonAddFilterProps:n,buttonEditFieldProps:l,buttonDeleteFieldProps:s,onAddFieldToWorkspace:r,onAddFilter:o,onEditField:d,onDeleteField:u})=>{var c,f,p,b;if(!e)return null;const m=h.i18n.translate("unifiedFieldList.fieldPopover.addFieldToWorkspaceLabel",{defaultMessage:'Add "{field}" field',values:{field:e.displayName}}),g=h.i18n.translate("unifiedFieldList.fieldPopover.addExistsFilterLabel",{defaultMessage:"Filter for field present"}),j=h.i18n.translate("unifiedFieldList.fieldPopover.editFieldLabel",{defaultMessage:"Edit data view field"}),_=h.i18n.translate("unifiedFieldList.fieldPopover.deleteFieldLabel",{defaultMessage:"Delete data view field"});return Object(a.jsx)(F.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(a.jsx)(F.EuiFlexItem,{grow:!0},Object(a.jsx)(F.EuiTitle,{size:"xxs"},Object(a.jsx)("h5",{className:"eui-textBreakWord"},e.displayName))),r&&Object(a.jsx)(F.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addField"},Object(a.jsx)(F.EuiToolTip,{content:null!==(c=null==i?void 0:i["aria-label"])&&void 0!==c?c:m},Object(a.jsx)(F.EuiButtonIcon,v()({"data-test-subj":`fieldPopoverHeader_addField-${e.name}`,"aria-label":m},i||{},{iconType:"plusInCircle",onClick:()=>{t(),r(e)}})))),o&&e.filterable&&!e.scripted&&Object(a.jsx)(F.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_addExistsFilter"},Object(a.jsx)(F.EuiToolTip,{content:null!==(f=null==n?void 0:n["aria-label"])&&void 0!==f?f:g},Object(a.jsx)(F.EuiButtonIcon,v()({"data-test-subj":`fieldPopoverHeader_addExistsFilter-${e.name}`,"aria-label":g},n||{},{iconType:"filter",onClick:()=>{t(),o("_exists_",e.name,"+")}})))),d&&(e.isRuntimeField||!["unknown","unknown_selected"].includes(e.type))&&Object(a.jsx)(F.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_editField"},Object(a.jsx)(F.EuiToolTip,{content:null!==(p=null==l?void 0:l["aria-label"])&&void 0!==p?p:j},Object(a.jsx)(F.EuiButtonIcon,v()({"data-test-subj":`fieldPopoverHeader_editField-${e.name}`,"aria-label":j},l||{},{iconType:"pencil",onClick:()=>{t(),d(e.name)}})))),u&&e.isRuntimeField&&Object(a.jsx)(F.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPopoverHeader_deleteField"},Object(a.jsx)(F.EuiToolTip,{content:null!==(b=null==s?void 0:s["aria-label"])&&void 0!==b?b:_},Object(a.jsx)(F.EuiButtonIcon,v()({"data-test-subj":`fieldPopoverHeader_deleteField-${e.name}`,"aria-label":_},s||{},{color:"danger",iconType:"trash",onClick:()=>{t(),u(e.name)}})))))};var j=i(14),_=i(13);const y=({field:e,visualizeInfo:t,handleVisualizeLinkClick:i,buttonProps:n})=>Object(a.jsx)(l.a.Fragment,null,Object(a.jsx)(F.EuiButton,v()({fullWidth:!0,size:"s","data-test-subj":`fieldVisualize-${e.name}`},n||{},{href:t.href,onClick:i}),Object(a.jsx)(_.FormattedMessage,{id:"unifiedFieldList.fieldVisualizeButton.label",defaultMessage:"Visualize"})));var x=i(7),O=i(6);function E(e){return e===O.KBN_FIELD_TYPES.GEO_POINT||e===O.KBN_FIELD_TYPES.GEO_SHAPE?x.VISUALIZE_GEO_FIELD_TRIGGER:x.VISUALIZE_FIELD_TRIGGER}async function w(e,t,i,n=[],l){return await e.getTriggerCompatibleActions(l,{dataViewSpec:i.toSpec(!1),fieldName:t,contextualFields:n})}function S(e,t,i=[],n,l){if(!l)return;const a=E(t.type),s={dataViewSpec:l.toSpec(!1),fieldName:t.name,contextualFields:i,originatingApp:n};e.getTrigger(a).exec(s)}function P(e,t,i,n,l){if(!n)return;const a={dataViewSpec:n.toSpec(!1),fieldName:"",contextualFields:t,originatingApp:i,query:l};e.getTrigger(x.VISUALIZE_FIELD_TRIGGER).exec(a)}async function I(e,t,i,n=[],l=[]){var a;if("_id"!==t.name&&null!=i&&i.id)for(const o of[t,...l]){if(!o.visualizable)continue;const t=await w(e,o.name,i,n,E(o.type));if(t.length>0){var s,r;const e={dataViewSpec:null==i?void 0:i.toSpec(!1),fieldName:o.name,contextualFields:n,trigger:(a=o.type,a===O.KBN_FIELD_TYPES.GEO_POINT||a===O.KBN_FIELD_TYPES.GEO_SHAPE?x.visualizeGeoFieldTrigger:x.visualizeFieldTrigger)};return{field:o,href:await(null===(s=(r=t[0]).getHref)||void 0===s?void 0:s.call(r,e))}}}}const L=l.a.memo((({field:e,dataView:t,contextualFields:i,trackUiMetric:l,multiFields:s,originatingApp:r,uiActions:o,buttonProps:d,wrapInContainer:u})=>{const[c,f]=Object(n.useState)();if(Object(n.useEffect)((()=>{I(o,e,t,i,s).then(f)}),[i,e,t,s,o]),!c)return null;const p=Object(a.jsx)(y,{field:e,visualizeInfo:c,handleVisualizeLinkClick:async e=>{var n;e.preventDefault(),n=t,null==l||l(j.METRIC_TYPE.CLICK,"visualize_link_click"),S(o,c.field,i,r,n)},buttonProps:d});return(null==u?void 0:u(p))||p})),k=e=>Object(a.jsx)(F.EuiPopoverFooter,null,e),T=e=>Object(a.jsx)(L,v()({},e,{wrapInContainer:k}));var D=i(11);const M=async e=>{const{loadFieldExisting:t}=await i.e(5).then(i.bind(null,44));return await t(e)};var A=i(5),C=i(12);const B=Object(F.htmlIdGenerator)(),N={},V={fetchStatus:A.a.unknown,existingFieldsByFieldNameMap:{},numberOfFetches:0},G=new C.BehaviorSubject(N);let R="";const z=e=>{const t=Object(n.useRef)(!0),[i,l]=Object(n.useState)(0),a=i>0,s=Object(n.useCallback)((async({dataViewId:e,query:i,filters:n,fromDate:a,toDate:s,services:{dataViews:r,data:o,core:d},onNoData:u,fetchId:c})=>{var f,p,b;if(!e)return;const v=null===(f=G.getValue())||void 0===f?void 0:f[e];if(!t.current)return;const F=(null!==(p=null==v?void 0:v.numberOfFetches)&&void 0!==p?p:0)+1,m=await r.get(e);if(null==m||!m.title)return;l((e=>e+1));const h=Boolean(null===(b=m.getAggregationRestrictions)||void 0===b?void 0:b.call(m)),g={...V,numberOfFetches:F};if(h)g.fetchStatus=A.a.succeeded,g.hasDataViewRestrictions=!0;else try{const t=await M({dslQuery:await q(m,i,n,Object(O.getEsQueryConfig)(d.uiSettings)),fromDate:a,toDate:s,timeFieldName:m.timeFieldName,data:o,uiSettingsClient:d.uiSettings,dataViewsService:r,dataView:m}),l=(null==t?void 0:t.existingFieldNames)||[],c=d.uiSettings.get(O.UI_SETTINGS.META_FIELDS)||[];!l.filter((e=>{var t;return!(null!==(t=c.includes)&&void 0!==t&&t.call(c,e))})).length&&1===F&&u&&u(e),g.existingFieldsByFieldNameMap=l.reduce(((e,t)=>(e[t]=!0,e)),{}),g.fetchStatus=A.a.succeeded}catch(e){console.error(e),g.fetchStatus=A.a.failed}t.current&&c===R&&G.next({...G.getValue(),[e]:g}),l((e=>e-1))}),[t,l]),r=e.dataViews.map((e=>{var t,i;return`${e.id}:${e.title}:${e.timeFieldName||"no-timefield"}:${null!==(t=null===(i=e.fields)||void 0===i?void 0:i.length)&&void 0!==t?t:0}`})).join(","),o=Object(n.useCallback)((async t=>{const i=B();R=i,t?await s({fetchId:i,dataViewId:t,...e}):await Promise.all(e.dataViews.map((t=>s({fetchId:i,dataViewId:t.id,...e}))))}),[s,r,e.query,e.filters,e.fromDate,e.toDate]);return Object(n.useEffect)((()=>{o()}),[o]),Object(n.useEffect)((()=>()=>{t.current=!1,G.next({})}),[t]),Object(n.useMemo)((()=>({refetchFieldsExistenceInfo:o,isProcessing:a})),[o,a])},H=()=>{const e=Object(n.useRef)(!0),[t,i]=Object(n.useState)(G.getValue());Object(n.useEffect)((()=>{const t=G.subscribe((t=>{e.current&&Object.keys(t).length>0&&i((e=>({...e,...t})))}));return()=>{t.unsubscribe()}}),[i,e]);const l=Object(n.useCallback)(((e,i)=>{const n=t[e];return(null==n?void 0:n.fetchStatus)!==A.a.succeeded||(null==n?void 0:n.hasDataViewRestrictions)||Boolean(null==n?void 0:n.existingFieldsByFieldNameMap[i])}),[t]),a=Object(n.useCallback)((e=>e?t[e]:V),[t]),s=Object(n.useCallback)((e=>{var t;return(null===(t=a(e))||void 0===t?void 0:t.fetchStatus)||A.a.unknown}),[a]),r=Object(n.useCallback)((e=>{const t=a(e);return Boolean((null==t?void 0:t.fetchStatus)===A.a.failed||(null==t?void 0:t.hasDataViewRestrictions))}),[a]);return Object(n.useEffect)((()=>()=>{e.current=!1}),[e]),Object(n.useMemo)((()=>({hasFieldData:l,getFieldsExistenceStatus:s,isFieldsExistenceInfoUnavailable:r})),[l,s,r])},U=()=>{G.next(N)};async function q(e,t,n,l){const a=await(async()=>(await Promise.resolve().then(i.t.bind(null,28,7))).buildEsQuery)();try{return a(e,t,n,l)}catch(e){return{bool:{must_not:{match_all:{}}}}}}var $=i(10);function K({dataViewId:e,allFields:t,services:i,fieldsExistenceReader:l,onOverrideFieldGroupDetails:a,onSupportedFieldFilter:s,onSelectedFieldFilter:r,onFilterField:o}){var d;const[u,c]=Object(n.useState)(null),f=!e||null!==(d=null==l?void 0:l.isFieldsExistenceInfoUnavailable(e))&&void 0!==d&&d,p=e&&l?l.hasFieldData:W;Object(n.useEffect)((()=>{(async()=>{e&&c(await i.dataViews.get(e))})()}),[e,i.dataViews,c,p]);const b=Object(n.useMemo)((()=>{const i=t||[],n=[...s?i.filter(s):i].sort(Q),l={specialFields:[],availableFields:[],emptyFields:[],metaFields:[],...Object($.groupBy)(n,(t=>{var i;return"document"===t.type?"specialFields":null!=u&&null!==(i=u.metaFields)&&void 0!==i&&i.includes(t.name)?"metaFields":(t=>{var i;if(!e||!u)return!0;const n=null===(i=u.getFieldByName)||void 0===i?void 0:i.call(u,t.name);return Boolean(n&&p(e,n.name))})(t)?"availableFields":"emptyFields"}))},o=r?n.filter(r):[];let d={SpecialFields:{fields:l.specialFields,fieldCount:l.specialFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!1,title:"",hideDetails:!0},SelectedFields:{fields:o,fieldCount:o.length,isInitiallyOpen:!0,showInAccordion:!0,title:h.i18n.translate("unifiedFieldList.useGroupedFields.selectedFieldsLabel",{defaultMessage:"Selected fields"}),isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!0,hideDetails:!1,hideIfEmpty:!0},AvailableFields:{fields:l.availableFields,fieldCount:l.availableFields.length,isInitiallyOpen:!0,showInAccordion:!0,title:e&&f?h.i18n.translate("unifiedFieldList.useGroupedFields.allFieldsLabel",{defaultMessage:"All fields"}):h.i18n.translate("unifiedFieldList.useGroupedFields.availableFieldsLabel",{defaultMessage:"Available fields"}),isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!0,hideDetails:f,defaultNoFieldsMessage:h.i18n.translate("unifiedFieldList.useGroupedFields.noAvailableDataLabel",{defaultMessage:"There are no available fields that contain data."})},EmptyFields:{fields:l.emptyFields,fieldCount:l.emptyFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!e,title:h.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabel",{defaultMessage:"Empty fields"}),defaultNoFieldsMessage:h.i18n.translate("unifiedFieldList.useGroupedFields.noEmptyDataLabel",{defaultMessage:"There are no empty fields."}),helpText:h.i18n.translate("unifiedFieldList.useGroupedFields.emptyFieldsLabelHelp",{defaultMessage:"Empty fields did not contain any values based on your filters."})},MetaFields:{fields:l.metaFields,fieldCount:l.metaFields.length,isAffectedByGlobalFilter:!1,isAffectedByTimeFilter:!1,isInitiallyOpen:!1,showInAccordion:!0,hideDetails:!1,hideIfEmpty:!e,title:h.i18n.translate("unifiedFieldList.useGroupedFields.metaFieldsLabel",{defaultMessage:"Meta fields"}),defaultNoFieldsMessage:h.i18n.translate("unifiedFieldList.useGroupedFields.noMetaDataLabel",{defaultMessage:"There are no meta fields."})}};return f&&delete d.EmptyFields,a&&(d=Object.keys(d).reduce(((e,t)=>{const i=t,n=d[i];return n&&(e[i]={...n,...a(i)||{}}),e}),{})),d}),[t,s,r,a,u,e,p,f]),v=Object(n.useMemo)((()=>o?Object.fromEntries(Object.entries(b).map((([e,t])=>[e,{...t,fields:t.fields.filter(o)}]))):b),[b,o]);return Object(n.useMemo)((()=>({fieldGroups:v})),[v])}function Q(e,t){return(e.displayName||e.name).localeCompare(t.displayName||t.name,void 0,{sensitivity:"base"})}function W(){return!0}const Y=({data:e})=>{const[t,i]=Object(n.useState)((()=>{const t=e.query.getState();return{query:null==t?void 0:t.query,filters:null==t?void 0:t.filters}}));return Object(n.useEffect)((()=>{const t=e.query.state$.subscribe((({state:e})=>{i((t=>({...t,query:e.query,filters:e.filters})))}));return()=>t.unsubscribe()}),[i,e.query.state$]),t};function Z(){return new UnifiedFieldListPlugin}},function(e,t,i){i.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery}]);