(window.expressionHeatmap_bundle_jsonpfunction=window.expressionHeatmap_bundle_jsonpfunction||[]).push([[1],Array(25).concat([function(e,t,n){e.exports=n(13)(6)},function(e,t,n){"use strict";n.d(t,"i",(function(){return g})),n.d(t,"n",(function(){return h})),n.d(t,"p",(function(){return b})),n.d(t,"l",(function(){return x})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return C})),n.d(t,"o",(function(){return j})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return v}));var o=n(27),r=n.n(o),i=n(25),a=n.n(i),l="positive",s="fixed",u="custom",c="above",d="percent",f=0,m=100,v=5,p=["stops"];function g(e,t,n,o,r){return 0===o?r+t:b(t+(e-n)*r/o)}function h(e,t,n){var o=n.prevPalette,i=n.dataBounds,s=n.mapFromMinValue,u=n.defaultPaletteName,c=function(e,t){var n,o,r,i,a,l,s=x(null==e?void 0:e.rangeType,t),u=s.min,c=s.max,d=null!==(n=null==e||null===(o=e.colorStops)||void 0===o||null===(r=o[0])||void 0===r?void 0:r.stop)&&void 0!==n?n:Number.POSITIVE_INFINITY,f=null!==(i=null==e||null===(a=e.colorStops)||void 0===a||null===(l=a[e.colorStops.length-1])||void 0===l?void 0:l.stop)&&void 0!==i?i:Number.NEGATIVE_INFINITY;return{min:Math.min(u,d),max:Math.max(c,f)}}(t,i),d=c.min,f=c.max,m=f-d,h=t||{},b=(h.stops,a()(h,p));if("custom"===t.name&&null!=t&&t.colorStops)return function(e,t){var n=e.map((function(e,n,o){return r()(r()({},e),{},{stop:n+1<o.length?o[n+1].stop:t})}));if(e[e.length-1].stop===t){var o=function(e,t,n){var o=t.length,r=o>1&&t[o-1].stop-t[o-2].stop||1,i=Number(r.toFixed(2));if(n<e[o-1].stop+i){var a=n-e[o-1].stop;i=a>0?a:1}return i}(e,n,t)||1,i=Math.min(1,o);n[e.length-1].stop=t+i}return n}(t.colorStops,f);var y,w,C,j,O,k,S=(null==t?void 0:t.steps)||v,A=e.get(o||(null==t?void 0:t.name)||u||l).getCategoricalColors(S,b),M=s||0===m?d:m/S;return y=A.map((function(e,t){return{color:e,stop:t}})),w={newInterval:m,oldInterval:A.length,newMin:M,oldMin:0},C=w.newInterval,j=w.oldInterval,O=w.newMin,k=w.oldMin,(y||[]).map((function(e){return{color:e.color,stop:g(e.stop,O,k,j,C)}}))}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number((Math.floor(100*e)/100).toFixed(t))}function x(e,t){return{min:"number"===e?t.min:f,max:"number"===e?t.max:m}}var y=function(e){return Boolean(e&&["below","all"].includes(e))},w=function(e){return Boolean(e&&["above","all"].includes(e))},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"percent";return"percent"===e?{min:0,max:100,fallback:!0}:{min:1,max:1,fallback:!0}};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return e.stop}));return e.map((function(n,o){return{color:n.color,stop:t[e.length-o-1]}})).reverse()}},function(e,t,n){e.exports=n(13)(2745)},function(e,t,n){"use strict";e.exports=n(35)},,function(e,t,n){"use strict";e.exports=n(36)},function(e,t,n){"use strict";e.exports=n(43)},function(e,t,n){"use strict";var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function a(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},o=[],r=0;r<e.length;r++){var l=e[r],s=t.base?l[0]+t.base:l[0],u=n[s]||0,c="".concat(s," ").concat(u);n[s]=u+1;var d=a(c),f={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:p(f,t),references:1}),o.push(c)}return o}function s(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var i=n.nc;i&&(o.nonce=i)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var a=r(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function d(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=c(t,r);else{var i=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var o=n.css,r=n.media,i=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,v=0;function p(e,t){var n,o,r;if(t.singleton){var i=v++;n=m||(m=s(t)),o=d.bind(null,n,i,!1),r=d.bind(null,n,i,!0)}else n=s(t),o=f.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=a(n[o]);i[r].references--}for(var s=l(e,t),u=0;u<n.length;u++){var c=a(n[u]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}n=s}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,o,r,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var l=(n=a,o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(r," */")),s=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(s).concat([l]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);o&&r[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(19),n(30),n(31);var o=n(44).default({key:"css"}),r=o.flush,i=o.hydrate,a=o.cx,l=o.merge,s=o.getRegisteredStyles,u=o.injectGlobal,c=o.keyframes,d=o.css,f=o.sheet,m=o.cache;t.cache=m,t.css=d,t.cx=a,t.flush=r,t.getRegisteredStyles=s,t.hydrate=i,t.injectGlobal=u,t.keyframes=c,t.merge=l,t.sheet=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(37),r=n(39),i=n(41);function a(e){return e&&e.__esModule?e:{default:e}}var l=a(o),s=a(r),u=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,d=function(e){return 45===e.charCodeAt(1)},f=function(e){return null!=e&&"boolean"!=typeof e},m=a(i).default((function(e){return d(e)?e:e.replace(u,"-$&").toLowerCase()})),v=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,n){return g={name:t,styles:n,next:g},t}))}return 1===s.default[e]||d(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return g={name:n.name,styles:n.styles,next:g},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)g={name:o.name,styles:o.styles,next:g},o=o.next;return n.styles+";"}return function(e,t,n){var o="";if(Array.isArray(n))for(var r=0;r<n.length;r++)o+=p(e,t,n[r])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?o+=i+"{"+t[a]+"}":f(a)&&(o+=m(i)+":"+v(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=p(e,t,a);switch(i){case"animation":case"animationName":o+=m(i)+":"+l+";";break;default:o+=i+"{"+l+"}"}}else for(var s=0;s<a.length;s++)f(a[s])&&(o+=m(i)+":"+v(i,a[s])+";")}return o}(e,t,n);case"function":if(void 0!==e){var r=g,i=n(e);return g=r,p(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var g,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;t.serializeStyles=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,r="";g=void 0;var i=e[0];null==i||void 0===i.raw?(o=!1,r+=p(n,t,i)):r+=i[0];for(var a=1;a<e.length;a++)r+=p(n,t,e[a]),o&&(r+=i[a]);h.lastIndex=0;for(var s,u="";null!==(s=h.exec(r));)u+="-"+s[1];return{name:l.default(r)+u,styles:r,next:g}}},function(e,t,n){"use strict";e.exports=n(38)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,n=0,o=0,r=e.length;r>=4;++o,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(o+2))<<16;case 2:n^=(255&e.charCodeAt(o+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(o)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},function(e,t,n){"use strict";e.exports=n(40)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";e.exports=n(42)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof document,r=function(e,t,n){var r=e.key+"-"+t.name;(!1===n||!1===o&&void 0!==e.compat)&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};t.getRegisteredStyles=function(e,t,n){var o="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):o+=n+" "})),o},t.insertStyles=function(e,t,n){r(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a="",l=t;do{var s=e.insert(t===l?"."+i:"",l,e.sheet,!0);o||void 0===s||(a+=s),l=l.next}while(void 0!==l);if(!o&&0!==a.length)return a}},t.registerStyles=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),r=n(30),i=n(31);function a(e){return e&&e.__esModule?e:{default:e}}var l=a(o);function s(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function u(e,t,n){var o=[],r=i.getRegisteredStyles(e,o,n);return o.length<2?n:r+t(o)}var c=function e(t){for(var n="",o=0;o<t.length;o++){var r=t[o];if(null!=r){var i=void 0;switch(typeof r){case"boolean":break;case"object":if(Array.isArray(r))i=e(r);else for(var a in i="",r)r[a]&&a&&(i&&(i+=" "),i+=a);break;default:i=r}i&&(n&&(n+=" "),n+=i)}}return n};t.default=function(e){var t=l.default(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var a=r.serializeStyles(n,t.registered,void 0);return i.insertStyles(t,a,!1),t.key+"-"+a.name};return{css:n,cx:function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return u(t.registered,n,c(o))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=r.serializeStyles(n,t.registered);s(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=r.serializeStyles(n,t.registered),a="animation-"+i.name;return s(t,{name:i.name,styles:"@keyframes "+a+"{"+i.styles+"}"}),a},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:i.getRegisteredStyles.bind(null,t.registered),merge:u.bind(null,t.registered,n)}}},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(46);case"v8light":return n(48)}},function(e,t,n){var o=n(32),r=n(47);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(33)(!1)).push([e.i,".heatmap-container{height:100%;overflow:auto hidden;padding:8px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin;-webkit-user-select:text;user-select:text;width:100%}.heatmap-container::-webkit-scrollbar{height:16px;width:16px}.heatmap-container::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.heatmap-container::-webkit-scrollbar-corner,.heatmap-container::-webkit-scrollbar-track{background-color:#0000}",""]),e.exports=t},function(e,t,n){var o=n(32),r=n(49);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);o(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},function(e,t,n){(t=n(33)(!1)).push([e.i,".heatmap-container{height:100%;overflow:auto hidden;padding:8px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin;-webkit-user-select:text;user-select:text;width:100%}.heatmap-container::-webkit-scrollbar{height:16px;width:16px}.heatmap-container::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.heatmap-container::-webkit-scrollbar-corner,.heatmap-container::-webkit-scrollbar-track{background-color:#0000}",""]),e.exports=t},,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"HeatmapComponent",(function(){return P})),n.d(t,"default",(function(){return P}));var o=n(12),r=n.n(o),i=n(5),a=n(20),l=n(18),s=n(3),u=n(4),c=n(9),d=n.n(c),f=n(25),m=n.n(f),v=n(28),p=n(21),g={subdued:Object(v.css)("fill:",p.euiThemeVars.euiTextSubduedColor,";",""),accent:Object(v.css)("fill:",p.euiThemeVars.euiColorVis0,";","")},h=n(6),b=["title","titleId"],x=function(e){var t=e.title,n=e.titleId,o=m()(e,b);return Object(h.jsx)("svg",d()({width:30,height:22,viewBox:"0 0 30 22",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),t?Object(h.jsx)("title",{id:n},t):null,Object(h.jsx)("path",{className:g.subdued,d:"M16 1a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V1zM0 17a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1v-4zm17-9a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V9a1 1 0 00-1-1h-4zm-1 9a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4zm9-17a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V1a1 1 0 00-1-1h-4z"}),Object(h.jsx)("path",{className:g.accent,d:"M0 1a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V1zm0 8a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H1a1 1 0 01-1-1V9zm9-9a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V1a1 1 0 00-1-1H9zM8 9a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H9a1 1 0 01-1-1V9zm1 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1H9zm15-7a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V9zm1 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1v-4a1 1 0 00-1-1h-4z"}))},y=n(26),w=n(17),C={name:"1azakc",styles:"text-align:center"},j=function(){var e=C;return Object(h.jsx)("div",{css:e},Object(h.jsx)(w.EuiLoadingSpinner,null))};!function(e){arguments.length>1&&void 0!==arguments[1]||Object(h.jsx)(j,null)}(r.a.lazy((function(){return n.e(2).then(n.bind(null,58))})));const O={name:"temperature",reverse:!1,rangeType:"percent",rangeMin:y.e,rangeMax:y.d,progression:y.h,stops:[],steps:y.b,colorStops:[],continuity:y.c};function k(e){return e}function S(e){if(null!=e&&!Array.isArray(e))return e}const A=e=>{var t,n;const o=null===(t=e.meta)||void 0===t||null===(n=t.sourceParams)||void 0===n?void 0:n.params,r=null==o?void 0:o.orderBy;return null!=o&&o.otherBucket||!r?"dataIndex":r&&"_key"!==r?"desc"===(null==o?void 0:o.order)?"numDesc":"numAsc":"desc"===(null==o?void 0:o.order)?"alphaDesc":"alphaAsc"},M=(e,t,n)=>t.reduce(((e,{id:t})=>{const o=e.row[t];return null==o||null!=(r=o)&&"object"!=typeof r?e:{row:{...e.row,[t]:n[t].convert(o)},formattedColumns:{...e.formattedColumns,[t]:!0}};var r}),{row:e,formattedColumns:{}});function I(e){switch(e){case i.Position.Bottom:return"upCenter";case i.Position.Top:return"downCenter";case i.Position.Left:return"rightCenter";default:return"leftCenter"}}const T=Object(o.createContext)(void 0),_=({anchor:e,color:t,onClose:n,onChange:r,seriesIdentifiers:[i]})=>{var a;const s=Object(o.useContext)(T),u=Object(o.useCallback)((()=>{null==n||n()}),[n]);if(!s)return null;const{legendPosition:c,setColor:d,uiState:f}=s,m=i.key,v=null!==(a=null==f?void 0:f.get("vis.colors",{}))&&void 0!==a?a:{},p=m.toString()in v;let g=!1;return Object(h.jsx)(w.EuiOutsideClickDetector,{onOutsideClick:u},Object(h.jsx)(w.EuiWrappingPopover,{isOpen:!0,ownFocus:!0,display:"block",button:e,anchorPosition:I(c),closePopover:n,panelPaddingSize:"s"},Object(h.jsx)(l.ColorPicker,{color:t,onChange:e=>{e&&r(e),d(e,m),e&&g||n()},label:m,useLegacyColors:!1,colorIsOverwritten:p,onKeyDown:e=>{13===e.keyCode&&(null==n||n()),g=!0}})))};function N({colors:e,stops:t,range:n},{min:o,max:r}){if(t.length)return t.slice(0,t.length-1);const i="percent"===n?0:o,a=(("percent"===n?100:r)-i)/e.length;return e.slice(0,e.length-1).map(((e,t)=>i+(t+1)*a))}n(45);const P=Object(o.memo)((({data:e,args:t,timeZone:n,formatFactory:c,chartsThemeService:d,chartsActiveCursorService:f,datatableUtilities:m,onClickValue:v,onSelectRange:p,paletteService:g,uiState:b,interactive:w,syncTooltips:C,syncCursor:j,renderComplete:I})=>{var P,L,E,z,R,V,F,D,B,H,G,Y,U,W,$,X,Z,J,q,K,Q,ee,te,ne,oe;const re=Object(o.useRef)(null),ie=d.useChartsTheme(),ae=d.useDarkMode(),[le,se]=Object(o.useState)((()=>{var e;const n=null===(e=t.legend.isVisible)||void 0===e||e;return null==b?void 0:b.get("vis.legendOpen",n)})),ue=Object(o.useCallback)((()=>{w&&se((e=>{var t;const n=!e;return null==b||null===(t=b.set)||void 0===t||t.call(b,"vis.legendOpen",n),n}))}),[b,w]),ce=Object(o.useCallback)(((e,t)=>{const n=(null==b?void 0:b.get("vis.colors"))||{};n[t]!==e&&e?n[t]=e:delete n[t],null==b||b.setSilent("vis.colors",null),null==b||b.set("vis.colors",n),null==b||b.emit("reload"),null==b||b.emit("colorChanged")}),[b]),de=Object(o.useCallback)(((e=!0)=>{e&&I()}),[I]),fe=e,me=t.valueAccessor?Object(s.getAccessorByDimension)(t.valueAccessor,fe.columns):void 0,ve=Object(o.useMemo)((()=>((e,t,n=k)=>{const o={};if(null!=t)for(const r of e){const e=n(r);o[e]=o[e]||{max:-1/0,min:1/0},t.rows.forEach((t=>{const n=S(t[r]);null!=n&&(o[e].min>n&&(o[e].min=n),o[e].max<n&&(o[e].max=n))})),o[e].max===-1/0&&(o[e]={max:100,min:0,fallback:!0})}return o})([me],fe)),[me,fe]),pe=null===(P=t.palette)||void 0===P?void 0:P.params,ge=t.xAccessor?Object(s.getAccessorByDimension)(t.xAccessor,fe.columns):void 0,he=t.yAccessor?Object(s.getAccessorByDimension)(t.yAccessor,fe.columns):void 0,be=fe.columns.findIndex((e=>e.id===ge)),xe=fe.columns.findIndex((e=>e.id===he)),ye=fe.columns[be],we=fe.columns[xe],Ce=fe.columns.find((e=>e.id===me)),je=null==ye?void 0:ye.meta,Oe="date"===(null==je?void 0:je.type),ke=Object(o.useMemo)((()=>c(null==je?void 0:je.params)),[c,null==je?void 0:je.params]),Se=Object(o.useMemo)((()=>c(null==we?void 0:we.meta.params)),[c,null==we?void 0:we.meta.params]),Ae=Object(o.useMemo)((()=>c(Object(s.getFormatByAccessor)(t.valueAccessor,fe.columns))),[t.valueAccessor,c,fe.columns]),Me=((e,t)=>{const n=e.columns.reduce(((e,{id:n,meta:o})=>({...e,[n]:t(o.params)})),{}),o={rows:[],formattedColumns:{}};for(const t of e.rows){const r=M(t,e.columns,n);o.rows.push(r.row),o.formattedColumns={...o.formattedColumns,...r.formattedColumns}}return{table:{...e,rows:o.rows},formattedColumns:o.formattedColumns}})(fe,c);let Ie=Me.table.rows.filter((e=>null===e[me]||"number"==typeof e[me]));const Te=Object(o.useCallback)((e=>{const t=e[0][0],{x:n,y:o}=t.datum,r={data:[{row:fe.rows.findIndex((e=>!!ye&&(Me.formattedColumns[ye.id]?ke.convert(e[ye.id])===n:e[ye.id]===n))),column:be,value:n},...we?[{row:fe.rows.findIndex((e=>Me.formattedColumns[we.id]?Se.convert(e[we.id])===o:e[we.id]===o)),column:xe,value:o}]:[]].map((e=>({row:e.row,column:e.column,value:e.value,table:fe})))};v(r)}),[Me.formattedColumns,v,fe,ye,be,ke,we,xe,Se]),_e=Object(o.useCallback)((e=>{const{x:t,y:n}=e;if(Oe)p({range:t,table:fe,column:be});else{const e=[];we&&n.forEach((t=>{e.push({row:fe.rows.findIndex((e=>Me.formattedColumns[we.id]?Se.convert(e[we.id])===t:e[we.id]===t)),column:xe,value:t})})),ye&&t.forEach((t=>{e.push({row:fe.rows.findIndex((e=>Me.formattedColumns[ye.id]?ke.convert(e[ye.id])===t:e[ye.id]===t)),column:be,value:t})}));const o={data:e.map((e=>({row:e.row,column:e.column,value:e.value,table:fe})))};v(o)}}),[Me.formattedColumns,Oe,v,p,fe,ye,be,ke,we,xe,Se]);if(!Ie||!Ie.length)return Object(h.jsx)(l.EmptyPlaceholder,{icon:x,renderComplete:de});we||(Ie=Ie.map((e=>({...e,unifiedY:""})))),ye||(Ie=Ie.map((e=>({...e,unifiedX:""}))));const{min:Ne,max:Pe}=ve[me],Le=ye?m.getDateHistogramMeta(ye):void 0;if(!Ce)return null;let Ee={type:i.ScaleType.Ordinal};if(Oe&&Ie.length>1){const e=null==Le?void 0:Le.interval,t=e?a.search.aggs.parseEsInterval(e):void 0;t&&(Ee={type:i.ScaleType.Time,interval:"fixed"===t.type?{type:"fixed",unit:t.unit,value:t.value}:{type:"calendar",unit:t.unit,value:t.value}})}const ze={type:t.showTooltip?i.TooltipType.Follow:i.TooltipType.None},Re=Object(l.useActiveCursor)(f,re,{datatables:[Me.table]}),{colors:Ve,ranges:Fe}=function(e,t,n,o){const r=(null==t?void 0:t.colors)||function(e,t,n){var o,r,i;let a=Object(y.n)(e,(null==t?void 0:t.params)||{},{dataBounds:n,defaultPaletteName:null!==(o=null==t?void 0:t.name)&&void 0!==o?o:O.name});return null!=t&&null!==(r=t.params)&&void 0!==r&&r.reverse&&(null==t||null===(i=t.params)||void 0===i?void 0:i.name)!==y.a&&(a=Object(y.o)(a)),a}(e,{type:"palette",name:O.name},o).map((({color:e})=>e)),i=[r[0],...r],a=function(e,{min:t,max:n}){const o="percent"===e.range?0:t;return[e.stops.length?e.rangeMin:o,...N(e,{min:t,max:n})].map((o=>{let r=o;return"percent"===e.range&&(r=t+(n-t)*o/100),Number.isNaN(r)?1:Number(r.toFixed(2))}))}({gradient:!1,range:O.rangeType,rangeMin:O.rangeMin,rangeMax:O.rangeMax,stops:[],...t,colors:i.slice(1)},o);return{colors:i,ranges:a}}(g,pe,0,ve[me]),De=1e-5;let Be=Pe+De;(null!=pe&&pe.rangeMax||0===(null==pe?void 0:pe.rangeMax))&&(Be=("number"===(null==pe?void 0:pe.range)?pe.rangeMax:Ne+(Pe-Ne)*pe.rangeMax/100)+De);const He=null!==(L=null==b?void 0:b.get("vis.colors"))&&void 0!==L?L:null,Ge=Pe===Ne,Ye=Fe.map(((e,n,o)=>{const r=n===o.length-1,i=o[n+1];let a=r?Number.POSITIVE_INFINITY:i;const l=r&&Ge?Ne:e;if(!1===t.lastRangeIsRightOpen){const e=Ge?Number.POSITIVE_INFINITY:Be;a=r?e:i}let s;s=a===Number.POSITIVE_INFINITY?`≥ ${Ae.convert(l)}`:`${Ae.convert(e)} - ${Ae.convert(a)}`;const u=null==He?void 0:He[s];return{start:l,end:a,color:null!=u?u:Ve[n+1]}})),Ue={legend:{labelOptions:{maxLines:t.legend.shouldTruncate?null!==(E=null===(z=t.legend)||void 0===z?void 0:z.maxLines)&&void 0!==E?E:1:0}},heatmap:{grid:{stroke:{width:null!==(R=null!==(V=t.gridConfig.strokeWidth)&&void 0!==V?V:null===(F=ie.axes)||void 0===F||null===(D=F.gridLine)||void 0===D||null===(B=D.horizontal)||void 0===B?void 0:B.strokeWidth)&&void 0!==R?R:1,color:null!==(H=null!==(G=t.gridConfig.strokeColor)&&void 0!==G?G:null===(Y=ie.axes)||void 0===Y||null===(U=Y.gridLine)||void 0===U||null===(W=U.horizontal)||void 0===W?void 0:W.stroke)&&void 0!==H?H:"#D3DAE6"},cellHeight:{max:"fill",min:1}},cell:{maxWidth:"fill",maxHeight:"fill",label:{visible:null!==($=t.gridConfig.isCellLabelVisible)&&void 0!==$&&$,minFontSize:8,maxFontSize:18,useGlobalMinFontSize:!0},border:{strokeWidth:0}},yAxisLabel:{visible:!!we&&t.gridConfig.isYAxisLabelVisible,textColor:null!==(X=null===(Z=ie.axes)||void 0===Z||null===(J=Z.tickLabel)||void 0===J?void 0:J.fill)&&void 0!==X?X:"#6a717d",padding:null!=we&&we.name?8:0},xAxisLabel:{visible:Boolean(t.gridConfig.isXAxisLabelVisible&&ye),textColor:null!==(q=null===(K=ie.axes)||void 0===K||null===(Q=K.tickLabel)||void 0===Q?void 0:Q.fill)&&void 0!==q?q:"#6a717d",padding:null!=ye&&ye.name?8:0},brushMask:{fill:ae?"rgb(30,31,35,80%)":"rgb(247,247,247,50%)"},brushArea:{stroke:ae?"rgb(255, 255, 255)":"rgb(105, 112, 125)"}}},We=null!==(ee=t.gridConfig.xTitle)&&void 0!==ee?ee:null==ye?void 0:ye.name,$e=null!==(te=t.gridConfig.yTitle)&&void 0!==te?te:null==we?void 0:we.name;return Object(h.jsx)(r.a.Fragment,null,void 0!==le&&Object(h.jsx)(l.LegendToggle,{onClick:ue,showLegend:le,legendPosition:t.legend.position}),Object(h.jsx)(T.Provider,{value:{uiState:b,setColor:ce,legendPosition:t.legend.position}},Object(h.jsx)(i.Chart,{ref:re},Object(h.jsx)(i.Settings,{onRenderChange:de,noResults:Object(h.jsx)(l.EmptyPlaceholder,{icon:x,renderComplete:de}),onPointerUpdate:j?Re:void 0,externalPointerEvents:{tooltip:{visible:C}},onElementClick:w?Te:void 0,showLegend:null!=le?le:t.legend.isVisible,legendPosition:t.legend.position,legendSize:u.LegendSizeToPixels[null!==(ne=t.legend.legendSize)&&void 0!==ne?ne:u.DEFAULT_LEGEND_SIZE],legendColorPicker:b?_:void 0,debugState:null!==(oe=window._echDebugStateFlag)&&void 0!==oe&&oe,tooltip:ze,theme:[Ue,ie],baseTheme:d.useChartsBaseTheme(),xDomain:{min:Le&&Le.timeRange?new Date(Le.timeRange.from).getTime():NaN,max:Le&&Le.timeRange?new Date(Le.timeRange.to).getTime():NaN},onBrushEnd:w?_e:void 0,ariaLabel:t.ariaLabel,ariaUseDefaultSummary:!t.ariaLabel}),Object(h.jsx)(i.Heatmap,{id:"heatmap",name:Ce.name,colorScale:{type:"bands",bands:Ye},timeZone:n,data:Ie,xAccessor:ge||"unifiedX",yAccessor:he||"unifiedY",valueAccessor:me,valueFormatter:e=>{var n;let o=e;if(t.percentageMode){const e=Math.abs(o-Ne)/(Pe-Ne)*100;o=parseInt(e.toString(),10)/100}return`${null!==(n=Ae.convert(o))&&void 0!==n?n:""}`},xScale:Ee,ySortPredicate:we?A(we):"dataIndex",xSortPredicate:ye?A(ye):"dataIndex",xAxisLabelName:(null==ye?void 0:ye.name)||"",yAxisLabelName:(null==we?void 0:we.name)||"",xAxisTitle:t.gridConfig.isXAxisTitleVisible?We:void 0,yAxisTitle:t.gridConfig.isYAxisTitleVisible?$e:void 0,xAxisLabelFormatter:e=>t.gridConfig.isXAxisLabelVisible?`${ge&&Me.formattedColumns[ge]?e:ke.convert(e)}`:"",yAxisLabelFormatter:we?e=>{var n;return t.gridConfig.isYAxisLabelVisible?`${he&&Me.formattedColumns[he]?e:null!==(n=Se.convert(e))&&void 0!==n?n:""}`:""}:void 0}))))}))}])]);