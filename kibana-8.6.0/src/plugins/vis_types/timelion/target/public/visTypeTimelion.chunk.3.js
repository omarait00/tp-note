(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[3],{29:function(t,r,n){"use strict";n.r(r),n.d(r,"parseTimelionExpression",(function(){return o}));var e=n(44);const o=t=>Object(e.parse)(t)},44:function(t,r,n){"use strict";function e(t,r,n,o){var c=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(c,e.prototype),c.expected=r,c.found=n,c.location=o,c.name="SyntaxError",c}function o(t,r,n){return n=n||" ",t.length>r?t:(r-=t.length,t+(n+=n.repeat(r)).slice(0,r))}!function(t,r){function n(){this.constructor=t}n.prototype=r.prototype,t.prototype=new n}(e,Error),e.prototype.format=function(t){var r="Error: "+this.message;if(this.location){var n,e=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){e=t[n].text.split(/\r\n|\n|\r/g);break}var c=this.location.start,u=this.location.source+":"+c.line+":"+c.column;if(e){var i=this.location.end,a=o("",c.line.toString().length),l=e[c.line-1],s=c.line===i.line?i.column:l.length+1;r+="\n --\x3e "+u+"\n"+a+" |\n"+c.line+" | "+l+"\n"+a+" | "+o("",c.column-1)+o("",s-c.column,"^")}else r+="\n at "+u}return r},e.buildMessage=function(t,r){var n={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var r=t.parts.map((function(t){return Array.isArray(t)?c(t[0])+"-"+c(t[1]):c(t)}));return"["+(t.inverted?"^":"")+r+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function c(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+e(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+e(t)}))}function u(t){return n[t.type](t)}return"Expected "+function(t){var r,n,e=t.map(u);if(e.sort(),e.length>0){for(r=1,n=1;r<e.length;r++)e[r-1]!==e[r]&&(e[n]=e[r],n++);e.length=n}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(r)+" found."},t.exports={SyntaxError:e,parse:function(t,r){var n,o,c={},u=(r=void 0!==r?r:{}).grammarSource,i={start:lt},a=lt,l=",",s="=",f="true",h="false",p="null",A="\\",d=/^[a-zA-Z]/,g=/^[.a-zA-Z0-9_\-]/,v=/^[^()"',= \t]/,m=/^[ \t\r\n]/,C=/^[^"]/,y=/^[^']/,x=/^[0-9]/,b=et(",",!1),j=et("=",!1),w=et("$",!1),F=ot([["a","z"],["A","Z"]],!1,!1),E=ot([".",["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),O=ct("function"),S=et(".",!1),N=et("(",!1),_=et(")",!1),T=et("@",!1),z=et(":",!1),R=ct("literal"),Z=et('"',!1),$=et("'",!1),J=et("true",!1),M=et("false",!1),P=et("null",!1),k=ot(["(",")",'"',"'",",","="," ","\t"],!0,!1),I=ot([" ","\t","\r","\n"],!1,!1),L=et("\\",!1),U=ot(['"'],!0,!1),V=ot(["'"],!0,!1),q=ot([["0","9"]],!1,!1),B=function(t,r){return r},D=function(t,r){return r},G=function(t){return t.join("")},H=0,K=0,Q=[{line:1,column:1}],W=0,X=[],Y=0;if("startRule"in r){if(!(r.startRule in i))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=i[r.startRule]}function tt(){return t.substring(K,H)}function rt(){return it(K,H)}function nt(t,r){throw function(t,r){return new e(t,null,null,r)}(t,r=void 0!==r?r:it(K,H))}function et(t,r){return{type:"literal",text:t,ignoreCase:r}}function ot(t,r,n){return{type:"class",parts:t,inverted:r,ignoreCase:n}}function ct(t){return{type:"other",description:t}}function ut(r){var n,e=Q[r];if(e)return e;for(n=r-1;!Q[n];)n--;for(e={line:(e=Q[n]).line,column:e.column};n<r;)10===t.charCodeAt(n)?(e.line++,e.column=1):e.column++,n++;return Q[r]=e,e}function it(t,r){var n=ut(t),e=ut(r);return{source:u,start:{offset:t,line:n.line,column:n.column},end:{offset:r,line:e.line,column:e.column}}}function at(t){H<W||(H>W&&(W=H,X=[]),X.push(t))}function lt(){var t,r;return t=H,mt(),(r=At())!==c?(K=t,t={tree:r.filter((function(t){return null!=t})),functions:wt,args:Ft,variables:Et}):(H=t,t=c),t}function st(){var r,n,e,u,i,a,l;return r=H,(n=gt())!==c?((e=mt())===c&&(e=null),61===t.charCodeAt(H)?(u=s,H++):(u=c,0===Y&&at(j)),u!==c?(mt(),(i=ft())!==c?(K=r,a={type:"namedArg",name:n,value:i,location:bt(rt()),text:tt()},jt.push(a),r=a):(H=r,r=c)):(H=r,r=c)):(H=r,r=c),r===c&&(r=H,(n=mt())===c&&(n=null),61===t.charCodeAt(H)?(e=s,H++):(e=c,0===Y&&at(j)),e!==c?((u=mt())===c&&(u=null),ft(),K=r,l={type:"incompleteArgument",currentArgs:jt,currentFunction:o,location:bt(rt()),text:tt()},r=void nt(JSON.stringify(l))):(H=r,r=c),r===c&&(r=H,(n=gt())!==c?((e=mt())===c&&(e=null),61===t.charCodeAt(H)?(u=s,H++):(u=c,0===Y&&at(j)),u!==c?(K=r,r=function(t){var r={type:"incompleteArgumentValue",currentArgs:jt,currentFunction:o,name:t,location:bt(rt()),text:tt()};nt(JSON.stringify(r))}(n)):(H=r,r=c)):(H=r,r=c),r===c&&(r=H,(n=ft())!==c&&(K=r),r=n))),r}function ft(){var r,n,e,o;return(r=ht())===c&&(r=pt())===c&&(r=H,n=function(){var r,n,e,o,u;if(Y++,r=H,34===t.charCodeAt(H)?(n='"',H++):(n=c,0===Y&&at(Z)),n!==c){for(e=[],o=Ct();o!==c;)e.push(o),o=Ct();34===t.charCodeAt(H)?(o='"',H++):(o=c,0===Y&&at(Z)),o!==c?(K=r,r=G(e)):(H=r,r=c)}else H=r,r=c;if(r===c){if(r=H,39===t.charCodeAt(H)?(n="'",H++):(n=c,0===Y&&at($)),n!==c){for(e=[],o=yt();o!==c;)e.push(o),o=yt();39===t.charCodeAt(H)?(o="'",H++):(o=c,0===Y&&at($)),o!==c?(K=r,r=G(e)):(H=r,r=c)}else H=r,r=c;if(r===c&&(r=H,t.substr(H,4)===f?(n=f,H+=4):(n=c,0===Y&&at(J)),n!==c&&(K=r,n=!0),(r=n)===c&&(r=H,t.substr(H,5)===h?(n=h,H+=5):(n=c,0===Y&&at(M)),n!==c&&(K=r,n=!1),(r=n)===c&&(r=H,t.substr(H,4)===p?(n=p,H+=4):(n=c,0===Y&&at(P)),n!==c&&(K=r,n=null),(r=n)===c)))){if(r=H,n=[],v.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(k)),e!==c)for(;e!==c;)n.push(e),v.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(k));else n=c;n!==c&&(K=r,u=n.join(""),n=isNaN(Number(u))?u:Number(u)),r=n}}return Y--,r===c&&(n=c,0===Y&&at(R)),r}(),n!==c&&(K=r,(o=n,e={type:"literal",value:o}).location=bt(rt()),e.text=tt(),n=e),r=n),r}function ht(){var r,n,e;return r=H,36===t.charCodeAt(H)?(n="$",H++):(n=c,0===Y&&at(w)),n!==c&&(e=gt())!==c?(K=r,r=function(t){if(Et[t])return Et[t];nt("$"+t+" is not defined")}(e)):(H=r,r=c),r}function pt(){var r;return(r=function(){var r,n,e,o,u,i;return r=H,36===t.charCodeAt(H)?(n="$",H++):(n=c,0===Y&&at(w)),n!==c&&(e=gt())!==c?(mt(),61===t.charCodeAt(H)?(o=s,H++):(o=c,0===Y&&at(j)),o!==c?(mt(),(u=ft())!==c?(K=r,i=u,r=void(Et[e]=i)):(H=r,r=c)):(H=r,r=c)):(H=r,r=c),r}())===c&&(r=ht())===c&&(r=function(){var r,n,e,o,u,i;if(r=H,40===t.charCodeAt(H)?(n="(",H++):(n=c,0===Y&&at(N)),n!==c)if(mt(),(e=At())!==c)if(mt(),41===t.charCodeAt(H)?(o=")",H++):(o=c,0===Y&&at(_)),o!==c){for(u=[],i=vt();i!==c;)u.push(i),i=vt();K=r,r=function(t,r){var n={type:"chainList",list:t};return n.label=tt(),{type:"chain",chain:[n].concat(r)}}(e,u)}else H=r,r=c;else H=r,r=c;else H=r,r=c;return r}(),r===c&&(r=function(){var t,r,n,e;if(t=H,(r=vt())!==c){for(mt(),n=[],e=vt();e!==c;)n.push(e),e=vt();K=t,t={type:"chain",chain:[r].concat(n)}}else H=t,t=c;return t}())===c&&(r=function(){var r,n,e,o,u;return r=H,64===t.charCodeAt(H)?(n="@",H++):(n=c,0===Y&&at(T)),n!==c&&(e=xt())!==c?(58===t.charCodeAt(H)?(o=":",H++):(o=c,0===Y&&at(z)),o!==c&&(u=xt())!==c?(K=r,r={type:"reference",plot:e,series:u}):(H=r,r=c)):(H=r,r=c),r===c&&(r=H,64===t.charCodeAt(H)?(n="@",H++):(n=c,0===Y&&at(T)),n!==c&&(e=xt())!==c?(K=r,r={type:"reference",plot:e}):(H=r,r=c)),r}())),r}function At(){var r,n,e,o,u,i;if(r=H,(n=pt())!==c){for(e=[],o=H,mt(),44===t.charCodeAt(H)?(u=l,H++):(u=c,0===Y&&at(b)),u!==c?(mt(),(i=pt())!==c?(K=o,o=D(0,i)):(H=o,o=c)):(H=o,o=c);o!==c;)e.push(o),o=H,mt(),44===t.charCodeAt(H)?(u=l,H++):(u=c,0===Y&&at(b)),u!==c?(mt(),(i=pt())!==c?(K=o,o=D(0,i)):(H=o,o=c)):(H=o,o=c);44===t.charCodeAt(H)?(o=l,H++):(o=c,0===Y&&at(b)),o===c&&(o=null),K=r,r=[n].concat(e)}else H=r,r=c;return r}function dt(){var r,n,e,u,i;if(r=H,n=[],d.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(F)),e!==c)for(;e!==c;)n.push(e),d.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(F));else n=c;if(n!==c){for(e=[],g.test(t.charAt(H))?(u=t.charAt(H),H++):(u=c,0===Y&&at(E));u!==c;)e.push(u),g.test(t.charAt(H))?(u=t.charAt(H),H++):(u=c,0===Y&&at(E));K=r,i=e,o=n.join("")+i.join(""),jt=[],r=o}else H=r,r=c;return r}function gt(){var r,n,e,o,u;if(r=H,n=[],d.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(F)),e!==c)for(;e!==c;)n.push(e),d.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(F));else n=c;if(n!==c){for(e=[],g.test(t.charAt(H))?(o=t.charAt(H),H++):(o=c,0===Y&&at(E));o!==c;)e.push(o),g.test(t.charAt(H))?(o=t.charAt(H),H++):(o=c,0===Y&&at(E));K=r,u=e,r=n.join("")+u.join("")}else H=r,r=c;return r}function vt(){var r,n,e,o,u,i,a,s,f,h;return Y++,r=H,(n=mt())===c&&(n=null),46===t.charCodeAt(H)?(e=".",H++):(e=c,0===Y&&at(S)),e!==c&&(o=dt())!==c?(mt(),40===t.charCodeAt(H)?(u="(",H++):(u=c,0===Y&&at(N)),u!==c?(mt(),i=function(){var r,n,e,o,u,i,a;if(r=H,(n=st())!==c){for(e=[],o=H,(u=mt())===c&&(u=null),44===t.charCodeAt(H)?(i=l,H++):(i=c,0===Y&&at(b)),i!==c?(mt(),(a=st())!==c?(K=o,o=B(0,a)):(H=o,o=c)):(H=o,o=c);o!==c;)e.push(o),o=H,(u=mt())===c&&(u=null),44===t.charCodeAt(H)?(i=l,H++):(i=c,0===Y&&at(b)),i!==c?(mt(),(a=st())!==c?(K=o,o=B(0,a)):(H=o,o=c)):(H=o,o=c);(o=mt())===c&&(o=null),44===t.charCodeAt(H)?(u=l,H++):(u=c,0===Y&&at(b)),u===c&&(u=null),K=r,r=[n].concat(e)}else H=r,r=c;return r}(),i===c&&(i=null),mt(),41===t.charCodeAt(H)?(a=")",H++):(a=c,0===Y&&at(_)),a!==c?(mt(),K=r,(f={type:"function",function:s=o,arguments:i||[],location:bt(rt()),text:tt()}).arguments.forEach((function(t){t.function=s,Ft.push(t)})),wt.push(f),r=f):(H=r,r=c)):(H=r,r=c)):(H=r,r=c),r===c&&(r=H,46===t.charCodeAt(H)?(n=".",H++):(n=c,0===Y&&at(S)),n!==c?((e=dt())===c&&(e=null),K=r,h={type:"incompleteFunction",function:e,location:bt(rt()),text:tt()},r=void nt(JSON.stringify(h))):(H=r,r=c)),Y--,r===c&&(n=c,0===Y&&at(O)),r}function mt(){var r,n;if(r=[],m.test(t.charAt(H))?(n=t.charAt(H),H++):(n=c,0===Y&&at(I)),n!==c)for(;n!==c;)r.push(n),m.test(t.charAt(H))?(n=t.charAt(H),H++):(n=c,0===Y&&at(I));else r=c;return r}function Ct(){var r,n,e;return r=H,92===t.charCodeAt(H)?(n=A,H++):(n=c,0===Y&&at(L)),n!==c?(34===t.charCodeAt(H)?(e='"',H++):(e=c,0===Y&&at(Z)),e===c&&(92===t.charCodeAt(H)?(e=A,H++):(e=c,0===Y&&at(L))),e!==c?(K=r,r=e):(H=r,r=c)):(H=r,r=c),r===c&&(C.test(t.charAt(H))?(r=t.charAt(H),H++):(r=c,0===Y&&at(U))),r}function yt(){var r,n,e;return r=H,92===t.charCodeAt(H)?(n=A,H++):(n=c,0===Y&&at(L)),n!==c?(39===t.charCodeAt(H)?(e="'",H++):(e=c,0===Y&&at($)),e===c&&(92===t.charCodeAt(H)?(e=A,H++):(e=c,0===Y&&at(L))),e!==c?(K=r,r=e):(H=r,r=c)):(H=r,r=c),r===c&&(y.test(t.charAt(H))?(r=t.charAt(H),H++):(r=c,0===Y&&at(V))),r}function xt(){var r,n,e;if(r=H,n=[],x.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(q)),e!==c)for(;e!==c;)n.push(e),x.test(t.charAt(H))?(e=t.charAt(H),H++):(e=c,0===Y&&at(q));else n=c;return n!==c&&(K=r,n=parseInt(n.join(""))),n}function bt(t){return{min:t.start.offset,max:t.end.offset}}var jt=[],wt=[],Ft=[],Et={};if((n=a())!==c&&H===t.length)return n;throw n!==c&&H<t.length&&at({type:"end"}),function(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}(X,W<t.length?t.charAt(W):null,W<t.length?it(W,W+1):it(W,W))}}}}]);