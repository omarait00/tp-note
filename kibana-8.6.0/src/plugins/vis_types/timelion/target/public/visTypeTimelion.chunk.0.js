(window.visTypeTimelion_bundle_jsonpfunction=window.visTypeTimelion_bundle_jsonpfunction||[]).push([[0],{30:function(e,n,t){"use strict";var r,a=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),i=[];function o(e){for(var n=-1,t=0;t<i.length;t++)if(i[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},r=[],a=0;a<e.length;a++){var u=e[a],c=n.base?u[0]+n.base:u[0],l=t[c]||0,f="".concat(c," ").concat(l);t[c]=l+1;var s=o(f),d={css:u[1],media:u[2],sourceMap:u[3]};-1!==s?(i[s].references++,i[s].updater(d)):i.push({identifier:f,updater:p(d,n),references:1}),r.push(f)}return r}function c(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=t.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}return n}var l,f=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function s(e,n,t,r){var a=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(n,a);else{var i=document.createTextNode(a),o=e.childNodes;o[n]&&e.removeChild(o[n]),o.length?e.insertBefore(i,o[n]):e.appendChild(i)}}function d(e,n,t){var r=t.css,a=t.media,i=t.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var b=null,h=0;function p(e,n){var t,r,a;if(n.singleton){var i=h++;t=b||(b=c(n)),r=s.bind(null,t,i,!1),a=s.bind(null,t,i,!0)}else t=c(n),r=d.bind(null,t,n),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else a()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=u(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var a=o(t[r]);i[a].references--}for(var c=u(e,n),l=0;l<t.length;l++){var f=o(t[l]);0===i[f].references&&(i[f].updater(),i.splice(f,1))}t=c}}}},31:function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t,r,a,i=e[1]||"",o=e[3];if(!o)return i;if(n&&"function"==typeof btoa){var u=(t=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(a," */")),c=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[i].concat(c).concat([u]).join("\n")}return[i].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),n.push(c))}},n}},32:function(e,n,t){(function(e){var t;
/**
 * @license
 *
 * chroma.js - JavaScript library for color conversions
 * 
 * Copyright (c) 2011-2017, Gregor Aisch
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 * 
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 *    derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 */(function(){var r,a,i,o,u,c,l,f,s,d,b,h,p,g,m,v,y,w,k,x,_,j,N,M,O,S,C,A,T,L,B,E,P,I,R,D,F,q,U,G,z,$,V,Y,X,K,H,W,Z,J,Q,ee,ne,te,re,ae,ie,oe,ue,ce,le,fe,se,de,be,he,pe,ge,me,ve,ye,we,ke,xe,_e,je,Ne,Me,Oe,Se,Ce=[].slice;je=function(){var e,n,t,r,a;for(e={},r=0,n=(a="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;r<n;r++)t=a[r],e["[object "+t+"]"]=t.toLowerCase();return function(n){var t;return t=Object.prototype.toString.call(n),e[t]||"object"}}(),H=function(e,n,t){return null==n&&(n=0),null==t&&(t=1),e<n&&(e=n),e>t&&(e=t),e},Ne=function(e){return e.length>=3?Array.prototype.slice.call(e):e[0]},_=function(e){var n,t;for(e._clipped=!1,e._unclipped=e.slice(0),n=t=0;t<3;n=++t)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]<0&&(e[n]=0),e[n]>255&&(e[n]=255)):3===n&&(e[n]<0&&(e[n]=0),e[n]>1&&(e[n]=1));return e._clipped||delete e._unclipped,e},o=Math.PI,ye=Math.round,N=Math.cos,A=Math.floor,re=Math.pow,W=Math.log,ke=Math.sin,xe=Math.sqrt,g=Math.atan2,Q=Math.max,p=Math.abs,l=2*o,u=o/3,a=o/180,c=180/o,x=function(){return arguments[0]instanceof r?arguments[0]:function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,arguments,(function(){}))},x.default=x,h=[],null!==e&&null!=e.exports&&(e.exports=x),void 0===(t=function(){return x}.apply(n,[]))||(e.exports=t),x.version="1.4.1",b={},s=[],d=!1,r=function(){function e(){var e,n,t,r,a,i,o,u,c;for(i=this,n=[],u=0,r=arguments.length;u<r;u++)null!=(e=arguments[u])&&n.push(e);if(n.length>1&&(o=n[n.length-1]),null!=b[o])i._rgb=_(b[o](Ne(n.slice(0,-1))));else{for(d||(s=s.sort((function(e,n){return n.p-e.p})),d=!0),c=0,a=s.length;c<a&&!(o=(t=s[c]).test.apply(t,n));c++);o&&(i._rgb=_(b[o].apply(b,n)))}null==i._rgb&&console.warn("unknown format: "+n),null==i._rgb&&(i._rgb=[0,0,0]),3===i._rgb.length&&i._rgb.push(1)}return e.prototype.toString=function(){return this.hex()},e}(),x._input=b,
/**
  	ColorBrewer colors for chroma.js
  
  	Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The 
  	Pennsylvania State University.
  
  	Licensed under the Apache License, Version 2.0 (the "License"); 
  	you may not use this file except in compliance with the License.
  	You may obtain a copy of the License at	
  	http://www.apache.org/licenses/LICENSE-2.0
  
  	Unless required by applicable law or agreed to in writing, software distributed
  	under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
  	CONDITIONS OF ANY KIND, either express or implied. See the License for the
  	specific language governing permissions and limitations under the License.
  
      @preserve
   */
x.brewer=w={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var e,n;for(e in n=[],w)n.push(w[e.toLowerCase()]=w[e])}(),x.colors=Me={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},$=function(){var e,n,t,r,a,o,u;return r=(n=Ne(arguments))[0],e=n[1],t=n[2],o=(r+16)/116,a=isNaN(e)?o:o+e/500,u=isNaN(t)?o:o-t/200,o=i.Yn*V(o),a=i.Xn*V(a),u=i.Zn*V(u),[Se(3.2404542*a-1.5371385*o-.4985314*u),Se(-.969266*a+1.8760108*o+.041556*u),t=Se(.0556434*a-.2040259*o+1.0572252*u),n.length>3?n[3]:1]},Se=function(e){return 255*(e<=.00304?12.92*e:1.055*re(e,1/2.4)-.055)},V=function(e){return e>i.t1?e*e*e:i.t2*(e-i.t0)},i={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},se=function(){var e,n,t,r,a,i,o;return t=(r=Ne(arguments))[0],n=r[1],e=r[2],i=(a=ge(t,n,e))[0],[116*(o=a[1])-16,500*(i-o),200*(o-a[2])]},me=function(e){return(e/=255)<=.04045?e/12.92:re((e+.055)/1.055,2.4)},Oe=function(e){return e>i.t3?re(e,1/3):e/i.t2+i.t0},ge=function(){var e,n,t,r;return t=(r=Ne(arguments))[0],n=r[1],e=r[2],t=me(t),n=me(n),e=me(e),[Oe((.4124564*t+.3575761*n+.1804375*e)/i.Xn),Oe((.2126729*t+.7151522*n+.072175*e)/i.Yn),Oe((.0193339*t+.119192*n+.9503041*e)/i.Zn)]},x.lab=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["lab"]),(function(){}))},b.lab=$,r.prototype.lab=function(){return se(this._rgb)},m=function(e){var n,t,r,a,i,o,u,c,l,f,s;return 2===(e=function(){var n,t,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push(x(a));return r}()).length?(l=function(){var n,t,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push(a.lab());return r}(),i=l[0],o=l[1],n=function(e){var n,t;return t=function(){var t,r;for(r=[],n=t=0;t<=2;n=++t)r.push(i[n]+e*(o[n]-i[n]));return r}(),x.lab.apply(x,t)}):3===e.length?(f=function(){var n,t,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push(a.lab());return r}(),i=f[0],o=f[1],u=f[2],n=function(e){var n,t;return t=function(){var t,r;for(r=[],n=t=0;t<=2;n=++t)r.push((1-e)*(1-e)*i[n]+2*(1-e)*e*o[n]+e*e*u[n]);return r}(),x.lab.apply(x,t)}):4===e.length?(s=function(){var n,t,r;for(r=[],t=0,n=e.length;t<n;t++)a=e[t],r.push(a.lab());return r}(),i=s[0],o=s[1],u=s[2],c=s[3],n=function(e){var n,t;return t=function(){var t,r;for(r=[],n=t=0;t<=2;n=++t)r.push((1-e)*(1-e)*(1-e)*i[n]+3*(1-e)*(1-e)*e*o[n]+3*(1-e)*e*e*u[n]+e*e*e*c[n]);return r}(),x.lab.apply(x,t)}):5===e.length&&(t=m(e.slice(0,3)),r=m(e.slice(2,5)),n=function(e){return e<.5?t(2*e):r(2*(e-.5))}),n},x.bezier=function(e){var n;return(n=m(e)).scale=function(){return x.scale(n)},n},x.cubehelix=function(e,n,t,r,a){var i,o,u;return null==e&&(e=300),null==n&&(n=-1.5),null==t&&(t=1),null==r&&(r=1),null==a&&(a=[0,1]),i=0,"array"===je(a)?o=a[1]-a[0]:(o=0,a=[a,a]),(u=function(u){var c,f,s,d,b;return c=l*((e+120)/360+n*u),d=re(a[0]+o*u,r),f=(0!==i?t[0]+u*i:t)*d*(1-d)/2,s=N(c),b=ke(c),x(_([255*(d+f*(-.14861*s+1.78277*b)),255*(d+f*(-.29227*s-.90649*b)),255*(d+f*(1.97294*s)),1]))}).start=function(n){return null==n?e:(e=n,u)},u.rotations=function(e){return null==e?n:(n=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?t:("array"===je(t=e)?0==(i=t[1]-t[0])&&(t=t[1]):i=0,u)},u.lightness=function(e){return null==e?a:("array"===je(e)?(a=e,o=e[1]-e[0]):(a=[e,e],o=0),u)},u.scale=function(){return x.scale(u)},u.hue(t),u},x.random=function(){var e,n;for(e="#",n=0;n<6;++n)e+="0123456789abcdef".charAt(A(16*Math.random()));return new r(e)},h=[],R=function(e,n,t,r){var a,i,o,u;for(null==t&&(t=.5),null==r&&(r="rgb"),"object"!==je(e)&&(e=x(e)),"object"!==je(n)&&(n=x(n)),o=0,i=h.length;o<i;o++)if(r===(a=h[o])[0]){u=a[1](e,n,t,r);break}if(null==u)throw"color mode "+r+" is not supported";return u.alpha(e.alpha()+t*(n.alpha()-e.alpha()))},x.interpolate=R,r.prototype.interpolate=function(e,n,t){return R(this,e,n,t)},x.mix=R,r.prototype.mix=r.prototype.interpolate,b.rgb=function(){var e,n,t,r;for(e in t=[],n=Ne(arguments))r=n[e],t.push(r);return t},x.rgb=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["rgb"]),(function(){}))},r.prototype.rgb=function(e){return null==e&&(e=!0),e?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},r.prototype.rgba=function(e){return null==e&&(e=!0),e?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},s.push({p:3,test:function(e){var n;return n=Ne(arguments),"array"===je(n)&&3===n.length||4===n.length&&"number"===je(n[3])&&n[3]>=0&&n[3]<=1?"rgb":void 0}}),b.lrgb=b.rgb,q=function(e,n,t,a){var i,o;return i=e._rgb,o=n._rgb,new r(xe(re(i[0],2)*(1-t)+re(o[0],2)*t),xe(re(i[1],2)*(1-t)+re(o[1],2)*t),xe(re(i[2],2)*(1-t)+re(o[2],2)*t),a)},f=function(e){var n,t,a,i,o;for(n=1/e.length,o=[0,0,0,0],a=0,t=e.length;a<t;a++)i=e[a]._rgb,o[0]+=re(i[0],2)*n,o[1]+=re(i[1],2)*n,o[2]+=re(i[2],2)*n,o[3]+=i[3]*n;return o[0]=xe(o[0]),o[1]=xe(o[1]),o[2]=xe(o[2]),o[3]>1&&(o[3]=1),new r(_(o))},h.push(["lrgb",q]),x.average=function(e,n){var t,r,a,i,u,c,l,s,d,b,h,p,m;if(null==n&&(n="rgb"),d=e.length,e=e.map((function(e){return x(e)})),l=e.splice(0,1)[0],"lrgb"===n)return f(e);for(s in i=[],u=0,c=0,p=l.get(n))p[s]=p[s]||0,i.push(isNaN(p[s])?0:1),"h"!==n.charAt(s)||isNaN(p[s])||(t=p[s]/180*o,u+=N(t),c+=ke(t));for(r=l.alpha(),h=0,b=e.length;h<b;h++)for(s in m=(a=e[h]).get(n),r+=a.alpha(),p)isNaN(m[s])||(i[s]+=1,"h"===n.charAt(s)?(t=m[s]/180*o,u+=N(t),c+=ke(t)):p[s]+=m[s]);for(s in p)if("h"===n.charAt(s)){for(t=g(c/i[s],u/i[s])/o*180;t<0;)t+=360;for(;t>=360;)t-=360;p[s]=t}else p[s]=p[s]/i[s];return x(p,n).alpha(r/d)},L=function(e){var n,t;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]),[(t=parseInt(e,16))>>16,t>>8&255,255&t,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),[(t=parseInt(e,16))>>24&255,t>>16&255,t>>8&255,ye((255&t)/255*100)/100];if(null!=b.css&&(n=b.css(e)))return n;throw"unknown color: "+e},ue=function(e,n){var t,r,a,i,o,u;return null==n&&(n="auto"),o=e[0],a=e[1],r=e[2],t=e[3],"auto"===n&&(n=t<1?"rgba":"rgb"),o=Math.round(o),a=Math.round(a),r=Math.round(r),u=(u="000000"+(o<<16|a<<8|r).toString(16)).substr(u.length-6),i=(i="0"+ye(255*t).toString(16)).substr(i.length-2),"#"+function(){switch(n.toLowerCase()){case"rgba":return u+i;case"argb":return i+u;default:return u}}()},b.hex=function(e){return L(e)},x.hex=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["hex"]),(function(){}))},r.prototype.hex=function(e){return null==e&&(e="auto"),ue(this._rgb,e)},s.push({p:4,test:function(e){if(1===arguments.length&&"string"===je(e))return"hex"}}),P=function(){var e,n,t,r,a,i,o,u,c,l,f,s,d,b;if(a=(e=Ne(arguments))[0],f=e[1],o=e[2],0===f)c=r=n=255*o;else{for(t=[0,0,0],s=2*o-(d=o<.5?o*(1+f):o+f-o*f),(b=[0,0,0])[0]=(a/=360)+1/3,b[1]=a,b[2]=a-1/3,i=u=0;u<=2;i=++u)b[i]<0&&(b[i]+=1),b[i]>1&&(b[i]-=1),6*b[i]<1?t[i]=s+6*(d-s)*b[i]:2*b[i]<1?t[i]=d:3*b[i]<2?t[i]=s+(d-s)*(2/3-b[i])*6:t[i]=s;c=(l=[ye(255*t[0]),ye(255*t[1]),ye(255*t[2])])[0],r=l[1],n=l[2]}return e.length>3?[c,r,n,e[3]]:[c,r,n]},le=function(e,n,t){var r,a,i,o,u;return void 0!==e&&e.length>=3&&(e=(o=e)[0],n=o[1],t=o[2]),e/=255,n/=255,t/=255,i=Math.min(e,n,t),a=((Q=Math.max(e,n,t))+i)/2,Q===i?(u=0,r=Number.NaN):u=a<.5?(Q-i)/(Q+i):(Q-i)/(2-Q-i),e===Q?r=(n-t)/(Q-i):n===Q?r=2+(t-e)/(Q-i):t===Q&&(r=4+(e-n)/(Q-i)),(r*=60)<0&&(r+=360),[r,u,a]},x.hsl=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["hsl"]),(function(){}))},b.hsl=P,r.prototype.hsl=function(){return le(this._rgb)},I=function(){var e,n,t,r,a,i,o,u,c,l,f,s,d,b,h,p,g,m;if(a=(e=Ne(arguments))[0],p=e[1],m=e[2],m*=255,0===p)c=r=n=m;else switch(360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),o=m*(1-p),u=m*(1-p*(t=(a/=60)-(i=A(a)))),g=m*(1-p*(1-t)),i){case 0:c=(l=[m,g,o])[0],r=l[1],n=l[2];break;case 1:c=(f=[u,m,o])[0],r=f[1],n=f[2];break;case 2:c=(s=[o,m,g])[0],r=s[1],n=s[2];break;case 3:c=(d=[o,u,m])[0],r=d[1],n=d[2];break;case 4:c=(b=[g,o,m])[0],r=b[1],n=b[2];break;case 5:c=(h=[m,o,u])[0],r=h[1],n=h[2]}return[c,r,n,e.length>3?e[3]:1]},fe=function(){var e,n,t,r,a,i,o,u,c;return i=(o=Ne(arguments))[0],t=o[1],e=o[2],a=Math.min(i,t,e),n=(Q=Math.max(i,t,e))-a,c=Q/255,0===Q?(r=Number.NaN,u=0):(u=n/Q,i===Q&&(r=(t-e)/n),t===Q&&(r=2+(e-i)/n),e===Q&&(r=4+(i-t)/n),(r*=60)<0&&(r+=360)),[r,u,c]},x.hsv=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["hsv"]),(function(){}))},b.hsv=I,r.prototype.hsv=function(){return fe(this._rgb)},ne=function(e){return"number"===je(e)&&e>=0&&e<=16777215?[e>>16,e>>8&255,255&e,1]:(console.warn("unknown num color: "+e),[0,0,0,1])},he=function(){var e;return((e=Ne(arguments))[0]<<16)+(e[1]<<8)+e[2]},x.num=function(e){return new r(e,"num")},r.prototype.num=function(e){return null==e&&(e="rgb"),he(this._rgb,e)},b.num=ne,s.push({p:1,test:function(e){if(1===arguments.length&&"number"===je(e)&&e>=0&&e<=16777215)return"num"}}),T=function(){var e,n,t,r,a,i,o,u,c,l,f,s,d,b,h,p,g,m,v,y;if(u=(t=Ne(arguments))[0],a=t[1],n=t[2],o=o/100*255,e=255*(a/=100),0===a)s=o=r=n;else switch(360===u&&(u=0),u>360&&(u-=360),u<0&&(u+=360),f=(l=n*(1-a))+e*(1-(i=(u/=60)-(c=A(u)))),v=l+e*i,y=l+e,c){case 0:s=(d=[y,v,l])[0],o=d[1],r=d[2];break;case 1:s=(b=[f,y,l])[0],o=b[1],r=b[2];break;case 2:s=(h=[l,y,v])[0],o=h[1],r=h[2];break;case 3:s=(p=[l,f,y])[0],o=p[1],r=p[2];break;case 4:s=(g=[v,l,y])[0],o=g[1],r=g[2];break;case 5:s=(m=[y,l,f])[0],o=m[1],r=m[2]}return[s,o,r,t.length>3?t[3]:1]},oe=function(){var e,n,t,r,a,i,o,u,c;return u=(c=Ne(arguments))[0],a=c[1],n=c[2],o=Math.min(u,a,n),t=100*(r=(Q=Math.max(u,a,n))-o)/255,e=o/(255-r)*100,0===r?i=Number.NaN:(u===Q&&(i=(a-n)/r),a===Q&&(i=2+(n-u)/r),n===Q&&(i=4+(u-a)/r),(i*=60)<0&&(i+=360)),[i,t,e]},x.hcg=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["hcg"]),(function(){}))},b.hcg=T,r.prototype.hcg=function(){return oe(this._rgb)},M=function(e){var n,t,r,a,i,o,u,c;if(e=e.toLowerCase(),null!=x.colors&&x.colors[e])return L(x.colors[e]);if(i=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(u=i.slice(1,4),a=o=0;o<=2;a=++o)u[a]=+u[a];u[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(u=i.slice(1,5),a=c=0;c<=3;a=++c)u[a]=+u[a];else if(i=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(u=i.slice(1,4),a=n=0;n<=2;a=++n)u[a]=ye(2.55*u[a]);u[3]=1}else if(i=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(u=i.slice(1,5),a=t=0;t<=2;a=++t)u[a]=ye(2.55*u[a]);u[3]=+u[3]}else(i=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=1):(i=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((r=i.slice(1,4))[1]*=.01,r[2]*=.01,(u=P(r))[3]=+i[4]);return u},ie=function(e){var n;return"rgb"==(n=e[3]<1?"rgba":"rgb")?n+"("+e.slice(0,3).map(ye).join(",")+")":"rgba"===n?n+"("+e.slice(0,3).map(ye).join(",")+","+e[3]+")":void 0},ve=function(e){return ye(100*e)/100},E=function(e,n){var t;return t=n<1?"hsla":"hsl",e[0]=ve(e[0]||0),e[1]=ve(100*e[1])+"%",e[2]=ve(100*e[2])+"%","hsla"===t&&(e[3]=n),t+"("+e.join(",")+")"},b.css=function(e){return M(e)},x.css=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["css"]),(function(){}))},r.prototype.css=function(e){return null==e&&(e="rgb"),"rgb"===e.slice(0,3)?ie(this._rgb):"hsl"===e.slice(0,3)?E(this.hsl(),this.alpha()):void 0},b.named=function(e){return L(Me[e])},s.push({p:5,test:function(e){if(1===arguments.length&&null!=Me[e])return"named"}}),r.prototype.name=function(e){var n,t;for(t in arguments.length&&(Me[e]&&(this._rgb=L(Me[e])),this._rgb[3]=1),n=this.hex("rgb"),Me)if(n===Me[t])return t;return n},Y=function(){var e,n,t,r;return t=(r=Ne(arguments))[0],e=r[1],n=r[2],[t,N(n*=a)*e,ke(n)*e]},X=function(){var e,n,t,r,a,i,o,u,c;return o=(t=Ne(arguments))[0],a=t[1],i=t[2],e=(u=Y(o,a,i))[0],n=u[1],r=u[2],[(c=$(e,n,r))[0],c[1],r=c[2],t.length>3?t[3]:1]},z=function(){var e,n,t,r,a,i;return a=(i=Ne(arguments))[0],e=i[1],n=i[2],t=xe(e*e+n*n),r=(g(n,e)*c+360)%360,0===ye(1e4*t)&&(r=Number.NaN),[a,t,r]},de=function(){var e,n,t,r,a,i,o;return a=(i=Ne(arguments))[0],t=i[1],n=i[2],r=(o=se(a,t,n))[0],e=o[1],n=o[2],z(r,e,n)},x.lch=function(){var e;return e=Ne(arguments),new r(e,"lch")},x.hcl=function(){var e;return e=Ne(arguments),new r(e,"hcl")},b.lch=X,b.hcl=function(){var e,n,t,r;return n=(r=Ne(arguments))[0],e=r[1],t=r[2],X([t,e,n])},r.prototype.lch=function(){return de(this._rgb)},r.prototype.hcl=function(){return de(this._rgb).reverse()},ae=function(e){var n,t,r,a,i,o;return null==e&&(e="rgb"),i=(o=Ne(arguments))[0],r=o[1],n=o[2],r/=255,n/=255,[(1-(i/=255)-(a=1-Math.max(i,Math.max(r,n))))*(t=a<1?1/(1-a):0),(1-r-a)*t,(1-n-a)*t,a]},j=function(){var e,n,t,r,a,i;return t=(n=Ne(arguments))[0],a=n[1],i=n[2],r=n[3],e=n.length>4?n[4]:1,1===r?[0,0,0,e]:[t>=1?0:255*(1-t)*(1-r),a>=1?0:255*(1-a)*(1-r),i>=1?0:255*(1-i)*(1-r),e]},b.cmyk=function(){return j(Ne(arguments))},x.cmyk=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["cmyk"]),(function(){}))},r.prototype.cmyk=function(){return ae(this._rgb)},b.gl=function(){var e,n,t,r,a;for(r=function(){var e,t;for(n in t=[],e=Ne(arguments))a=e[n],t.push(a);return t}.apply(this,arguments),e=t=0;t<=2;e=++t)r[e]*=255;return r},x.gl=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["gl"]),(function(){}))},r.prototype.gl=function(){var e;return[(e=this._rgb)[0]/255,e[1]/255,e[2]/255,e[3]]},be=function(e,n,t){var r;return e=(r=Ne(arguments))[0],n=r[1],t=r[2],.2126*(e=Z(e))+.7152*(n=Z(n))+.0722*Z(t)},Z=function(e){return(e/=255)<=.03928?e/12.92:re((e+.055)/1.055,2.4)},G=function(e,n,t,a){var i,o;return i=e._rgb,o=n._rgb,new r(i[0]+t*(o[0]-i[0]),i[1]+t*(o[1]-i[1]),i[2]+t*(o[2]-i[2]),a)},h.push(["rgb",G]),r.prototype.luminance=function(e,n){var t,r,a,i,o;return null==n&&(n="rgb"),arguments.length?(i=this._rgb,0===e?i=[0,0,0,this._rgb[3]]:1===e?i=[255,255,255,this[3]]:(t=be(this._rgb),r=1e-7,a=20,o=function(t,i){var u,c;return u=(c=t.interpolate(i,.5,n)).luminance(),Math.abs(e-u)<r||!a--?c:u>e?o(t,c):o(c,i)},i=t>e?o(x("black"),this).rgba():o(this,x("white")).rgba()),x(i).alpha(this.alpha())):be(this._rgb)},_e=function(e){var n,t,r,a;return(a=e/100)<66?(r=255,t=-155.25485562709179-.44596950469579133*(t=a-2)+104.49216199393888*W(t),n=a<20?0:.8274096064007395*(n=a-10)-254.76935184120902+115.67994401066147*W(n)):(r=351.97690566805693+.114206453784165*(r=a-55)-40.25366309332127*W(r),t=325.4494125711974+.07943456536662342*(t=a-50)-28.0852963507957*W(t),n=255),[r,t,n]},pe=function(){var e,n,t,r,a,i,o,u;for(a=(i=Ne(arguments))[0],i[1],e=i[2],r=1e3,t=4e4,n=.4;t-r>n;)(o=_e(u=.5*(t+r)))[2]/o[0]>=e/a?t=u:r=u;return ye(u)},x.temperature=x.kelvin=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["temperature"]),(function(){}))},b.temperature=b.kelvin=b.K=_e,r.prototype.temperature=function(){return pe(this._rgb)},r.prototype.kelvin=r.prototype.temperature,x.contrast=function(e,n){var t,a,i,o;return"string"!==(i=je(e))&&"number"!==i||(e=new r(e)),"string"!==(o=je(n))&&"number"!==o||(n=new r(n)),(t=e.luminance())>(a=n.luminance())?(t+.05)/(a+.05):(a+.05)/(t+.05)},x.distance=function(e,n,t){var a,i,o,u,c,l,f;for(i in null==t&&(t="lab"),"string"!==(c=je(e))&&"number"!==c||(e=new r(e)),"string"!==(l=je(n))&&"number"!==l||(n=new r(n)),o=e.get(t),u=n.get(t),f=0,o)f+=(a=(o[i]||0)-(u[i]||0))*a;return Math.sqrt(f)},x.deltaE=function(e,n,t,a){var i,u,c,l,f,s,d,b,h,m,v,y,w,k,x,_,j,M,O,S,C,A,T,L;for(null==t&&(t=1),null==a&&(a=1),"string"!==(x=je(e))&&"number"!==x||(e=new r(e)),"string"!==(_=je(n))&&"number"!==_||(n=new r(n)),i=(j=e.lab())[0],c=j[1],f=j[2],u=(M=n.lab())[0],l=M[1],s=M[2],d=xe(c*c+f*f),b=xe(l*l+s*s),S=i<16?.511:.040975*i/(1+.01765*i),O=.0638*d/(1+.0131*d)+.638,k=d<1e-6?0:180*g(f,c)/o;k<0;)k+=360;for(;k>=360;)k-=360;return C=k>=164&&k<=345?.56+p(.2*N(o*(k+168)/180)):.36+p(.4*N(o*(k+35)/180)),w=xe((h=d*d*d*d)/(h+1900)),xe((A=(i-u)/(t*S))*A+(T=(y=d-b)/(a*O))*T+((m=c-l)*m+(v=f-s)*v-y*y)/((L=O*(w*C+1-w))*L))},r.prototype.get=function(e){var n,t,r,a,i;return r=(a=e.split("."))[0],n=a[1],i=this[r](),n?(t=r.indexOf(n))>-1?i[t]:console.warn("unknown channel "+n+" in mode "+r):i},r.prototype.set=function(e,n){var t,r,a,i,o;if(a=(i=e.split("."))[0],t=i[1])if(o=this[a](),(r=a.indexOf(t))>-1)if("string"===je(n))switch(n.charAt(0)){case"+":case"-":o[r]+=+n;break;case"*":o[r]*=+n.substr(1);break;case"/":o[r]/=+n.substr(1);break;default:o[r]=+n}else o[r]=n;else console.warn("unknown channel "+t+" in mode "+a);else o=n;return x(o,a).alpha(this.alpha())},r.prototype.clipped=function(){return this._rgb._clipped||!1},r.prototype.alpha=function(e){return arguments.length?x.rgb([this._rgb[0],this._rgb[1],this._rgb[2],e]):this._rgb[3]},r.prototype.darken=function(e){var n;return null==e&&(e=1),(n=this.lab())[0]-=i.Kn*e,x.lab(n).alpha(this.alpha())},r.prototype.brighten=function(e){return null==e&&(e=1),this.darken(-e)},r.prototype.darker=r.prototype.darken,r.prototype.brighter=r.prototype.brighten,r.prototype.saturate=function(e){var n;return null==e&&(e=1),(n=this.lch())[1]+=e*i.Kn,n[1]<0&&(n[1]=0),x.lch(n).alpha(this.alpha())},r.prototype.desaturate=function(e){return null==e&&(e=1),this.saturate(-e)},r.prototype.premultiply=function(){var e,n;return n=this.rgb(),e=this.alpha(),x(n[0]*e,n[1]*e,n[2]*e,e)},ee=function(e,n){return e*n/255},O=function(e,n){return e>n?n:e},K=function(e,n){return e>n?e:n},we=function(e,n){return 255*(1-(1-e/255)*(1-n/255))},te=function(e,n){return n<128?2*e*n/255:255*(1-2*(1-e/255)*(1-n/255))},k=function(e,n){return 255*(1-(1-n/255)/(e/255))},S=function(e,n){return 255===e||(e=n/255*255/(1-e/255))>255?255:e},(v=function(e,n,t){if(!v[t])throw"unknown blend mode "+t;return v[t](e,n)}).normal=(y=function(e){return function(n,t){var r,a;return r=x(t).rgb(),a=x(n).rgb(),x(e(r,a),"rgb")}})((C=function(e){return function(n,t){var r,a,i;for(i=[],r=a=0;a<=3;r=++a)i[r]=e(n[r],t[r]);return i}})((function(e,n){return e}))),v.multiply=y(C(ee)),v.screen=y(C(we)),v.overlay=y(C(te)),v.darken=y(C(O)),v.lighten=y(C(K)),v.dodge=y(C(S)),v.burn=y(C(k)),x.blend=v,x.analyze=function(e){var n,t,r,a;for(r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},t=0,n=e.length;t<n;t++)null==(a=e[t])||isNaN(a)||(r.values.push(a),r.sum+=a,a<r.min&&(r.min=a),a>r.max&&(r.max=a),r.count+=1);return r.domain=[r.min,r.max],r.limits=function(e,n){return x.limits(r,e,n)},r},x.scale=function(e,n){var t,r,a,i,o,u,c,l,f,s,d,b,h,p,g,m,v,y,w,k,_;return f="rgb",s=x("#ccc"),p=0,o=[0,1],h=[],b=[0,0],t=!1,a=[],d=!1,l=0,c=1,i=!1,r={},g=!0,u=1,k=function(e){var n,t,r,i,o,u;if(null==e&&(e=["#fff","#000"]),null!=e&&"string"===je(e)&&null!=x.brewer&&(e=x.brewer[e]||x.brewer[e.toLowerCase()]||e),"array"===je(e)){for(1===e.length&&(e=[e[0],e[0]]),n=r=0,i=(e=e.slice(0)).length-1;0<=i?r<=i:r>=i;n=0<=i?++r:--r)t=e[n],"string"===je(t)&&(e[n]=x(t));for(h.length=0,n=u=0,o=e.length-1;0<=o?u<=o:u>=o;n=0<=o?++u:--u)h.push(n/(e.length-1))}return w(),a=e},v=function(e){var n,r;if(null!=t){for(r=t.length-1,n=0;n<r&&e>=t[n];)n++;return n-1}return 0},_=function(e){return e},y=function(e,n){var i,o,d,p,m,y,w;if(null==n&&(n=!1),isNaN(e)||null===e)return s;if(w=n?e:t&&t.length>2?v(e)/(t.length-2):c!==l?(e-l)/(c-l):1,n||(w=_(w)),1!==u&&(w=re(w,u)),w=b[0]+w*(1-b[0]-b[1]),w=Math.min(1,Math.max(0,w)),d=Math.floor(1e4*w),g&&r[d])i=r[d];else{if("array"===je(a))for(o=p=0,y=h.length-1;0<=y?p<=y:p>=y;o=0<=y?++p:--p){if(w<=(m=h[o])){i=a[o];break}if(w>=m&&o===h.length-1){i=a[o];break}if(w>m&&w<h[o+1]){w=(w-m)/(h[o+1]-m),i=x.interpolate(a[o],a[o+1],w,f);break}}else"function"===je(a)&&(i=a(w));g&&(r[d]=i)}return i},w=function(){return r={}},k(e),(m=function(e){var n;return n=x(y(e)),d&&n[d]?n[d]():n}).classes=function(e){var n;return null!=e?("array"===je(e)?(t=e,o=[e[0],e[e.length-1]]):(n=x.analyze(o),t=0===e?[n.min,n.max]:x.limits(n,"e",e)),m):t},m.domain=function(e){var n,t,r,i,u,f,s;if(!arguments.length)return o;if(l=e[0],c=e[e.length-1],h=[],r=a.length,e.length===r&&l!==c)for(u=0,i=e.length;u<i;u++)t=e[u],h.push((t-l)/(c-l));else for(n=s=0,f=r-1;0<=f?s<=f:s>=f;n=0<=f?++s:--s)h.push(n/(r-1));return o=[l,c],m},m.mode=function(e){return arguments.length?(f=e,w(),m):f},m.range=function(e,n){return k(e),m},m.out=function(e){return d=e,m},m.spread=function(e){return arguments.length?(p=e,m):p},m.correctLightness=function(e){return null==e&&(e=!0),i=e,w(),_=i?function(e){var n,t,r,a,i,o,u,c;for(o=(n=y(0,!0).lab()[0])>(t=y(1,!0).lab()[0]),r=y(e,!0).lab()[0]-(a=n+(t-n)*e),u=0,c=1,i=20;Math.abs(r)>.01&&i-- >0;)o&&(r*=-1),r<0?(u=e,e+=.5*(c-e)):(c=e,e+=.5*(u-e)),r=y(e,!0).lab()[0]-a;return e}:function(e){return e},m},m.padding=function(e){return null!=e?("number"===je(e)&&(e=[e,e]),b=e,m):b},m.colors=function(n,r){var i,u,c,l,f,s,d,b;if(arguments.length<2&&(r="hex"),f=[],0===arguments.length)f=a.slice(0);else if(1===n)f=[m(.5)];else if(n>1)u=o[0],i=o[1]-u,f=function(){s=[];for(var e=0;0<=n?e<n:e>n;0<=n?e++:e--)s.push(e);return s}.apply(this).map((function(e){return m(u+e/(n-1)*i)}));else{if(e=[],d=[],t&&t.length>2)for(c=b=1,l=t.length;1<=l?b<l:b>l;c=1<=l?++b:--b)d.push(.5*(t[c-1]+t[c]));else d=o;f=d.map((function(e){return m(e)}))}return x[r]&&(f=f.map((function(e){return e[r]()}))),f},m.cache=function(e){return null!=e?(g=e,m):g},m.gamma=function(e){return null!=e?(u=e,m):u},m.nodata=function(e){return null!=e?(s=x(e),m):s},m},null==x.scales&&(x.scales={}),x.scales.cool=function(){return x.scale([x.hsl(180,1,.9),x.hsl(250,.7,.4)])},x.scales.hot=function(){return x.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},x.analyze=function(e,n,t){var r,a,i,o,u,c;if(u={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==t&&(t=function(){return!0}),r=function(e){null==e||isNaN(e)||(u.values.push(e),u.sum+=e,e<u.min&&(u.min=e),e>u.max&&(u.max=e),u.count+=1)},c=function(e,a){if(t(e,a))return null!=n&&"function"===je(n)?r(n(e)):null!=n&&"string"===je(n)||"number"===je(n)?r(e[n]):r(e)},"array"===je(e))for(o=0,i=e.length;o<i;o++)c(e[o]);else for(a in e)c(e[a],a);return u.domain=[u.min,u.max],u.limits=function(e,n){return x.limits(u,e,n)},u},x.limits=function(e,n,t){var r,a,i,o,u,c,l,f,s,d,b,h,g,m,v,y,w,k,_,j,N,M,O,S,C,T,L,B,E,P,I,R,D,F,q,U,G,z,$,V,Y,X,K,H,Z,J,ee,ne,te,ae,ie,oe,ue,ce,le;if(null==n&&(n="equal"),null==t&&(t=7),"array"===je(e)&&(e=x.analyze(e)),C=e.min,Q=e.max,e.sum,ce=e.values.sort((function(e,n){return e-n})),1===t)return[C,Q];if(O=[],"c"===n.substr(0,1)&&(O.push(C),O.push(Q)),"e"===n.substr(0,1)){for(O.push(C),j=I=1,q=t-1;1<=q?I<=q:I>=q;j=1<=q?++I:--I)O.push(C+j/t*(Q-C));O.push(Q)}else if("l"===n.substr(0,1)){if(C<=0)throw"Logarithmic scales are only possible for values > 0";for(T=Math.LOG10E*W(C),S=Math.LOG10E*W(Q),O.push(C),j=le=1,U=t-1;1<=U?le<=U:le>=U;j=1<=U?++le:--le)O.push(re(10,T+j/t*(S-T)));O.push(Q)}else if("q"===n.substr(0,1)){for(O.push(C),j=r=1,X=t-1;1<=X?r<=X:r>=X;j=1<=X?++r:--r)R=(ce.length-1)*j/t,(D=A(R))===R?O.push(ce[D]):(F=R-D,O.push(ce[D]*(1-F)+ce[D+1]*F));O.push(Q)}else if("k"===n.substr(0,1)){for(B=ce.length,m=new Array(B),k=new Array(t),ae=!0,E=0,y=null,(y=[]).push(C),j=a=1,K=t-1;1<=K?a<=K:a>=K;j=1<=K?++a:--a)y.push(C+j/t*(Q-C));for(y.push(Q);ae;){for(N=i=0,H=t-1;0<=H?i<=H:i>=H;N=0<=H?++i:--i)k[N]=0;for(j=o=0,Z=B-1;0<=Z?o<=Z:o>=Z;j=0<=Z?++o:--o){for(ue=ce[j],L=Number.MAX_VALUE,N=u=0,J=t-1;0<=J?u<=J:u>=J;N=0<=J?++u:--u)(_=p(y[N]-ue))<L&&(L=_,v=N);k[v]++,m[j]=v}for(P=new Array(t),N=c=0,ee=t-1;0<=ee?c<=ee:c>=ee;N=0<=ee?++c:--c)P[N]=null;for(j=l=0,ne=B-1;0<=ne?l<=ne:l>=ne;j=0<=ne?++l:--l)null===P[w=m[j]]?P[w]=ce[j]:P[w]+=ce[j];for(N=f=0,te=t-1;0<=te?f<=te:f>=te;N=0<=te?++f:--f)P[N]*=1/k[N];for(ae=!1,N=s=0,G=t-1;0<=G?s<=G:s>=G;N=0<=G?++s:--s)if(P[N]!==y[j]){ae=!0;break}y=P,++E>200&&(ae=!1)}for(M={},N=d=0,z=t-1;0<=z?d<=z:d>=z;N=0<=z?++d:--d)M[N]=[];for(j=b=0,$=B-1;0<=$?b<=$:b>=$;j=0<=$?++b:--b)M[w=m[j]].push(ce[j]);for(ie=[],N=h=0,V=t-1;0<=V?h<=V:h>=V;N=0<=V?++h:--h)ie.push(M[N][0]),ie.push(M[N][M[N].length-1]);for(ie=ie.sort((function(e,n){return e-n})),O.push(ie[0]),j=g=1,Y=ie.length-1;g<=Y;j=g+=2)oe=ie[j],isNaN(oe)||-1!==O.indexOf(oe)||O.push(oe)}return O},B=function(e,n,t){var r,a,i,o;return e=(r=Ne(arguments))[0],n=r[1],t=r[2],isNaN(e)&&(e=0),(e/=360)<1/3?i=1-((a=(1-n)/3)+(o=(1+n*N(l*e)/N(u-l*e))/3)):e<2/3?a=1-((o=(1-n)/3)+(i=(1+n*N(l*(e-=1/3))/N(u-l*e))/3)):o=1-((i=(1-n)/3)+(a=(1+n*N(l*(e-=2/3))/N(u-l*e))/3)),[255*(o=H(t*o*3)),255*(i=H(t*i*3)),255*(a=H(t*a*3)),r.length>3?r[3]:1]},ce=function(){var e,n,t,r,a,i,o;return a=(i=Ne(arguments))[0],n=i[1],e=i[2],l=2*Math.PI,a/=255,n/=255,e/=255,0==(o=1-Math.min(a,n,e)/(r=(a+n+e)/3))?t=0:(t=(a-n+(a-e))/2,t/=Math.sqrt((a-n)*(a-n)+(a-e)*(n-e)),t=Math.acos(t),e>n&&(t=l-t),t/=l),[360*t,o,r]},x.hsi=function(){return function(e,n,t){t.prototype=e.prototype;var r=new t,a=e.apply(r,n);return Object(a)===a?a:r}(r,Ce.call(arguments).concat(["hsi"]),(function(){}))},b.hsi=B,r.prototype.hsi=function(){return ce(this._rgb)},D=function(e,n,t,r){var a,i,o,u,c,l,f,s,d,b;return"hsl"===r?(d=e.hsl(),b=n.hsl()):"hsv"===r?(d=e.hsv(),b=n.hsv()):"hcg"===r?(d=e.hcg(),b=n.hcg()):"hsi"===r?(d=e.hsi(),b=n.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",d=e.hcl(),b=n.hcl()),"h"===r.substr(0,1)&&(i=d[0],f=d[1],u=d[2],o=b[0],s=b[1],c=b[2]),isNaN(i)||isNaN(o)?isNaN(i)?isNaN(o)?a=Number.NaN:(a=o,1!==u&&0!==u||"hsv"===r||(l=s)):(a=i,1!==c&&0!==c||"hsv"===r||(l=f)):a=i+t*(o>i&&o-i>180?o-(i+360):o<i&&i-o>180?o+360-i:o-i),null==l&&(l=f+t*(s-f)),x[r](a,l,u+t*(c-u))},U=function(e,n,t,r){var a,i;return a=e.num(),i=n.num(),x.num(a+(i-a)*t,"num")},(h=h.concat(function(){var e,n,t,r;for(r=[],n=0,e=(t=["hsv","hsl","hsi","hcl","lch","hcg"]).length;n<e;n++)J=t[n],r.push([J,D]);return r}())).push(["num",U]),F=function(e,n,t,a){var i,o;return i=e.lab(),o=n.lab(),new r(i[0]+t*(o[0]-i[0]),i[1]+t*(o[1]-i[1]),i[2]+t*(o[2]-i[2]),a)},h.push(["lab",F])}).call(this)}).call(this,t(33)(e))},33:function(e,n,t){e.exports=t(17)(422)},34:function(e,n,t){switch(window.__kbnThemeTag__){case"v8dark":return t(35);case"v8light":return t(37)}},35:function(e,n,t){var r=t(30),a=t(36);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},36:function(e,n,t){(n=t(31)(!1)).push([e.i,".timelionChart{display:flex;flex-direction:column;height:100%;width:100%}.timelionChart__topTitle{text-align:center}",""]),e.exports=n},37:function(e,n,t){var r=t(30),a=t(38);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);r(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},38:function(e,n,t){(n=t(31)(!1)).push([e.i,".timelionChart{display:flex;flex-direction:column;height:100%;width:100%}.timelionChart__topTitle{text-align:center}",""]),e.exports=n},45:function(e,n,t){"use strict";t.r(n),t.d(n,"getTimelionRequestHandler",(function(){return l})),t.d(n,"TimelionVisComponent",(function(){return I}));var r=t(5),a=t(26),i=t(1),o=t(23),u=t.n(o),c=t(0);function l({uiSettings:e,http:n,timefilter:t,expressionAbortSignal:o}){const l=(f=e).isDefault("dateFormat:tz")?u.a.tz.guess()||u()().format("Z"):f.get("dateFormat:tz","Browser");var f;return async function({timeRange:u,filters:f,query:s,visParams:d,searchSessionId:b,executionContext:h}){var p;const g=Object(c.b)(),m=d.expression,v=new AbortController,y=function(){v.abort()};if(o.addEventListener("abort",y),!m)throw new Error(r.i18n.translate("timelion.emptyExpressionErrorMessage",{defaultMessage:"Timelion error: No expression provided"}));let w;const k=null===(p=f[0])||void 0===p?void 0:p.meta.index;k&&(w=await Object(c.d)().get(k).catch((()=>{})));const x=Object(i.getEsQueryConfig)(e),_=async e=>await n.post("/api/timelion/run",{body:JSON.stringify({sheet:[m],extended:{es:{filter:Object(a.buildEsQuery)(w,s,f,x)}},time:{from:j.min,to:j.max,interval:d.interval,timezone:l},...e?{searchSession:e}:{}}),context:h,signal:v.signal}),j=t.calculateBounds(u),N=g.session.isCurrentSession(b)?g.session.trackSearch({abort:()=>v.abort(),poll:async()=>{},onSavingSession:async e=>{await _(e)}}):void 0;try{const e=g.session.getSearchOptions(b),n=await _(e);return null==N||N.complete(),n}catch(e){if(null==N||N.error(),e&&e.body){const n=new Error(`${r.i18n.translate("timelion.requestHandlerErrorTitle",{defaultMessage:"Timelion request error"})}:${e.body.title?" "+e.body.title:""} ${e.body.message}`);throw n.stack=e.stack,n}throw e}finally{o.removeEventListener("abort",y)}}}var f=t(6),s=t(3),d=t(21),b=t(22),h=t(9),p=t(27),g=t(2);const m=({color:e,bars:n})=>{var t,r;let a=null!==(t=n.fill)&&void 0!==t?t:1;return a<0?a=0:a>1&&(a=1),{rectBorder:{visible:!1},rect:{fill:e,opacity:a,widthPixel:Math.max(1,null!==(r=n.lineWidth)&&void 0!==r?r:1)}}},v=({index:e,groupId:n,visData:t})=>Object(g.jsx)(d.BarSeries,{id:e+t.label,groupId:n,name:t.label,xScaleType:d.ScaleType.Time,yScaleType:d.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:t._hide?[]:t.data,sortIndex:e,enableHistogramMode:!1,color:t.color,stackAccessors:t.stack?[0]:void 0,barSeriesStyle:m(t)});var y=t(32),w=t.n(y);const k=(e,n)=>!(null==e||!e.show)||null==n||!n.show,x=(e,n)=>{var t;const r=null!=e&&e.fillColor||void 0===(null==e?void 0:e.fill)?"white":n;return r&&w()(r).alpha(null!==(t=null==e?void 0:e.fill)&&void 0!==t?t:1).css()},_=({color:e,lines:n,points:t})=>{var r,a,i,o,u,c;return{line:{opacity:k(n,t)?1:0,stroke:e,strokeWidth:void 0!==(null==n?void 0:n.lineWidth)?Number(n.lineWidth):3,visible:k(n,t)},area:{fill:e,opacity:null!==(r=null==n?void 0:n.fill)&&void 0!==r?r:0,visible:null===(a=null!==(i=null==n?void 0:n.show)&&void 0!==i?i:null==t?void 0:t.show)||void 0===a||a},point:{fill:x(t,e),opacity:1,radius:null!==(o=null==t?void 0:t.radius)&&void 0!==o?o:3,stroke:e,strokeWidth:null!==(u=null==t?void 0:t.lineWidth)&&void 0!==u?u:2,visible:null!==(c=null==t?void 0:t.show)&&void 0!==c&&c,shape:"cross"===(null==t?void 0:t.symbol)?d.PointShape.X:null==t?void 0:t.symbol}}},j=({index:e,groupId:n,visData:t})=>{var r;return Object(g.jsx)(d.AreaSeries,{id:e+t.label,groupId:n,name:t.label,xScaleType:d.ScaleType.Time,yScaleType:d.ScaleType.Linear,xAccessor:0,yAccessors:[1],data:t._hide?[]:t.data,sortIndex:e,color:t.color,curve:null!==(r=t.lines)&&void 0!==r&&r.steps?d.CurveType.CURVE_STEP:d.CurveType.LINEAR,stackAccessors:t.stack?[0]:void 0,areaSeriesStyle:_(t)})};var N=t(24),M=t.n(N);const O={};[["ms","milliseconds","millisecond"],["s","seconds","second","sec"],["m","minutes","minute","min"],["h","hours","hour"],["d","days","day"],["w","weeks","week"],["M","months","month"],["quarter"],["y","years","year"]].forEach((e=>{const n=M.a.normalizeUnits(e[0]),t=M.a.duration(1,n).asMilliseconds();[].concat(n,e).forEach((e=>{O[e]=t}))}));const S=new RegExp("^(\\d+(?:\\.\\d*)?)?\\s*("+Object(s.keys)(O).join("|")+")$");function C(e){const n=e.match(S);if(n){if("M"===n[2]&&"1"!==n[1])throw new Error("Invalid interval. 1M is only valid monthly interval.");return parseFloat(n[1]||"1")*O[n[2]]}}function A(e,n){return t=>{let r=0;const a=t<0;for(t=Math.abs(t);t>=e&&r<n.length;)t/=e,r++;return`${Math.round(100*t)/100*(a?-1:1)}${n[r]}`}}const T=(e,n,t)=>{const a=n.getBounds(),i=function(e,n,t,r,a){if("auto"!==r)return r;const i=function(e){switch(!0){case e<=500:return"100ms";case e<=5e3:return"1s";case e<=7500:return"5s";case e<=15e3:return"10s";case e<=45e3:return"30s";case e<=18e4:return"1m";case e<=45e4:return"5m";case e<=12e5:return"10m";case e<=27e5:return"30m";case e<=72e5:return"1h";case e<=216e5:return"3h";case e<=864e5:return"12h";case e<=6048e5:return"24h";case e<=18144e5:return"1w";case e<36288e5:return"30d";default:return"1y"}}((n-e)/t),o=C(i),u=C(a);return void 0!==o&&void 0!==u&&o<u?a:i}(a.min&&a.min.valueOf()||0,a.max&&a.max.valueOf()||0,t.get("timelion:target_buckets")||200,e,t.get("timelion:min_interval")||"1ms"),o=(c=t,e=>function(e){const n=e.match(/(\d+)(ms|s|m|h|d|w|M|y|)/);if(null===n||null===n[1]||null===n[2])throw new Error(r.i18n.translate("timelion.panels.timechart.unknownIntervalErrorMessage",{defaultMessage:"Unknown interval"}));const t=M.a.duration(Number(n[1]),n[2]),a=c.get("dateFormat:scaled");for(let e=a.length-1;e>=0;e--){const n=a[e];if(!n[0]||t>=M.a.duration(n[0]))return n[1]}return c.get("dateFormat")}(e))(i);var c;return e=>u()(e).format(o)},L=e=>({...e,padding:20,paddingUnit:"pixel"}),B=e=>{var n,t;const r=(null!==(n=null===(t=e._global)||void 0===t?void 0:t.yaxes)&&void 0!==n?n:[]).reduce(((e,n)=>({...e,...n})),{});if(Object.keys(r).length)return(e=>{var n,t;const r={...e};if(r.units){const e=(a=r,{bits:A(1e3,["b","kb","mb","gb","tb","pb"]),"bits/s":A(1e3,["b/s","kb/s","mb/s","gb/s","tb/s","pb/s"]),bytes:A(1024,["B","KB","MB","GB","TB","PB"]),"bytes/s":A(1024,["B/s","KB/s","MB/s","GB/s","TB/s","PB/s"]),currency:e=>e.toLocaleString("en",{style:"currency",currency:a&&a.units&&a.units.prefix||"USD"}),percent(e){let n=Object(s.get)(a,"tickDecimals",0)-Object(s.get)(a,"units.tickDecimalsShift",0);return n<0?n=0:n>20&&(n=20),(100*e).toFixed(n)+"%"},custom(e){const n=function(e,n){const t=n.tickDecimals?Math.pow(10,n.tickDecimals):1,r=""+Math.round(e*t)/t;if(null!=n.tickDecimals){const e=r.indexOf("."),a=-1===e?0:r.length-e-1;if(a<n.tickDecimals)return(a?r:r+".")+(""+t).substr(1,n.tickDecimals-a)}return r}(e,a);return(a&&a.units&&a.units.prefix)+n+(a&&a.units&&a.units.suffix)}});r.tickFormatter=e[r.units.type]}else e.tickDecimals&&(r.tickFormatter=n=>n.toFixed(e.tickDecimals));var a;return{title:r.axisLabel,position:r.position,tickFormat:r.tickFormatter,domain:L({fit:void 0===r.min&&void 0===r.max,min:null!==(n=r.min)&&void 0!==n?n:NaN,max:null!==(t=r.max)&&void 0!==t?t:NaN})}})(r)},E=["#01A4A4","#C66","#D0D102","#616161","#00A1CB","#32742C","#F18D05","#113F8C","#61AE24","#D70060"];t(34);const P=()=>Object(g.jsx)(d.Axis,{id:"left",domain:L({fit:!1,min:NaN,max:NaN}),position:d.Position.Left,groupId:"1"}),I=({interval:e,seriesList:n,renderComplete:t,onBrushEvent:r,ariaLabel:a,syncTooltips:i,syncCursor:o})=>{var u;const l=Object(h.useKibana)(),m=Object(f.useRef)(null),y=n.list,w=Object(c.a)(),k=w.theme.useChartsTheme(),x=w.theme.useChartsBaseTheme(),_=Object(p.useActiveCursor)(w.activeCursor,m,{isDateHistogram:!0}),N=Object(f.useCallback)((({x:e})=>{e&&r({gte:e[0],lte:e[1]})}),[r]),M=Object(f.useCallback)((e=>{e&&t()}),[t]),O=Object(f.useMemo)((()=>Object(s.last)(Object(s.compact)(Object(s.map)(n.list,"_title")))||""),[n.list]),S=Object(f.useMemo)((()=>T(e,l.services.timefilter,l.services.uiSettings)),[e,l.services.timefilter,l.services.uiSettings]),C=Object(f.useMemo)((()=>{const e={floating:!0,floatingColumns:1,vAlign:d.Position.Top,hAlign:d.Position.Left,direction:d.LayoutDirection.Vertical};let n=!0;return y.forEach((t=>{var r;if(null!==(r=t._global)&&void 0!==r&&r.legend){var a,i;const{show:r=!0,position:o,noColumns:u=e.floatingColumns}=null!==(a=null===(i=t._global)||void 0===i?void 0:i.legend)&&void 0!==a?a:{};if((e=>/^(n|s)(e|w)$/s.test(e))(o)){const[n,t]=o.split("");e.vAlign="n"===n?d.Position.Top:d.Position.Bottom,e.hAlign="e"===t?d.Position.Right:d.Position.Left}r||(n=!1),void 0!==u&&(e.floatingColumns=u)}})),{legendPosition:e,showLegend:n}}),[y]);return Object(g.jsx)("div",{className:"timelionChart","data-test-subj":"timelionChart"},O&&Object(g.jsx)(b.EuiTitle,{className:"timelionChart__topTitle",size:"xxxs"},Object(g.jsx)("h4",null,O)),Object(g.jsx)(d.Chart,{ref:m,renderer:"canvas",size:{width:"100%"}},Object(g.jsx)(d.Settings,{debugState:null!==(u=window._echDebugStateFlag)&&void 0!==u&&u,onBrushEnd:N,showLegend:C.showLegend,showLegendExtra:!0,legendPosition:C.legendPosition,onRenderChange:M,onPointerUpdate:o?_:void 0,externalPointerEvents:{tooltip:{visible:i,placement:d.Placement.Right}},theme:k,baseTheme:x,tooltip:{snap:!0,headerFormatter:({value:e})=>S(e),type:d.TooltipType.VerticalCursor},ariaLabel:a,ariaUseDefaultSummary:!a}),Object(g.jsx)(d.Axis,{id:"bottom",position:d.Position.Bottom,showOverlappingTicks:!0,tickFormat:S,gridLine:{visible:!1}}),(e=>{const n=(e=>e.reduce(((e,n,t)=>{const r=B(n),a=`${n.yaxis?n.yaxis:1}`;if(e.every((e=>e.groupId!==a)))e.push({groupId:a,domain:L({fit:!1,min:NaN,max:NaN}),id:((null==r?void 0:r.position)||d.Position.Left)+t,position:d.Position.Left,...r});else if(r){const n=e.findIndex((e=>e.groupId===a));e[n]={...e[n],...r}}return e}),[]))(e),t=e=>Object(c.c)().getInstance("number").convert(e),r=n.map(((e,n)=>Object(g.jsx)(d.Axis,{groupId:e.groupId,key:n,id:e.id,title:e.title,position:e.position,tickFormat:e.tickFormat||t,gridLine:{visible:!n},domain:e.domain})));return r.length?r:Object(g.jsx)(P,null)})(y),y.map(((e,n)=>{const t={...e},r=e.bars?v:j;return t.color||(t.color=E[n%E.length]),Object(g.jsx)(r,{key:`${n}-${t.label}`,visData:t,index:y.length-n,groupId:`${t.yaxis?t.yaxis:1}`})}))))}}}]);