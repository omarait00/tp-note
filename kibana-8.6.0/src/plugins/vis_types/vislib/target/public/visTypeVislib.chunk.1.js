(window.visTypeVislib_bundle_jsonpfunction=window.visTypeVislib_bundle_jsonpfunction||[]).push([[1],Array(42).concat([function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t,e){return r.call(t,e)}function a(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)||t>=0&&t<=8||11===t||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function o(t){if(t>65535){var e=55296+((t-=65536)>>10),n=56320+(1023&t);return String.fromCharCode(e,n)}return String.fromCharCode(t)}var s=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=new RegExp(s.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),l=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,c=n(50),h=/[&<>"]/,f=/[&<>"]/g,p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function d(t){return p[t]}var g=/[.?*+^$[\]\\(){}|-]/g,v=n(45);e.lib={},e.lib.mdurl=n(51),e.lib.ucmicro=n(71),e.assign=function(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){if(e){if("object"!=typeof e)throw new TypeError(e+"must be object");Object.keys(e).forEach((function(n){t[n]=e[n]}))}})),t},e.isString=function(t){return"[object String]"===function(t){return Object.prototype.toString.call(t)}(t)},e.has=i,e.unescapeMd=function(t){return t.indexOf("\\")<0?t:t.replace(s,"$1")},e.unescapeAll=function(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(u,(function(t,e,n){return e||function(t,e){var n=0;return i(c,e)?c[e]:35===e.charCodeAt(0)&&l.test(e)&&a(n="x"===e[1].toLowerCase()?parseInt(e.slice(2),16):parseInt(e.slice(1),10))?o(n):t}(t,n)}))},e.isValidEntityCode=a,e.fromCodePoint=o,e.escapeHtml=function(t){return h.test(t)?t.replace(f,d):t},e.arrayReplaceAt=function(t,e,n){return[].concat(t.slice(0,e),n,t.slice(e+1))},e.isSpace=function(t){switch(t){case 9:case 32:return!0}return!1},e.isWhiteSpace=function(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},e.isMdAsciiPunct=function(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},e.isPunctChar=function(t){return v.test(t)},e.escapeRE=function(t){return t.replace(g,"\\$&")},e.normalizeReference=function(t){return t=t.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(t=t.replace(/ẞ/g,"ß")),t.toLowerCase().toUpperCase()}},function(t,e,n){var r,i;!function(){var a={version:"3.5.17"},o=[].slice,s=function(t){return o.call(t)},u=this.document;function l(t){return t&&(t.ownerDocument||t.document||t).documentElement}function c(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(u)try{s(u.documentElement.childNodes)[0].nodeType}catch(t){s=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),u)try{u.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var h=this.Element.prototype,f=h.setAttribute,p=h.setAttributeNS,d=this.CSSStyleDeclaration.prototype,g=d.setProperty;h.setAttribute=function(t,e){f.call(this,t,e+"")},h.setAttributeNS=function(t,e,n){p.call(this,t,e,n+"")},d.setProperty=function(t,e,n){g.call(this,t,e+"",n)}}function v(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function m(t){return null===t?NaN:+t}function y(t){return!isNaN(t)}function x(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)<0?r=a+1:i=a}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var a=r+i>>>1;t(e[a],n)>0?i=a:r=a+1}return r}}}a.ascending=v,a.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},a.min=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},a.max=function(t,e){var n,r,i=-1,a=t.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},a.extent=function(t,e){var n,r,i,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=t[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e.call(t,t[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(t,e){var n,r=0,i=t.length,a=-1;if(1===arguments.length)for(;++a<i;)y(n=+t[a])&&(r+=n);else for(;++a<i;)y(n=+e.call(t,t[a],a))&&(r+=n);return r},a.mean=function(t,e){var n,r=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)y(n=m(t[a]))?r+=n:--o;else for(;++a<i;)y(n=m(e.call(t,t[a],a)))?r+=n:--o;if(o)return r/o},a.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],a=n-r;return a?i+a*(t[r]-i):i},a.median=function(t,e){var n,r=[],i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)y(n=m(t[o]))&&r.push(n);else for(;++o<i;)y(n=m(e.call(t,t[o],o)))&&r.push(n);if(r.length)return a.quantile(r.sort(v),.5)},a.variance=function(t,e){var n,r,i=t.length,a=0,o=0,s=-1,u=0;if(1===arguments.length)for(;++s<i;)y(n=m(t[s]))&&(o+=(r=n-a)*(n-(a+=r/++u)));else for(;++s<i;)y(n=m(e.call(t,t[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++u)));if(u>1)return o/(u-1)},a.deviation=function(){var t=a.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _=x(v);function b(t){return t.length}a.bisectLeft=_.left,a.bisect=a.bisectRight=_.right,a.bisector=function(t){return x(1===t.length?function(e,n){return v(t(e),n)}:t)},a.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var r,i,a=n-e;a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},a.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},a.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=new Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},a.transpose=function(t){if(!(i=t.length))return[];for(var e=-1,n=a.min(t,b),r=new Array(n);++e<n;)for(var i,o=-1,s=r[e]=new Array(i);++o<i;)s[o]=t[o][e];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(t){var e=[];for(var n in t)e.push(n);return e},a.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},a.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},a.merge=function(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--o]=r[e];return n};var w=Math.abs;function k(t){for(var e=1;t*e%1;)e*=10;return e}function C(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function A(){this._=Object.create(null)}function M(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function E(t){return"\0"===(t+="")[0]?t.slice(1):t}function S(t){return M(t)in this._}function D(t){return(t=M(t))in this._&&delete this._[t]}function L(){var t=[];for(var e in this._)t.push(E(e));return t}function T(){var t=0;for(var e in this._)++t;return t}function z(){for(var t in this._)return!1;return!0}function q(){this._=Object.create(null)}function N(t){return t}function F(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function O(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=R.length;n<r;++n){var i=R[n]+e;if(i in t)return i}}a.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,i=[],a=k(w(n)),o=-1;if(t*=a,e*=a,(n*=a)<0)for(;(r=t+n*++o)>e;)i.push(r/a);else for(;(r=t+n*++o)<e;)i.push(r/a);return i},a.map=function(t,e){var n=new A;if(t instanceof A)t.forEach((function(t,e){n.set(t,e)}));else if(Array.isArray(t)){var r,i=-1,a=t.length;if(1===arguments.length)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e.call(t,r=t[i],i),r)}else for(var o in t)n.set(o,t[o]);return n},C(A,{has:S,get:function(t){return this._[M(t)]},set:function(t,e){return this._[M(t)]=e},remove:D,keys:L,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:E(e),value:this._[e]});return t},size:T,empty:z,forEach:function(t){for(var e in this._)t.call(this,E(e),this._[e])}}),a.nest=function(){var t,e,n={},r=[],i=[];function o(i,a,s){if(s>=r.length)return e?e.call(n,a):t?a.sort(t):a;for(var u,l,c,h,f=-1,p=a.length,d=r[s++],g=new A;++f<p;)(h=g.get(u=d(l=a[f])))?h.push(l):g.set(u,[l]);return i?(l=i(),c=function(t,e){l.set(t,o(i,e,s))}):(l={},c=function(t,e){l[t]=o(i,e,s)}),g.forEach(c),l}function s(t,e){if(e>=r.length)return t;var n=[],a=i[e++];return t.forEach((function(t,r){n.push({key:t,values:s(r,e)})})),a?n.sort((function(t,e){return a(t.key,e.key)})):n}return n.map=function(t,e){return o(e,t,0)},n.entries=function(t){return s(o(a.map,t,0),0)},n.key=function(t){return r.push(t),n},n.sortKeys=function(t){return i[r.length-1]=t,n},n.sortValues=function(e){return t=e,n},n.rollup=function(t){return e=t,n},n},a.set=function(t){var e=new q;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},C(q,{has:S,add:function(t){return this._[M(t+="")]=!0,t},remove:D,values:L,size:T,empty:z,forEach:function(t){for(var e in this._)t.call(this,E(e))}}),a.behavior={},a.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=F(t,e,e[n]);return t};var R=["webkit","ms","moz","Moz","o","O"];function j(){}function P(){}function I(t){var e=[],n=new A;function r(){for(var n,r=e,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function B(){a.event.preventDefault()}function H(){for(var t,e=a.event;t=e.sourceEvent;)e=t;return e}function V(t){for(var e=new P,n=0,r=arguments.length;++n<r;)e[arguments[n]]=I(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=t,a.event=i,e[i.type].apply(n,r)}finally{a.event=o}}},e}a.dispatch=function(){for(var t=new P,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=I(t);return t},P.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},a.event=null,a.requote=function(t){return t.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function Z(t){return $(t,X),t}var G=function(t,e){return e.querySelector(t)},W=function(t,e){return e.querySelectorAll(t)},Y=function(t,e){var n=t.matches||t[O(t,"matchesSelector")];return Y=function(t,e){return n.call(t,e)},Y(t,e)};"function"==typeof Sizzle&&(G=function(t,e){return Sizzle(t,e)[0]||null},W=Sizzle,Y=Sizzle.matchesSelector),a.selection=function(){return a.select(u.documentElement)};var X=a.selection.prototype=[];function J(t){return"function"==typeof t?t:function(){return G(t,this)}}function K(t){return"function"==typeof t?t:function(){return W(t,this)}}X.select=function(t){var e,n,r,i,a=[];t=J(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return Z(a)},X.selectAll=function(t){var e,n,r=[];t=K(t);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],u=-1,l=o.length;++u<l;)(n=o[u])&&(r.push(e=s(t.call(n,n.__data__,u,i))),e.parentNode=n);return Z(r)};var Q="http://www.w3.org/1999/xhtml",tt={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function et(t,e){return t=a.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function nt(t){return t.trim().replace(/\s+/g," ")}function rt(t){return new RegExp("(?:^|\\s+)"+a.requote(t)+"(?:\\s+|$)","g")}function it(t){return(t+"").trim().split(/^|\s+/)}function at(t,e){var n=(t=it(t).map(ot)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function ot(t){var e=rt(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",nt(i+" "+t))):n.setAttribute("class",nt(i.replace(e," ")))}}function st(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function ut(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function lt(t){return"function"==typeof t?t:(t=a.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Q&&e.documentElement.namespaceURI===Q?e.createElement(t):e.createElementNS(n,t)}}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function ht(t){return{__data__:t}}function ft(t){return function(){return Y(this,t)}}function pt(t){return arguments.length||(t=v),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function dt(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,a=t[n],o=0,s=a.length;o<s;o++)(i=a[o])&&e(i,o,n);return t}function gt(t){return $(t,vt),t}a.ns={prefix:tt,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),tt.hasOwnProperty(n)?{space:tt[n],local:t}:t}},X.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return(t=a.ns.qualify(t)).local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},X.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=it(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!rt(t[i]).test(e))return!1;return!0}for(e in t)this.each(at(e,t[e]));return this}return this.each(at(t,e))},X.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(st(n,t[n],e));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(st(t,e,n))},X.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(ut(e,t[e]));return this}return this.each(ut(t,e))},X.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},X.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},X.append=function(t){return t=lt(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},X.insert=function(t,e){return t=lt(t),e=J(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},X.remove=function(){return this.each(ct)},X.data=function(t,e){var n,r,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(t[i]=r.__data__);return t}function o(t,n){var r,i,a,o=t.length,c=n.length,h=Math.min(o,c),f=new Array(c),p=new Array(c),d=new Array(o);if(e){var g,v=new A,m=new Array(o);for(r=-1;++r<o;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?d[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=e.call(n,a=n[r],r)))?!0!==i&&(f[r]=i,i.__data__=a):p[r]=ht(a),v.set(g,!0);for(r=-1;++r<o;)r in m&&!0!==v.get(m[r])&&(d[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],a=n[r],i?(i.__data__=a,f[r]=i):p[r]=ht(a);for(;r<c;++r)p[r]=ht(n[r]);for(;r<o;++r)d[r]=t[r]}p.update=f,p.parentNode=f.parentNode=d.parentNode=t.parentNode,s.push(p),u.push(f),l.push(d)}var s=gt([]),u=Z([]),l=Z([]);if("function"==typeof t)for(;++i<a;)o(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],t);return u.enter=function(){return s},u.exit=function(){return l},u},X.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},X.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=ft(t));for(var a=0,o=this.length;a<o;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,u=n.length;s<u;s++)(r=n[s])&&t.call(r,r.__data__,s,a)&&e.push(r)}return Z(i)},X.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},X.sort=function(t){t=pt.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},X.each=function(t){return dt(this,(function(e,n,r){t.call(e,e.__data__,n,r)}))},X.call=function(t){var e=s(arguments);return t.apply(e[0]=this,e),this},X.empty=function(){return!this.node()},X.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},X.size=function(){var t=0;return dt(this,(function(){++t})),t};var vt=[];function mt(t){var e,n;return function(r,i,a){var o,s=t[a].update,u=s.length;for(a!=n&&(n=a,e=0),i>=e&&(e=i+1);!(o=s[e])&&++e<u;);return o}}function yt(t,e,n){var r="__on"+t,i=t.indexOf("."),o=_t;i>0&&(t=t.slice(0,i));var u=xt.get(t);function l(){var e=this[r];e&&(this.removeEventListener(t,e,e.$),delete this[r])}return u&&(t=u,o=bt),i?e?function(){var i=o(e,s(arguments));l.call(this),this.addEventListener(t,this[r]=i,i.$=n),i._=e}:l:e?j:function(){var e,n=new RegExp("^__on([^.]+)"+a.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}}a.selection.enter=gt,a.selection.enter.prototype=vt,vt.append=X.append,vt.empty=X.empty,vt.node=X.node,vt.call=X.call,vt.size=X.size,vt.select=function(t){for(var e,n,r,i,a,o=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(a=i[l])?(e.push(r[l]=n=t.call(i.parentNode,a.__data__,l,s)),n.__data__=a.__data__):e.push(null)}return Z(o)},vt.insert=function(t,e){return arguments.length<2&&(e=mt(this)),X.insert.call(this,t,e)},a.select=function(t){var e;return"string"==typeof t?(e=[G(t,u)]).parentNode=u.documentElement:(e=[t]).parentNode=l(t),Z([e])},a.selectAll=function(t){var e;return"string"==typeof t?(e=s(W(t,u))).parentNode=u.documentElement:(e=s(t)).parentNode=null,Z([e])},X.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(yt(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(yt(t,e,n))};var xt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function _t(t,e){return function(n){var r=a.event;a.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{a.event=r}}}function bt(t,e){var n=_t(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}u&&xt.forEach((function(t){"on"+t in u&&xt.remove(t)}));var wt,kt=0;function Ct(t){var e=".dragsuppress-"+ ++kt,n="click"+e,r=a.select(c(t)).on("touchmove"+e,B).on("dragstart"+e,B).on("selectstart"+e,B);if(null==wt&&(wt=!("onselectstart"in t)&&O(t.style,"userSelect")),wt){var i=l(t).style,o=i[wt];i[wt]="none"}return function(t){if(r.on(e,null),wt&&(i[wt]=o),t){var a=function(){r.on(n,null)};r.on(n,(function(){B(),a()}),!0),setTimeout(a,0)}}}a.mouse=function(t){return Mt(t,H())};var At=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Mt(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(At<0){var i=c(t);if(i.scrollX||i.scrollY){var o=(n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();At=!(o.f||o.e),n.remove()}}return At?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function Et(){return a.event.changedTouches[0].identifier}a.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=H().changedTouches),e)for(var r,i=0,a=e.length;i<a;++i)if((r=e[i]).identifier===n)return Mt(t,r)},a.behavior.drag=function(){var t=V(i,"drag","dragstart","dragend"),e=null,n=o(j,a.mouse,c,"mousemove","mouseup"),r=o(Et,a.touch,N,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,i,o,s){return function(){var u,l=this,c=a.event.target.correspondingElement||a.event.target,h=l.parentNode,f=t.of(l,arguments),p=0,d=n(),g=".drag"+(null==d?"":"-"+d),v=a.select(i(c)).on(o+g,x).on(s+g,_),m=Ct(c),y=r(h,d);function x(){var t,e,n=r(h,d);n&&(t=n[0]-y[0],e=n[1]-y[1],p|=t|e,y=n,f({type:"drag",x:n[0]+u[0],y:n[1]+u[1],dx:t,dy:e}))}function _(){r(h,d)&&(v.on(o+g,null).on(s+g,null),m(p),f({type:"dragend"}))}u=e?[(u=e.apply(l,arguments)).x-y[0],u.y-y[1]]:[0,0],f({type:"dragstart"})}}return i.origin=function(t){return arguments.length?(e=t,i):e},a.rebind(i,t,"on")},a.touches=function(t,e){return arguments.length<2&&(e=H().touches),e?s(e).map((function(e){var n=Mt(t,e);return n.identifier=e.identifier,n})):[]};var St=1e-6,Dt=St*St,Lt=Math.PI,Tt=2*Lt,zt=Tt-St,qt=Lt/2,Nt=Lt/180,Ft=180/Lt;function Ot(t){return t>0?1:t<0?-1:0}function Rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function jt(t){return t>1?0:t<-1?Lt:Math.acos(t)}function Pt(t){return t>1?qt:t<-1?-qt:Math.asin(t)}function It(t){return((t=Math.exp(t))+1/t)/2}function Bt(t){return(t=Math.sin(t/2))*t}var Ht=Math.SQRT2;a.interpolateZoom=function(t,e){var n,r,i=t[0],a=t[1],o=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-a,f=c*c+h*h;if(f<Dt)r=Math.log(l/o)/Ht,n=function(t){return[i+t*c,a+t*h,o*Math.exp(Ht*t*r)]};else{var p=Math.sqrt(f),d=(l*l-o*o+4*f)/(2*o*2*p),g=(l*l-o*o-4*f)/(2*l*2*p),v=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Ht,n=function(t){var e,n=t*r,s=It(v),u=o/(2*p)*(s*(e=Ht*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*c,a+u*h,o*s/It(Ht*n+v)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){var t,e,n,r,i,o,s,l,h,f={x:0,y:0,k:1},p=[960,500],d=$t,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",_="touchstart.zoom",b=V(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,T).on(Ut+".zoom",q).on("dblclick.zoom",N).on(_,z)}function k(t){return[(t[0]-f.x)/f.k,(t[1]-f.y)/f.k]}function C(t){f.k=Math.max(d[0],Math.min(d[1],t))}function A(t,e){e=function(t){return[t[0]*f.k+f.x,t[1]*f.k+f.y]}(e),f.x+=t[0]-e[0],f.y+=t[1]-e[1]}function M(t,n,r,i){t.__chart__={x:f.x,y:f.y,k:f.k},C(Math.pow(2,i)),A(e=n,r),t=a.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function E(){s&&s.domain(o.range().map((function(t){return(t-f.x)/f.k})).map(o.invert)),h&&h.domain(l.range().map((function(t){return(t-f.y)/f.k})).map(l.invert))}function S(t){v++||t({type:"zoomstart"})}function D(t){E(),t({type:"zoom",scale:f.k,translate:[f.x,f.y]})}function L(t){--v||(t({type:"zoomend"}),e=null)}function T(){var t=this,e=b.of(t,arguments),n=0,r=a.select(c(t)).on(y,s).on(x,u),i=k(a.mouse(t)),o=Ct(t);function s(){n=1,A(a.mouse(t),i),D(e)}function u(){r.on(y,null).on(x,null),o(n),L(e)}Fs.call(t),S(e)}function z(){var t,e=this,n=b.of(e,arguments),r={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,u="touchmove"+s,l="touchend"+s,c=[],h=a.select(e),p=Ct(e);function d(){var n=a.touches(e);return t=f.k,n.forEach((function(t){t.identifier in r&&(r[t.identifier]=k(t))})),n}function g(){var t=a.event.target;a.select(t).on(u,v).on(l,y),c.push(t);for(var n=a.event.changedTouches,s=0,h=n.length;s<h;++s)r[n[s].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-i<500){var m=p[0];M(e,m,r[m.identifier],Math.floor(Math.log(f.k)/Math.LN2)+1),B()}i=g}else if(p.length>1){m=p[0];var x=p[1],_=m[0]-x[0],b=m[1]-x[1];o=_*_+b*b}}function v(){var s,u,l,c,h=a.touches(e);Fs.call(e);for(var f=0,p=h.length;f<p;++f,c=null)if(l=h[f],c=r[l.identifier]){if(u)break;s=l,u=c}if(c){var d=(d=l[0]-s[0])*d+(d=l[1]-s[1])*d,g=o&&Math.sqrt(d/o);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],u=[(u[0]+c[0])/2,(u[1]+c[1])/2],C(g*t)}i=null,A(s,u),D(n)}function y(){if(a.event.touches.length){for(var t=a.event.changedTouches,e=0,i=t.length;e<i;++e)delete r[t[e].identifier];for(var o in r)return void d()}a.selectAll(c).on(s,null),h.on(m,T).on(_,z),p(),L(n)}g(),S(n),h.on(m,null).on(_,g)}function q(){var i=b.of(this,arguments);r?clearTimeout(r):(Fs.call(this),t=k(e=n||a.mouse(this)),S(i)),r=setTimeout((function(){r=null,L(i)}),50),B(),C(Math.pow(2,.002*Vt())*f.k),A(e,t),D(i)}function N(){var t=a.mouse(this),e=Math.log(f.k)/Math.LN2;M(this,t,k(t),a.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return Ut||(Ut="onwheel"in u?(Vt=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in u?(Vt=function(){return a.event.wheelDelta},"mousewheel"):(Vt=function(){return-a.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each((function(){var t=b.of(this,arguments),n=f;js?a.select(this).transition().each("start.zoom",(function(){f=this.__chart__||{x:0,y:0,k:1},S(t)})).tween("zoom:zoom",(function(){var r=p[0],i=p[1],o=e?e[0]:r/2,s=e?e[1]:i/2,u=a.interpolateZoom([(o-f.x)/f.k,(s-f.y)/f.k,r/f.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(e){var n=u(e),i=r/n[2];this.__chart__=f={x:o-n[0]*i,y:s-n[1]*i,k:i},D(t)}})).each("interrupt.zoom",(function(){L(t)})).each("end.zoom",(function(){L(t)})):(this.__chart__=f,S(t),D(t),L(t))}))},w.translate=function(t){return arguments.length?(f={x:+t[0],y:+t[1],k:f.k},E(),w):[f.x,f.y]},w.scale=function(t){return arguments.length?(f={x:f.x,y:f.y,k:null},C(+t),E(),w):f.k},w.scaleExtent=function(t){return arguments.length?(d=null==t?$t:[+t[0],+t[1]],w):d},w.center=function(t){return arguments.length?(n=t&&[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],w):p},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(s=t,o=t.copy(),f={x:0,y:0,k:1},w):s},w.y=function(t){return arguments.length?(h=t,l=t.copy(),f={x:0,y:0,k:1},w):h},a.rebind(w,b,"on")};var Vt,Ut,$t=[0,1/0];function Zt(){}function Gt(t,e,n){return this instanceof Gt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof Gt?new Gt(t.h,t.s,t.l):de(""+t,ge,Gt):new Gt(t,e,n)}a.color=Zt,Zt.prototype.toString=function(){return this.rgb()+""},a.hsl=Gt;var Wt=Gt.prototype=new Zt;function Yt(t,e,n){var r,i;function a(t){return Math.round(255*function(t){return t>360?t-=360:t<0&&(t+=360),t<60?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r}(t))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)||e<0?0:e>1?1:e,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+e):n+e-n*e),new le(a(t+120),a(t),a(t-120))}function Xt(t,e,n){return this instanceof Xt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof Xt?new Xt(t.h,t.c,t.l):ae(t instanceof Qt?t.l:(t=ve((t=a.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new Xt(t,e,n)}Wt.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,this.l/t)},Wt.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new Gt(this.h,this.s,t*this.l)},Wt.rgb=function(){return Yt(this.h,this.s,this.l)},a.hcl=Xt;var Jt=Xt.prototype=new Zt;function Kt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new Qt(n,Math.cos(t*=Nt)*e,Math.sin(t)*e)}function Qt(t,e,n){return this instanceof Qt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof Qt?new Qt(t.l,t.a,t.b):t instanceof Xt?Kt(t.h,t.c,t.l):ve((t=le(t)).r,t.g,t.b):new Qt(t,e,n)}Jt.brighter=function(t){return new Xt(this.h,this.c,Math.min(100,this.l+te*(arguments.length?t:1)))},Jt.darker=function(t){return new Xt(this.h,this.c,Math.max(0,this.l-te*(arguments.length?t:1)))},Jt.rgb=function(){return Kt(this.h,this.c,this.l).rgb()},a.lab=Qt;var te=18,ee=.95047,ne=1.08883,re=Qt.prototype=new Zt;function ie(t,e,n){var r=(t+16)/116,i=r+e/500,a=r-n/200;return new le(ue(3.2404542*(i=oe(i)*ee)-1.5371385*(r=1*oe(r))-.4985314*(a=oe(a)*ne)),ue(-.969266*i+1.8760108*r+.041556*a),ue(.0556434*i-.2040259*r+1.0572252*a))}function ae(t,e,n){return t>0?new Xt(Math.atan2(n,e)*Ft,Math.sqrt(e*e+n*n),t):new Xt(NaN,NaN,t)}function oe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function se(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function ue(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function le(t,e,n){return this instanceof le?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof le?new le(t.r,t.g,t.b):de(""+t,le,Yt):new le(t,e,n)}function ce(t){return new le(t>>16,t>>8&255,255&t)}function he(t){return ce(t)+""}re.brighter=function(t){return new Qt(Math.min(100,this.l+te*(arguments.length?t:1)),this.a,this.b)},re.darker=function(t){return new Qt(Math.max(0,this.l-te*(arguments.length?t:1)),this.a,this.b)},re.rgb=function(){return ie(this.l,this.a,this.b)},a.rgb=le;var fe=le.prototype=new Zt;function pe(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function de(t,e,n){var r,i,a,o=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(ye(i[0]),ye(i[1]),ye(i[2]))}return(a=xe.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,u=15&a,u|=u<<4):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,u=255&a)),e(o,s,u))}function ge(t,e,n){var r,i,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,u=(o+a)/2;return s?(i=u<.5?s/(o+a):s/(2-o-a),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,i=u>0&&u<1?0:r),new Gt(r,i,u)}function ve(t,e,n){var r=se((.4124564*(t=me(t))+.3575761*(e=me(e))+.1804375*(n=me(n)))/ee),i=se((.2126729*t+.7151522*e+.072175*n)/1);return Qt(116*i-16,500*(r-i),200*(i-se((.0193339*t+.119192*e+.9503041*n)/ne)))}function me(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ye(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}fe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&e<i&&(e=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new le(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new le(i,i,i)},fe.darker=function(t){return new le((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},fe.hsl=function(){return ge(this.r,this.g,this.b)},fe.toString=function(){return"#"+pe(this.r)+pe(this.g)+pe(this.b)};var xe=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function _e(t){return"function"==typeof t?t:function(){return t}}function be(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),we(e,n,t,r)}}function we(t,e,n,r){var i={},o=a.dispatch("beforesend","progress","load","error"),u={},l=new XMLHttpRequest,c=null;function h(){var t,e=l.status;if(!e&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=h:l.onreadystatechange=function(){l.readyState>3&&h()},l.onprogress=function(t){var e=a.event;a.event=t;try{o.progress.call(i,l)}finally{a.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==e?delete u[t]:u[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach((function(t){i[t]=function(){return i.send.apply(i,[t].concat(s(arguments)))}})),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(n,t,!0),null==e||"accept"in u||(u.accept=e+",*/*"),l.setRequestHeader)for(var s in u)l.setRequestHeader(s,u[s]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=a&&i.on("error",a).on("load",(function(t){a(null,t)})),o.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(function(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}(r))}xe.forEach((function(t,e){xe.set(t,ce(e))})),a.functor=_e,a.xhr=be(N),a.dsv=function(t,e){var n=new RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=we(t,e,null==n?a:o(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?a:o(t)):n},i}function a(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(u).join(t)}function u(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,(function(t,r){if(n)return n(t,r-1);var i=new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i}))},i.parseRows=function(t,e){var n,i,a={},o={},s=[],u=t.length,l=0,c=0;function h(){if(l>=u)return o;if(i)return i=!1,a;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}return l=n+2,13===(s=t.charCodeAt(n+1))?(i=!0,10===t.charCodeAt(n+2)&&++l):10===s&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<u;){var s,c=1;if(10===(s=t.charCodeAt(l++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(s!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=h())!==o;){for(var f=[];n!==a&&n!==o;)f.push(n),n=h();e&&null==(f=e(f,c++))||s.push(f)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new q,r=[];return e.forEach((function(t){for(var e in t)n.has(e)||r.push(n.add(e))})),[r.map(u).join(t)].concat(e.map((function(e){return r.map((function(t){return u(e[t])})).join(t)}))).join("\n")},i.formatRows=function(t){return t.map(s).join("\n")},i},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var ke,Ce,Ae,Me,Ee=this[O(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function Se(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i=n+e,a={c:t,t:i,n:null};return Ce?Ce.n=a:ke=a,Ce=a,Ae||(Me=clearTimeout(Me),Ae=1,Ee(De)),a}function De(){var t=Le(),e=Te()-t;e>24?(isFinite(e)&&(clearTimeout(Me),Me=setTimeout(De,e)),Ae=0):(Ae=1,Ee(De))}function Le(){for(var t=Date.now(),e=ke;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Te(){for(var t,e=ke,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ke=e.n;return Ce=t,n}function ze(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}a.timer=function(){Se.apply(this,arguments)},a.timer.flush=function(){Le(),Te()},a.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var qe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(t,e){var n=Math.pow(10,3*w(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}));function Ne(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,a=[],o=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:N;return function(t){var n=Fe.exec(t),r=n[1]||" ",s=n[2]||">",u=n[3]||"-",l=n[4]||"",c=n[5],h=+n[6],f=n[7],p=n[8],d=n[9],g=1,v="",m="",y=!1,x=!0;switch(p&&(p=+p.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),d){case"n":f=!0,d="g";break;case"%":g=100,m="%",d="f";break;case"p":g=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+d.toLowerCase());case"c":x=!1;case"d":y=!0,p=0;break;case"s":g=-1,d="r"}"$"===l&&(v=i[0],m=i[1]),"r"!=d||p||(d="g"),null!=p&&("g"==d?p=Math.max(1,Math.min(21,p)):"e"!=d&&"f"!=d||(p=Math.max(0,Math.min(20,p)))),d=Oe.get(d)||Re;var _=c&&f;return function(t){var n=m;if(y&&t%1)return"";var i=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var l=a.formatPrefix(t,p);t=l.scale(t),n=l.symbol+m}else t*=g;var b,w,k=(t=d(t,p)).lastIndexOf(".");if(k<0){var C=x?t.lastIndexOf("e"):-1;C<0?(b=t,w=""):(b=t.substring(0,C),w=t.substring(C))}else b=t.substring(0,k),w=e+t.substring(k+1);!c&&f&&(b=o(b,1/0));var A=v.length+b.length+w.length+(_?0:i.length),M=A<h?new Array(A=h-A+1).join(r):"";return _&&(b=o(M+b,M.length?h-w.length:1/0)),i+=v,t=b+w,("<"===s?i+t+M:">"===s?M+i+t:"^"===s?M.substring(0,A>>=1)+i+t+M.substring(A):i+(_?t:M+t))+n}}}a.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=a.round(t,ze(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),qe[8+n/3]};var Fe=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Oe=a.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=a.round(t,ze(t,e))).toFixed(Math.max(0,Math.min(20,ze(t*(1+1e-15),e))))}});function Re(t){return t+""}var je=a.time={},Pe=Date;function Ie(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Be.setUTCDate.apply(this._,arguments)},setDay:function(){Be.setUTCDay.apply(this._,arguments)},setFullYear:function(){Be.setUTCFullYear.apply(this._,arguments)},setHours:function(){Be.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Be.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Be.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Be.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Be.setUTCSeconds.apply(this._,arguments)},setTime:function(){Be.setTime.apply(this._,arguments)}};var Be=Date.prototype;function He(t,e,n){function r(e){var n=t(e),r=a(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new Pe(n-1)),1),n}function a(t,n){return e(t=new Pe(+t),n),t}function o(t,r,a){var o=i(t),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),e(o,1);else for(;o<r;)s.push(new Date(+o)),e(o,1);return s}t.floor=t,t.round=r,t.ceil=i,t.offset=a,t.range=o;var s=t.utc=Ve(t);return s.floor=s,s.round=Ve(r),s.ceil=Ve(i),s.offset=Ve(a),s.range=function(t,e,n){try{Pe=Ie;var r=new Ie;return r._=t,o(r,e,n)}finally{Pe=Date}},t}function Ve(t){return function(e,n){try{Pe=Ie;var r=new Ie;return r._=e,t(r,n)._}finally{Pe=Date}}}function Ue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,a,o=[],s=-1,u=0;++s<e;)37===t.charCodeAt(s)&&(o.push(t.slice(u,s)),null!=(i=$e[r=t.charAt(++s)])&&(r=t.charAt(++s)),(a=b[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),u=s+1);return o.push(t.slice(u,s)),o.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(h(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&Pe!==Ie,i=new(r?Ie:Pe);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function h(t,e,n,r){for(var i,a,o,s=0,u=e.length,l=n.length;s<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=w[o in $e?e.charAt(s++):o])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(Pe=Ie);return n._=t,e(n)}finally{Pe=Date}}return n.parse=function(t){try{Pe=Ie;var n=e.parse(t);return n&&n._}finally{Pe=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=pn;var f=a.map(),p=Ye(o),d=Xe(o),g=Ye(s),v=Xe(s),m=Ye(u),y=Xe(u),x=Ye(l),_=Xe(l);i.forEach((function(t,e){f.set(t.toLowerCase(),e)}));var b={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:c(e),d:function(t,e){return We(t.getDate(),e,2)},e:function(t,e){return We(t.getDate(),e,2)},H:function(t,e){return We(t.getHours(),e,2)},I:function(t,e){return We(t.getHours()%12||12,e,2)},j:function(t,e){return We(1+je.dayOfYear(t),e,3)},L:function(t,e){return We(t.getMilliseconds(),e,3)},m:function(t,e){return We(t.getMonth()+1,e,2)},M:function(t,e){return We(t.getMinutes(),e,2)},p:function(t){return i[+(t.getHours()>=12)]},S:function(t,e){return We(t.getSeconds(),e,2)},U:function(t,e){return We(je.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return We(je.mondayOfYear(t),e,2)},x:c(n),X:c(r),y:function(t,e){return We(t.getFullYear()%100,e,2)},Y:function(t,e){return We(t.getFullYear()%1e4,e,4)},Z:hn,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){p.lastIndex=0;var r=p.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return h(t,b.c.toString(),e,n)},d:an,e:an,H:sn,I:sn,j:on,L:cn,m:rn,M:un,p:function(t,e,n){var r=f.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:ln,U:Ke,w:Je,W:Qe,x:function(t,e,n){return h(t,b.x.toString(),e,n)},X:function(t,e,n){return h(t,b.X.toString(),e,n)},y:en,Y:tn,Z:nn,"%":fn};return c}je.year=He((function(t){return(t=je.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),je.years=je.year.range,je.years.utc=je.year.utc.range,je.day=He((function(t){var e=new Pe(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),je.days=je.day.range,je.days.utc=je.day.utc.range,je.dayOfYear=function(t){var e=je.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(t,e){e=7-e;var n=je[t]=He((function(t){return(t=je.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)-(n!==e)}));je[t+"s"]=n.range,je[t+"s"].utc=n.utc.range,je[t+"OfYear"]=function(t){var n=je.year(t).getDay();return Math.floor((je.dayOfYear(t)+(n+e)%7)/7)}})),je.week=je.sunday,je.weeks=je.sunday.range,je.weeks.utc=je.sunday.utc.range,je.weekOfYear=je.sundayOfYear;var $e={"-":"",_:" ",0:"0"},Ze=/^\s*\d+/,Ge=/^%/;function We(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Ye(t){return new RegExp("^(?:"+t.map(a.requote).join("|")+")","i")}function Xe(t){for(var e=new A,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Je(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Qe(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function tn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function en(t,e,n){Ze.lastIndex=0;var r,i=Ze.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function nn(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function rn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function an(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function on(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function sn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function un(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ln(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cn(t,e,n){Ze.lastIndex=0;var r=Ze.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hn(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=w(e)/60|0,i=w(e)%60;return n+We(r,"0",2)+We(i,"0",2)}function fn(t,e,n){Ge.lastIndex=0;var r=Ge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pn(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}a.locale=function(t){return{numberFormat:Ne(t),timeFormat:Ue(t)}};var dn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gn(){}a.format=dn.numberFormat,a.geo={},gn.prototype={s:0,t:0,add:function(t){mn(t,this.t,vn),mn(vn.s,this.s,this),this.s?this.t+=vn.t:this.s=vn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var vn=new gn;function mn(t,e,n){var r=n.s=t+e,i=r-t,a=r-i;n.t=t-a+(e-i)}function yn(t,e){t&&_n.hasOwnProperty(t.type)&&_n[t.type](t,e)}a.geo.stream=function(t,e){t&&xn.hasOwnProperty(t.type)?xn[t.type](t,e):yn(t,e)};var xn={Feature:function(t,e){yn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)yn(n[r].geometry,e)}},_n={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){bn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)bn(n[r],e,0)},Polygon:function(t,e){wn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)wn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)yn(n[r],e)}};function bn(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function wn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)bn(t[n],e,1);e.polygonEnd()}a.geo.area=function(t){return kn=0,a.geo.stream(t,On),kn};var kn,Cn,An,Mn,En,Sn,Dn,Ln,Tn,zn,qn,Nn,Fn=new gn,On={sphere:function(){kn+=4*Lt},point:j,lineStart:j,lineEnd:j,polygonStart:function(){Fn.reset(),On.lineStart=Rn},polygonEnd:function(){var t=2*Fn;kn+=t<0?4*Lt+t:t,On.lineStart=On.lineEnd=On.point=j}};function Rn(){var t,e,n,r,i;function a(t,e){e=e*Nt/2+Lt/4;var a=(t*=Nt)-n,o=a>=0?1:-1,s=o*a,u=Math.cos(e),l=Math.sin(e),c=i*l,h=r*u+c*Math.cos(s),f=c*o*Math.sin(s);Fn.add(Math.atan2(f,h)),n=t,r=u,i=l}On.point=function(o,s){On.point=a,n=(t=o)*Nt,r=Math.cos(s=(e=s)*Nt/2+Lt/4),i=Math.sin(s)},On.lineEnd=function(){a(t,e)}}function jn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function Pn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function In(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Bn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Hn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Vn(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Un(t){return[Math.atan2(t[1],t[0]),Pt(t[2])]}function $n(t,e){return w(t[0]-e[0])<St&&w(t[1]-e[1])<St}a.geo.bounds=function(){var t,e,n,r,i,o,s,u,l,c,h,f={point:p,lineStart:g,lineEnd:v,polygonStart:function(){f.point=m,f.lineStart=y,f.lineEnd=x,l=0,On.polygonStart()},polygonEnd:function(){On.polygonEnd(),f.point=p,f.lineStart=g,f.lineEnd=v,Fn<0?(t=-(n=180),e=-(r=90)):l>St?r=90:l<-St&&(e=-90),h[0]=t,h[1]=n}};function p(i,a){c.push(h=[t=i,n=i]),a<e&&(e=a),a>r&&(r=a)}function d(a,o){var s=jn([a*Nt,o*Nt]);if(u){var l=In(u,s),c=In([l[1],-l[0],0],l);Vn(c),c=Un(c);var h=a-i,f=h>0?1:-1,d=c[0]*Ft*f,g=w(h)>180;if(g^(f*i<d&&d<f*a))(v=c[1]*Ft)>r&&(r=v);else if(g^(f*i<(d=(d+360)%360-180)&&d<f*a)){var v;(v=-c[1]*Ft)<e&&(e=v)}else o<e&&(e=o),o>r&&(r=o);g?a<i?_(t,a)>_(t,n)&&(n=a):_(a,n)>_(t,n)&&(t=a):n>=t?(a<t&&(t=a),a>n&&(n=a)):a>i?_(t,a)>_(t,n)&&(n=a):_(a,n)>_(t,n)&&(t=a)}else p(a,o);u=s,i=a}function g(){f.point=d}function v(){h[0]=t,h[1]=n,f.point=p,u=null}function m(t,e){if(u){var n=t-i;l+=w(n)>180?n+(n>0?360:-360):n}else o=t,s=e;On.point(t,e),d(t,e)}function y(){On.lineStart()}function x(){m(o,s),On.lineEnd(),w(l)>St&&(t=-(n=180)),h[0]=t,h[1]=n,u=null}function _(t,e){return(e-=t)<0?e+360:e}function b(t,e){return t[0]-e[0]}function k(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(i){if(r=n=-(t=e=1/0),c=[],a.geo.stream(i,f),l=c.length){c.sort(b);for(var o=1,s=[g=c[0]];o<l;++o)k((p=c[o])[0],g)||k(p[1],g)?(_(g[0],p[1])>_(g[0],g[1])&&(g[1]=p[1]),_(p[0],g[1])>_(g[0],g[1])&&(g[0]=p[0])):s.push(g=p);for(var u,l,p,d=-1/0,g=(o=0,s[l=s.length-1]);o<=l;g=p,++o)p=s[o],(u=_(g[1],p[0]))>d&&(d=u,t=p[0],n=g[1])}return c=h=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[n,r]]}}(),a.geo.centroid=function(t){Cn=An=Mn=En=Sn=Dn=Ln=Tn=zn=qn=Nn=0,a.geo.stream(t,Zn);var e=zn,n=qn,r=Nn,i=e*e+n*n+r*r;return i<Dt&&(e=Dn,n=Ln,r=Tn,An<St&&(e=Mn,n=En,r=Sn),(i=e*e+n*n+r*r)<Dt)?[NaN,NaN]:[Math.atan2(n,e)*Ft,Pt(r/Math.sqrt(i))*Ft]};var Zn={sphere:j,point:Gn,lineStart:Yn,lineEnd:Xn,polygonStart:function(){Zn.lineStart=Jn},polygonEnd:function(){Zn.lineStart=Yn}};function Gn(t,e){t*=Nt;var n=Math.cos(e*=Nt);Wn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Wn(t,e,n){++Cn,Mn+=(t-Mn)/Cn,En+=(e-En)/Cn,Sn+=(n-Sn)/Cn}function Yn(){var t,e,n;function r(r,i){r*=Nt;var a=Math.cos(i*=Nt),o=a*Math.cos(r),s=a*Math.sin(r),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*u-n*s)*l+(l=n*o-t*u)*l+(l=t*s-e*o)*l),t*o+e*s+n*u);An+=l,Dn+=l*(t+(t=o)),Ln+=l*(e+(e=s)),Tn+=l*(n+(n=u)),Wn(t,e,n)}Zn.point=function(i,a){i*=Nt;var o=Math.cos(a*=Nt);t=o*Math.cos(i),e=o*Math.sin(i),n=Math.sin(a),Zn.point=r,Wn(t,e,n)}}function Xn(){Zn.point=Gn}function Jn(){var t,e,n,r,i;function a(t,e){t*=Nt;var a=Math.cos(e*=Nt),o=a*Math.cos(t),s=a*Math.sin(t),u=Math.sin(e),l=r*u-i*s,c=i*o-n*u,h=n*s-r*o,f=Math.sqrt(l*l+c*c+h*h),p=n*o+r*s+i*u,d=f&&-jt(p)/f,g=Math.atan2(f,p);zn+=d*l,qn+=d*c,Nn+=d*h,An+=g,Dn+=g*(n+(n=o)),Ln+=g*(r+(r=s)),Tn+=g*(i+(i=u)),Wn(n,r,i)}Zn.point=function(o,s){t=o,e=s,Zn.point=a,o*=Nt;var u=Math.cos(s*=Nt);n=u*Math.cos(o),r=u*Math.sin(o),i=Math.sin(s),Wn(n,r,i)},Zn.lineEnd=function(){a(t,e),Zn.lineEnd=Xn,Zn.point=Gn}}function Kn(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Qn(){return!0}function tr(t,e,n,r,i){var a=[],o=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if($n(n,r)){i.lineStart();for(var s=0;s<e;++s)i.point((n=t[s])[0],n[1]);i.lineEnd()}else{var u=new nr(n,t,null,!0),l=new nr(n,null,u,!1);u.o=l,a.push(u),o.push(l),u=new nr(r,t,null,!1),l=new nr(r,null,u,!0),u.o=l,a.push(u),o.push(l)}}})),o.sort(e),er(a),er(o),a.length){for(var s=0,u=n,l=o.length;s<l;++s)o[s].e=u=!u;for(var c,h,f=a[0];;){for(var p=f,d=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(s=0,l=c.length;s<l;++s)i.point((h=c[s])[0],h[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(s=(c=p.p.z).length-1;s>=0;--s)i.point((h=c[s])[0],h[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function er(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function nr(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rr(t,e,n,r){return function(i,o){var s,u=e(o),l=i.invert(r[0],r[1]),c={point:h,lineStart:p,lineEnd:d,polygonStart:function(){c.point=_,c.lineStart=b,c.lineEnd=w,s=[],g=[]},polygonEnd:function(){c.point=h,c.lineStart=p,c.lineEnd=d,s=a.merge(s);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Fn.reset();for(var s=0,u=e.length;s<u;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],p=h[1]/2+Lt/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+Lt/4,x=Math.sin(y),_=Math.cos(y),b=m-f,w=b>=0?1:-1,k=w*b,C=k>Lt,A=d*x;if(Fn.add(Math.atan2(A*w*Math.sin(k),g*_+A*Math.cos(k))),a+=C?b+w*Tt:b,C^f>=n^m>=n){var M=In(jn(h),jn(t));Vn(M);var E=In(i,M);Vn(E);var S=(C^b>=0?-1:1)*Pt(E[2]);(r>S||r===S&&(M[0]||M[1]))&&(o+=C^b>=0?1:-1)}if(!v++)break;f=m,d=x,g=_,h=t}}return(a<-St||a<St&&Fn<-St)^1&o}(l,g);s.length?(x||(o.polygonStart(),x=!0),tr(s,or,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),s=g=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function h(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function f(t,e){var n=i(t,e);u.point(n[0],n[1])}function p(){c.point=f,u.lineStart()}function d(){c.point=h,u.lineEnd()}var g,v,m=ar(),y=e(m),x=!1;function _(t,e){v.push([t,e]);var n=i(t,e);y.point(n[0],n[1])}function b(){y.lineStart(),v=[]}function w(){_(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r)if(1&e){var i,a=-1;if((r=(t=n[0]).length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ir))}return c}}function ir(t){return t.length>1}function ar(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function or(t,e){return((t=t.x)[0]<0?t[1]-qt-St:qt-t[1])-((e=e.x)[0]<0?e[1]-qt-St:qt-e[1])}var sr=rr(Qn,(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?Lt:-Lt,u=w(a-n);w(u-Lt)<St?(t.point(n,r=(r+o)/2>0?qt:-qt),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(a,r),e=0):i!==s&&u>=Lt&&(w(n-i)<St&&(n-=i*St),w(a-s)<St&&(a-=s*St),r=function(t,e,n,r){var i,a,o=Math.sin(t-n);return w(o)>St?Math.atan((Math.sin(e)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+r)/2}(n,r,a,o),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=a,r=o),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*qt,r.point(-Lt,i),r.point(0,i),r.point(Lt,i),r.point(Lt,0),r.point(Lt,-i),r.point(0,-i),r.point(-Lt,-i),r.point(-Lt,0),r.point(-Lt,i);else if(w(t[0]-e[0])>St){var a=t[0]<e[0]?Lt:-Lt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}),[-Lt,-Lt/2]);function ur(t){var e=Math.cos(t),n=e>0,r=w(e)>St;return rr(i,(function(t){var e,s,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d=[h,f],g=i(h,f),v=n?g?0:o(h,f):g?o(h+(h<0?Lt:-Lt),f):0;if(!e&&(l=u=g)&&t.lineStart(),g!==u&&(p=a(e,d),($n(e,p)||$n(d,p))&&(d[0]+=St,d[1]+=St,g=i(d[0],d[1]))),g!==u)c=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&n^g){var m;v&s||!(m=a(d,e,!0))||(c=0,n?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&$n(e,d)||t.point(d[0],d[1]),e=d,u=g,s=v},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return c|(l&&u)<<1}}}),$r(t,6*Nt),n?[0,-t]:[-Lt,t-Lt]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function a(t,n,r){var i=[1,0,0],a=In(jn(t),jn(n)),o=Pn(a,a),s=a[0],u=o-s*s;if(!u)return!r&&t;var l=e*o/u,c=-e*s/u,h=In(i,a),f=Hn(i,l);Bn(f,Hn(a,c));var p=h,d=Pn(f,p),g=Pn(p,p),v=d*d-g*(Pn(f,f)-1);if(!(v<0)){var m=Math.sqrt(v),y=Hn(p,(-d-m)/g);if(Bn(y,f),y=Un(y),!r)return y;var x,_=t[0],b=n[0],k=t[1],C=n[1];b<_&&(x=_,_=b,b=x);var A=b-_,M=w(A-Lt)<St;if(!M&&C<k&&(x=k,k=C,C=x),M||A<St?M?k+C>0^y[1]<(w(y[0]-_)<St?k:C):k<=y[1]&&y[1]<=C:A>Lt^(_<=y[0]&&y[0]<=b)){var E=Hn(p,(-d+m)/g);return Bn(E,f),[y,Un(E)]}}}function o(e,r){var i=n?t:Lt-t,a=0;return e<-i?a|=1:e>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function lr(t,e,n,r){return function(i){var a,o=i.a,s=i.b,u=o.x,l=o.y,c=0,h=1,f=s.x-u,p=s.y-l;if(a=t-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>c&&(c=a)}if(a=n-u,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<h&&(h=a)}if(a=e-l,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>c&&(c=a)}if(a=r-l,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<h&&(h=a)}return c>0&&(i.a={x:u+c*f,y:l+c*p}),h<1&&(i.b={x:u+h*f,y:l+h*p}),i}}}}}}var cr=1e9;function hr(t,e,n,r){return function(u){var l,c,h,f,p,d,g,v,m,y,x,_=u,b=ar(),w=lr(t,e,n,r),k={point:M,lineStart:function(){k.point=E,c&&c.push(h=[]),y=!0,m=!1,g=v=NaN},lineEnd:function(){l&&(E(f,p),d&&m&&b.rejoin(),l.push(b.buffer())),k.point=M,m&&u.lineEnd()},polygonStart:function(){u=b,l=[],c=[],x=!0},polygonEnd:function(){u=_,l=a.merge(l);var e=function(t){for(var e=0,n=c.length,r=t[1],i=0;i<n;++i)for(var a,o=1,s=c[i],u=s.length,l=s[0];o<u;++o)a=s[o],l[1]<=r?a[1]>r&&Rt(l,a,t)>0&&++e:a[1]<=r&&Rt(l,a,t)<0&&--e,l=a;return 0!==e}([t,r]),n=x&&e,i=l.length;(n||i)&&(u.polygonStart(),n&&(u.lineStart(),C(null,null,1,u),u.lineEnd()),i&&tr(l,o,e,C,u),u.polygonEnd()),l=c=h=null}};function C(a,o,u,l){var c=0,h=0;if(null==a||(c=i(a,u))!==(h=i(o,u))||s(a,o)<0^u>0)do{l.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+u+4)%4)!==h);else l.point(o[0],o[1])}function A(i,a){return t<=i&&i<=n&&e<=a&&a<=r}function M(t,e){A(t,e)&&u.point(t,e)}function E(t,e){var n=A(t=Math.max(-1e9,Math.min(cr,t)),e=Math.max(-1e9,Math.min(cr,e)));if(c&&h.push([t,e]),y)f=t,p=e,d=n,y=!1,n&&(u.lineStart(),u.point(t,e));else if(n&&m)u.point(t,e);else{var r={a:{x:g,y:v},b:{x:t,y:e}};w(r)?(m||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),n||u.lineEnd(),x=!1):n&&(u.lineStart(),u.point(t,e),x=!1)}g=t,v=e,m=n}return k};function i(r,i){return w(r[0]-t)<St?i>0?0:3:w(r[0]-n)<St?i>0?2:1:w(r[1]-e)<St?i>0?1:0:i>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function fr(t){var e=0,n=Lt/3,r=Rr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Lt/180,n=t[1]*Lt/180):[e/Lt*180,n/Lt*180]},i}function pr(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),a-n*Math.cos(t)]}return o.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,Pt((i-(t*t+n*n)*r*r)/(2*r))]},o}a.geo.clipExtent=function(){var t,e,n,r,i,a,o={stream:function(t){return i&&(i.valid=!1),(i=a(t)).valid=!0,i},extent:function(s){return arguments.length?(a=hr(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return fr(pr)}).raw=pr,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var t,e,n,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,n){t=[e,n]}};function l(i){var a=i[0],o=i[1];return t=null,e(a,o),t||(n(a,o),t)||r(a,o),t}return l.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(t)},l.stream=function(t){var e=i.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(i.precision(t),o.precision(t),s.precision(t),l):i.precision()},l.scale=function(t){return arguments.length?(i.scale(t),o.scale(.35*t),s.scale(t),l.translate(i.translate())):i.scale()},l.translate=function(t){if(!arguments.length)return i.translate();var a=i.scale(),c=+t[0],h=+t[1];return e=i.translate(t).clipExtent([[c-.455*a,h-.238*a],[c+.455*a,h+.238*a]]).stream(u).point,n=o.translate([c-.307*a,h+.201*a]).clipExtent([[c-.425*a+St,h+.12*a+St],[c-.214*a-St,h+.234*a-St]]).stream(u).point,r=s.translate([c-.205*a,h+.212*a]).clipExtent([[c-.214*a+St,h+.166*a+St],[c-.115*a-St,h+.234*a-St]]).stream(u).point,l},l.scale(1070)};var dr,gr,vr,mr,yr,xr,_r={point:j,lineStart:j,lineEnd:j,polygonStart:function(){gr=0,_r.lineStart=br},polygonEnd:function(){_r.lineStart=_r.lineEnd=_r.point=j,dr+=w(gr/2)}};function br(){var t,e,n,r;function i(t,e){gr+=r*t-n*e,n=t,r=e}_r.point=function(a,o){_r.point=i,t=n=a,e=r=o},_r.lineEnd=function(){i(t,e)}}var wr={point:function(t,e){t<vr&&(vr=t),t>yr&&(yr=t),e<mr&&(mr=e),e>xr&&(xr=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function kr(){var t=Cr(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=Cr(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=a}function a(t,n){e.push("L",t,",",n)}function o(){n.point=r}function s(){e.push("Z")}return n}function Cr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var Ar,Mr={point:Er,lineStart:Sr,lineEnd:Dr,polygonStart:function(){Mr.lineStart=Lr},polygonEnd:function(){Mr.point=Er,Mr.lineStart=Sr,Mr.lineEnd=Dr}};function Er(t,e){Mn+=t,En+=e,++Sn}function Sr(){var t,e;function n(n,r){var i=n-t,a=r-e,o=Math.sqrt(i*i+a*a);Dn+=o*(t+n)/2,Ln+=o*(e+r)/2,Tn+=o,Er(t=n,e=r)}Mr.point=function(r,i){Mr.point=n,Er(t=r,e=i)}}function Dr(){Mr.point=Er}function Lr(){var t,e,n,r;function i(t,e){var i=t-n,a=e-r,o=Math.sqrt(i*i+a*a);Dn+=o*(n+t)/2,Ln+=o*(r+e)/2,Tn+=o,zn+=(o=r*t-n*e)*(n+t),qn+=o*(r+e),Nn+=3*o,Er(n=t,r=e)}Mr.point=function(a,o){Mr.point=i,Er(t=n=a,e=r=o)},Mr.lineEnd=function(){i(t,e)}}function Tr(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=t,n},result:j};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,Tt)}function i(e,r){t.moveTo(e,r),n.point=a}function a(e,n){t.lineTo(e,n)}function o(){n.point=r}function s(){t.closePath()}return n}function zr(t){var e=.5,n=Math.cos(30*Nt),r=16;function i(t){return(r?o:a)(t)}function a(e){return Fr(e,(function(n,r){n=t(n,r),e.point(n[0],n[1])}))}function o(e){var n,i,a,o,u,l,c,h,f,p,d,g,v={point:m,lineStart:y,lineEnd:_,polygonStart:function(){e.polygonStart(),v.lineStart=b},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,v.point=x,e.lineStart()}function x(n,i){var a=jn([n,i]),o=t(n,i);s(h,f,c,p,d,g,h=o[0],f=o[1],c=n,p=a[0],d=a[1],g=a[2],r,e),e.point(h,f)}function _(){v.point=m,e.lineEnd()}function b(){y(),v.point=w,v.lineEnd=k}function w(t,e){x(n=t,e),i=h,a=f,o=p,u=d,l=g,v.point=x}function k(){s(h,f,c,p,d,g,i,a,n,o,u,l,r,e),v.lineEnd=_,_()}return v}function s(r,i,a,o,u,l,c,h,f,p,d,g,v,m){var y=c-r,x=h-i,_=y*y+x*x;if(_>4*e&&v--){var b=o+p,k=u+d,C=l+g,A=Math.sqrt(b*b+k*k+C*C),M=Math.asin(C/=A),E=w(w(C)-1)<St||w(a-f)<St?(a+f)/2:Math.atan2(k,b),S=t(E,M),D=S[0],L=S[1],T=D-r,z=L-i,q=x*T-y*z;(q*q/_>e||w((y*T+x*z)/_-.5)>.3||o*p+u*d+l*g<n)&&(s(r,i,a,o,u,l,D,L,E,b/=A,k/=A,C,v,m),m.point(D,L),s(D,L,E,b,k,C,c,h,f,p,d,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function qr(t){var e=zr((function(e,n){return t([e*Ft,n*Ft])}));return function(t){return jr(e(t))}}function Nr(t){this.stream=t}function Fr(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Or(t){return Rr((function(){return t}))()}function Rr(t){var e,n,r,i,o,s,u=zr((function(t,n){return[(t=e(t,n))[0]*l+i,o-t[1]*l]})),l=150,c=480,h=250,f=0,p=0,d=0,g=0,v=0,m=sr,y=N,x=null,_=null;function b(t){return[(t=r(t[0]*Nt,t[1]*Nt))[0]*l+i,o-t[1]*l]}function w(t){return(t=r.invert((t[0]-i)/l,(o-t[1])/l))&&[t[0]*Ft,t[1]*Ft]}function k(){r=Kn(n=Br(d,g,v),e);var t=e(f,p);return i=c-t[0]*l,o=h+t[1]*l,C()}function C(){return s&&(s.valid=!1,s=null),b}return b.stream=function(t){return s&&(s.valid=!1),(s=jr(m(n,u(y(t))))).valid=!0,s},b.clipAngle=function(t){return arguments.length?(m=null==t?(x=t,sr):ur((x=+t)*Nt),C()):x},b.clipExtent=function(t){return arguments.length?(_=t,y=t?hr(t[0][0],t[0][1],t[1][0],t[1][1]):N,C()):_},b.scale=function(t){return arguments.length?(l=+t,k()):l},b.translate=function(t){return arguments.length?(c=+t[0],h=+t[1],k()):[c,h]},b.center=function(t){return arguments.length?(f=t[0]%360*Nt,p=t[1]%360*Nt,k()):[f*Ft,p*Ft]},b.rotate=function(t){return arguments.length?(d=t[0]%360*Nt,g=t[1]%360*Nt,v=t.length>2?t[2]%360*Nt:0,k()):[d*Ft,g*Ft,v*Ft]},a.rebind(b,u,"precision"),function(){return e=t.apply(this,arguments),b.invert=e.invert&&w,k()}}function jr(t){return Fr(t,(function(e,n){t.point(e*Nt,n*Nt)}))}function Pr(t,e){return[t,e]}function Ir(t,e){return[t>Lt?t-Tt:t<-Lt?t+Tt:t,e]}function Br(t,e,n){return t?e||n?Kn(Vr(t),Ur(e,n)):Vr(t):e||n?Ur(e,n):Ir}function Hr(t){return function(e,n){return[(e+=t)>Lt?e-Tt:e<-Lt?e+Tt:e,n]}}function Vr(t){var e=Hr(t);return e.invert=Hr(-t),e}function Ur(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function o(t,e){var o=Math.cos(e),s=Math.cos(t)*o,u=Math.sin(t)*o,l=Math.sin(e),c=l*n+s*r;return[Math.atan2(u*i-c*a,s*n-l*r),Pt(c*i+u*a)]}return o.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,u=Math.sin(t)*o,l=Math.sin(e),c=l*i-u*a;return[Math.atan2(u*i+l*a,s*n+c*r),Pt(c*n-s*r)]},o}function $r(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,a,o,s){var u=o*e;null!=i?(i=Zr(n,i),a=Zr(n,a),(o>0?i<a:i>a)&&(i+=o*Tt)):(i=t+o*Tt,a=t-.5*u);for(var l,c=i;o>0?c>a:c<a;c-=u)s.point((l=Un([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function Zr(t,e){var n=jn(e);n[0]-=t,Vn(n);var r=jt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-St)%(2*Math.PI)}function Gr(t,e,n){var r=a.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Wr(t,e,n){var r=a.range(t,e-St,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Yr(t){return t.source}function Xr(t){return t.target}a.geo.path=function(){var t,e,n,r,i,o=4.5;function s(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(t,i)),r.result()}function u(){return i=null,s}return s.area=function(t){return dr=0,a.geo.stream(t,n(_r)),dr},s.centroid=function(t){return Mn=En=Sn=Dn=Ln=Tn=zn=qn=Nn=0,a.geo.stream(t,n(Mr)),Nn?[zn/Nn,qn/Nn]:Tn?[Dn/Tn,Ln/Tn]:Sn?[Mn/Sn,En/Sn]:[NaN,NaN]},s.bounds=function(t){return yr=xr=-(vr=mr=1/0),a.geo.stream(t,n(wr)),[[vr,mr],[yr,xr]]},s.projection=function(e){return arguments.length?(n=(t=e)?e.stream||qr(e):N,u()):t},s.context=function(t){return arguments.length?(r=null==(e=t)?new kr:new Tr(t),"function"!=typeof o&&r.pointRadius(o),u()):e},s.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(r.pointRadius(+t),+t),s):o},s.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(t){return{stream:function(e){var n=new Nr(e);for(var r in t)n[r]=t[r];return n}}},Nr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=Or,a.geo.projectionMutator=Rr,(a.geo.equirectangular=function(){return Or(Pr)}).raw=Pr.invert=Pr,a.geo.rotation=function(t){function e(e){return(e=t(e[0]*Nt,e[1]*Nt))[0]*=Ft,e[1]*=Ft,e}return t=Br(t[0]%360*Nt,t[1]*Nt,t.length>2?t[2]*Nt:0),e.invert=function(e){return(e=t.invert(e[0]*Nt,e[1]*Nt))[0]*=Ft,e[1]*=Ft,e},e},Ir.invert=Pr,a.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=Br(-t[0]*Nt,-t[1]*Nt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=Ft,t[1]*=Ft}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=$r((t=+n)*Nt,r*Nt),i):t},i.precision=function(n){return arguments.length?(e=$r(t*Nt,(r=+n)*Nt),i):r},i.angle(90)},a.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Nt,i=t[1]*Nt,a=e[1]*Nt,o=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},a.geo.graticule=function(){var t,e,n,r,i,o,s,u,l,c,h,f,p=10,d=p,g=90,v=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:x()}}function x(){return a.range(Math.ceil(r/g)*g,n,g).map(h).concat(a.range(Math.ceil(u/v)*v,s,v).map(f)).concat(a.range(Math.ceil(e/p)*p,t,p).filter((function(t){return w(t%g)>St})).map(l)).concat(a.range(Math.ceil(o/d)*d,i,d).filter((function(t){return w(t%v)>St})).map(c))}return y.lines=function(){return x().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.majorExtent(t).minorExtent(t):y.minorExtent()},y.majorExtent=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),y.precision(m)):[[r,u],[n,s]]},y.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.majorStep(t).minorStep(t):y.minorStep()},y.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],y):[g,v]},y.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],y):[p,d]},y.precision=function(a){return arguments.length?(m=+a,l=Gr(o,i,90),c=Wr(e,t,m),h=Gr(u,s,90),f=Wr(r,n,m),y):m},y.majorExtent([[-180,-90+St],[180,90-St]]).minorExtent([[-180,-80-St],[180,80+St]])},a.geo.greatArc=function(){var t,e,n=Yr,r=Xr;function i(){return{type:"LineString",coordinates:[t||n.apply(this,arguments),e||r.apply(this,arguments)]}}return i.distance=function(){return a.geo.distance(t||n.apply(this,arguments),e||r.apply(this,arguments))},i.source=function(e){return arguments.length?(n=e,t="function"==typeof e?null:e,i):n},i.target=function(t){return arguments.length?(r=t,e="function"==typeof t?null:t,i):r},i.precision=function(){return arguments.length?i:0},i},a.geo.interpolate=function(t,e){return n=t[0]*Nt,r=t[1]*Nt,i=e[0]*Nt,a=e[1]*Nt,o=Math.cos(r),s=Math.sin(r),u=Math.cos(a),l=Math.sin(a),c=o*Math.cos(n),h=o*Math.sin(n),f=u*Math.cos(i),p=u*Math.sin(i),d=2*Math.asin(Math.sqrt(Bt(a-r)+o*u*Bt(i-n))),g=1/Math.sin(d),(v=d?function(t){var e=Math.sin(t*=d)*g,n=Math.sin(d-t)*g,r=n*c+e*f,i=n*h+e*p,a=n*s+e*l;return[Math.atan2(i,r)*Ft,Math.atan2(a,Math.sqrt(r*r+i*i))*Ft]}:function(){return[n*Ft,r*Ft]}).distance=d,v;var n,r,i,a,o,s,u,l,c,h,f,p,d,g,v},a.geo.length=function(t){return Ar=0,a.geo.stream(t,Jr),Ar};var Jr={sphere:j,point:j,lineStart:function(){var t,e,n;function r(r,i){var a=Math.sin(i*=Nt),o=Math.cos(i),s=w((r*=Nt)-t),u=Math.cos(s);Ar+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-e*o*u)*s),e*a+n*o*u),t=r,e=a,n=o}Jr.point=function(i,a){t=i*Nt,e=Math.sin(a*=Nt),n=Math.cos(a),Jr.point=r},Jr.lineEnd=function(){Jr.point=Jr.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function Kr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),a=t(r*i);return[a*i*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,r*o),Math.asin(r&&n*a/r)]},n}var Qr=Kr((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(a.geo.azimuthalEqualArea=function(){return Or(Qr)}).raw=Qr;var ti=Kr((function(t){var e=Math.acos(t);return e&&e/Math.sin(e)}),N);function ei(t,e){var n=Math.cos(t),r=function(t){return Math.tan(Lt/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),a=n*Math.pow(r(t),i)/i;if(!i)return ii;function o(t,e){a>0?e<-qt+St&&(e=-qt+St):e>qt-St&&(e=qt-St);var n=a/Math.pow(r(e),i);return[n*Math.sin(i*t),a-n*Math.cos(i*t)]}return o.invert=function(t,e){var n=a-e,r=Ot(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(a/r,1/i))-qt]},o}function ni(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(w(r)<St)return Pr;function a(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return a.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-Ot(r)*Math.sqrt(t*t+n*n)]},a}(a.geo.azimuthalEquidistant=function(){return Or(ti)}).raw=ti,(a.geo.conicConformal=function(){return fr(ei)}).raw=ei,(a.geo.conicEquidistant=function(){return fr(ni)}).raw=ni;var ri=Kr((function(t){return 1/t}),Math.atan);function ii(t,e){return[t,Math.log(Math.tan(Lt/4+e/2))]}function ai(t){var e,n=Or(t),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=Lt*r(),u=i();a([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}(a.geo.gnomonic=function(){return Or(ri)}).raw=ri,ii.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-qt]},(a.geo.mercator=function(){return ai(ii)}).raw=ii;var oi=Kr((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return Or(oi)}).raw=oi;var si=Kr((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ui(t,e){return[Math.log(Math.tan(Lt/4+e/2)),-t]}function li(t){return t[0]}function ci(t){return t[1]}function hi(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&Rt(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function fi(t,e){return t[0]-e[0]||t[1]-e[1]}(a.geo.stereographic=function(){return Or(si)}).raw=si,ui.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-qt]},(a.geo.transverseMercator=function(){var t=ai(ui),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=ui,a.geom={},a.geom.hull=function(t){var e=li,n=ci;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=_e(e),a=_e(n),o=t.length,s=[],u=[];for(r=0;r<o;r++)s.push([+i.call(this,t[r],r),+a.call(this,t[r],r),r]);for(s.sort(fi),r=0;r<o;r++)u.push([s[r][0],-s[r][1]]);var l=hi(s),c=hi(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],p=[];for(r=l.length-1;r>=0;--r)p.push(t[s[l[r]][2]]);for(r=+h;r<c.length-f;++r)p.push(t[s[c[r]][2]]);return p}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},a.geom.polygon=function(t){return $(t,pi),t};var pi=a.geom.polygon.prototype=[];function di(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function gi(t,e,n,r){var i=t[0],a=n[0],o=e[0]-i,s=r[0]-a,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-a))/(h*o-s*c);return[i+f*o,u+f*c]}function vi(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}pi.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},pi.centroid=function(t){var e,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},pi.clip=function(t){for(var e,n,r,i,a,o,s=vi(t),u=-1,l=this.length-vi(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],a=e[(r=e.length-s)-1],n=-1;++n<r;)di(o=e[n],c,i)?(di(a,c,i)||t.push(gi(a,o,c,i)),t.push(o)):di(a,c,i)&&t.push(gi(a,o,c,i)),a=o;s&&t.push(t[0]),c=i}return t};var mi,yi,xi,_i,bi,wi=[],ki=[];function Ci(){Hi(this),this.edge=this.site=this.circle=null}function Ai(t){var e=wi.pop()||new Ci;return e.site=t,e}function Mi(t){Fi(t),xi.remove(t),wi.push(t),Hi(t)}function Ei(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},a=t.P,o=t.N,s=[t];Mi(t);for(var u=a;u.circle&&w(n-u.circle.x)<St&&w(r-u.circle.cy)<St;)a=u.P,s.unshift(u),Mi(u),u=a;s.unshift(u),Fi(u);for(var l=o;l.circle&&w(n-l.circle.x)<St&&w(r-l.circle.cy)<St;)o=l.N,s.push(l),Mi(l),l=o;s.push(l),Fi(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],Pi(l.edge,u.site,l.site,i);u=s[0],(l=s[h-1]).edge=ji(u.site,l.site,null,i),Ni(u),Ni(l)}function Si(t){for(var e,n,r,i,a=t.x,o=t.y,s=xi._;s;)if((r=Di(s,o)-a)>St)s=s.L;else{if(!((i=a-Li(s,o))>St)){r>-St?(e=s.P,n=s):i>-St?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Ai(t);if(xi.insert(e,u),e||n){if(e===n)return Fi(e),n=Ai(e.site),xi.insert(u,n),u.edge=n.edge=ji(e.site,u.site),Ni(e),void Ni(n);if(n){Fi(e),Fi(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,p=t.y-h,d=n.site,g=d.x-c,v=d.y-h,m=2*(f*v-p*g),y=f*f+p*p,x=g*g+v*v,_={x:(v*y-p*x)/m+c,y:(f*x-g*y)/m+h};Pi(n.edge,l,d,_),u.edge=ji(l,t,null,_),n.edge=ji(t,d,null,_),Ni(e),Ni(n)}else u.edge=ji(e.site,u.site)}}function Di(t,e){var n=t.site,r=n.x,i=n.y,a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site).x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/a-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-a/2)))/h+r:(r+s)/2}function Li(t,e){var n=t.N;if(n)return Di(n,e);var r=t.site;return r.y===e?r.x:1/0}function Ti(t){this.site=t,this.edges=[]}function zi(t,e){return e.angle-t.angle}function qi(){Hi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ni(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i.x,s=i.y,u=r.x-o,l=r.y-s,c=a.x-o,h=2*(u*(v=a.y-s)-l*c);if(!(h>=-Dt)){var f=u*u+l*l,p=c*c+v*v,d=(v*f-l*p)/h,g=(u*p-c*f)/h,v=g+s,m=ki.pop()||new qi;m.arc=t,m.site=i,m.x=d+o,m.y=v+Math.sqrt(d*d+g*g),m.cy=v,t.circle=m;for(var y=null,x=bi._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}bi.insert(y,m),y||(_i=m)}}}}function Fi(t){var e=t.circle;e&&(e.P||(_i=e.N),bi.remove(e),ki.push(e),Hi(e),t.circle=null)}function Oi(t,e){var n=t.b;if(n)return!0;var r,i,a=t.a,o=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,p=c.y,d=h.x,g=h.y,v=(f+d)/2,m=(p+g)/2;if(g===p){if(v<o||v>=s)return;if(f>d){if(a){if(a.y>=l)return}else a={x:v,y:u};n={x:v,y:l}}else{if(a){if(a.y<u)return}else a={x:v,y:l};n={x:v,y:u}}}else if(i=m-(r=(f-d)/(g-p))*v,r<-1||r>1)if(f>d){if(a){if(a.y>=l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(a){if(a.y<u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(p<g){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return t.a=a,t.b=n,!0}function Ri(t,e){this.l=t,this.r=e,this.a=this.b=null}function ji(t,e,n,r){var i=new Ri(t,e);return mi.push(i),n&&Pi(i,t,e,n),r&&Pi(i,e,t,r),yi[t.i].edges.push(new Ii(i,t,e)),yi[e.i].edges.push(new Ii(i,e,t)),i}function Pi(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function Ii(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Bi(){this._=null}function Hi(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Vi(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Ui(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function $i(t){for(;t.L;)t=t.L;return t}function Zi(t,e){var n,r,i,a=t.sort(Gi).pop();for(mi=[],yi=new Array(t.length),xi=new Bi,bi=new Bi;;)if(i=_i,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(yi[a.i]=new Ti(a),Si(a),n=a.x,r=a.y),a=t.pop();else{if(!i)break;Ei(i.arc)}e&&(function(t){for(var e,n=mi,r=lr(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!Oi(e=n[i],t)||!r(e)||w(e.a.x-e.b.x)<St&&w(e.a.y-e.b.y)<St)&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,a,o,s,u,l,c,h=t[0][0],f=t[1][0],p=t[0][1],d=t[1][1],g=yi,v=g.length;v--;)if((a=g[v])&&a.prepare())for(u=(s=a.edges).length,o=0;o<u;)r=(c=s[o].end()).x,i=c.y,e=(l=s[++o%u].start()).x,n=l.y,(w(r-e)>St||w(i-n)>St)&&(s.splice(o,0,new Ii((m=a.site,y=c,x=w(r-h)<St&&d-i>St?{x:h,y:w(e-h)<St?n:d}:w(i-d)<St&&f-r>St?{x:w(n-d)<St?e:f,y:d}:w(r-f)<St&&i-p>St?{x:f,y:w(e-f)<St?n:p}:w(i-p)<St&&r-h>St?{x:w(n-p)<St?e:h,y:p}:null,_=void 0,(_=new Ri(m,null)).a=y,_.b=x,mi.push(_),_),a.site,null)),++u);var m,y,x,_}(e));var o={cells:yi,edges:mi};return xi=bi=mi=yi=null,o}function Gi(t,e){return e.y-t.y||e.x-t.x}Ti.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(zi),e.length},Ii.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Bi.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=$i(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Vi(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ui(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Ui(this,n),n=(t=n).U),n.C=!1,r.C=!0,Vi(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?$i(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=o,o.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Vi(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ui(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Vi(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Ui(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Vi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Ui(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},a.geom.voronoi=function(t){var e=li,n=ci,r=e,i=n,a=Wi;if(t)return o(t);function o(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return Zi(s(t),a).cells.forEach((function(a,s){var u=a.edges,l=a.site;(e[s]=u.length?u.map((function(t){var e=t.start();return[e.x,e.y]})):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(r(t,e)/St)*St,y:Math.round(i(t,e)/St)*St,i:e}}))}return o.links=function(t){return Zi(s(t)).edges.filter((function(t){return t.l&&t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return Zi(s(t)).cells.forEach((function(n,r){for(var i,a,o,s,u=n.site,l=n.edges.sort(zi),c=-1,h=l.length,f=l[h-1].edge,p=f.l===u?f.r:f.l;++c<h;)i=p,p=(f=l[c].edge).l===u?f.r:f.l,r<i.i&&r<p.i&&(o=i,s=p,((a=u).x-s.x)*(o.y-a.y)-(a.x-o.x)*(s.y-a.y)<0)&&e.push([t[r],t[i.i],t[p.i]])})),e},o.x=function(t){return arguments.length?(r=_e(e=t),o):e},o.y=function(t){return arguments.length?(i=_e(n=t),o):n},o.clipExtent=function(t){return arguments.length?(a=null==t?Wi:t,o):a===Wi?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&&[[0,0],t]):a===Wi?null:a&&a[1]},o};var Wi=[[-1e6,-1e6],[1e6,1e6]];function Yi(t){return t.x}function Xi(t){return t.y}function Ji(t,e,n,r,i,a){if(!t(e,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),u=e.nodes;u[0]&&Ji(t,u[0],n,r,o,s),u[1]&&Ji(t,u[1],o,r,i,s),u[2]&&Ji(t,u[2],n,s,o,a),u[3]&&Ji(t,u[3],o,s,i,a)}}function Ki(t,e,n,r,i,a,o){var s,u=1/0;return function t(l,c,h,f,p){if(!(c>a||h>o||f<r||p<i)){if(d=l.point){var d,g=e-l.x,v=n-l.y,m=g*g+v*v;if(m<u){var y=Math.sqrt(u=m);r=e-y,i=n-y,a=e+y,o=n+y,s=d}}for(var x=l.nodes,_=.5*(c+f),b=.5*(h+p),w=(n>=b)<<1|e>=_,k=w+4;w<k;++w)if(l=x[3&w])switch(3&w){case 0:t(l,c,h,_,b);break;case 1:t(l,_,h,f,b);break;case 2:t(l,c,b,_,p);break;case 3:t(l,_,b,f,p)}}}(t,r,i,a,o),s}function Qi(t,e){t=a.rgb(t),e=a.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,s=e.g-r,u=e.b-i;return function(t){return"#"+pe(Math.round(n+o*t))+pe(Math.round(r+s*t))+pe(Math.round(i+u*t))}}function ta(t,e){var n,r={},i={};for(n in t)n in e?r[n]=aa(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function ea(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function na(t,e){var n,r,i,a=ra.lastIndex=ia.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=ra.exec(t))&&(r=ia.exec(e));)(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:ea(n,r)})),a=ia.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}a.geom.delaunay=function(t){return a.geom.voronoi().triangles(t)},a.geom.quadtree=function(t,e,n,r,i){var a,o=li,s=ci;if(a=arguments.length)return o=Yi,s=Xi,3===a&&(i=n,r=e,n=e=0),u(t);function u(t){var u,l,c,h,f,p,d,g,v,m=_e(o),y=_e(s);if(null!=e)p=e,d=n,g=r,v=i;else if(g=v=-(p=d=1/0),l=[],c=[],f=t.length,a)for(h=0;h<f;++h)(u=t[h]).x<p&&(p=u.x),u.y<d&&(d=u.y),u.x>g&&(g=u.x),u.y>v&&(v=u.y),l.push(u.x),c.push(u.y);else for(h=0;h<f;++h){var x=+m(u=t[h],h),_=+y(u,h);x<p&&(p=x),_<d&&(d=_),x>g&&(g=x),_>v&&(v=_),l.push(x),c.push(_)}var b=g-p,k=v-d;function C(t,e,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,l=t.y;if(null!=u)if(w(u-n)+w(l-r)<.01)A(t,e,n,r,i,a,o,s);else{var c=t.point;t.x=t.y=t.point=null,A(t,c,u,l,i,a,o,s),A(t,e,n,r,i,a,o,s)}else t.x=n,t.y=r,t.point=e}else A(t,e,n,r,i,a,o,s)}function A(t,e,n,r,i,a,o,s){var u=.5*(i+o),l=.5*(a+s),c=n>=u,h=r>=l,f=h<<1|c;t.leaf=!1,c?i=u:o=u,h?a=l:s=l,C(t=t.nodes[f]||(t.nodes[f]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,n,r,i,a,o,s)}b>k?v=d+b:g=p+k;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){C(M,t,+m(t,++h),+y(t,h),p,d,g,v)},visit:function(t){Ji(t,M,p,d,g,v)},find:function(t){return Ki(M,t[0],t[1],p,d,g,v)}};if(h=-1,null==e){for(;++h<f;)C(M,t[h],l[h],c[h],p,d,g,v);--h}else t.forEach(M.add);return l=c=t=u=null,M}return u.x=function(t){return arguments.length?(o=t,u):o},u.y=function(t){return arguments.length?(s=t,u):s},u.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),u):null==e?null:[[e,n],[r,i]]},u.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),u):null==e?null:[r-e,i-n]},u},a.interpolateRgb=Qi,a.interpolateObject=ta,a.interpolateNumber=ea,a.interpolateString=na;var ra=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ia=new RegExp(ra.source,"g");function aa(t,e){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](t,e)););return n}function oa(t,e){var n,r=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(aa(t[n],e[n]));for(;n<a;++n)i[n]=t[n];for(;n<o;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}}a.interpolate=aa,a.interpolators=[function(t,e){var n=typeof e;return("string"===n?xe.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?Qi:na:e instanceof Zt?Qi:Array.isArray(e)?oa:"object"===n&&isNaN(e)?ta:ea)(t,e)}],a.interpolateArray=oa;var sa=function(){return N},ua=a.map({linear:sa,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return pa},cubic:function(){return da},sin:function(){return va},exp:function(){return ma},circle:function(){return ya},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Tt*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Tt/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return xa}}),la=a.map({in:N,out:ha,"in-out":fa,"out-in":function(t){return fa(ha(t))}});function ca(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function ha(t){return function(e){return 1-t(1-e)}}function fa(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function pa(t){return t*t}function da(t){return t*t*t}function ga(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function va(t){return 1-Math.cos(t*qt)}function ma(t){return Math.pow(2,10*(t-1))}function ya(t){return 1-Math.sqrt(1-t*t)}function xa(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function _a(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function ba(t){var e,n,r,i=[t.a,t.b],a=[t.c,t.d],o=ka(i),s=wa(i,a),u=ka(((e=a)[0]+=(r=-s)*(n=i)[0],e[1]+=r*n[1],e))||0;i[0]*a[1]<a[0]*i[1]&&(i[0]*=-1,i[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-a[0],a[1]))*Ft,this.translate=[t.e,t.f],this.scale=[o,u],this.skew=u?Math.atan2(s,u)*Ft:0}function wa(t,e){return t[0]*e[0]+t[1]*e[1]}function ka(t){var e=Math.sqrt(wa(t,t));return e&&(t[0]/=e,t[1]/=e),e}a.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ua.get(n)||sa,ca((r=la.get(r)||N)(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=function(t,e){t=a.hcl(t),e=a.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,s=e.c-r,u=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return Kt(n+o*t,r+s*t,i+u*t)+""}},a.interpolateHsl=function(t,e){t=a.hsl(t),e=a.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,s=e.s-r,u=e.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:o<-180&&(o+=360),function(t){return Yt(n+o*t,r+s*t,i+u*t)+""}},a.interpolateLab=function(t,e){t=a.lab(t),e=a.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,s=e.a-r,u=e.b-i;return function(t){return ie(n+o*t,r+s*t,i+u*t)+""}},a.interpolateRound=_a,a.transform=function(t){var e=u.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new ba(n?n.matrix:Ca)})(t)},ba.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Ca={a:1,b:0,c:0,d:1,e:0,f:0};function Aa(t){return t.length?t.pop()+",":""}function Ma(t,e){var n=[],r=[];return t=a.transform(t),e=a.transform(e),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:ea(t[0],e[0])},{i:i-2,x:ea(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,e.translate,n,r),function(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(Aa(n)+"rotate(",null,")")-2,x:ea(t,e)})):e&&n.push(Aa(n)+"rotate("+e+")")}(t.rotate,e.rotate,n,r),function(t,e,n,r){t!==e?r.push({i:n.push(Aa(n)+"skewX(",null,")")-2,x:ea(t,e)}):e&&n.push(Aa(n)+"skewX("+e+")")}(t.skew,e.skew,n,r),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(Aa(n)+"scale(",null,",",null,")");r.push({i:i-4,x:ea(t[0],e[0])},{i:i-2,x:ea(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Aa(n)+"scale("+e+")")}(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,i=-1,a=r.length;++i<a;)n[(e=r[i]).i]=e.x(t);return n.join("")}}function Ea(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Sa(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Da(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=La(t),r=La(e),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function La(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Ta(t){t.fixed|=2}function za(t){t.fixed&=-7}function qa(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Na(t){t.fixed&=-5}function Fa(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,u=-1;++u<s;)null!=(a=o[u])&&(Fa(a,e,n),t.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}a.interpolateTransform=Ma,a.layout={},a.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Da(t[n]));return e}},a.layout.chord=function(){var t,e,n,r,i,o,s,u={},l=0;function c(){var u,c,f,p,d,g={},v=[],m=a.range(r),y=[];for(t=[],e=[],u=0,p=-1;++p<r;){for(c=0,d=-1;++d<r;)c+=n[p][d];v.push(c),y.push(a.range(r)),u+=c}for(i&&m.sort((function(t,e){return i(v[t],v[e])})),o&&y.forEach((function(t,e){t.sort((function(t,r){return o(n[e][t],n[e][r])}))})),u=(Tt-l*r)/u,c=0,p=-1;++p<r;){for(f=c,d=-1;++d<r;){var x=m[p],_=y[x][d],b=n[x][_],w=c,k=c+=b*u;g[x+"-"+_]={index:x,subindex:_,startAngle:w,endAngle:k,value:b}}e[x]={index:x,startAngle:f,endAngle:c,value:v[x]},c+=l}for(p=-1;++p<r;)for(d=p-1;++d<r;){var C=g[p+"-"+d],A=g[d+"-"+p];(C.value||A.value)&&t.push(C.value<A.value?{source:A,target:C}:{source:C,target:A})}s&&h()}function h(){t.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return u.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,t=e=null,u):n},u.padding=function(n){return arguments.length?(l=n,t=e=null,u):l},u.sortGroups=function(n){return arguments.length?(i=n,t=e=null,u):i},u.sortSubgroups=function(e){return arguments.length?(o=e,t=null,u):o},u.sortChords=function(e){return arguments.length?(s=e,t&&h(),u):s},u.chords=function(){return t||c(),t},u.groups=function(){return e||c(),e},u},a.layout.force=function(){var t,e,n,r,i,o,s={},u=a.dispatch("start","tick","end"),l=[1,1],c=.9,h=Oa,f=Ra,p=-30,d=ja,g=.1,v=.64,m=[],y=[];function x(t){return function(e,n,r,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-n,u=a*a+o*o;if(s*s/v<u){if(u<d){var l=e.charge/u;t.px-=a*l,t.py-=o*l}return!0}e.point&&u&&u<d&&(l=e.pointCharge/u,t.px-=a*l,t.py-=o*l)}return!e.charge}}function _(t){t.px=a.event.x,t.py=a.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return t=null,u.end({type:"end",alpha:n=0}),!0;var e,s,h,f,d,v,_,b,w,k=m.length,C=y.length;for(s=0;s<C;++s)f=(h=y[s]).source,(v=(b=(d=h.target).x-f.x)*b+(w=d.y-f.y)*w)&&(b*=v=n*i[s]*((v=Math.sqrt(v))-r[s])/v,w*=v,d.x-=b*(_=f.weight+d.weight?f.weight/(f.weight+d.weight):.5),d.y-=w*_,f.x+=b*(_=1-_),f.y+=w*_);if((_=n*g)&&(b=l[0]/2,w=l[1]/2,s=-1,_))for(;++s<k;)(h=m[s]).x+=(b-h.x)*_,h.y+=(w-h.y)*_;if(p)for(Fa(e=a.geom.quadtree(m),n,o),s=-1;++s<k;)(h=m[s]).fixed||e.visit(x(h));for(s=-1;++s<k;)(h=m[s]).fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*c,h.y-=(h.py-(h.py=h.y))*c);u.tick({type:"tick",alpha:n})},s.nodes=function(t){return arguments.length?(m=t,s):m},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,s):p},s.chargeDistance=function(t){return arguments.length?(d=t*t,s):Math.sqrt(d)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(v=t*t,s):Math.sqrt(v)},s.alpha=function(e){return arguments.length?(e=+e,n?e>0?n=e:(t.c=null,t.t=NaN,t=null,u.end({type:"end",alpha:n=0})):e>0&&(u.start({type:"start",alpha:n=e}),t=Se(s.tick)),s):n},s.start=function(){var t,e,n,a=m.length,u=y.length,c=l[0],d=l[1];for(t=0;t<a;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<u;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<a;++t)n=m[t],isNaN(n.x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",d)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof h)for(t=0;t<u;++t)r[t]=+h.call(this,y[t],t);else for(t=0;t<u;++t)r[t]=h;if(i=[],"function"==typeof f)for(t=0;t<u;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<u;++t)i[t]=f;if(o=[],"function"==typeof p)for(t=0;t<a;++t)o[t]=+p.call(this,m[t],t);else for(t=0;t<a;++t)o[t]=p;function g(n,r){if(!e){for(e=new Array(a),l=0;l<a;++l)e[l]=[];for(l=0;l<u;++l){var i=y[l];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,s=e[t],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][n]))return o;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(e||(e=a.behavior.drag().origin(N).on("dragstart.force",Ta).on("drag.force",_).on("dragend.force",za)),!arguments.length)return e;this.on("mouseover.force",qa).on("mouseout.force",Na).call(e)},a.rebind(s,u,"on")};var Oa=20,Ra=1,ja=1/0;function Pa(t,e){return a.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=$a,t}function Ia(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ba(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(a=t.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(t=r.pop());)e(t)}function Ha(t){return t.children}function Va(t){return t.value}function Ua(t,e){return e.value-t.value}function $a(t){return a.merge(t.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}a.layout.hierarchy=function(){var t=Ua,e=Ha,n=Va;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(l=e.call(r,a,a.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)o.push(c=l[u]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=l}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return Ba(i,(function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)})),s}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(Ia(t,(function(t){t.children&&(t.value=0)})),Ba(t,(function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)}))),t},r},a.layout.partition=function(){var t=a.layout.hierarchy(),e=[1,1];function n(t,e,r,i){var a=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,a&&(o=a.length)){var o,s,u,l=-1;for(r=t.value?r/t.value:0;++l<o;)n(s=a[l],e,u=s.value*r,i),e+=u}}function r(t){var e=t.children,n=0;if(e&&(i=e.length))for(var i,a=-1;++a<i;)n=Math.max(n,r(e[a]));return 1+n}function i(i,a){var o=t.call(this,i,a);return n(o[0],0,e[0],e[1]/r(o[0])),o}return i.size=function(t){return arguments.length?(e=t,i):e},Pa(i,t)},a.layout.pie=function(){var t=Number,e=Za,n=0,r=Tt,i=0;function o(s){var u,l=s.length,c=s.map((function(e,n){return+t.call(o,e,n)})),h=+("function"==typeof n?n.apply(this,arguments):n),f=("function"==typeof r?r.apply(this,arguments):r)-h,p=Math.min(Math.abs(f)/l,+("function"==typeof i?i.apply(this,arguments):i)),d=p*(f<0?-1:1),g=a.sum(c),v=g?(f-l*d)/g:0,m=a.range(l),y=[];return null!=e&&m.sort(e===Za?function(t,e){return c[e]-c[t]}:function(t,n){return e(s[t],s[n])}),m.forEach((function(t){y[t]={data:s[t],value:u=c[t],startAngle:h,endAngle:h+=u*v+d,padAngle:p}})),y}return o.value=function(e){return arguments.length?(t=e,o):t},o.sort=function(t){return arguments.length?(e=t,o):e},o.startAngle=function(t){return arguments.length?(n=t,o):n},o.endAngle=function(t){return arguments.length?(r=t,o):r},o.padAngle=function(t){return arguments.length?(i=t,o):i},o};var Za={};function Ga(t){return t.x}function Wa(t){return t.y}function Ya(t,e,n){t.y0=e,t.y=n}a.layout.stack=function(){var t=N,e=Ka,n=Qa,r=Ya,i=Ga,o=Wa;function s(u,l){if(!(p=u.length))return u;var c=u.map((function(e,n){return t.call(s,e,n)})),h=c.map((function(t){return t.map((function(t,e){return[i.call(s,t,e),o.call(s,t,e)]}))})),f=e.call(s,h,l);c=a.permute(c,f),h=a.permute(h,f);var p,d,g,v,m=n.call(s,h,l),y=c[0].length;for(g=0;g<y;++g)for(r.call(s,c[0][g],v=m[g],h[0][g][1]),d=1;d<p;++d)r.call(s,c[d][g],v+=h[d-1][g][1],h[d][g][1]);return u}return s.values=function(e){return arguments.length?(t=e,s):t},s.order=function(t){return arguments.length?(e="function"==typeof t?t:Xa.get(t)||Ka,s):e},s.offset=function(t){return arguments.length?(n="function"==typeof t?t:Ja.get(t)||Qa,s):n},s.x=function(t){return arguments.length?(i=t,s):i},s.y=function(t){return arguments.length?(o=t,s):o},s.out=function(t){return arguments.length?(r=t,s):r},s};var Xa=a.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(to),o=t.map(eo),s=a.range(r).sort((function(t,e){return i[t]-i[e]})),u=0,l=0,c=[],h=[];for(e=0;e<r;++e)n=s[e],u<l?(u+=o[n],c.push(n)):(l+=o[n],h.push(n));return h.reverse().concat(c)},reverse:function(t){return a.range(t.length).reverse()},default:Ka}),Ja=a.map({silhouette:function(t){var e,n,r,i=t.length,a=t[0].length,o=[],s=0,u=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)u[n]=(s-o[n])/2;return u},wiggle:function(t){var e,n,r,i,a,o,s,u,l,c=t.length,h=t[0],f=h.length,p=[];for(p[0]=u=l=0,n=1;n<f;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];e<c;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;a+=o*t[e][n][1]}p[n]=u-=i?a/i*s:0,u<l&&(l=u)}for(n=0;n<f;++n)p[n]-=l;return p},expand:function(t){var e,n,r,i=t.length,a=t[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:Qa});function Ka(t){return a.range(t.length)}function Qa(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function to(t){for(var e,n=1,r=0,i=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function eo(t){return t.reduce(no,0)}function no(t,e){return t+e[1]}function ro(t,e){return io(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function io(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,a=[];++n<=e;)a[n]=i*n+r;return a}function ao(t){return[a.min(t),a.max(t)]}function oo(t,e){return t.value-e.value}function so(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function uo(t,e){t._pack_next=e,e._pack_prev=t}function lo(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function co(t){if((e=t.children)&&(u=e.length)){var e,n,r,i,a,o,s,u,l=1/0,c=-1/0,h=1/0,f=-1/0;if(e.forEach(ho),(n=e[0]).x=-n.r,n.y=0,x(n),u>1&&((r=e[1]).x=r.r,r.y=0,x(r),u>2))for(go(n,r,i=e[2]),x(i),so(n,i),n._pack_prev=i,so(i,r),r=n._pack_next,a=3;a<u;a++){go(n,r,i=e[a]);var p=0,d=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,d++)if(lo(o,i)){p=1;break}if(1==p)for(s=n._pack_prev;s!==o._pack_prev&&!lo(s,i);s=s._pack_prev,g++);p?(d<g||d==g&&r.r<n.r?uo(n,r=o):uo(n=s,r),a--):(so(n,i),r=i,x(i))}var v=(l+c)/2,m=(h+f)/2,y=0;for(a=0;a<u;a++)(i=e[a]).x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(fo)}function x(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),h=Math.min(t.y-t.r,h),f=Math.max(t.y+t.r,f)}}function ho(t){t._pack_next=t._pack_prev=t}function fo(t){delete t._pack_next,delete t._pack_prev}function po(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var a=-1,o=i.length;++a<o;)po(i[a],e,n,r)}function go(t,e,n){var r=t.r+n.r,i=e.x-t.x,a=e.y-t.y;if(r&&(i||a)){var o=e.r+n.r,s=i*i+a*a,u=.5+((r*=r)-(o*=o))/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+u*i+l*a,n.y=t.y+u*a-l*i}else n.x=t.x+r,n.y=t.y}function vo(t,e){return t.parent==e.parent?1:2}function mo(t){var e=t.children;return e.length?e[0]:t.t}function yo(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function xo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function _o(t,e,n){return t.a.parent===e.parent?t.a:n}function bo(t){var e=t.children;return e&&e.length?bo(e[0]):t}function wo(t){var e,n=t.children;return n&&(e=n.length)?wo(n[e-1]):t}function ko(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Co(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Ao(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Mo(t){return t.rangeExtent?t.rangeExtent():Ao(t.range())}function Eo(t,e,n,r){var i=n(t[0],t[1]),a=r(e[0],e[1]);return function(t){return a(i(t))}}function So(t,e){var n,r=0,i=t.length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function Do(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Lo}a.layout.histogram=function(){var t=!0,e=Number,n=ao,r=ro;function i(i,o){for(var s,u,l=[],c=i.map(e,this),h=n.call(this,c,o),f=r.call(this,h,c,o),p=(o=-1,c.length),d=f.length-1,g=t?1:1/p;++o<d;)(s=l[o]=[]).dx=f[o+1]-(s.x=f[o]),s.y=0;if(d>0)for(o=-1;++o<p;)(u=c[o])>=h[0]&&u<=h[1]&&((s=l[a.bisect(f,u,1,d)-1]).y+=g,s.push(i[o]));return l}return i.value=function(t){return arguments.length?(e=t,i):e},i.range=function(t){return arguments.length?(n=_e(t),i):n},i.bins=function(t){return arguments.length?(r="number"==typeof t?function(e){return io(e,t)}:_e(t),i):r},i.frequency=function(e){return arguments.length?(t=!!e,i):t},i},a.layout.pack=function(){var t,e=a.layout.hierarchy().sort(oo),n=0,r=[1,1];function i(i,a){var o=e.call(this,i,a),s=o[0],u=r[0],l=r[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(s.x=s.y=0,Ba(s,(function(t){t.r=+c(t.value)})),Ba(s,co),n){var h=n*(t?1:Math.max(2*s.r/u,2*s.r/l))/2;Ba(s,(function(t){t.r+=h})),Ba(s,co),Ba(s,(function(t){t.r-=h}))}return po(s,u/2,l/2,t?1:1/Math.max(2*s.r/u,2*s.r/l)),o}return i.size=function(t){return arguments.length?(r=t,i):r},i.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,i):t},i.padding=function(t){return arguments.length?(n=+t,i):n},Pa(i,e)},a.layout.tree=function(){var t=a.layout.hierarchy().sort(null).value(null),e=vo,n=[1,1],r=null;function i(i,a){var l=t.call(this,i,a),c=l[0],h=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,a=e.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(c);if(Ba(h,o),h.parent.m=-h.z,Ia(h,s),r)Ia(c,u);else{var f=c,p=c,d=c;Ia(c,(function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>d.depth&&(d=t)}));var g=e(f,p)/2-f.x,v=n[0]/(p.x+e(p,f)/2+g),m=n[1]/(d.depth||1);Ia(c,(function(t){t.x=(t.x+g)*v,t.y=t.depth*m}))}return l}function o(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n.length){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;--a>=0;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,s=n,u=a.parent.children[0],l=a.m,c=o.m,h=s.m,f=u.m;s=yo(s),a=mo(a),s&&a;)u=mo(u),(o=yo(o)).a=t,(i=s.z+h-a.z-l+e(s._,a._))>0&&(xo(_o(s,t,r),t,i),l+=i,c+=i),h+=s.m,l+=a.m,f+=u.m,c+=o.m;s&&!yo(o)&&(o.t=s,o.m+=h-c),a&&!mo(u)&&(u.t=a,u.m+=l-f,r=t)}return r}(t,i,t.parent.A||r[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function u(t){t.x*=n[0],t.y=t.depth*n[1]}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t)?u:null,i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null==(n=t)?null:u,i):r?n:null},Pa(i,t)},a.layout.cluster=function(){var t=a.layout.hierarchy().sort(null).value(null),e=vo,n=[1,1],r=!1;function i(i,o){var s,u=t.call(this,i,o),l=u[0],c=0;Ba(l,(function(t){var n=t.children;n&&n.length?(t.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),t.y=function(t){return 1+a.max(t,(function(t){return t.y}))}(n)):(t.x=s?c+=e(t,s):0,t.y=0,s=t)}));var h=bo(l),f=wo(l),p=h.x-e(h,f)/2,d=f.x+e(f,h)/2;return Ba(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),u}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(t){return arguments.length?(r=null==(n=t),i):r?null:n},i.nodeSize=function(t){return arguments.length?(r=null!=(n=t),i):r?n:null},Pa(i,t)},a.layout.treemap=function(){var t,e=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=ko,s=!1,u="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,a=t.length;++i<a;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function h(t){var e=t.children;if(e&&e.length){var n,r,i,a=o(t),s=[],l=e.slice(),f=1/0,g="slice"===u?a.dx:"dice"===u?a.dy:"slice-dice"===u?1&t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(l,a.dx*a.dy/t.value),s.area=0;(i=l.length)>0;)s.push(n=l[i-1]),s.area+=n.area,"squarify"!==u||(r=p(s,g))<=f?(l.pop(),f=r):(s.area-=s.pop().area,d(s,g,a,!1),g=Math.min(a.dx,a.dy),s.length=s.area=0,f=1/0);s.length&&(d(s,g,a,!0),s.length=s.area=0),e.forEach(h)}}function f(t){var e=t.children;if(e&&e.length){var n,r=o(t),i=e.slice(),a=[];for(c(i,r.dx*r.dy/t.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(d(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);e.forEach(f)}}function p(t,e){for(var n,r=t.area,i=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),n>i&&(i=n));return e*=e,(r*=r)?Math.max(e*i*l/r,r/(e*a*l)):1/0}function d(t,e,r,i){var a,o=-1,s=t.length,u=r.x,l=r.y,c=e?n(t.area/e):0;if(e==r.dx){for((i||c>r.dy)&&(c=r.dy);++o<s;)(a=t[o]).x=u,a.y=l,a.dy=c,u+=a.dx=Math.min(r.x+r.dx-u,c?n(a.area/c):0);a.z=!0,a.dx+=r.x+r.dx-u,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++o<s;)(a=t[o]).x=u,a.y=l,a.dx=c,l+=a.dy=Math.min(r.y+r.dy-l,c?n(a.area/c):0);a.z=!1,a.dy+=r.y+r.dy-l,r.x+=c,r.dx-=c}}function g(n){var i=t||e(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,t&&e.revalue(a),c([a],a.dx*a.dy/a.value),(t?f:h)(a),s&&(t=i),i}return g.size=function(t){return arguments.length?(r=t,g):r},g.padding=function(t){if(!arguments.length)return i;function e(e){var n=t.call(g,e,e.depth);return null==n?ko(e):Co(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Co(e,t)}var r;return o=null==(i=t)?ko:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(e){return arguments.length?(s=e,t=null,g):s},g.ratio=function(t){return arguments.length?(l=t,g):l},g.mode=function(t){return arguments.length?(u=t+"",g):u},Pa(g,e)},a.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=a.random.normal.apply(a,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=a.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},a.scale={};var Lo={floor:N,ceil:N};function To(t,e,n,r){var i=[],o=[],s=0,u=Math.min(t.length,e.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=u;)i.push(n(t[s-1],t[s])),o.push(r(e[s-1],e[s]));return function(e){var n=a.bisect(t,e,1,u)-1;return o[n](i[n](e))}}function zo(t,e,n,r){var i,a;function o(){var o=Math.min(t.length,e.length)>2?To:Eo,u=r?Sa:Ea;return i=o(t,e,u,n),a=o(e,t,u,aa),s}function s(t){return i(t)}return s.invert=function(t){return a(t)},s.domain=function(e){return arguments.length?(t=e.map(Number),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.rangeRound=function(t){return s.range(t).interpolate(_a)},s.clamp=function(t){return arguments.length?(r=t,o()):r},s.interpolate=function(t){return arguments.length?(n=t,o()):n},s.ticks=function(e){return Oo(t,e)},s.tickFormat=function(e,n){return Ro(t,e,n)},s.nice=function(e){return No(t,e),o()},s.copy=function(){return zo(t,e,n,r)},o()}function qo(t,e){return a.rebind(t,e,"range","rangeRound","interpolate","clamp")}function No(t,e){return So(t,Do(Fo(t,e)[2])),So(t,Do(Fo(t,e)[2])),t}function Fo(t,e){null==e&&(e=10);var n=Ao(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),a=e/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Oo(t,e){return a.range.apply(a,Fo(t,e))}function Ro(t,e,n){var r=Fo(t,e);if(n){var i=Fe.exec(n);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(w(r[0]),w(r[1])));return i[7]||(i[7]="."+Po(o.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+function(t,e){var n=Po(e[2]);return t in jo?Math.abs(n-Po(Math.max(w(e[0]),w(e[1]))))+ +("e"!==t):n-2*("%"===t)}(i[8],r)),n=i.join("")}else n=",."+Po(r[2])+"f";return a.format(n)}a.scale.linear=function(){return zo([0,1],[0,1],aa,!1)};var jo={s:1,g:1,p:1,r:1,e:1};function Po(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Io(t,e,n,r){function i(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(i(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),s):r},s.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),s):e},s.nice=function(){var e=So(r.map(i),n?Math:Ho);return t.domain(e),r=e.map(o),s},s.ticks=function(){var t=Ao(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;l<c;l++)for(var f=1;f<h;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},s.tickFormat=function(t,n){if(!arguments.length)return Bo;arguments.length<2?n=Bo:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,e*t/s.ticks().length);return function(t){var a=t/o(Math.round(i(t)));return a*e<e-.5&&(a*=e),a<=r?n(t):""}},s.copy=function(){return Io(t.copy(),e,n,r)},qo(s,t)}a.scale.log=function(){return Io(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Bo=a.format(".0e"),Ho={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Vo(t,e,n){var r=Uo(e),i=Uo(1/e);function a(e){return t(r(e))}return a.invert=function(e){return i(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),a):n},a.ticks=function(t){return Oo(n,t)},a.tickFormat=function(t,e){return Ro(n,t,e)},a.nice=function(t){return a.domain(No(n,t))},a.exponent=function(o){return arguments.length?(r=Uo(e=o),i=Uo(1/e),t.domain(n.map(r)),a):e},a.copy=function(){return Vo(t.copy(),e,n)},qo(a,t)}function Uo(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $o(t,e){var n,r,i;function o(i){return r[((n.get(i)||("range"===e.t?n.set(i,t.push(i)):NaN))-1)%r.length]}function s(e,n){return a.range(t.length).map((function(t){return e+n*t}))}return o.domain=function(r){if(!arguments.length)return t;t=[],n=new A;for(var i,a=-1,s=r.length;++a<s;)n.has(i=r[a])||n.set(i,t.push(i));return o[e.t].apply(o,e.a)},o.range=function(t){return arguments.length?(r=t,i=0,e={t:"range",a:arguments},o):r},o.rangePoints=function(n,a){arguments.length<2&&(a=0);var u=n[0],l=n[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+a);return r=s(u+c*a/2,c),i=0,e={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var u=n[0],l=n[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+a)|0;return r=s(u+Math.round(c*a/2+(l-u-(t.length-1+a)*c)/2),c),i=0,e={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(n,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=n[1]<n[0],c=n[l-0],h=n[1-l],f=(h-c)/(t.length-a+2*u);return r=s(c+f*u,f),l&&r.reverse(),i=f*(1-a),e={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(n,a,u){arguments.length<2&&(a=0),arguments.length<3&&(u=a);var l=n[1]<n[0],c=n[l-0],h=n[1-l],f=Math.floor((h-c)/(t.length-a+2*u));return r=s(c+Math.round((h-c-(t.length-a)*f)/2),f),l&&r.reverse(),i=Math.round(f*(1-a)),e={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return i},o.rangeExtent=function(){return Ao(e.a[0])},o.copy=function(){return $o(t,e)},o.domain(t)}a.scale.pow=function(){return Vo(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return $o([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Zo)},a.scale.category20=function(){return a.scale.ordinal().range(Go)},a.scale.category20b=function(){return a.scale.ordinal().range(Wo)},a.scale.category20c=function(){return a.scale.ordinal().range(Yo)};var Zo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(he),Go=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(he),Wo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(he),Yo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(he);function Xo(t,e){var n;function r(){var r=0,o=e.length;for(n=[];++r<o;)n[r-1]=a.quantile(t,r/o);return i}function i(t){if(!isNaN(t=+t))return e[a.bisect(n,t)]}return i.domain=function(e){return arguments.length?(t=e.map(m).filter(y).sort(v),r()):t},i.range=function(t){return arguments.length?(e=t,r()):e},i.quantiles=function(){return n},i.invertExtent=function(r){return(r=e.indexOf(r))<0?[NaN,NaN]:[r>0?n[r-1]:t[0],r<n.length?n[r]:t[t.length-1]]},i.copy=function(){return Xo(t,e)},r()}function Jo(t,e,n){var r,i;function a(e){return n[Math.max(0,Math.min(i,Math.floor(r*(e-t))))]}function o(){return r=n.length/(e-t),i=n.length-1,a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},a.range=function(t){return arguments.length?(n=t,o()):n},a.invertExtent=function(e){return[e=(e=n.indexOf(e))<0?NaN:e/r+t,e+1/r]},a.copy=function(){return Jo(t,e,n)},o()}function Ko(t,e){function n(n){if(n<=n)return e[a.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return Ko(t,e)},n}function Qo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Oo(t,e)},e.tickFormat=function(e,n){return Ro(t,e,n)},e.copy=function(){return Qo(t)},e}function ts(){return 0}a.scale.quantile=function(){return Xo([],[])},a.scale.quantize=function(){return Jo(0,1,[0,1])},a.scale.threshold=function(){return Ko([.5],[0,1])},a.scale.identity=function(){return Qo([0,1])},a.svg={},a.svg.arc=function(){var t=ns,e=rs,n=ts,r=es,i=is,a=as,o=os;function s(){var s=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-qt,h=a.apply(this,arguments)-qt,f=Math.abs(h-c),p=c>h?0:1;if(l<s&&(d=l,l=s,s=d),f>=zt)return u(l,p)+(s?u(s,1-p):"")+"Z";var d,g,v,m,y,x,_,b,w,k,C,A,M=0,E=0,S=[];if((m=(+o.apply(this,arguments)||0)/2)&&(v=r===es?Math.sqrt(s*s+l*l):+r.apply(this,arguments),p||(E*=-1),l&&(E=Pt(v/l*Math.sin(m))),s&&(M=Pt(v/s*Math.sin(m)))),l){y=l*Math.cos(c+E),x=l*Math.sin(c+E),_=l*Math.cos(h-E),b=l*Math.sin(h-E);var D=Math.abs(h-c-2*E)<=Lt?0:1;if(E&&ss(y,x,_,b)===p^D){var L=(c+h)/2;y=l*Math.cos(L),x=l*Math.sin(L),_=b=null}}else y=x=0;if(s){w=s*Math.cos(h-M),k=s*Math.sin(h-M),C=s*Math.cos(c+M),A=s*Math.sin(c+M);var T=Math.abs(c-h+2*M)<=Lt?0:1;if(M&&ss(w,k,C,A)===1-p^T){var z=(c+h)/2;w=s*Math.cos(z),k=s*Math.sin(z),C=A=null}}else w=k=0;if(f>St&&(d=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){g=s<l^p?0:1;var q=d,N=d;if(f<Lt){var F=null==C?[w,k]:null==_?[y,x]:gi([y,x],[C,A],[_,b],[w,k]),O=y-F[0],R=x-F[1],j=_-F[0],P=b-F[1],I=1/Math.sin(Math.acos((O*j+R*P)/(Math.sqrt(O*O+R*R)*Math.sqrt(j*j+P*P)))/2),B=Math.sqrt(F[0]*F[0]+F[1]*F[1]);N=Math.min(d,(s-B)/(I-1)),q=Math.min(d,(l-B)/(I+1))}if(null!=_){var H=us(null==C?[w,k]:[C,A],[y,x],l,q,p),V=us([_,b],[w,k],l,q,p);d===q?S.push("M",H[0],"A",q,",",q," 0 0,",g," ",H[1],"A",l,",",l," 0 ",1-p^ss(H[1][0],H[1][1],V[1][0],V[1][1]),",",p," ",V[1],"A",q,",",q," 0 0,",g," ",V[0]):S.push("M",H[0],"A",q,",",q," 0 1,",g," ",V[0])}else S.push("M",y,",",x);if(null!=C){var U=us([y,x],[C,A],s,-N,p),$=us([w,k],null==_?[y,x]:[_,b],s,-N,p);d===N?S.push("L",$[0],"A",N,",",N," 0 0,",g," ",$[1],"A",s,",",s," 0 ",p^ss($[1][0],$[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",N,",",N," 0 0,",g," ",U[0]):S.push("L",$[0],"A",N,",",N," 0 0,",g," ",U[0])}else S.push("L",w,",",k)}else S.push("M",y,",",x),null!=_&&S.push("A",l,",",l," 0 ",D,",",p," ",_,",",b),S.push("L",w,",",k),null!=C&&S.push("A",s,",",s," 0 ",T,",",1-p," ",C,",",A);return S.push("Z"),S.join("")}function u(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return s.innerRadius=function(e){return arguments.length?(t=_e(e),s):t},s.outerRadius=function(t){return arguments.length?(e=_e(t),s):e},s.cornerRadius=function(t){return arguments.length?(n=_e(t),s):n},s.padRadius=function(t){return arguments.length?(r=t==es?es:_e(t),s):r},s.startAngle=function(t){return arguments.length?(i=_e(t),s):i},s.endAngle=function(t){return arguments.length?(a=_e(t),s):a},s.padAngle=function(t){return arguments.length?(o=_e(t),s):o},s.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-qt;return[Math.cos(r)*n,Math.sin(r)*n]},s};var es="auto";function ns(t){return t.innerRadius}function rs(t){return t.outerRadius}function is(t){return t.startAngle}function as(t){return t.endAngle}function os(t){return t&&t.padAngle}function ss(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function us(t,e,n,r,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),u=s*o,l=-s*a,c=t[0]+u,h=t[1]+l,f=e[0]+u,p=e[1]+l,d=(c+f)/2,g=(h+p)/2,v=f-c,m=p-h,y=v*v+m*m,x=n-r,_=c*p-f*h,b=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-_*_)),w=(_*m-v*b)/y,k=(-_*v-m*b)/y,C=(_*m+v*b)/y,A=(-_*v+m*b)/y,M=w-d,E=k-g,S=C-d,D=A-g;return M*M+E*E>S*S+D*D&&(w=C,k=A),[[w-u,k-l],[w*n/x,k*n/x]]}function ls(t){var e=li,n=ci,r=Qn,i=hs,a=i.key,o=.7;function s(a){var s,u=[],l=[],c=-1,h=a.length,f=_e(e),p=_e(n);function d(){u.push("M",i(t(l),o))}for(;++c<h;)r.call(this,s=a[c],c)?l.push([+f.call(this,s,c),+p.call(this,s,c)]):l.length&&(d(),l=[]);return l.length&&d(),u.length?u.join(""):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(n=t,s):n},s.defined=function(t){return arguments.length?(r=t,s):r},s.interpolate=function(t){return arguments.length?(a="function"==typeof t?i=t:(i=cs.get(t)||hs).key,s):a},s.tension=function(t){return arguments.length?(o=t,s):o},s}a.svg.line=function(){return ls(N)};var cs=a.map({linear:hs,"linear-closed":fs,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":ps,"step-after":ds,basis:ms,"basis-open":function(t){if(t.length<4)return hs(t);for(var e,n=[],r=-1,i=t.length,a=[0],o=[0];++r<3;)e=t[r],a.push(e[0]),o.push(e[1]);for(n.push(ys(bs,a)+","+ys(bs,o)),--r;++r<i;)e=t[r],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),ws(n,a,o);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,a=i+4,o=[],s=[];++r<4;)n=t[r%i],o.push(n[0]),s.push(n[1]);for(e=[ys(bs,o),",",ys(bs,s)],--r;++r<a;)n=t[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),ws(e,o,s);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,a=t[0][0],o=t[0][1],s=t[n][0]-a,u=t[n][1]-o,l=-1;++l<=n;)i=l/n,(r=t[l])[0]=e*r[0]+(1-e)*(a+i*s),r[1]=e*r[1]+(1-e)*(o+i*u);return ms(t)},cardinal:function(t,e){return t.length<3?hs(t):t[0]+gs(t,vs(t,e))},"cardinal-open":function(t,e){return t.length<4?hs(t):t[1]+gs(t.slice(1,-1),vs(t,e))},"cardinal-closed":function(t,e){return t.length<3?fs(t):t[0]+gs((t.push(t[0]),t),vs([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?hs(t):t[0]+gs(t,function(t){for(var e,n,r,i,a=[],o=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],a=t[1],o=r[0]=ks(i,a);++e<n;)r[e]=(o+(o=ks(i=a,a=t[e+1])))/2;return r[e]=o,r}(t),s=-1,u=t.length-1;++s<u;)e=ks(t[s],t[s+1]),w(e)<St?o[s]=o[s+1]=0:(i=(n=o[s]/e)*n+(r=o[s+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(t))}});function hs(t){return t.length>1?t.join("L"):t+"Z"}function fs(t){return t.join("L")+"Z"}function ps(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ds(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function gs(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return hs(t);var n=t.length!=e.length,r="",i=t[0],a=t[1],o=e[0],s=o,u=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=t[1],u=2),e.length>1){s=e[1],a=t[u],u++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var l=2;l<e.length;l++,u++)a=t[u],s=e[l],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[u];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function vs(t,e){for(var n,r=[],i=(1-e)/2,a=t[0],o=t[1],s=1,u=t.length;++s<u;)n=a,a=o,o=t[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function ms(t){if(t.length<3)return hs(t);var e=1,n=t.length,r=t[0],i=r[0],a=r[1],o=[i,i,i,(r=t[1])[0]],s=[a,a,a,r[1]],u=[i,",",a,"L",ys(bs,o),",",ys(bs,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),ws(u,o,s);return t.pop(),u.push("L",r),u.join("")}function ys(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}cs.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var xs=[0,2/3,1/3,0],_s=[0,1/3,2/3,0],bs=[0,1/6,2/3,1/6];function ws(t,e,n){t.push("C",ys(xs,e),",",ys(xs,n),",",ys(_s,e),",",ys(_s,n),",",ys(bs,e),",",ys(bs,n))}function ks(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Cs(t){for(var e,n,r,i=-1,a=t.length;++i<a;)n=(e=t[i])[0],r=e[1]-qt,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function As(t){var e=li,n=li,r=0,i=ci,a=Qn,o=hs,s=o.key,u=o,l="L",c=.7;function h(s){var h,f,p,d=[],g=[],v=[],m=-1,y=s.length,x=_e(e),_=_e(r),b=e===n?function(){return f}:_e(n),w=r===i?function(){return p}:_e(i);function k(){d.push("M",o(t(v),c),l,u(t(g.reverse()),c),"Z")}for(;++m<y;)a.call(this,h=s[m],m)?(g.push([f=+x.call(this,h,m),p=+_.call(this,h,m)]),v.push([+b.call(this,h,m),+w.call(this,h,m)])):g.length&&(k(),g=[],v=[]);return g.length&&k(),d.length?d.join(""):null}return h.x=function(t){return arguments.length?(e=n=t,h):n},h.x0=function(t){return arguments.length?(e=t,h):e},h.x1=function(t){return arguments.length?(n=t,h):n},h.y=function(t){return arguments.length?(r=i=t,h):i},h.y0=function(t){return arguments.length?(r=t,h):r},h.y1=function(t){return arguments.length?(i=t,h):i},h.defined=function(t){return arguments.length?(a=t,h):a},h.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=cs.get(t)||hs).key,u=o.reverse||o,l=o.closed?"M":"L",h):s},h.tension=function(t){return arguments.length?(c=t,h):c},h}function Ms(t){return t.radius}function Es(t){return[t.x,t.y]}function Ss(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-qt;return[n*Math.cos(r),n*Math.sin(r)]}}function Ds(){return 64}function Ls(){return"circle"}function Ts(t){var e=Math.sqrt(t/Lt);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}a.svg.line.radial=function(){var t=ls(Cs);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ps.reverse=ds,ds.reverse=ps,a.svg.area=function(){return As(N)},a.svg.area.radial=function(){var t=As(Cs);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},a.svg.chord=function(){var t=Yr,e=Xr,n=Ms,r=is,i=as;function a(n,r){var i,a,l=o(this,t,n,r),c=o(this,e,n,r);return"M"+l.p0+s(l.r,l.p1,l.a1-l.a0)+(a=c,((i=l).a0==a.a0&&i.a1==a.a1?u(l.r,l.p1,l.r,l.p0):u(l.r,l.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+u(c.r,c.p1,l.r,l.p0))+"Z")}function o(t,e,a,o){var s=e.call(t,a,o),u=n.call(t,s,o),l=r.call(t,s,o)-qt,c=i.call(t,s,o)-qt;return{r:u,a0:l,a1:c,p0:[u*Math.cos(l),u*Math.sin(l)],p1:[u*Math.cos(c),u*Math.sin(c)]}}function s(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Lt)+",1 "+e}function u(t,e,n,r){return"Q 0,0 "+r}return a.radius=function(t){return arguments.length?(n=_e(t),a):n},a.source=function(e){return arguments.length?(t=_e(e),a):t},a.target=function(t){return arguments.length?(e=_e(t),a):e},a.startAngle=function(t){return arguments.length?(r=_e(t),a):r},a.endAngle=function(t){return arguments.length?(i=_e(t),a):i},a},a.svg.diagonal=function(){var t=Yr,e=Xr,n=Es;function r(r,i){var a=t.call(this,r,i),o=e.call(this,r,i),s=(a.y+o.y)/2,u=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(u=u.map(n))[0]+"C"+u[1]+" "+u[2]+" "+u[3]}return r.source=function(e){return arguments.length?(t=_e(e),r):t},r.target=function(t){return arguments.length?(e=_e(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},a.svg.diagonal.radial=function(){var t=a.svg.diagonal(),e=Es,n=t.projection;return t.projection=function(t){return arguments.length?n(Ss(e=t)):e},t},a.svg.symbol=function(){var t=Ls,e=Ds;function n(n,r){return(zs.get(t.call(this,n,r))||Ts)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=_e(e),n):t},n.size=function(t){return arguments.length?(e=_e(t),n):e},n};var zs=a.map({circle:Ts,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Ns)),n=e*Ns;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/qs),n=e*qs/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/qs),n=e*qs/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});a.svg.symbolTypes=zs.keys();var qs=Math.sqrt(3),Ns=Math.tan(30*Nt);X.transition=function(t){for(var e,n,r=js||++Bs,i=Us(t),a=[],o=Ps||{time:Date.now(),ease:ga,delay:0,duration:250},s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&$s(n,c,i,r,o),e.push(n)}return Rs(a,i,r)},X.interrupt=function(t){return this.each(null==t?Fs:Os(Us(t)))};var Fs=Os(Us());function Os(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Rs(t,e,n){return $(t,Is),t.namespace=e,t.id=n,t}var js,Ps,Is=[],Bs=0;function Hs(t,e,n,r){var i=t.id,a=t.namespace;return dt(t,"function"==typeof n?function(t,o,s){t[a][i].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[a][i].tween.set(e,n)}))}function Vs(t){return null==t&&(t=""),function(){this.textContent=t}}function Us(t){return null==t?"__transition__":"__transition_"+t+"__"}function $s(t,e,n,r,i){var a,o,s,u,l,c=t[n]||(t[n]={active:0,count:0}),h=c[r];function f(n){var i=c.active,f=c[i];for(var d in f&&(f.timer.c=null,f.timer.t=NaN,--c.count,delete c[i],f.event&&f.event.interrupt.call(t,t.__data__,f.index)),c)if(+d<r){var g=c[d];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[d]}o.c=p,Se((function(){return o.c&&p(n||1)&&(o.c=null,o.t=NaN),1}),0,a),c.active=r,h.event&&h.event.start.call(t,t.__data__,e),l=[],h.tween.forEach((function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)})),u=h.ease,s=h.duration}function p(i){for(var a=i/s,o=u(a),f=l.length;f>0;)l[--f].call(t,o);if(a>=1)return h.event&&h.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}h||(a=i.time,o=Se((function(t){var e=h.delay;if(o.t=e+a,e<=t)return f(t-e);o.c=f}),0,a),h=c[r]={tween:new A,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}Is.call=X.call,Is.empty=X.empty,Is.node=X.node,Is.size=X.size,a.transition=function(t,e){return t&&t.transition?js?t.transition(e):t:a.selection().transition(t)},a.transition.prototype=Is,Is.select=function(t){var e,n,r,i=this.id,a=this.namespace,o=[];t=J(t);for(var s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),$s(n,c,a,i,r[a][i]),e.push(n)):e.push(null)}return Rs(o,a,i)},Is.selectAll=function(t){var e,n,r,i,a,o=this.id,s=this.namespace,u=[];t=K(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,p=h.length;++f<p;)if(r=h[f]){a=r[s][o],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var d=-1,g=n.length;++d<g;)(i=n[d])&&$s(i,d,s,o,a),e.push(i)}return Rs(u,s,o)},Is.filter=function(t){var e,n,r=[];"function"!=typeof t&&(t=ft(t));for(var i=0,a=this.length;i<a;i++){r.push(e=[]);for(var o,s=0,u=(o=this[i]).length;s<u;s++)(n=o[s])&&t.call(n,n.__data__,s,i)&&e.push(n)}return Rs(r,this.namespace,this.id)},Is.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):dt(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Is.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var n="transform"==t?Ma:aa,r=a.ns.qualify(t);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(r);return i!==t&&(e=n(i,t),function(t){this.setAttribute(r,e(t))})})}function u(t){return null==t?o:(t+="",function(){var e,i=this.getAttributeNS(r.space,r.local);return i!==t&&(e=n(i,t),function(t){this.setAttributeNS(r.space,r.local,e(t))})})}return Hs(this,"attr."+t,e,r.local?u:s)},Is.attrTween=function(t,e){var n=a.ns.qualify(t);return this.tween("attr."+t,n.local?function(t,r){var i=e.call(this,t,r,this.getAttributeNS(n.space,n.local));return i&&function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,r){var i=e.call(this,t,r,this.getAttribute(n));return i&&function(t){this.setAttribute(n,i(t))}})},Is.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}function a(e){return null==e?i:(e+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=aa(i,e),function(e){this.style.setProperty(t,r(e),n)})})}return Hs(this,"style."+t,e,a)},Is.styleTween=function(t,e,n){function r(r,i){var a=e.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Is.text=function(t){return Hs(this,"text",t,Vs)},Is.remove=function(){var t=this.namespace;return this.each("end.transition",(function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)}))},Is.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=a.ease.apply(a,arguments)),dt(this,(function(r){r[n][e].ease=t})))},Is.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:dt(this,"function"==typeof t?function(r,i,a){r[n][e].delay=+t.call(r,r.__data__,i,a)}:(t=+t,function(r){r[n][e].delay=t}))},Is.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:dt(this,"function"==typeof t?function(r,i,a){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,a))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Is.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ps,o=js;try{js=n,dt(this,(function(e,i,a){Ps=e[r][n],t.call(e,e.__data__,i,a)}))}finally{Ps=i,js=o}}else dt(this,(function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(t,e)}));return this},Is.transition=function(){for(var t,e,n,r=this.id,i=++Bs,a=this.namespace,o=[],s=0,u=this.length;s<u;s++){o.push(t=[]);for(var l,c=0,h=(l=this[s]).length;c<h;c++)(e=l[c])&&$s(e,c,a,i,{time:(n=e[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),t.push(e)}return Rs(o,a,i)},a.svg.axis=function(){var t,e=a.scale.linear(),n=Zs,r=6,i=6,o=3,u=[10],l=null;function c(s){s.each((function(){var s,c=a.select(this),h=this.__chart__||e,f=this.__chart__=e.copy(),p=null==l?f.ticks?f.ticks.apply(f,u):f.domain():l,d=null==t?f.tickFormat?f.tickFormat.apply(f,u):N:t,g=c.selectAll(".tick").data(p,f),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",St),m=a.transition(g.exit()).style("opacity",St).remove(),y=a.transition(g.order()).style("opacity",1),x=Math.max(r,0)+o,_=Mo(f),b=c.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),a.transition(b));v.append("line"),v.append("text");var k,C,A,M,E=v.select("line"),S=y.select("line"),D=g.select("text").text(d),L=v.select("text"),T=y.select("text"),z="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Ws,k="x",A="y",C="x2",M="y2",D.attr("dy",z<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+z*i+"V0H"+_[1]+"V"+z*i)):(s=Ys,k="y",A="x",C="y2",M="x2",D.attr("dy",".32em").style("text-anchor",z<0?"end":"start"),w.attr("d","M"+z*i+","+_[0]+"H0V"+_[1]+"H"+z*i)),E.attr(M,z*r),L.attr(A,z*x),S.attr(C,0).attr(M,z*r),T.attr(k,0).attr(A,z*x),f.rangeBand){var q=f,F=q.rangeBand()/2;h=f=function(t){return q(t)+F}}else h.rangeBand?h=f:m.call(s,f,h);v.call(s,h,f),y.call(s,f,f)}))}return c.scale=function(t){return arguments.length?(e=t,c):e},c.orient=function(t){return arguments.length?(n=t in Gs?t+"":Zs,c):n},c.ticks=function(){return arguments.length?(u=s(arguments),c):u},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(r=+t,i=+arguments[e-1],c):r},c.innerTickSize=function(t){return arguments.length?(r=+t,c):r},c.outerTickSize=function(t){return arguments.length?(i=+t,c):i},c.tickPadding=function(t){return arguments.length?(o=+t,c):o},c.tickSubdivide=function(){return arguments.length&&c},c};var Zs="bottom",Gs={top:1,right:1,bottom:1,left:1};function Ws(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"}))}function Ys(t,e,n){t.attr("transform",(function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"}))}a.svg.brush=function(){var t,e,n=V(f,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],s=[0,0],u=!0,l=!0,h=Js[0];function f(t){t.each((function(){var t=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=t.selectAll(".resize").data(h,N);n.exit().remove(),n.enter().append("g").attr("class",(function(t){return"resize "+t})).style("cursor",(function(t){return Xs[t]})).append("rect").attr("x",(function(t){return/[ew]$/.test(t)?-3:null})).attr("y",(function(t){return/^[ns]/.test(t)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",f.empty()?"none":null);var o,s=a.transition(t),u=a.transition(e);r&&(o=Mo(r),u.attr("x",o[0]).attr("width",o[1]-o[0]),d(s)),i&&(o=Mo(i),u.attr("y",o[0]).attr("height",o[1]-o[0]),g(s)),p(s)}))}function p(t){t.selectAll(".resize").attr("transform",(function(t){return"translate("+o[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"}))}function d(t){t.select(".extent").attr("x",o[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function v(){var h,v,m=this,y=a.select(a.event.target),x=n.of(m,arguments),_=a.select(m),b=y.datum(),w=!/^(n|s)$/.test(b)&&r,k=!/^(e|w)$/.test(b)&&i,C=y.classed("extent"),A=Ct(m),M=a.mouse(m),E=a.select(c(m)).on("keydown.brush",L).on("keyup.brush",T);if(a.event.changedTouches?E.on("touchmove.brush",z).on("touchend.brush",N):E.on("mousemove.brush",z).on("mouseup.brush",N),_.interrupt().selectAll("*").interrupt(),C)M[0]=o[0]-M[0],M[1]=s[0]-M[1];else if(b){var S=+/w$/.test(b),D=+/^n/.test(b);v=[o[1-S]-M[0],s[1-D]-M[1]],M[0]=o[S],M[1]=s[D]}else a.event.altKey&&(h=M.slice());function L(){32==a.event.keyCode&&(C||(h=null,M[0]-=o[1],M[1]-=s[1],C=2),B())}function T(){32==a.event.keyCode&&2==C&&(M[0]+=o[1],M[1]+=s[1],C=0,B())}function z(){var t=a.mouse(m),e=!1;v&&(t[0]+=v[0],t[1]+=v[1]),C||(a.event.altKey?(h||(h=[(o[0]+o[1])/2,(s[0]+s[1])/2]),M[0]=o[+(t[0]<h[0])],M[1]=s[+(t[1]<h[1])]):h=null),w&&q(t,r,0)&&(d(_),e=!0),k&&q(t,i,1)&&(g(_),e=!0),e&&(p(_),x({type:"brush",mode:C?"move":"resize"}))}function q(n,r,i){var a,c,f=Mo(r),p=f[0],d=f[1],g=M[i],v=i?s:o,m=v[1]-v[0];if(C&&(p-=g,d-=m+g),a=(i?l:u)?Math.max(p,Math.min(d,n[i])):n[i],C?c=(a+=g)+m:(h&&(g=Math.max(p,Math.min(d,2*h[i]-a))),g<a?(c=a,a=g):c=g),v[0]!=a||v[1]!=c)return i?e=null:t=null,v[0]=a,v[1]=c,!0}function N(){z(),_.style("pointer-events","all").selectAll(".resize").style("display",f.empty()?"none":null),a.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),x({type:"brushend"})}_.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),z()}return f.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:o,y:s,i:t,j:e},u=this.__chart__||i;this.__chart__=i,js?a.select(this).transition().each("start.brush",(function(){t=u.i,e=u.j,o=u.x,s=u.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=oa(o,i.x),a=oa(s,i.y);return t=e=null,function(t){o=i.x=n(t),s=i.y=a(t),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){t=i.i,e=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},f.x=function(t){return arguments.length?(h=Js[!(r=t)<<1|!i],f):r},f.y=function(t){return arguments.length?(h=Js[!r<<1|!(i=t)],f):i},f.clamp=function(t){return arguments.length?(r&&i?(u=!!t[0],l=!!t[1]):r?u=!!t:i&&(l=!!t),f):r&&i?[u,l]:r?u:i?l:null},f.extent=function(n){var a,u,l,c,h;return arguments.length?(r&&(a=n[0],u=n[1],i&&(a=a[0],u=u[0]),t=[a,u],r.invert&&(a=r(a),u=r(u)),u<a&&(h=a,a=u,u=h),a==o[0]&&u==o[1]||(o=[a,u])),i&&(l=n[0],c=n[1],r&&(l=l[1],c=c[1]),e=[l,c],i.invert&&(l=i(l),c=i(c)),c<l&&(h=l,l=c,c=h),l==s[0]&&c==s[1]||(s=[l,c])),f):(r&&(t?(a=t[0],u=t[1]):(a=o[0],u=o[1],r.invert&&(a=r.invert(a),u=r.invert(u)),u<a&&(h=a,a=u,u=h))),i&&(e?(l=e[0],c=e[1]):(l=s[0],c=s[1],i.invert&&(l=i.invert(l),c=i.invert(c)),c<l&&(h=l,l=c,c=h))),r&&i?[[a,l],[u,c]]:r?[a,u]:i&&[l,c])},f.clear=function(){return f.empty()||(o=[0,0],s=[0,0],t=e=null),f},f.empty=function(){return!!r&&o[0]==o[1]||!!i&&s[0]==s[1]},a.rebind(f,n,"on")};var Xs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Js=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ks=je.format=dn.timeFormat,Qs=Ks.utc,tu=Qs("%Y-%m-%dT%H:%M:%S.%LZ");function eu(t){return t.toISOString()}function nu(t,e,n){function r(e){return t(e)}function i(t,n){var r=(t[1]-t[0])/n,i=a.bisect(iu,r);return i==iu.length?[e.year,Fo(t.map((function(t){return t/31536e6})),n)[2]]:i?e[r/iu[i-1]<iu[i]/r?i-1:i]:[su,Fo(t,n)[2]]}return r.invert=function(e){return ru(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(ru)},r.nice=function(t,e){var n=r.domain(),a=Ao(n),o=null==t?i(a,10):"number"==typeof t&&i(a,t);function s(n){return!isNaN(n)&&!t.range(n,ru(+n+1),e).length}return o&&(t=o[0],e=o[1]),r.domain(So(n,e>1?{floor:function(e){for(;s(e=t.floor(e));)e=ru(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=ru(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ao(r.domain()),a=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],ru(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return nu(t.copy(),e,n)},qo(r,t)}function ru(t){return new Date(t)}Ks.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?eu:tu,eu.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},eu.toString=tu.toString,je.second=He((function(t){return new Pe(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),je.seconds=je.second.range,je.seconds.utc=je.second.utc.range,je.minute=He((function(t){return new Pe(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),je.minutes=je.minute.range,je.minutes.utc=je.minute.utc.range,je.hour=He((function(t){var e=t.getTimezoneOffset()/60;return new Pe(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),je.hours=je.hour.range,je.hours.utc=je.hour.utc.range,je.month=He((function(t){return(t=je.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),je.months=je.month.range,je.months.utc=je.month.utc.range;var iu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],au=[[je.second,1],[je.second,5],[je.second,15],[je.second,30],[je.minute,1],[je.minute,5],[je.minute,15],[je.minute,30],[je.hour,1],[je.hour,3],[je.hour,6],[je.hour,12],[je.day,1],[je.day,2],[je.week,1],[je.month,1],[je.month,3],[je.year,1]],ou=Ks.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Qn]]),su={range:function(t,e,n){return a.range(Math.ceil(t/n)*n,+e,n).map(ru)},floor:N,ceil:N};au.year=je.year,je.scale=function(){return nu(a.scale.linear(),au,ou)};var uu=au.map((function(t){return[t[0].utc,t[1]]})),lu=Qs.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Qn]]);function cu(t){return JSON.parse(t.responseText)}function hu(t){var e=u.createRange();return e.selectNode(u.body),e.createContextualFragment(t.responseText)}uu.year=je.year.utc,je.scale.utc=function(){return nu(a.scale.linear(),uu,lu)},a.text=be((function(t){return t.responseText})),a.json=function(t,e){return we(t,"application/json",cu,e)},a.html=function(t,e){return we(t,"text/html",hu,e)},a.xml=be((function(t){return t.responseXML})),this.d3=a,void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}()},,function(t,e){t.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(t,e,n){"use strict";function r(){this.__rules__=[],this.__cache__=null}r.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1},r.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach((function(t){t.enabled&&t.alt.forEach((function(t){e.indexOf(t)<0&&e.push(t)}))})),t.__cache__={},e.forEach((function(e){t.__cache__[e]=[],t.__rules__.forEach((function(n){n.enabled&&(e&&n.alt.indexOf(e)<0||t.__cache__[e].push(n.fn))}))}))},r.prototype.at=function(t,e,n){var r=this.__find__(t),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+t);this.__rules__[r].fn=e,this.__rules__[r].alt=i.alt||[],this.__cache__=null},r.prototype.before=function(t,e,n,r){var i=this.__find__(t),a=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},r.prototype.after=function(t,e,n,r){var i=this.__find__(t),a=r||{};if(-1===i)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:n,alt:a.alt||[]}),this.__cache__=null},r.prototype.push=function(t,e,n){var r=n||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null},r.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!0,n.push(t)}),this),this.__cache__=null,n},r.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach((function(t){t.enabled=!1})),this.enable(t,e)},r.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var n=[];return t.forEach((function(t){var r=this.__find__(t);if(r<0){if(e)return;throw new Error("Rules manager: invalid rule name "+t)}this.__rules__[r].enabled=!1,n.push(t)}),this),this.__cache__=null,n},r.prototype.getRules=function(t){return null===this.__cache__&&this.__compile__(),this.__cache__[t]||[]},t.exports=r},function(t,e,n){"use strict";function r(t,e,n){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}r.prototype.attrIndex=function(t){var e,n,r;if(!this.attrs)return-1;for(n=0,r=(e=this.attrs).length;n<r;n++)if(e[n][0]===t)return n;return-1},r.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]},r.prototype.attrSet=function(t,e){var n=this.attrIndex(t),r=[t,e];n<0?this.attrPush(r):this.attrs[n]=r},r.prototype.attrGet=function(t){var e=this.attrIndex(t),n=null;return e>=0&&(n=this.attrs[e][1]),n},r.prototype.attrJoin=function(t,e){var n=this.attrIndex(t);n<0?this.attrPush([t,e]):this.attrs[n][1]=this.attrs[n][1]+" "+e},t.exports=r},,,function(t,e,n){"use strict";t.exports=n(66)},function(t,e,n){"use strict";t.exports.encode=n(67),t.exports.decode=n(68),t.exports.format=n(69),t.exports.parse=n(70)},function(t,e){t.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(t,e){t.exports=/[\0-\x1F\x7F-\x9F]/},function(t,e){t.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},function(t,e,n){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",i="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",a=new RegExp("^(?:"+r+"|"+i+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+r+"|"+i+")");t.exports.HTML_TAG_RE=a,t.exports.HTML_OPEN_CLOSE_TAG_RE=o},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,o,s=[],u=e.length;for(n=0;n<u;n++)126===(i=e[n]).marker&&-1!==i.end&&(a=e[i.end],(o=t.tokens[i.token]).type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",(o=t.tokens[a.token]).type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="","text"===t.tokens[a.token-1].type&&"~"===t.tokens[a.token-1].content&&s.push(a.token-1));for(;s.length;){for(r=(n=s.pop())+1;r<t.tokens.length&&"s_close"===t.tokens[r].type;)r++;n!==--r&&(o=t.tokens[r],t.tokens[r]=t.tokens[n],t.tokens[n]=o)}}t.exports.tokenize=function(t,e){var n,r,i,a,o=t.pos,s=t.src.charCodeAt(o);if(e)return!1;if(126!==s)return!1;if(i=(r=t.scanDelims(t.pos,!0)).length,a=String.fromCharCode(s),i<2)return!1;for(i%2&&(t.push("text","",0).content=a,i--),n=0;n<i;n+=2)t.push("text","",0).content=a+a,t.delimiters.push({marker:s,length:0,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,o,s;for(n=e.length-1;n>=0;n--)95!==(r=e[n]).marker&&42!==r.marker||-1!==r.end&&(i=e[r.end],s=n>0&&e[n-1].end===r.end+1&&e[n-1].marker===r.marker&&e[n-1].token===r.token-1&&e[r.end+1].token===i.token+1,o=String.fromCharCode(r.marker),(a=t.tokens[r.token]).type=s?"strong_open":"em_open",a.tag=s?"strong":"em",a.nesting=1,a.markup=s?o+o:o,a.content="",(a=t.tokens[i.token]).type=s?"strong_close":"em_close",a.tag=s?"strong":"em",a.nesting=-1,a.markup=s?o+o:o,a.content="",s&&(t.tokens[e[n-1].token].content="",t.tokens[e[r.end+1].token].content="",n--))}t.exports.tokenize=function(t,e){var n,r,i=t.pos,a=t.src.charCodeAt(i);if(e)return!1;if(95!==a&&42!==a)return!1;for(r=t.scanDelims(t.pos,42===a),n=0;n<r.length;n++)t.push("text","",0).content=String.fromCharCode(a),t.delimiters.push({marker:a,length:r.length,token:t.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return t.pos+=r.length,!0},t.exports.postProcess=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(t,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(t,n[e].delimiters)}},,,,,,function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,a=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,a),r(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}m(t,e,a,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&m(t,"error",e,{once:!0})}(t,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,a,o,s;if(l(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"==typeof o?o=a[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=c(t))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=o.length,s=u,console&&console.warn&&console.warn(s)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function d(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function m(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(a){r.once&&t.removeEventListener(e,i),n(a)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");u=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[t];if(void 0===u)return!1;if("function"==typeof u)a(u,this,e);else{var l=u.length,c=v(u,l);for(n=0;n<l;++n)a(c[n],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,a,o;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){o=n[a].listener,i=a;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,a=Object.keys(n);for(r=0;r<a.length;++r)"removeListener"!==(i=a[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){"use strict";t.exports=n(65)},function(t,e,n){"use strict";var r=n(42),i=n(73),a=n(77),o=n(78),s=n(86),u=n(100),l=n(113),c=n(51),h=n(115),f={default:n(116),zero:n(117),commonmark:n(118)},p=/^(vbscript|javascript|file|data):/,d=/^data:image\/(gif|png|jpeg|webp);/;function g(t){var e=t.trim().toLowerCase();return!p.test(e)||!!d.test(e)}var v=["http:","https:","mailto:"];function m(t){var e=c.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=h.toASCII(e.hostname)}catch(t){}return c.encode(c.format(e))}function y(t){var e=c.parse(t,!0);if(e.hostname&&(!e.protocol||v.indexOf(e.protocol)>=0))try{e.hostname=h.toUnicode(e.hostname)}catch(t){}return c.decode(c.format(e),c.decode.defaultChars+"%")}function x(t,e){if(!(this instanceof x))return new x(t,e);e||r.isString(t)||(e=t||{},t="default"),this.inline=new u,this.block=new s,this.core=new o,this.renderer=new a,this.linkify=new l,this.validateLink=g,this.normalizeLink=m,this.normalizeLinkText=y,this.utils=r,this.helpers=r.assign({},i),this.options={},this.configure(t),e&&this.set(e)}x.prototype.set=function(t){return r.assign(this.options,t),this},x.prototype.configure=function(t){var e,n=this;if(r.isString(t)&&!(t=f[e=t]))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&n.set(t.options),t.components&&Object.keys(t.components).forEach((function(e){t.components[e].rules&&n[e].ruler.enableOnly(t.components[e].rules),t.components[e].rules2&&n[e].ruler2.enableOnly(t.components[e].rules2)})),this},x.prototype.enable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.enable(t,!0))}),this),n=n.concat(this.inline.ruler2.enable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},x.prototype.disable=function(t,e){var n=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach((function(e){n=n.concat(this[e].ruler.disable(t,!0))}),this),n=n.concat(this.inline.ruler2.disable(t,!0));var r=t.filter((function(t){return n.indexOf(t)<0}));if(r.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},x.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this},x.prototype.parse=function(t,e){if("string"!=typeof t)throw new Error("Input data should be a String");var n=new this.core.State(t,this,e);return this.core.process(n),n.tokens},x.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)},x.prototype.parseInline=function(t,e){var n=new this.core.State(t,this,e);return n.inlineMode=!0,this.core.process(n),n.tokens},x.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)},t.exports=x},function(t){t.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(t,e,n){t.exports=n(24)(773)},function(t,e,n){"use strict";var r={};function i(t,e){var n;return"string"!=typeof e&&(e=i.defaultChars),n=function(t){var e,n,i=r[t];if(i)return i;for(i=r[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),i.push(n);for(e=0;e<t.length;e++)i[n=t.charCodeAt(e)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return i}(e),t.replace(/(%[a-f0-9]{2})+/gi,(function(t){var e,r,i,a,o,s,u,l="";for(e=0,r=t.length;e<r;e+=3)(i=parseInt(t.slice(e+1,e+3),16))<128?l+=n[i]:192==(224&i)&&e+3<r&&128==(192&(a=parseInt(t.slice(e+4,e+6),16)))?(l+=(u=i<<6&1984|63&a)<128?"��":String.fromCharCode(u),e+=3):224==(240&i)&&e+6<r&&(a=parseInt(t.slice(e+4,e+6),16),o=parseInt(t.slice(e+7,e+9),16),128==(192&a)&&128==(192&o))?(l+=(u=i<<12&61440|a<<6&4032|63&o)<2048||u>=55296&&u<=57343?"���":String.fromCharCode(u),e+=6):240==(248&i)&&e+9<r&&(a=parseInt(t.slice(e+4,e+6),16),o=parseInt(t.slice(e+7,e+9),16),s=parseInt(t.slice(e+10,e+12),16),128==(192&a)&&128==(192&o)&&128==(192&s))?((u=i<<18&1835008|a<<12&258048|o<<6&4032|63&s)<65536||u>1114111?l+="����":(u-=65536,l+=String.fromCharCode(55296+(u>>10),56320+(1023&u))),e+=9):l+="�";return l}))}i.defaultChars=";/?:@&=+$,#",i.componentChars="",t.exports=i},function(t,e,n){"use strict";t.exports=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&-1!==t.hostname.indexOf(":")?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",(e+=t.search||"")+(t.hash||"")}},function(t,e,n){"use strict";function r(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(s),l=["%","/","?",";","#"].concat(u),c=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};r.prototype.parse=function(t,e){var n,r,a,s,u,g=t;if(g=g.trim(),!e&&1===t.split("#").length){var v=o.exec(g);if(v)return this.pathname=v[1],v[2]&&(this.search=v[2]),this}var m=i.exec(g);if(m&&(a=(m=m[0]).toLowerCase(),this.protocol=m,g=g.substr(m.length)),(e||m||g.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(u="//"===g.substr(0,2))||m&&p[m]||(g=g.substr(2),this.slashes=!0)),!p[m]&&(u||m&&!d[m])){var y,x,_=-1;for(n=0;n<c.length;n++)-1!==(s=g.indexOf(c[n]))&&(-1===_||s<_)&&(_=s);for(-1!==(x=-1===_?g.lastIndexOf("@"):g.lastIndexOf("@",_))&&(y=g.slice(0,x),g=g.slice(x+1),this.auth=y),_=-1,n=0;n<l.length;n++)-1!==(s=g.indexOf(l[n]))&&(-1===_||s<_)&&(_=s);-1===_&&(_=g.length),":"===g[_-1]&&_--;var b=g.slice(0,_);g=g.slice(_),this.parseHost(b),this.hostname=this.hostname||"";var w="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!w){var k=this.hostname.split(/\./);for(n=0,r=k.length;n<r;n++){var C=k[n];if(C&&!C.match(h)){for(var A="",M=0,E=C.length;M<E;M++)C.charCodeAt(M)>127?A+="x":A+=C[M];if(!A.match(h)){var S=k.slice(0,n),D=k.slice(n+1),L=C.match(f);L&&(S.push(L[1]),D.unshift(L[2])),D.length&&(g=D.join(".")+g),this.hostname=S.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var T=g.indexOf("#");-1!==T&&(this.hash=g.substr(T),g=g.slice(0,T));var z=g.indexOf("?");return-1!==z&&(this.search=g.substr(z),g=g.slice(0,z)),g&&(this.pathname=g),d[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},r.prototype.parseHost=function(t){var e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},t.exports=function(t,e){if(t&&t instanceof r)return t;var n=new r;return n.parse(t,e),n}},function(t,e,n){"use strict";e.Any=n(52),e.Cc=n(53),e.Cf=n(72),e.P=n(45),e.Z=n(54)},function(t,e){t.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804\uDCBD|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},function(t,e,n){"use strict";e.parseLinkLabel=n(74),e.parseLinkDestination=n(75),e.parseLinkTitle=n(76)},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a,o,s=-1,u=t.posMax,l=t.pos;for(t.pos=e+1,r=1;t.pos<u;){if(93===(a=t.src.charCodeAt(t.pos))&&0==--r){i=!0;break}if(o=t.pos,t.md.inline.skipToken(t),91===a)if(o===t.pos-1)r++;else if(n)return t.pos=l,-1}return i&&(s=t.pos),t.pos=l,s}},function(t,e,n){"use strict";var r=n(42).unescapeAll;t.exports=function(t,e,n){var i,a,o=e,s={ok:!1,pos:0,lines:0,str:""};if(60===t.charCodeAt(e)){for(e++;e<n;){if(10===(i=t.charCodeAt(e)))return s;if(60===i)return s;if(62===i)return s.pos=e+1,s.str=r(t.slice(o+1,e)),s.ok=!0,s;92===i&&e+1<n?e+=2:e++}return s}for(a=0;e<n&&32!==(i=t.charCodeAt(e))&&!(i<32||127===i);)if(92===i&&e+1<n){if(32===t.charCodeAt(e+1))break;e+=2}else{if(40===i&&++a>32)return s;if(41===i){if(0===a)break;a--}e++}return o===e||0!==a||(s.str=r(t.slice(o,e)),s.lines=0,s.pos=e,s.ok=!0),s}},function(t,e,n){"use strict";var r=n(42).unescapeAll;t.exports=function(t,e,n){var i,a,o=0,s=e,u={ok:!1,pos:0,lines:0,str:""};if(e>=n)return u;if(34!==(a=t.charCodeAt(e))&&39!==a&&40!==a)return u;for(e++,40===a&&(a=41);e<n;){if((i=t.charCodeAt(e))===a)return u.pos=e+1,u.lines=o,u.str=r(t.slice(s+1,e)),u.ok=!0,u;if(40===i&&41===a)return u;10===i?o++:92===i&&e+1<n&&(e++,10===t.charCodeAt(e)&&o++),e++}return u}},function(t,e,n){"use strict";var r=n(42).assign,i=n(42).unescapeAll,a=n(42).escapeHtml,o={};function s(){this.rules=r({},o)}o.code_inline=function(t,e,n,r,i){var o=t[e];return"<code"+i.renderAttrs(o)+">"+a(t[e].content)+"</code>"},o.code_block=function(t,e,n,r,i){var o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+a(t[e].content)+"</code></pre>\n"},o.fence=function(t,e,n,r,o){var s,u,l,c,h,f=t[e],p=f.info?i(f.info).trim():"",d="",g="";return p&&(d=(l=p.split(/(\s+)/g))[0],g=l.slice(2).join("")),0===(s=n.highlight&&n.highlight(f.content,d,g)||a(f.content)).indexOf("<pre")?s+"\n":p?(u=f.attrIndex("class"),c=f.attrs?f.attrs.slice():[],u<0?c.push(["class",n.langPrefix+d]):(c[u]=c[u].slice(),c[u][1]+=" "+n.langPrefix+d),h={attrs:c},"<pre><code"+o.renderAttrs(h)+">"+s+"</code></pre>\n"):"<pre><code"+o.renderAttrs(f)+">"+s+"</code></pre>\n"},o.image=function(t,e,n,r,i){var a=t[e];return a.attrs[a.attrIndex("alt")][1]=i.renderInlineAsText(a.children,n,r),i.renderToken(t,e,n)},o.hardbreak=function(t,e,n){return n.xhtmlOut?"<br />\n":"<br>\n"},o.softbreak=function(t,e,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},o.text=function(t,e){return a(t[e].content)},o.html_block=function(t,e){return t[e].content},o.html_inline=function(t,e){return t[e].content},s.prototype.renderAttrs=function(t){var e,n,r;if(!t.attrs)return"";for(r="",e=0,n=t.attrs.length;e<n;e++)r+=" "+a(t.attrs[e][0])+'="'+a(t.attrs[e][1])+'"';return r},s.prototype.renderToken=function(t,e,n){var r,i="",a=!1,o=t[e];return o.hidden?"":(o.block&&-1!==o.nesting&&e&&t[e-1].hidden&&(i+="\n"),i+=(-1===o.nesting?"</":"<")+o.tag,i+=this.renderAttrs(o),0===o.nesting&&n.xhtmlOut&&(i+=" /"),o.block&&(a=!0,1===o.nesting&&e+1<t.length&&("inline"===(r=t[e+1]).type||r.hidden||-1===r.nesting&&r.tag===o.tag)&&(a=!1)),i+=a?">\n":">")},s.prototype.renderInline=function(t,e,n){for(var r,i="",a=this.rules,o=0,s=t.length;o<s;o++)void 0!==a[r=t[o].type]?i+=a[r](t,o,e,n,this):i+=this.renderToken(t,o,e);return i},s.prototype.renderInlineAsText=function(t,e,n){for(var r="",i=0,a=t.length;i<a;i++)"text"===t[i].type?r+=t[i].content:"image"===t[i].type?r+=this.renderInlineAsText(t[i].children,e,n):"softbreak"===t[i].type&&(r+="\n");return r},s.prototype.render=function(t,e,n){var r,i,a,o="",s=this.rules;for(r=0,i=t.length;r<i;r++)"inline"===(a=t[r].type)?o+=this.renderInline(t[r].children,e,n):void 0!==s[a]?o+=s[t[r].type](t,r,e,n,this):o+=this.renderToken(t,r,e,n);return o},t.exports=s},function(t,e,n){"use strict";var r=n(46),i=[["normalize",n(79)],["block",n(80)],["inline",n(81)],["linkify",n(82)],["replacements",n(83)],["smartquotes",n(84)]];function a(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1])}a.prototype.process=function(t){var e,n,r;for(e=0,n=(r=this.ruler.getRules("")).length;e<n;e++)r[e](t)},a.prototype.State=n(85),t.exports=a},function(t,e,n){"use strict";var r=/\r\n?|\n/g,i=/\0/g;t.exports=function(t){var e;e=(e=t.src.replace(r,"\n")).replace(i,"�"),t.src=e}},function(t,e,n){"use strict";t.exports=function(t){var e;t.inlineMode?((e=new t.Token("inline","",0)).content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r,i=t.tokens;for(n=0,r=i.length;n<r;n++)"inline"===(e=i[n]).type&&t.md.inline.parse(e.content,t.md,t.env,e.children)}},function(t,e,n){"use strict";var r=n(42).arrayReplaceAt;function i(t){return/^<\/a\s*>/i.test(t)}t.exports=function(t){var e,n,a,o,s,u,l,c,h,f,p,d,g,v,m,y,x,_,b=t.tokens;if(t.md.options.linkify)for(n=0,a=b.length;n<a;n++)if("inline"===b[n].type&&t.md.linkify.pretest(b[n].content))for(g=0,e=(o=b[n].children).length-1;e>=0;e--)if("link_close"!==(u=o[e]).type){if("html_inline"===u.type&&(_=u.content,/^<a[>\s]/i.test(_)&&g>0&&g--,i(u.content)&&g++),!(g>0)&&"text"===u.type&&t.md.linkify.test(u.content)){for(h=u.content,x=t.md.linkify.match(h),l=[],d=u.level,p=0,c=0;c<x.length;c++)v=x[c].url,m=t.md.normalizeLink(v),t.md.validateLink(m)&&(y=x[c].text,y=x[c].schema?"mailto:"!==x[c].schema||/^mailto:/i.test(y)?t.md.normalizeLinkText(y):t.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(f=x[c].index)>p&&((s=new t.Token("text","",0)).content=h.slice(p,f),s.level=d,l.push(s)),(s=new t.Token("link_open","a",1)).attrs=[["href",m]],s.level=d++,s.markup="linkify",s.info="auto",l.push(s),(s=new t.Token("text","",0)).content=y,s.level=d,l.push(s),(s=new t.Token("link_close","a",-1)).level=--d,s.markup="linkify",s.info="auto",l.push(s),p=x[c].lastIndex);p<h.length&&((s=new t.Token("text","",0)).content=h.slice(p),s.level=d,l.push(s)),b[n].children=o=r(o,e,l)}}else for(e--;o[e].level!==u.level&&"link_open"!==o[e].type;)e--}},function(t,e,n){"use strict";var r=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,i=/\((c|tm|r|p)\)/i,a=/\((c|tm|r|p)\)/gi,o={c:"©",r:"®",p:"§",tm:"™"};function s(t,e){return o[e.toLowerCase()]}function u(t){var e,n,r=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||r||(n.content=n.content.replace(a,s)),"link_open"===n.type&&"auto"===n.info&&r--,"link_close"===n.type&&"auto"===n.info&&r++}function l(t){var e,n,i=0;for(e=t.length-1;e>=0;e--)"text"!==(n=t[e]).type||i||r.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===n.type&&"auto"===n.info&&i--,"link_close"===n.type&&"auto"===n.info&&i++}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&(i.test(t.tokens[e].content)&&u(t.tokens[e].children),r.test(t.tokens[e].content)&&l(t.tokens[e].children))}},function(t,e,n){"use strict";var r=n(42).isWhiteSpace,i=n(42).isPunctChar,a=n(42).isMdAsciiPunct,o=/['"]/,s=/['"]/g;function u(t,e,n){return t.substr(0,e)+n+t.substr(e+1)}function l(t,e){var n,o,l,c,h,f,p,d,g,v,m,y,x,_,b,w,k,C,A,M,E;for(A=[],n=0;n<t.length;n++){for(o=t[n],p=t[n].level,k=A.length-1;k>=0&&!(A[k].level<=p);k--);if(A.length=k+1,"text"===o.type){h=0,f=(l=o.content).length;t:for(;h<f&&(s.lastIndex=h,c=s.exec(l));){if(b=w=!0,h=c.index+1,C="'"===c[0],g=32,c.index-1>=0)g=l.charCodeAt(c.index-1);else for(k=n-1;k>=0&&"softbreak"!==t[k].type&&"hardbreak"!==t[k].type;k--)if(t[k].content){g=t[k].content.charCodeAt(t[k].content.length-1);break}if(v=32,h<f)v=l.charCodeAt(h);else for(k=n+1;k<t.length&&"softbreak"!==t[k].type&&"hardbreak"!==t[k].type;k++)if(t[k].content){v=t[k].content.charCodeAt(0);break}if(m=a(g)||i(String.fromCharCode(g)),y=a(v)||i(String.fromCharCode(v)),x=r(g),(_=r(v))?b=!1:y&&(x||m||(b=!1)),x?w=!1:m&&(_||y||(w=!1)),34===v&&'"'===c[0]&&g>=48&&g<=57&&(w=b=!1),b&&w&&(b=m,w=y),b||w){if(w)for(k=A.length-1;k>=0&&(d=A[k],!(A[k].level<p));k--)if(d.single===C&&A[k].level===p){d=A[k],C?(M=e.md.options.quotes[2],E=e.md.options.quotes[3]):(M=e.md.options.quotes[0],E=e.md.options.quotes[1]),o.content=u(o.content,c.index,E),t[d.token].content=u(t[d.token].content,d.pos,M),h+=E.length-1,d.token===n&&(h+=M.length-1),f=(l=o.content).length,A.length=k;continue t}b?A.push({token:n,pos:c.index,single:C,level:p}):w&&C&&(o.content=u(o.content,c.index,"’"))}else C&&(o.content=u(o.content,c.index,"’"))}}}}t.exports=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)"inline"===t.tokens[e].type&&o.test(t.tokens[e].content)&&l(t.tokens[e].children,t)}},function(t,e,n){"use strict";var r=n(47);function i(t,e,n){this.src=t,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=e}i.prototype.Token=r,t.exports=i},function(t,e,n){"use strict";var r=n(46),i=[["table",n(87),["paragraph","reference"]],["code",n(88)],["fence",n(89),["paragraph","reference","blockquote","list"]],["blockquote",n(90),["paragraph","reference","blockquote","list"]],["hr",n(91),["paragraph","reference","blockquote","list"]],["list",n(92),["paragraph","reference","blockquote"]],["reference",n(93)],["html_block",n(94),["paragraph","reference","blockquote"]],["heading",n(96),["paragraph","reference","blockquote"]],["lheading",n(97)],["paragraph",n(98)]];function a(){this.ruler=new r;for(var t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1],{alt:(i[t][2]||[]).slice()})}a.prototype.tokenize=function(t,e,n){for(var r,i=this.ruler.getRules(""),a=i.length,o=e,s=!1,u=t.md.options.maxNesting;o<n&&(t.line=o=t.skipEmptyLines(o),!(o>=n))&&!(t.sCount[o]<t.blkIndent);){if(t.level>=u){t.line=n;break}for(r=0;r<a&&!i[r](t,o,n,!1);r++);t.tight=!s,t.isEmpty(t.line-1)&&(s=!0),(o=t.line)<n&&t.isEmpty(o)&&(s=!0,o++,t.line=o)}},a.prototype.parse=function(t,e,n,r){var i;t&&(i=new this.State(t,e,n,r),this.tokenize(i,i.line,i.lineMax))},a.prototype.State=n(99),t.exports=a},function(t,e,n){"use strict";var r=n(42).isSpace;function i(t,e){var n=t.bMarks[e]+t.tShift[e],r=t.eMarks[e];return t.src.substr(n,r-n)}function a(t){var e,n=[],r=0,i=t.length,a=!1,o=0,s="";for(e=t.charCodeAt(r);r<i;)124===e&&(a?(s+=t.substring(o,r-1),o=r):(n.push(s+t.substring(o,r)),s="",o=r+1)),a=92===e,r++,e=t.charCodeAt(r);return n.push(s+t.substring(o)),n}t.exports=function(t,e,n,o){var s,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w,k,C;if(e+2>n)return!1;if(f=e+1,t.sCount[f]<t.blkIndent)return!1;if(t.sCount[f]-t.blkIndent>=4)return!1;if((l=t.bMarks[f]+t.tShift[f])>=t.eMarks[f])return!1;if(124!==(k=t.src.charCodeAt(l++))&&45!==k&&58!==k)return!1;if(l>=t.eMarks[f])return!1;if(124!==(C=t.src.charCodeAt(l++))&&45!==C&&58!==C&&!r(C))return!1;if(45===k&&r(C))return!1;for(;l<t.eMarks[f];){if(124!==(s=t.src.charCodeAt(l))&&45!==s&&58!==s&&!r(s))return!1;l++}for(p=(u=i(t,e+1)).split("|"),v=[],c=0;c<p.length;c++){if(!(m=p[c].trim())){if(0===c||c===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;58===m.charCodeAt(m.length-1)?v.push(58===m.charCodeAt(0)?"center":"right"):58===m.charCodeAt(0)?v.push("left"):v.push("")}if(-1===(u=i(t,e).trim()).indexOf("|"))return!1;if(t.sCount[e]-t.blkIndent>=4)return!1;if((p=a(u)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),0===(d=p.length)||d!==v.length)return!1;if(o)return!0;for(_=t.parentType,t.parentType="table",w=t.md.block.ruler.getRules("blockquote"),(g=t.push("table_open","table",1)).map=y=[e,0],(g=t.push("thead_open","thead",1)).map=[e,e+1],(g=t.push("tr_open","tr",1)).map=[e,e+1],c=0;c<p.length;c++)g=t.push("th_open","th",1),v[c]&&(g.attrs=[["style","text-align:"+v[c]]]),(g=t.push("inline","",0)).content=p[c].trim(),g.children=[],g=t.push("th_close","th",-1);for(g=t.push("tr_close","tr",-1),g=t.push("thead_close","thead",-1),f=e+2;f<n&&!(t.sCount[f]<t.blkIndent);f++){for(b=!1,c=0,h=w.length;c<h;c++)if(w[c](t,f,n,!0)){b=!0;break}if(b)break;if(!(u=i(t,f).trim()))break;if(t.sCount[f]-t.blkIndent>=4)break;for((p=a(u)).length&&""===p[0]&&p.shift(),p.length&&""===p[p.length-1]&&p.pop(),f===e+2&&((g=t.push("tbody_open","tbody",1)).map=x=[e+2,0]),(g=t.push("tr_open","tr",1)).map=[f,f+1],c=0;c<d;c++)g=t.push("td_open","td",1),v[c]&&(g.attrs=[["style","text-align:"+v[c]]]),(g=t.push("inline","",0)).content=p[c]?p[c].trim():"",g.children=[],g=t.push("td_close","td",-1);g=t.push("tr_close","tr",-1)}return x&&(g=t.push("tbody_close","tbody",-1),x[1]=f),g=t.push("table_close","table",-1),y[1]=f,t.parentType=_,t.line=f,!0}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a;if(t.sCount[e]-t.blkIndent<4)return!1;for(i=r=e+1;r<n;)if(t.isEmpty(r))r++;else{if(!(t.sCount[r]-t.blkIndent>=4))break;i=++r}return t.line=i,(a=t.push("code_block","code",0)).content=t.getLines(e,i,4+t.blkIndent,!1)+"\n",a.map=[e,t.line],!0}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var i,a,o,s,u,l,c,h=!1,f=t.bMarks[e]+t.tShift[e],p=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(f+3>p)return!1;if(126!==(i=t.src.charCodeAt(f))&&96!==i)return!1;if(u=f,(a=(f=t.skipChars(f,i))-u)<3)return!1;if(c=t.src.slice(u,f),o=t.src.slice(f,p),96===i&&o.indexOf(String.fromCharCode(i))>=0)return!1;if(r)return!0;for(s=e;!(++s>=n||(f=u=t.bMarks[s]+t.tShift[s])<(p=t.eMarks[s])&&t.sCount[s]<t.blkIndent);)if(t.src.charCodeAt(f)===i&&!(t.sCount[s]-t.blkIndent>=4||(f=t.skipChars(f,i))-u<a||(f=t.skipSpaces(f))<p)){h=!0;break}return a=t.sCount[e],t.line=s+(h?1:0),(l=t.push("fence","code",0)).info=o,l.content=t.getLines(e+1,s,a,!0),l.markup=c,l.map=[e,t.line],!0}},function(t,e,n){"use strict";var r=n(42).isSpace;t.exports=function(t,e,n,i){var a,o,s,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w,k,C,A=t.lineMax,M=t.bMarks[e]+t.tShift[e],E=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(62!==t.src.charCodeAt(M++))return!1;if(i)return!0;for(u=p=t.sCount[e]+1,32===t.src.charCodeAt(M)?(M++,u++,p++,a=!1,_=!0):9===t.src.charCodeAt(M)?(_=!0,(t.bsCount[e]+p)%4==3?(M++,u++,p++,a=!1):a=!0):_=!1,d=[t.bMarks[e]],t.bMarks[e]=M;M<E&&(o=t.src.charCodeAt(M),r(o));)9===o?p+=4-(p+t.bsCount[e]+(a?1:0))%4:p++,M++;for(g=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(_?1:0),c=M>=E,y=[t.sCount[e]],t.sCount[e]=p-u,x=[t.tShift[e]],t.tShift[e]=M-t.bMarks[e],w=t.md.block.ruler.getRules("blockquote"),m=t.parentType,t.parentType="blockquote",f=e+1;f<n&&(C=t.sCount[f]<t.blkIndent,!((M=t.bMarks[f]+t.tShift[f])>=(E=t.eMarks[f])));f++)if(62!==t.src.charCodeAt(M++)||C){if(c)break;for(b=!1,s=0,l=w.length;s<l;s++)if(w[s](t,f,n,!0)){b=!0;break}if(b){t.lineMax=f,0!==t.blkIndent&&(d.push(t.bMarks[f]),g.push(t.bsCount[f]),x.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}d.push(t.bMarks[f]),g.push(t.bsCount[f]),x.push(t.tShift[f]),y.push(t.sCount[f]),t.sCount[f]=-1}else{for(u=p=t.sCount[f]+1,32===t.src.charCodeAt(M)?(M++,u++,p++,a=!1,_=!0):9===t.src.charCodeAt(M)?(_=!0,(t.bsCount[f]+p)%4==3?(M++,u++,p++,a=!1):a=!0):_=!1,d.push(t.bMarks[f]),t.bMarks[f]=M;M<E&&(o=t.src.charCodeAt(M),r(o));)9===o?p+=4-(p+t.bsCount[f]+(a?1:0))%4:p++,M++;c=M>=E,g.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(_?1:0),y.push(t.sCount[f]),t.sCount[f]=p-u,x.push(t.tShift[f]),t.tShift[f]=M-t.bMarks[f]}for(v=t.blkIndent,t.blkIndent=0,(k=t.push("blockquote_open","blockquote",1)).markup=">",k.map=h=[e,0],t.md.block.tokenize(t,e,f),(k=t.push("blockquote_close","blockquote",-1)).markup=">",t.lineMax=A,t.parentType=m,h[1]=t.line,s=0;s<x.length;s++)t.bMarks[s+e]=d[s],t.tShift[s+e]=x[s],t.sCount[s+e]=y[s],t.bsCount[s+e]=g[s];return t.blkIndent=v,!0}},function(t,e,n){"use strict";var r=n(42).isSpace;t.exports=function(t,e,n,i){var a,o,s,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(42!==(a=t.src.charCodeAt(l++))&&45!==a&&95!==a)return!1;for(o=1;l<c;){if((s=t.src.charCodeAt(l++))!==a&&!r(s))return!1;s===a&&o++}return!(o<3||(i||(t.line=e+1,(u=t.push("hr","hr",0)).map=[e,t.line],u.markup=Array(o+1).join(String.fromCharCode(a))),0))}},function(t,e,n){"use strict";var r=n(42).isSpace;function i(t,e){var n,i,a,o;return i=t.bMarks[e]+t.tShift[e],a=t.eMarks[e],42!==(n=t.src.charCodeAt(i++))&&45!==n&&43!==n||i<a&&(o=t.src.charCodeAt(i),!r(o))?-1:i}function a(t,e){var n,i=t.bMarks[e]+t.tShift[e],a=i,o=t.eMarks[e];if(a+1>=o)return-1;if((n=t.src.charCodeAt(a++))<48||n>57)return-1;for(;;){if(a>=o)return-1;if(!((n=t.src.charCodeAt(a++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(a-i>=10)return-1}return a<o&&(n=t.src.charCodeAt(a),!r(n))?-1:a}t.exports=function(t,e,n,r){var o,s,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w,k,C,A,M,E,S,D,L,T,z,q,N=!1,F=!0;if(t.sCount[e]-t.blkIndent>=4)return!1;if(t.listIndent>=0&&t.sCount[e]-t.listIndent>=4&&t.sCount[e]<t.blkIndent)return!1;if(r&&"paragraph"===t.parentType&&t.sCount[e]>=t.blkIndent&&(N=!0),(S=a(t,e))>=0){if(f=!0,L=t.bMarks[e]+t.tShift[e],y=Number(t.src.slice(L,S-1)),N&&1!==y)return!1}else{if(!((S=i(t,e))>=0))return!1;f=!1}if(N&&t.skipSpaces(S)>=t.eMarks[e])return!1;if(m=t.src.charCodeAt(S-1),r)return!0;for(v=t.tokens.length,f?(q=t.push("ordered_list_open","ol",1),1!==y&&(q.attrs=[["start",y]])):q=t.push("bullet_list_open","ul",1),q.map=g=[e,0],q.markup=String.fromCharCode(m),_=e,D=!1,z=t.md.block.ruler.getRules("list"),k=t.parentType,t.parentType="list";_<n;){for(E=S,x=t.eMarks[_],h=b=t.sCount[_]+S-(t.bMarks[e]+t.tShift[e]);E<x;){if(9===(o=t.src.charCodeAt(E)))b+=4-(b+t.bsCount[_])%4;else{if(32!==o)break;b++}E++}if((c=(s=E)>=x?1:b-h)>4&&(c=1),l=h+c,(q=t.push("list_item_open","li",1)).markup=String.fromCharCode(m),q.map=p=[e,0],f&&(q.info=t.src.slice(L,S-1)),M=t.tight,A=t.tShift[e],C=t.sCount[e],w=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=l,t.tight=!0,t.tShift[e]=s-t.bMarks[e],t.sCount[e]=b,s>=x&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,n):t.md.block.tokenize(t,e,n,!0),t.tight&&!D||(F=!1),D=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=w,t.tShift[e]=A,t.sCount[e]=C,t.tight=M,(q=t.push("list_item_close","li",-1)).markup=String.fromCharCode(m),_=e=t.line,p[1]=_,s=t.bMarks[e],_>=n)break;if(t.sCount[_]<t.blkIndent)break;if(t.sCount[e]-t.blkIndent>=4)break;for(T=!1,u=0,d=z.length;u<d;u++)if(z[u](t,_,n,!0)){T=!0;break}if(T)break;if(f){if((S=a(t,_))<0)break;L=t.bMarks[_]+t.tShift[_]}else if((S=i(t,_))<0)break;if(m!==t.src.charCodeAt(S-1))break}return(q=f?t.push("ordered_list_close","ol",-1):t.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(m),g[1]=_,t.line=_,t.parentType=k,F&&function(t,e){var n,r,i=t.level+2;for(n=e+2,r=t.tokens.length-2;n<r;n++)t.tokens[n].level===i&&"paragraph_open"===t.tokens[n].type&&(t.tokens[n+2].hidden=!0,t.tokens[n].hidden=!0,n+=2)}(t,v),!0}},function(t,e,n){"use strict";var r=n(42).normalizeReference,i=n(42).isSpace;t.exports=function(t,e,n,a){var o,s,u,l,c,h,f,p,d,g,v,m,y,x,_,b,w=0,k=t.bMarks[e]+t.tShift[e],C=t.eMarks[e],A=e+1;if(t.sCount[e]-t.blkIndent>=4)return!1;if(91!==t.src.charCodeAt(k))return!1;for(;++k<C;)if(93===t.src.charCodeAt(k)&&92!==t.src.charCodeAt(k-1)){if(k+1===C)return!1;if(58!==t.src.charCodeAt(k+1))return!1;break}for(l=t.lineMax,_=t.md.block.ruler.getRules("reference"),g=t.parentType,t.parentType="reference";A<l&&!t.isEmpty(A);A++)if(!(t.sCount[A]-t.blkIndent>3||t.sCount[A]<0)){for(x=!1,h=0,f=_.length;h<f;h++)if(_[h](t,A,l,!0)){x=!0;break}if(x)break}for(C=(y=t.getLines(e,A,t.blkIndent,!1).trim()).length,k=1;k<C;k++){if(91===(o=y.charCodeAt(k)))return!1;if(93===o){d=k;break}(10===o||92===o&&++k<C&&10===y.charCodeAt(k))&&w++}if(d<0||58!==y.charCodeAt(d+1))return!1;for(k=d+2;k<C;k++)if(10===(o=y.charCodeAt(k)))w++;else if(!i(o))break;if(!(v=t.md.helpers.parseLinkDestination(y,k,C)).ok)return!1;if(c=t.md.normalizeLink(v.str),!t.md.validateLink(c))return!1;for(s=k=v.pos,u=w+=v.lines,m=k;k<C;k++)if(10===(o=y.charCodeAt(k)))w++;else if(!i(o))break;for(v=t.md.helpers.parseLinkTitle(y,k,C),k<C&&m!==k&&v.ok?(b=v.str,k=v.pos,w+=v.lines):(b="",k=s,w=u);k<C&&(o=y.charCodeAt(k),i(o));)k++;if(k<C&&10!==y.charCodeAt(k)&&b)for(b="",k=s,w=u;k<C&&(o=y.charCodeAt(k),i(o));)k++;return!(k<C&&10!==y.charCodeAt(k)||!(p=r(y.slice(1,d)))||(a||(void 0===t.env.references&&(t.env.references={}),void 0===t.env.references[p]&&(t.env.references[p]={title:b,href:c}),t.parentType=g,t.line=e+w+1),0))}},function(t,e,n){"use strict";var r=n(95),i=n(55).HTML_OPEN_CLOSE_TAG_RE,a=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(i.source+"\\s*$"),/^$/,!1]];t.exports=function(t,e,n,r){var i,o,s,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(!t.md.options.html)return!1;if(60!==t.src.charCodeAt(l))return!1;for(u=t.src.slice(l,c),i=0;i<a.length&&!a[i][0].test(u);i++);if(i===a.length)return!1;if(r)return a[i][2];if(o=e+1,!a[i][1].test(u))for(;o<n&&!(t.sCount[o]<t.blkIndent);o++)if(l=t.bMarks[o]+t.tShift[o],c=t.eMarks[o],u=t.src.slice(l,c),a[i][1].test(u)){0!==u.length&&o++;break}return t.line=o,(s=t.push("html_block","",0)).map=[e,o],s.content=t.getLines(e,o,t.blkIndent,!0),!0}},function(t,e,n){"use strict";t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(t,e,n){"use strict";var r=n(42).isSpace;t.exports=function(t,e,n,i){var a,o,s,u,l=t.bMarks[e]+t.tShift[e],c=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4)return!1;if(35!==(a=t.src.charCodeAt(l))||l>=c)return!1;for(o=1,a=t.src.charCodeAt(++l);35===a&&l<c&&o<=6;)o++,a=t.src.charCodeAt(++l);return!(o>6||l<c&&!r(a)||(i||(c=t.skipSpacesBack(c,l),(s=t.skipCharsBack(c,35,l))>l&&r(t.src.charCodeAt(s-1))&&(c=s),t.line=e+1,(u=t.push("heading_open","h"+String(o),1)).markup="########".slice(0,o),u.map=[e,t.line],(u=t.push("inline","",0)).content=t.src.slice(l,c).trim(),u.map=[e,t.line],u.children=[],(u=t.push("heading_close","h"+String(o),-1)).markup="########".slice(0,o)),0))}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r,i,a,o,s,u,l,c,h,f,p=e+1,d=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(f=t.parentType,t.parentType="paragraph";p<n&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(u=t.bMarks[p]+t.tShift[p])<(l=t.eMarks[p])&&(45===(h=t.src.charCodeAt(u))||61===h)&&(u=t.skipChars(u,h),(u=t.skipSpaces(u))>=l)){c=61===h?1:2;break}if(!(t.sCount[p]<0)){for(i=!1,a=0,o=d.length;a<o;a++)if(d[a](t,p,n,!0)){i=!0;break}if(i)break}}return!!c&&(r=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,(s=t.push("heading_open","h"+String(c),1)).markup=String.fromCharCode(h),s.map=[e,t.line],(s=t.push("inline","",0)).content=r,s.map=[e,t.line-1],s.children=[],(s=t.push("heading_close","h"+String(c),-1)).markup=String.fromCharCode(h),t.parentType=f,!0)}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,a,o,s,u=e+1,l=t.md.block.ruler.getRules("paragraph"),c=t.lineMax;for(s=t.parentType,t.parentType="paragraph";u<c&&!t.isEmpty(u);u++)if(!(t.sCount[u]-t.blkIndent>3||t.sCount[u]<0)){for(r=!1,i=0,a=l.length;i<a;i++)if(l[i](t,u,c,!0)){r=!0;break}if(r)break}return n=t.getLines(e,u,t.blkIndent,!1).trim(),t.line=u,(o=t.push("paragraph_open","p",1)).map=[e,t.line],(o=t.push("inline","",0)).content=n,o.map=[e,t.line],o.children=[],o=t.push("paragraph_close","p",-1),t.parentType=s,!0}},function(t,e,n){"use strict";var r=n(47),i=n(42).isSpace;function a(t,e,n,r){var a,o,s,u,l,c,h,f;for(this.src=t,this.md=e,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",f=!1,s=u=c=h=0,l=(o=this.src).length;u<l;u++){if(a=o.charCodeAt(u),!f){if(i(a)){c++,9===a?h+=4-h%4:h++;continue}f=!0}10!==a&&u!==l-1||(10!==a&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(c),this.sCount.push(h),this.bsCount.push(0),f=!1,c=0,h=0,s=u+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}a.prototype.push=function(t,e,n){var i=new r(t,e,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i},a.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]},a.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t},a.prototype.skipSpaces=function(t){for(var e,n=this.src.length;t<n&&(e=this.src.charCodeAt(t),i(e));t++);return t},a.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!i(this.src.charCodeAt(--t)))return t+1;return t},a.prototype.skipChars=function(t,e){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===e;t++);return t},a.prototype.skipCharsBack=function(t,e,n){if(t<=n)return t;for(;t>n;)if(e!==this.src.charCodeAt(--t))return t+1;return t},a.prototype.getLines=function(t,e,n,r){var a,o,s,u,l,c,h,f=t;if(t>=e)return"";for(c=new Array(e-t),a=0;f<e;f++,a++){for(o=0,h=u=this.bMarks[f],l=f+1<e||r?this.eMarks[f]+1:this.eMarks[f];u<l&&o<n;){if(s=this.src.charCodeAt(u),i(s))9===s?o+=4-(o+this.bsCount[f])%4:o++;else{if(!(u-h<this.tShift[f]))break;o++}u++}c[a]=o>n?new Array(o-n+1).join(" ")+this.src.slice(u,l):this.src.slice(u,l)}return c.join("")},a.prototype.Token=r,t.exports=a},function(t,e,n){"use strict";var r=n(46),i=[["text",n(101)],["newline",n(102)],["escape",n(103)],["backticks",n(104)],["strikethrough",n(56).tokenize],["emphasis",n(57).tokenize],["link",n(105)],["image",n(106)],["autolink",n(107)],["html_inline",n(108)],["entity",n(109)]],a=[["balance_pairs",n(110)],["strikethrough",n(56).postProcess],["emphasis",n(57).postProcess],["text_collapse",n(111)]];function o(){var t;for(this.ruler=new r,t=0;t<i.length;t++)this.ruler.push(i[t][0],i[t][1]);for(this.ruler2=new r,t=0;t<a.length;t++)this.ruler2.push(a[t][0],a[t][1])}o.prototype.skipToken=function(t){var e,n,r=t.pos,i=this.ruler.getRules(""),a=i.length,o=t.md.options.maxNesting,s=t.cache;if(void 0===s[r]){if(t.level<o)for(n=0;n<a&&(t.level++,e=i[n](t,!0),t.level--,!e);n++);else t.pos=t.posMax;e||t.pos++,s[r]=t.pos}else t.pos=s[r]},o.prototype.tokenize=function(t){for(var e,n,r=this.ruler.getRules(""),i=r.length,a=t.posMax,o=t.md.options.maxNesting;t.pos<a;){if(t.level<o)for(n=0;n<i&&!(e=r[n](t,!1));n++);if(e){if(t.pos>=a)break}else t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()},o.prototype.parse=function(t,e,n,r){var i,a,o,s=new this.State(t,e,n,r);for(this.tokenize(s),o=(a=this.ruler2.getRules("")).length,i=0;i<o;i++)a[i](s)},o.prototype.State=n(112),t.exports=o},function(t,e,n){"use strict";function r(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}t.exports=function(t,e){for(var n=t.pos;n<t.posMax&&!r(t.src.charCodeAt(n));)n++;return n!==t.pos&&(e||(t.pending+=t.src.slice(t.pos,n)),t.pos=n,!0)}},function(t,e,n){"use strict";var r=n(42).isSpace;t.exports=function(t,e){var n,i,a,o=t.pos;if(10!==t.src.charCodeAt(o))return!1;if(n=t.pending.length-1,i=t.posMax,!e)if(n>=0&&32===t.pending.charCodeAt(n))if(n>=1&&32===t.pending.charCodeAt(n-1)){for(a=n-1;a>=1&&32===t.pending.charCodeAt(a-1);)a--;t.pending=t.pending.slice(0,a),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(o++;o<i&&r(t.src.charCodeAt(o));)o++;return t.pos=o,!0}},function(t,e,n){"use strict";for(var r=n(42).isSpace,i=[],a=0;a<256;a++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(t){i[t.charCodeAt(0)]=1})),t.exports=function(t,e){var n,a=t.pos,o=t.posMax;if(92!==t.src.charCodeAt(a))return!1;if(++a<o){if((n=t.src.charCodeAt(a))<256&&0!==i[n])return e||(t.pending+=t.src[a]),t.pos+=2,!0;if(10===n){for(e||t.push("hardbreak","br",0),a++;a<o&&(n=t.src.charCodeAt(a),r(n));)a++;return t.pos=a,!0}}return e||(t.pending+="\\"),t.pos++,!0}},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,a,o,s,u,l,c=t.pos;if(96!==t.src.charCodeAt(c))return!1;for(n=c,c++,r=t.posMax;c<r&&96===t.src.charCodeAt(c);)c++;if(u=(i=t.src.slice(n,c)).length,t.backticksScanned&&(t.backticks[u]||0)<=n)return e||(t.pending+=i),t.pos+=u,!0;for(o=s=c;-1!==(o=t.src.indexOf("`",s));){for(s=o+1;s<r&&96===t.src.charCodeAt(s);)s++;if((l=s-o)===u)return e||((a=t.push("code_inline","code",0)).markup=i,a.content=t.src.slice(c,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=s,!0;t.backticks[l]=o}return t.backticksScanned=!0,e||(t.pending+=i),t.pos+=u,!0}},function(t,e,n){"use strict";var r=n(42).normalizeReference,i=n(42).isSpace;t.exports=function(t,e){var n,a,o,s,u,l,c,h,f="",p="",d=t.pos,g=t.posMax,v=t.pos,m=!0;if(91!==t.src.charCodeAt(t.pos))return!1;if(u=t.pos+1,(s=t.md.helpers.parseLinkLabel(t,t.pos,!0))<0)return!1;if((l=s+1)<g&&40===t.src.charCodeAt(l)){for(m=!1,l++;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);if(l>=g)return!1;if(v=l,(c=t.md.helpers.parseLinkDestination(t.src,l,t.posMax)).ok){for(f=t.md.normalizeLink(c.str),t.md.validateLink(f)?l=c.pos:f="",v=l;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);if(c=t.md.helpers.parseLinkTitle(t.src,l,t.posMax),l<g&&v!==l&&c.ok)for(p=c.str,l=c.pos;l<g&&(a=t.src.charCodeAt(l),i(a)||10===a);l++);}(l>=g||41!==t.src.charCodeAt(l))&&(m=!0),l++}if(m){if(void 0===t.env.references)return!1;if(l<g&&91===t.src.charCodeAt(l)?(v=l+1,(l=t.md.helpers.parseLinkLabel(t,l))>=0?o=t.src.slice(v,l++):l=s+1):l=s+1,o||(o=t.src.slice(u,s)),!(h=t.env.references[r(o)]))return t.pos=d,!1;f=h.href,p=h.title}return e||(t.pos=u,t.posMax=s,t.push("link_open","a",1).attrs=n=[["href",f]],p&&n.push(["title",p]),t.md.inline.tokenize(t),t.push("link_close","a",-1)),t.pos=l,t.posMax=g,!0}},function(t,e,n){"use strict";var r=n(42).normalizeReference,i=n(42).isSpace;t.exports=function(t,e){var n,a,o,s,u,l,c,h,f,p,d,g,v,m="",y=t.pos,x=t.posMax;if(33!==t.src.charCodeAt(t.pos))return!1;if(91!==t.src.charCodeAt(t.pos+1))return!1;if(l=t.pos+2,(u=t.md.helpers.parseLinkLabel(t,t.pos+1,!1))<0)return!1;if((c=u+1)<x&&40===t.src.charCodeAt(c)){for(c++;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);if(c>=x)return!1;for(v=c,(f=t.md.helpers.parseLinkDestination(t.src,c,t.posMax)).ok&&(m=t.md.normalizeLink(f.str),t.md.validateLink(m)?c=f.pos:m=""),v=c;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);if(f=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<x&&v!==c&&f.ok)for(p=f.str,c=f.pos;c<x&&(a=t.src.charCodeAt(c),i(a)||10===a);c++);else p="";if(c>=x||41!==t.src.charCodeAt(c))return t.pos=y,!1;c++}else{if(void 0===t.env.references)return!1;if(c<x&&91===t.src.charCodeAt(c)?(v=c+1,(c=t.md.helpers.parseLinkLabel(t,c))>=0?s=t.src.slice(v,c++):c=u+1):c=u+1,s||(s=t.src.slice(l,u)),!(h=t.env.references[r(s)]))return t.pos=y,!1;m=h.href,p=h.title}return e||(o=t.src.slice(l,u),t.md.inline.parse(o,t.md,t.env,g=[]),(d=t.push("image","img",0)).attrs=n=[["src",m],["alt",""]],d.children=g,d.content=o,p&&n.push(["title",p])),t.pos=c,t.posMax=x,!0}},function(t,e,n){"use strict";var r=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,i=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;t.exports=function(t,e){var n,a,o,s,u,l,c=t.pos;if(60!==t.src.charCodeAt(c))return!1;for(u=t.pos,l=t.posMax;;){if(++c>=l)return!1;if(60===(s=t.src.charCodeAt(c)))return!1;if(62===s)break}return n=t.src.slice(u+1,c),i.test(n)?(a=t.md.normalizeLink(n),!!t.md.validateLink(a)&&(e||((o=t.push("link_open","a",1)).attrs=[["href",a]],o.markup="autolink",o.info="auto",(o=t.push("text","",0)).content=t.md.normalizeLinkText(n),(o=t.push("link_close","a",-1)).markup="autolink",o.info="auto"),t.pos+=n.length+2,!0)):!!r.test(n)&&(a=t.md.normalizeLink("mailto:"+n),!!t.md.validateLink(a)&&(e||((o=t.push("link_open","a",1)).attrs=[["href",a]],o.markup="autolink",o.info="auto",(o=t.push("text","",0)).content=t.md.normalizeLinkText(n),(o=t.push("link_close","a",-1)).markup="autolink",o.info="auto"),t.pos+=n.length+2,!0))}},function(t,e,n){"use strict";var r=n(55).HTML_TAG_RE;t.exports=function(t,e){var n,i,a,o=t.pos;return!(!t.md.options.html||(a=t.posMax,60!==t.src.charCodeAt(o)||o+2>=a||33!==(n=t.src.charCodeAt(o+1))&&63!==n&&47!==n&&!function(t){var e=32|t;return e>=97&&e<=122}(n)||!(i=t.src.slice(o).match(r))||(e||(t.push("html_inline","",0).content=t.src.slice(o,o+i[0].length)),t.pos+=i[0].length,0)))}},function(t,e,n){"use strict";var r=n(50),i=n(42).has,a=n(42).isValidEntityCode,o=n(42).fromCodePoint,s=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,u=/^&([a-z][a-z0-9]{1,31});/i;t.exports=function(t,e){var n,l,c=t.pos,h=t.posMax;if(38!==t.src.charCodeAt(c))return!1;if(c+1<h)if(35===t.src.charCodeAt(c+1)){if(l=t.src.slice(c).match(s))return e||(n="x"===l[1][0].toLowerCase()?parseInt(l[1].slice(1),16):parseInt(l[1],10),t.pending+=a(n)?o(n):o(65533)),t.pos+=l[0].length,!0}else if((l=t.src.slice(c).match(u))&&i(r,l[1]))return e||(t.pending+=r[l[1]]),t.pos+=l[0].length,!0;return e||(t.pending+="&"),t.pos++,!0}},function(t,e,n){"use strict";function r(t,e){var n,r,i,a,o,s,u,l,c={},h=e.length;if(h){var f=0,p=-2,d=[];for(n=0;n<h;n++)if(i=e[n],d.push(0),e[f].marker===i.marker&&p===i.token-1||(f=n),p=i.token,i.length=i.length||0,i.close){for(c.hasOwnProperty(i.marker)||(c[i.marker]=[-1,-1,-1,-1,-1,-1]),o=c[i.marker][(i.open?3:0)+i.length%3],s=r=f-d[f]-1;r>o;r-=d[r]+1)if((a=e[r]).marker===i.marker&&a.open&&a.end<0&&(u=!1,(a.close||i.open)&&(a.length+i.length)%3==0&&(a.length%3==0&&i.length%3==0||(u=!0)),!u)){l=r>0&&!e[r-1].open?d[r-1]+1:0,d[n]=n-r+l,d[r]=l,i.open=!1,a.end=n,a.close=!1,s=-1,p=-2;break}-1!==s&&(c[i.marker][(i.open?3:0)+(i.length||0)%3]=s)}}}t.exports=function(t){var e,n=t.tokens_meta,i=t.tokens_meta.length;for(r(0,t.delimiters),e=0;e<i;e++)n[e]&&n[e].delimiters&&r(0,n[e].delimiters)}},function(t,e,n){"use strict";t.exports=function(t){var e,n,r=0,i=t.tokens,a=t.tokens.length;for(e=n=0;e<a;e++)i[e].nesting<0&&r--,i[e].level=r,i[e].nesting>0&&r++,"text"===i[e].type&&e+1<a&&"text"===i[e+1].type?i[e+1].content=i[e].content+i[e+1].content:(e!==n&&(i[n]=i[e]),n++);e!==n&&(i.length=n)}},function(t,e,n){"use strict";var r=n(47),i=n(42).isWhiteSpace,a=n(42).isPunctChar,o=n(42).isMdAsciiPunct;function s(t,e,n,r){this.src=t,this.env=n,this.md=e,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}s.prototype.pushPending=function(){var t=new r("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t},s.prototype.push=function(t,e,n){this.pending&&this.pushPending();var i=new r(t,e,n),a=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],a={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(a),i},s.prototype.scanDelims=function(t,e){var n,r,s,u,l,c,h,f,p,d=t,g=!0,v=!0,m=this.posMax,y=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;d<m&&this.src.charCodeAt(d)===y;)d++;return s=d-t,r=d<m?this.src.charCodeAt(d):32,h=o(n)||a(String.fromCharCode(n)),p=o(r)||a(String.fromCharCode(r)),c=i(n),(f=i(r))?g=!1:p&&(c||h||(g=!1)),c?v=!1:h&&(f||p||(v=!1)),e?(u=g,l=v):(u=g&&(!v||h),l=v&&(!g||p)),{can_open:u,can_close:l,length:s}},s.prototype.Token=r,t.exports=s},function(t,e,n){"use strict";function r(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach((function(e){e&&Object.keys(e).forEach((function(n){t[n]=e[n]}))})),t}function i(t){return Object.prototype.toString.call(t)}function a(t){return"[object Function]"===i(t)}function o(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},u={"http:":{validate:function(t,e,n){var r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){var r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&":"===t[e-3]||e>=3&&"/"===t[e-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){var r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function c(t){var e=t.re=n(114)(t.__opts__),r=t.__tlds__.slice();function s(t){return t.replace("%TLDS%",e.src_tlds)}t.onCompile(),t.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(e.src_xn),e.src_tlds=r.join("|"),e.email_fuzzy=RegExp(s(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(s(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(s(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(s(e.tpl_host_fuzzy_test),"i");var u=[];function l(t,e){throw new Error('(LinkifyIt) Invalid schema "'+t+'": '+e)}t.__compiled__={},Object.keys(t.__schemas__).forEach((function(e){var n=t.__schemas__[e];if(null!==n){var r={validate:null,link:null};if(t.__compiled__[e]=r,"[object Object]"===i(n))return"[object RegExp]"!==i(n.validate)?a(n.validate)?r.validate=n.validate:l(e,n):r.validate=function(t){return function(e,n){var r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}(n.validate),void(a(n.normalize)?r.normalize=n.normalize:n.normalize?l(e,n):r.normalize=function(t,e){e.normalize(t)});!function(t){return"[object String]"===i(t)}(n)?l(e,n):u.push(e)}})),u.forEach((function(e){t.__compiled__[t.__schemas__[e]]&&(t.__compiled__[e].validate=t.__compiled__[t.__schemas__[e]].validate,t.__compiled__[e].normalize=t.__compiled__[t.__schemas__[e]].normalize)})),t.__compiled__[""]={validate:null,normalize:function(t,e){e.normalize(t)}};var c=Object.keys(t.__compiled__).filter((function(e){return e.length>0&&t.__compiled__[e]})).map(o).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+e.src_ZPCc+"))("+c+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),function(t){t.__index__=-1,t.__text_cache__=""}(t)}function h(t,e){var n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function f(t,e){var n=new h(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function p(t,e){if(!(this instanceof p))return new p(t,e);var n;e||(n=t,Object.keys(n||{}).reduce((function(t,e){return t||s.hasOwnProperty(e)}),!1)&&(e=t,t={})),this.__opts__=r({},s,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},u,t),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},c(this)}p.prototype.add=function(t,e){return this.__schemas__[t]=e,c(this),this},p.prototype.set=function(t){return this.__opts__=r(this.__opts__,t),this},p.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,n,r,i,a,o,s,u;if(this.re.schema_test.test(t))for((s=this.re.schema_search).lastIndex=0;null!==(e=s.exec(t));)if(i=this.testSchemaAt(t,e[2],s.lastIndex)){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&t.indexOf("@")>=0&&null!==(r=t.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=o)),this.__index__>=0},p.prototype.pretest=function(t){return this.re.pretest.test(t)},p.prototype.testSchemaAt=function(t,e,n){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,n,this):0},p.prototype.match=function(t){var e=0,n=[];this.__index__>=0&&this.__text_cache__===t&&(n.push(f(this,e)),e=this.__last_index__);for(var r=e?t.slice(e):t;this.test(r);)n.push(f(this,e)),r=r.slice(this.__last_index__),e+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter((function(t,e,n){return t!==n[e-1]})).reverse(),c(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,c(this),this)},p.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},p.prototype.onCompile=function(){},t.exports=p},function(t,e,n){"use strict";t.exports=function(t){var e={};return e.src_Any=n(52).source,e.src_Cc=n(53).source,e.src_Z=n(54).source,e.src_P=n(45).source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|"),e.src_pseudo_letter="(?:(?![><｜]|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|[><｜]|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|[><｜]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+e.src_ZPCc+"))((?![$+<=>^`|｜])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}},function(t,e,n){t.exports=n(24)(2732)},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},function(t,e,n){"use strict";t.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},function(t,e,n){"use strict";t.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},function(t,e,n){"use strict";n.r(e),n.d(e,"Vis",(function(){return vis_Vis}));var r=n(2),i=n.n(r),a=n(43),o=n.n(a),s=n(63),u=n(3),l=n(6);class errors_VislibError extends l.KbnError{constructor(t){super(t)}displayToScreen(t){t.error(this.message)}}class InvalidLogScaleValues extends errors_VislibError{constructor(){super("Values less than 1 cannot be displayed on a log scale")}}class ContainerTooSmall extends errors_VislibError{constructor(){super("This container is too small to render the visualization")}}class PieContainsAllZeros extends errors_VislibError{constructor(){super("No results displayed because all values equal 0.")}}class errors_NoResults extends errors_VislibError{constructor(){super(u.i18n.translate("visTypeVislib.vislib.errors.noResultsFoundTitle",{defaultMessage:"No results found"}))}}var c=n(31);function h(t){if(!t.id)return;const e=t.id.indexOf("[");return e>-1?t.id.substring(0,e):t.id.indexOf(".")>-1?t.id.split(".")[0]:t.id}const f=(t,e)=>({type:"point_series",addTimeMarker:t.addTimeMarker,series:i.a.map(e,(e=>((t,e)=>{const n=h(e),r=t.seriesParams?t.seriesParams.find((t=>n===t.data.id)):null,i=t.smoothLines?"cardinal":t.interpolate;if(!r){const n=Array.isArray(t.seriesParams)&&t.seriesParams[0]?t.seriesParams[0]:t,r=["stacked","percentage","wiggle","silhouette"].includes(t.mode);return{show:!0,type:t.type||"line",mode:r?"stacked":"normal",interpolate:i,drawLinesBetweenPoints:n.drawLinesBetweenPoints,showCircles:n.showCircles,radiusRatio:t.radiusRatio,data:e}}return{...r,data:e,radiusRatio:t.radiusRatio}})(t,e)))});function p(t){return t}const d={pie:function(t){return t.chart||(t.chart=i.a.defaults({},t,{type:"pie",labels:{show:!1,truncate:100}})),t},heatmap:(t,e)=>{const n=(o=o||{},function(t,e){const n=t.setYExtents,r=t.defaultYExtents,a=i.a.cloneDeep(t);if(i.a.defaultsDeep(a,{chartTitle:{},mode:"normal"},o),a.type="point_series",a.tooltip||(a.tooltip={show:t.addTooltip}),a.valueAxes)a.valueAxes.forEach((t=>{if(t.labels){t.labels.axisFormatter=e.data.yAxisFormatter||e.get("yAxisFormatter");const n=a.seriesParams&&a.seriesParams.find((e=>e.valueAxis===t.id));if(n){const r=n.data.id,i=(e.data.series||e.get("series")).find((t=>h(t)===r));i&&(t.labels.axisFormatter=i.yAxisFormatter)}}}));else{let t=a.mode;["stacked","overlap"].includes(t)&&(t="normal"),a.valueAxes=[{id:"ValueAxis-1",type:"value",scale:{type:a.scale,setYExtents:a.setYExtents,defaultYExtents:a.defaultYExtents,boundsMargin:r?a.boundsMargin:0,min:n?a.yAxis.min:void 0,max:n?a.yAxis.max:void 0,mode:t},labels:{axisFormatter:e.data.yAxisFormatter||e.get("yAxisFormatter")},title:{text:e.get("yAxisLabel")}}]}if(a.categoryAxes){const t=a.categoryAxes.find((t=>"CategoryAxis-1"===t.id));t&&(t.title.text=e.get("xAxisLabel"))}else a.categoryAxes=[{id:"CategoryAxis-1",type:"category",labels:{axisFormatter:e.data.xAxisFormatter||e.get("xAxisFormatter")},scale:{expandLastBucket:o.expandLastBucket},title:{text:e.get("xAxisLabel")}}];return a.charts||(a.charts=((t,e)=>e.rows||e.columns?(e.rows?e.rows:e.columns).map((e=>f(t,e.series))):[f(t,e.series)])(t,e.data)),void 0===a.enableHover&&(a.enableHover=!0),a})(t,e),r=n.charts.length,a=n.charts.length&&n.charts[0].series.length>t.heatmapMaxBuckets;var o;return r&&a&&(n.error=u.i18n.translate("visTypeVislib.vislib.heatmap.maxBucketsText",{defaultMessage:"There are too many series defined ({nr}). The configured maximum is {max}.",values:{max:t.heatmapMaxBuckets,nr:n.charts[0].series.length},description:"This message appears at heatmap visualizations"})),n.valueAxes[0].show=!1,n.categoryAxes[0].style={rangePadding:0,rangeOuterPadding:0},n.categoryAxes.push({id:"CategoryAxis-2",type:"category",position:"left",values:e.getLabels(),scale:{inverted:!0},labels:{filter:!1,axisFormatter:function(t){return t}},style:{rangePadding:0,rangeOuterPadding:0},title:{text:e.get("zAxisLabel")||""}}),n},gauge:p,goal:p,metric:p};var g=n(8),v=n.n(g);function m(t){if(!Object(r.isObject)(t))throw new TypeError("getUniqKeys expects an object");const e=function(t){let e;if(!i.a.isObject(t)||!t.rows&&!t.columns&&!t.series)throw new TypeError("flattenData expects an object with a series, rows, or columns key");return t.series||(e=t.rows?t.rows:t.columns),i()(e||[t]).map("series").flattenDeep().map("values").flattenDeep().filter(Boolean).value()}(t),n=new Map;let a;a=t.series?[t]:t.rows?t.rows:t.columns;const o=a.every((t=>t.ordered&&t.ordered.date)),s=a.every((t=>t.ordered)),u=(t,e)=>{n.set(t,{index:e,isDate:o,isOrdered:s,isNumber:Object(r.isNumber)(t),sum:0})};return t.xAxisOrderedValues&&t.xAxisOrderedValues.forEach(u),e.forEach((t=>{const e=t.x;let r=n.get(e);r||(u(e,n.size),r=n.get(e)),n.set(e,{...r,sum:r.sum+t.y})})),n}function y(t,e=!1){if(!i.a.isObject(t))throw new Error("orderXValues expects an object");const n=[...m(t).entries()],r=i.a.get(t,"ordered.interval"),a=!!v.a.isDuration(r)&&r;return i()(n).sortBy((function(t){return t[1].isDate||t[1].isOrdered?+t[0]:e?-t[1].sum:t[1].index})).map((function(t,e,n){if(!t[1].isNumber)return t[0];const o=+t[0];if(null==r)return o;const s=parseFloat(i.a.get(n,[e+1,0]));if(isNaN(s))return o;const u=[];let l=o;if(a)for(l=v()(o);l<s;)u.push(l.valueOf()),l.add(a);else for(;l<s;)u.push(l),l+=r;return u})).flatten().value()}function x(t){if(!i.a.isObject(t))throw new TypeError("LabelUtil expects an object");return function(t){if(!Array.isArray(t))throw new TypeError("UniqLabelUtil expects an array of objects");return i()(t).map("label").uniq().value()}(function(t){if(!i.a.isObject(t)||!t.rows&&!t.columns&&!t.series)throw new TypeError("GetArrayUtilService expects an object with a series, rows, or columns key");return t.series?t.series:function(t){if(!i.a.isObject(t)||!t.rows&&!t.columns)throw new TypeError("GetSeriesUtilService expects an object with either a rows or columns key");return t=t.rows?t.rows:t.columns,i.a.chain(t).map("series").flattenDeep().value()}(t)}(t))}var _=n(0);class D3MappableObject{constructor(t){for(const e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}toString(){return JSON.stringify(this)}}class data_Data{constructor(t,e,n){this.uiState=e,this.createColorLookupFunction=n,this.data=this.copyDataObj(t),this.type=this.getDataType(),this._cleanVisData(),this.labels=this._getLabels(this.data),this.color=this.labels?n(this.labels,e.get("vis.colors")):void 0,this._normalizeOrdered()}copyDataObj(t){const e=t=>{const e={};Object.keys(t).forEach((n=>{e[n]="xAxisOrderedValues"===n?t[n].map((t=>"object"==typeof t?new D3MappableObject(t):t)):"series"===n?t[n].map((t=>{const e=Object(_.b)().deserialize(t.format),n=Object(_.b)().deserialize(t.zFormat);return{id:t.id,rawId:t.rawId,label:t.label,zLabel:t.zLabel,values:t.values.map((e=>{const n=i.a.clone(e);return n.extraMetrics=e.extraMetrics,n.series=e.series||t.label,"object"==typeof n.x&&(n.x=new D3MappableObject(n.x)),n})),yAxisFormatter:t=>e.convert(t),zAxisFormatter:t=>n.convert(t)}})):t[n]}));const n=Object(_.b)().deserialize(e.xAxisFormat),r=Object(_.b)().deserialize(e.yAxisFormat),a=Object(_.b)().deserialize(e.zAxisFormat);return e.xAxisFormatter=t=>n.convert(t),e.yAxisFormatter=t=>r.convert(t),e.zAxisFormatter=t=>a.convert(t),e};if(!t.series){const n={};return Object.keys(t).forEach((r=>{["rows","columns"].includes(r)?n[r]=t[r].map((t=>e(t))):n[r]=t[r]})),n}return e(t)}_getLabels(t){return"series"===this.type?x(t):[]}getDataType(){let t;return this.getVisData().forEach((function(e){e.series?t="series":e.slices?t="slices":e.geoJson&&(t="geoJson")})),t}chartData(){if(!this.data.series){const t=this.data.rows?this.data.rows:this.data.columns;return i.a.toArray(t)}return[this.data]}shouldBeStacked(t){return!!t&&"stacked"===t.mode}getStackedSeries(t,e,n,r=!1){const i=[];return t.series.forEach(((t,a)=>{(t.valueAxis===e.axisConfig.get("id")||!t.valueAxis&&r)&&(this.shouldBeStacked(t)||e.axisConfig.get("scale.stacked"))&&i.push(n[a])})),i}stackChartData(t,e,n){const r={};return t.valueAxes.forEach(((a,o)=>{const s=a.axisConfig.get("id");r[s]=this.getStackedSeries(n,a,e,0===o),r[s]=this.injectZeros(r[s],t.visConfig.get("orderBucketsBySum",!1)),a.axisConfig.set("stackedSeries",r[s].length),a.stack(i.a.map(r[s],"values"))})),r}stackData(t){const e=this.data;e.rows||e.columns?(e.rows?e.rows:e.columns).forEach(((e,n)=>{this.stackChartData(t,e.series,t.visConfig.get(`charts[${n}]`))})):this.stackChartData(t,e.series,t.visConfig.get("charts[0]"))}getVisData(){let t;return t=this.data.rows?this.data.rows:this.data.columns?this.data.columns:[this.data],t}getGeoExtents(){const t=this.getVisData();return i.a.reduce(i.a.map(t,"geoJson.properties"),(function(t,e){return{min:Math.min(e.min,t.min),max:Math.max(e.max,t.max)}}),{min:1/0,max:-1/0})}pieData(){return this.data.slices?[this.data]:this.data.rows?this.data.rows:this.data.columns}get(t,e){const n=(this.data.rows||this.data.columns||[this.data])[0];return i.a.get(n,t,e)}hasNullValues(){return this.chartData().some((function(t){return t.series.some((function(t){return t.values.some((function(t){return null===t.y}))}))}))}flatten(){return i()(this.chartData()).map("series").flattenDeep().map("values").flattenDeep().value()}validateUserDefinedYMin(t){if(!i.a.isNumber(t))throw new Error("validateUserDefinedYMin expects a number");return t}returnNames(t,e,n){const r=[],a=this;return i.a.forEach(t,(function(t){if(r.push({label:t.name,values:[t.rawData],index:e}),t.children){const o=e+1;i.a.forEach(a.returnNames(t.children,o,n),(function(t){r.push(t)}))}})),r}getNames(t,e){const n=t.slices;if(n.children){const t=this.returnNames(n.children,0,e);return i()(t).sortBy((function(t){return t.index})).uniqBy((function(t){return t.label})).value()}}_cleanVisData(){const t=this.getVisData();"slices"===this.type&&this._cleanPieChartData(t)}_cleanPieChartData(t){i.a.forEach(t,(t=>{t.slices=this._removeZeroSlices(t.slices)}))}_removeZeroSlices(t){return t.children?((t=i.a.clone(t)).children=t.children.reduce(((t,e)=>0!==e.size?[...t,this._removeZeroSlices(e)]:t),[]),t):t}pieNames(t){const e=this,n=[];return i.a.forEach(t,(function(t){const r=t.raw?t.raw.columns:void 0;i.a.forEach(e.getNames(t,r),(function(t){n.push(t)}))})),i.a.uniqBy(n,"label")}injectZeros(t,e=!1){return function(t,e,n=!1){const r=y(e,n);return t.forEach((function(t){const e=function(t,e){if(!Array.isArray(t))throw new Error("createZeroFilledArray expects an array of strings or numbers");const n=[];return t.forEach((function(t){n.push({x:t,xi:1/0,y:0,series:e})})),n}(r,t.label);t.values=function(t,e){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("zeroFillDataArray expects 2 arrays");let n,r,a;const o=e.length,s=function(t){return t.x===r.x};for(n=0;n<o;n++)r=e[n],a=i.a.findIndex(t,s),t.splice(a,1,r);return t}(e,t.values)})),t}(t,this.data,e)}xValues(t=!1){return y(this.data,t)}getLabels(){return x(this.data)}getColorFunc(){if("slices"===this.type)return this.getPieColorFunc();const t=this.uiState.get("vis.defaultColors"),e=this.uiState.get("vis.colors"),n=t?i.a.defaults({},e,t):e;return this.createColorLookupFunction(this.getLabels(),n)}getPieColorFunc(){return this.createColorLookupFunction(this.pieNames(this.getVisData()).map((function(t){return t.label})),this.uiState.get("vis.colors"))}_normalizeOrdered(){const t=this.getVisData(),e=this;t.forEach((function(t){if(!t.ordered||!t.ordered.date)return;const n=null==t.ordered.min,r=null==t.ordered.max;if(r||n){const i=o.a.extent(e.xValues());n&&(t.ordered.min=i[0]),r&&(t.ordered.max=i[1])}}))}mapDataExtents(t){const e=i.a.map(t.rows,(function(t){return t[t.length-1]}));return[i.a.min(e),i.a.max(e)]}maxNumberOfSeries(){return this.chartData().reduce((function(t,e){return Math.max(t,e.series.length)}),0)}}const b={style:{margin:{top:10,right:3,bottom:5,left:3}},categoryAxes:[],valueAxes:[],grid:{}};class vis_config_VisConfig{constructor(t,e,n,r,a){this.data=new data_Data(e,n,a);const o=(0,d[t.type])(t,this.data);this._values=i.a.defaultsDeep({...o},b),this._values.el=r}get(t,e){if(i.a.has(this._values,t)||void 0!==e)return i.a.get(this._values,t,e);throw new Error(`Accessing invalid config property: ${t}`)}set(t,e){return Object(c.set)(this._values,t,e)}}var w=n(64),k=n.n(w),C=n(28),A=n.n(C),M=n(44),E=n.n(M);class binder_Binder{constructor(){E()(this,"disposal",[])}on(t,...e){const n=t.on||t.addListener,r=t.off||t.removeListener;n.apply(t,e),this.disposal.push((()=>r.apply(t,e)))}destroy(){const t=this.disposal;this.disposal=[],t.forEach((t=>t()))}jqOn(t,...e){const n=A()(t);n.on(...e),this.disposal.push((()=>n.off(...e)))}fakeD3Bind(t,e,n){this.jqOn(t,e,(t=>{const e=o.a.event;o.a.event=t;try{n.apply(this,[this.__data__])}finally{o.a.event=e}}))}}let S;const D={top:"north",left:"west"};function L(t,e){if(!t)return;const n=A()(t.$chart),r=A()(t.$el),i=A()(t.$window||window),a=A()(t.$sizer),o=n.data("previousPlacement")||{},s=t.event;if(!n.length||!r.length)return;const u=T(e||r.html(),a),l=z(u,s),c=O(l,o,N(u,l,[n,i]));return n.data("previousPlacement",c),c}function T(t,e){return e.html()!==t&&e.html(t),{width:e.outerWidth(),height:e.outerHeight()}}function z(t,e){return{east:e.clientX+10,west:e.clientX-t.width-10,south:e.clientY+10,north:e.clientY-t.height-10}}function q(t){const e=A.a.isWindow(t[0])?{top:0,left:0}:t.offset();return e.top+=t.scrollTop(),e.left+=t.scrollLeft(),e.bottom=e.top+t.outerHeight(),e.right=e.left+t.outerWidth(),e.area=(e.bottom-e.top)*(e.right-e.left),e}function N(t,e,n){const r={};return n.map(q).sort((function(t,e){return t.area-e.area})).forEach((function(n){var a,o;a=r,o={north:n.top-e.north,east:e.east+t.width-n.right,south:e.south+t.height-n.bottom,west:n.left-e.west},i.a.mergeWith(a,o,(function(t,e){return null==t||null==e?t||e:t<0&&e<0?Math.min(t,e):Math.max(t,e)})),a.east&&a.west&&a.east>0&&a.west>0&&(o.east<0||o.west<0)&&(o.east<o.west?a.east=o.east:a.west=o.west)})),(window.overflows||(window.overflows=[])).push(r),r}function F(t,e,n,r,a,o,s){const u="_"+t,l=i.a.uniq([r[u],a,o].filter(Boolean));let c,h;for(let t=0;t<l.length;t++)if(c=l[t],!(n[c]>0)){h=e[c];break}if(null==h){c=l[0];let r=n[c];D[t]===c&&(r*=-1),h=e[c]-r}s[t]=h,s[u]=c}function O(t,e,n){const r={};return F("top",t,n,e,"south","north",r),F("left",t,n,e,"east","west",r),r}L.getTtSize=T,L.getBasePosition=z,L.getOverflow=N,L.getBounds=q,L.placeToAvoidOverflow=O,L.removeClone=function(){S&&S.remove(),S=null};var R=n(38);let j=[];const P=2*parseInt(R.euiLightVars.euiSizeXS||0,10),I=2*parseInt(R.euiLightVars.euiSizeS||0,10),B=10*parseInt(R.euiLightVars.euiSizeXL||0,10);function H(t,e,n,r,a){if(!(this instanceof H))return new H(t,e,n,r,a);this.id=t,this.el=e,this.order=100,this.formatter=n,this.events=r,this.uiSettings=a,this.containerClass="visWrapper",this.tooltipClass="visTooltip",this.tooltipSizerClass="visTooltip__sizingClone",this.showCondition=i.a.constant(!0),this.binder=new binder_Binder}H.prototype.$get=i.a.once((function(){return A()("<div>").addClass(this.tooltipClass).appendTo(document.body)})),H.prototype.$getSizer=i.a.once((function(){return this.$get().clone().removeClass(this.tooltipClass).addClass(this.tooltipSizerClass).appendTo(document.body)})),H.prototype.show=function(){const t=this.$get(),e=this.$getChart(),n=t.html();if(!e)return;const r=L({$window:A()(window),$chart:e,$el:t,$sizer:this.$getSizer(),event:o.a.event},n);t.css({visibility:"visible",left:r.left,top:r.top});const i=t.find("tbody > tr:nth-of-type(1) > td").length;if(2===i){const e=t.outerWidth(),n=t.find("tr:nth-of-type(1) > td:nth-child(2)");if(1!==n.length)return;const r=n.outerWidth(),i=r>e/2,a=i?e/2-I-2*P:e-r-I-P;t.find(".visTooltip__labelContainer").css({"max-width":a}),i&&e===B&&t.find(".visTooltip__valueContainer").css({"max-width":a})}else if(3===i){const e=t.outerWidth(),n=t.find("tr:nth-of-type(1) > td:nth-child(3)");if(1!==n.length)return;const r=(e-n.outerWidth()-I)/2-P;t.find(".visTooltip__labelContainer").css({"max-width":r})}},H.prototype.hide=function(){const t=this.$get();j=[],t.css({visibility:"hidden",left:"-500px",top:"-500px"})},H.prototype.$getChart=function(){const t=A()(this.container&&this.container.node());return!!t.length&&t},H.prototype.render=function(){const t=this;return function(e){const n=t.$get(),r=t.id,a=t.order;void 0!==t.container&&t.container===o.a.select(t.el).select("."+t.containerClass)||(t.container=o.a.select(t.el).select("."+t.containerClass));const s=t.$getChart();s&&t.binder.jqOn(s,"mouseleave",(function(){s.removeData("previousPlacement")})),e.each((function(e,s){const u=o.a.select(this);function l(e){j=i.a.filter(j,(function(t){return t.id!==r})),e&&j.push({id:r,html:e,order:a});const o=i()(j).sortBy("order").map("html").compact().join("\n");o?(n.html(o),t.show()):t.hide()}t.binder.fakeD3Bind(this,"mousemove",(function(){if(!t.showCondition.call(u,e,s))return l();const n=t.events?t.events.eventResponse(e,s):e;return l(t.formatter(n,t.uiSettings))})),t.binder.fakeD3Bind(this,"mouseleave",(function(){l()}))}))}},H.prototype.destroy=function(){this.hide(),this.binder.destroy()},n(15);var V=n(34),U=n.n(V),$=n(32),Z=n.n($),G=n(39),W=n(7);function Y(t){return function({datum:e}){const n=function t(e,n){const r=e.depth-1;return n.unshift({depth:r,field:function(t){if(t.rawData&&t.rawData.column>-1){const{column:e,table:n}=t.rawData;return n.columns[e].name}return t.name||`level ${t.depth}`}(e),bucket:e.name,metric:e.size,item:e}),e.parent&&e.parent.parent?t(e.parent,n):n}(e,[]);return i.a.forEachRight(n,(function(e){let n;return e.spacer=i.a.escape(i.a.repeat("&nbsp;",e.depth)),null!==e.item.percentOfGroup&&void 0!==e.item.percentOfGroup&&(n=e.item.percentOfGroup),e.metric=t?t.convert(e.metric):e.metric,null!=n&&(e.metric+=" ("+U()(n).format("0.[00]%")+")"),e})),Object($.renderToStaticMarkup)(Object(W.jsx)(G.I18nProvider,null,Object(W.jsx)("table",{className:"visTooltip__table"},Object(W.jsx)("thead",null,Object(W.jsx)("tr",{className:"eui-textLeft visTooltip__label"},Object(W.jsx)(G.FormattedMessage,{tagName:"th",scope:"col",id:"visTypeVislib.vislib.tooltip.fieldLabel",defaultMessage:"field"}),Object(W.jsx)(G.FormattedMessage,{tagName:"th",scope:"col",id:"visTypeVislib.vislib.tooltip.valueLabel",defaultMessage:"value"}),Object(W.jsx)("th",{scope:"col"}))),Object(W.jsx)("tbody",null,n.map(((t,e)=>Object(W.jsx)("tr",{className:"visTooltip__value",key:e},Object(W.jsx)("td",null,Object(W.jsx)("div",{className:"visTooltip__labelContainer"},Object(W.jsx)("span",{"ng-bind-html":"row.spacer"}),t.field)),Object(W.jsx)("td",null,Object(W.jsx)("div",{className:"visTooltip__labelContainer"},t.bucket)),Object(W.jsx)("td",null,t.metric))))))))}}var X=n(33);function J(t,e){return Object(_.b)().getInstance("percent",{pattern:e}).convert(t)}function K(){return function({datum:t,data:e,config:n,handler:i},a){if(!t)return"";const o=[],s=n.get("gauge",!1),u=n.get("type",void 0),l=n.get(s?"gauge.percentageMode":"percentageMode",!1),c=n.get("setColorRange",!1),h=e.series&&e.series.find((e=>e.rawId===t.seriesId)),f=(t,e)=>o.push({label:t,value:e});if(t.extraMetrics&&t.extraMetrics.forEach((t=>{f(t.label,t.value)})),null===t.x||void 0===t.x||["goal","gauge"].includes(u)||f(e.xAxisLabel,e.xAxisFormatter(t.x)),null!==t.y&&void 0!==t.y){let e=t.yScale?t.yScale*t.y:t.y;if(l&&!c){const t=n.get(s?"gauge.percentageFormatPattern":"percentageFormatPattern",a.get(X.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN));e=J(e/function(t,e,n){let i;return i=t.pointSeries?t.pointSeries.getSeries().getValueAxis().getScale().domain()[1]:Object(r.last)(e.get(n?"gauge.colorsRange":"colorsRange",[{}])).to,i}(i,n,s),t),f(h.label,e)}else f(h.label,h.yAxisFormatter(e))}if(null!==t.z&&void 0!==t.z&&f(h.zLabel,h.zAxisFormatter(t.z)),t.series&&t.parent){const e=t.parent;f(e.title,t.series)}return t.tableRaw&&f(t.tableRaw.title,t.tableRaw.value),Object($.renderToStaticMarkup)(Object(W.jsx)("table",null,Object(W.jsx)("tbody",null,o.map(((t,e)=>Object(W.jsx)("tr",{key:e},Object(W.jsx)("td",{className:"visTooltip__label"},Object(W.jsx)("div",{className:"visTooltip__labelContainer"},t.label)),Object(W.jsx)("td",{className:"visTooltip__value"},Object(W.jsx)("div",{className:"visTooltip__valueContainer"},t.value,t.percent&&Object(W.jsx)("span",null," (",t.percent,")")))))))))}}class dispatch_Dispatch{constructor(t,e){E()(this,"emit",Object(r.rest)((function(t,e){if(!this._listeners[t])return this;const n=this.listeners(t);let r=-1;for(;++r<n.length;)n[r].apply(this,e);return this}))),this.handler=t,this.uiSettings=e,this._listeners={}}on(t,e){let n=this._listeners[t];return n||(this._listeners[t]=[],n=this._listeners[t]),n.push(e),this}off(t,e){return this._listeners[t]?(e?Object(r.pull)(this._listeners[t],e):this._listeners[t]=null,this):this}removeAllListeners(){return this._listeners={},this}listeners(t){return this._listeners[t]?this._listeners[t].slice(0):[]}listenerCount(t){return t?Object(r.size)(this._listeners[t]):Object(r.reduce)(this._listeners,((t,e)=>t+Object(r.size)(e)),0)}_pieClickResponse(t){const e=[];let n=t;for(;n&&n.rawData;)e.push(n.rawData),n=n.parent;if(Object(r.get)(t,"rawData.table.$parent")){const{table:n,column:i,row:a,key:o}=Object(r.get)(t,"rawData.table.$parent");e.push({table:n,column:i,row:a,value:o})}return e}_seriesClickResponse(t){const e=[];return["xRaw","yRaw","zRaw","seriesRaw","rawData","tableRaw"].forEach((n=>{t[n]&&void 0!==t[n].column&&void 0!==t[n].row&&e.push(t[n])})),e}clickEventResponse(t,e={}){let n=e.isSlices;if(void 0===n){const t=o.a.event.target.nearestViewportElement?o.a.event.target.nearestViewportElement.__data__:o.a.event.target.__data__;n=!(!t||!t.slices)}const r=t.input||t;return{data:n?this._pieClickResponse(r):this._seriesClickResponse(r)}}_isSeriesInPercentageMode(t,e,n){if(!t||!Array.isArray(e)||!n)return!1;const{id:i}=e.find((e=>e.rawId===t));if(!i)return!1;const a=n.get("seriesParams",[]),{valueAxis:o}=a.find((t=>t.data.id===i))||{};if(!o)return!1;const s=n.get("valueAxes",[]).find((t=>t.id===o));return"percentage"===Object(r.get)(s,"scale.mode")}eventResponse(t,e){const n=t._input||t,i=o.a.event.target.nearestViewportElement?o.a.event.target.nearestViewportElement.__data__:o.a.event.target.__data__,a=t.label?t.label:t.series||"Count",s=!(!i||!i.series),u=!(!i||!i.slices),l=s?i.series:void 0,c=u?i.slices:void 0,h=this.handler,f=Object(r.get)(h,"data.color"),p=h&&h.visConfig,d=this._isSeriesInPercentageMode(t.seriesId,l,p);return{value:t.y,point:n,datum:n,label:a,color:f?f(a):void 0,pointIndex:e,series:l,slices:c,config:p,data:i,e:o.a.event,handler:h,isPercentageMode:d}}addEvent(t,e){return function(n){n.each((function(){const n=o.a.select(this);if("function"==typeof e)return n.on(t,e)}))}}addHoverEvent(){const t=this,e=this.listenerCount("click")>0,n=this.addEvent,r=this.handler.el;return this.handler.highlight||(this.handler.highlight=t.getHighlighter()),n("mouseover",(function(n,i){e&&t.addMousePointer.call(this,arguments),t.handler.highlight.call(this,r),t.emit("hover",t.eventResponse(n,i))}))}addMouseoutEvent(){const t=this,e=this.addEvent,n=this.handler.el;return this.handler.unHighlight||(this.handler.unHighlight=t.unHighlight),e("mouseout",(function(){t.handler.unHighlight.call(this,n)}))}addClickEvent(){return this.addEvent("click",(t=>this.emit("click",this.clickEventResponse(t))))}allowBrushing(){const t=this.handler.categoryAxes[0];return Boolean(t.ordered)}isBrushable(){return this.allowBrushing()&&this.listenerCount("brush")>0}addBrushEvent(t){if(!this.isBrushable())return;const e=this.handler.categoryAxes[0].getScale();this.createBrush(e,t)}addMousePointer(){return o.a.select(this).style("cursor","pointer")}getHighlighter(){return function(t){const e=this.getAttribute("data-label");e&&A()(t).parent().find("[data-label]").css("opacity",1).not(((t,n)=>String(A()(n).data("label"))===e)).css("opacity",.5)}}unHighlight(t){A()("[data-label]",t.parentNode).css("opacity",1)}createBrush(t,e){const n=this,{width:r,height:i}=e.node().getBBox(),a=n.handler.categoryAxes[0].axisConfig.isHorizontal(),s=o.a.svg.brush();if(a?s.x(t):s.y(t),s.on("brushend",(function(){const e=o.a.select(this).data()[0],r=e.ordered&&e.ordered.date,i=t.domain().filter((e=>s.extent()[0]<=t(e)&&t(e)<=s.extent()[1])),a=r?s.extent():i;return n.emit("brush",{range:a,data:e})})),n.listenerCount("brush")){const t=e.insert("g","g").attr("class","brush").call(s).call((t=>{const e=t.on("mousedown.brush");e&&t.on("mousedown.brush",(function(){Q(o.a.event)&&e.apply(this,arguments)}))})).selectAll("rect");return a?t.attr("height",i):t.attr("width",r),s}}}function Q(t){return 0===t.button}class _chart_Chart{constructor(t,e,n,r){this.handler=t,this.chartEl=e,this.chartData=n,this.tooltips=[];const a=this.events=new dispatch_Dispatch(t,r),o=Object(_.b)().deserialize(this.handler.data.get("tooltipFormatter")),s=("pie"===this.handler.visConfig.get("type")?Y:K)(o);if(this.handler.visConfig&&this.handler.visConfig.get("addTooltip",!1)){const t=this.handler.el;this.tooltip=new H("chart",t,s,a,r),this.tooltips.push(this.tooltip)}this._addIdentifier=i.a.bind(this._addIdentifier,this)}render(){const t=o.a.select(this.chartEl);t.selectAll("*").remove(),t.call(this.draw())}_addIdentifier(t,e){e=e||"label";const n=this.handler.data.labels;t.each((function(t){const r=function(t){return 1===n.length?n[0]:t[0]?t[0][e]:t[e]}(t);null!=r&&function(t,e){o.a.select(t).attr("data-label",e)}(this,r)}))}destroy(){const t=o.a.select(this.chartEl);this.events.removeAllListeners(),this.tooltips.forEach((function(t){t.destroy()})),t.remove()}}var tt=n(40),et=n.n(tt);class time_marker_TimeMarker{constructor(t,e,n){const r=[{time:(new Date).getTime(),class:"time-marker",color:"#c80000",opacity:.3,width:2}];this.xScale=e,this.height=n,this.times=t.length?t.map((function(t){return{time:et.a.parse(t.time),class:t.class||"time-marker",color:t.color||"#c80000",opacity:t.opacity||.3,width:t.width||2}})):r}_isTimeBasedChart(t){return t.data().every((function(t){return t.ordered&&t.ordered.date}))}render(t){const e=this;e._isTimeBasedChart(t)&&t.each((function(){o.a.select(this).selectAll("time-marker").data(e.times).enter().append("line").attr("class",(function(t){return t.class})).attr("pointer-events","none").attr("stroke",(function(t){return t.color})).attr("stroke-width",(function(t){return t.width})).attr("stroke-opacity",(function(t){return t.opacity})).attr("x1",(function(t){return e.xScale(t.time)})).attr("x2",(function(t){return e.xScale(t.time)})).attr("y1",e.height).attr("y2",e.xScale.range()[0])}))}}var nt=n(29),rt=n(16),it=n(41);const at={show:!1,value:10,width:1,style:"full",color:Object(it.euiPaletteColorBlind)()[9]};class _point_series_PointSeries{constructor(t,e,n,r){this.handler=t,this.baseChart=t.pointSeries,this.chartEl=e,this.chartData=n,this.seriesConfig=r,this.thresholdLineOptions=i.a.defaults(t.visConfig.get("thresholdLine",{}),at)}getGroupedCount(){const t=[];return this.baseChart.chartConfig.series.reduce(((e,n)=>{const r=n.valueAxis||this.baseChart.handler.valueAxes[0].id,i="stacked"===n.mode;return"histogram"===n.type?i&&t.includes(r)?e:(i&&t.push(r),e+1):e}),0)}getGroupedNum(t){let e=0;const n=[];for(const r of this.baseChart.chartConfig.series){const i=r.valueAxis||this.baseChart.handler.valueAxes[0].id;if("stacked"===r.mode){if(i in n||(n[i]=e++),r.data.rawId===t)return n[i]}else{if(r.data.rawId===t)return e;e++}}return 0}getValueAxis(){return i.a.find(this.handler.valueAxes,(t=>t.axisConfig.get("id")===this.seriesConfig.valueAxis))||this.handler.valueAxes[0]}getCategoryAxis(){return i.a.find(this.handler.categoryAxes,(t=>t.axisConfig.get("id")===this.seriesConfig.categoryAxis))||this.handler.categoryAxes[0]}addCircleEvents(t){const e=this.events;if(this.handler.visConfig.get("enableHover")){const n=e.addHoverEvent(),r=e.addMouseoutEvent();t.call(n).call(r)}const n=e.addClickEvent();return t.call(n)}addThresholdLine(t){const e=this.chartData,n=this.getCategoryAxis().axisConfig.isHorizontal(),r=this.getValueAxis().axisScale.getDomain(e.values.length),i=this.getValueAxis().getScale(),a=t[0][0].attributes.width.value,o=t[0][0].attributes.height.value,s=this.thresholdLineOptions.width;let u="0";"dashed"===this.thresholdLineOptions.style?u="10,5":"dot-dashed"===this.thresholdLineOptions.style&&(u="20,5,5,5");const l=this.thresholdLineOptions.value,c=this.thresholdLineOptions.color;function h(t){return i(t)}r&&r[0]<=l&&r[1]>=l&&t.append("line").attr("x1",n?0:h(l)).attr("y1",n?h(l):0).attr("x2",n?a:h(l)).attr("y2",n?h(l):o).attr("stroke-width",s).attr("stroke-dasharray",u).attr("stroke",c)}}var ot=n(30);const st={color:void 0,fillColor:void 0};class heatmap_chart_HeatmapChart extends _point_series_PointSeries{constructor(t,e,n,r,a){super(t,e,n,r,a),this.uiSettings=a,this.seriesConfig=i.a.defaults(r||{},st),this.handler.visConfig.set("legend",{labels:this.getHeatmapLabels(this.handler.visConfig),colors:this.getHeatmapColors(this.handler.visConfig)});const o=this.handler.visConfig.get("legend.colors",null);o&&(this.handler.vis.uiState.setSilent("vis.defaultColors",null),this.handler.vis.uiState.setSilent("vis.defaultColors",o))}getHeatmapLabels(t){const e=t.get("percentageMode"),n=t.get("percentageFormatPattern",this.uiSettings.get(X.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN)),r=t.get("colorsNumber"),i=t.get("colorsRange"),a=this.getValueAxis().axisConfig.get("labels.axisFormatter"),o=this.getValueAxis().getScale(),[s,u]=o.domain(),l=[];if(t.get("setColorRange"))i.forEach((t=>{const e=isFinite(t.from)?a(t.from):t.from,n=isFinite(t.to)?a(t.to):t.to;l.push(`${e} - ${n}`)}));else{if(u===s)return[s.toString()];for(let t=0;t<r;t++){let i,o=t/r,c=(t+1)/r;if(e)o=J(o,n),c=J(c,n),i=`${o} - ${c}`;else{if(o=o*(u-s)+s,c=c*(u-s)+s,u-s>10){const e=Math.ceil(o);o=0===t?e===o?o:e-1:e,c=Math.ceil(c)}isFinite(o)&&(o=a(o)),isFinite(c)&&(c=a(c)),i=`${o} - ${c}`}l.push(i)}}return l}getHeatmapColors(t){const e=t.get("invertColors"),n=t.get("colorSchema"),r=this.getHeatmapLabels(t),i={};for(const t in r)if(r[t]){const a=e?1-t/r.length:t/r.length;i[r[t]]=Object(ot.getHeatmapColors)(a,n)}return i}addSquares(t,e){const n=this.getCategoryAxis().getScale(),r=this.handler.categoryAxes[1].getScale(),a=this.getValueAxis().getScale(),o=this.baseChart.tooltip,s=this.handler.visConfig.get("tooltip.show"),u=this.getCategoryAxis().axisConfig.isHorizontal(),l=this.handler.visConfig.get("colorsNumber"),c=this.handler.visConfig.get("setColorRange"),h=this.handler.visConfig.get("colorsRange"),f=this.handler.data.getColorFunc(),p=this.handler.visConfig.get("legend.labels"),d=this.getValueAxis().axisConfig,g=d.get("labels.axisFormatter"),m=d.get("labels.show"),y=d.get("labels.overwriteColor",!1),x=t.append("g").attr("class","series").selectAll("g.square").data(e.values);let _;if(x.exit().remove(),this.getCategoryAxis().axisConfig.isTimeDomain()){const{min:t,interval:e}=this.handler.data.get("ordered"),r=t,i=v()(t).add(e).valueOf();_=n(i)-n(r),u||(_*=-1)}function b(t){return n(t.x)}function w(t){return r(t.series)}const[k,C]=a.domain();function A(t){const e=function(t){let e=0;if(c&&h.length){const e=i.a.find(h,(e=>e.from<=t.y&&e.to>t.y));return e?h.indexOf(e):-1}return isNaN(k)||isNaN(C)?e=l-1:k===C?e=0:(e=(t.y-k)/(C-k),e=Math.min(l-1,Math.floor(e*l))),null==t.y||isNaN(e)?-1:e}(t);return e<0&&(t.hide=!0),p[e]}function M(t){return""===A(t)?"transparent":f(A(t))}const E=_||n.rangeBand(),S=r.rangeBand();if(x.enter().append("g").attr("class","square"),x.append("rect").attr("x",b).attr("width",E).attr("y",w).attr("height",S).attr("data-label",A).attr("fill",M).attr("style","cursor: pointer; stroke: black; stroke-width: 0.1px").style("display",(t=>t.hide?"none":"initial")),m){const t=d.get("labels.rotate"),e=t*Math.PI/180,n=5,r=Math.min(Math.abs(E/Math.cos(e)),Math.abs(S/Math.sin(e)))-n,i=Math.min(Math.abs(E/Math.sin(e)),Math.abs(S/Math.cos(e)))-n;let a;a=y?d.get("labels.color"):t=>{const e=M(t),n=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);return n&&Object(nt.isColorDark)(parseInt(n[1]),parseInt(n[2]),parseInt(n[3]))?"#FFF":"#222"},x.append("text").text((t=>g(t.y))).style("display",(function(t){const e=this.getBBox().width,n=this.getBBox().height,a=e>r,o=n>i;return t.hide||a||o?"none":"initial"})).style("dominant-baseline","central").style("text-anchor","middle").style("fill",a).attr("x",(function(t){return b(t)+E/2})).attr("y",(function(t){return w(t)+S/2})).attr("transform",(function(e){const n=b(e)+E/2,r=w(e)+S/2;return`rotate(${t},${n},${r})`}))}return s&&x.call(o.render()),x.selectAll("rect")}draw(){const t=this;return function(e){e.each((function(){const e=t.chartEl.append("g");e.data([t.chartData]);const n=t.addSquares(e,t.chartData);return t.addCircleEvents(n),t.events.emit("rendered",{chart:t.chartData}),e}))}}}const ut=function(t,e){const n=o.a.select(t).node(),r=A()(n).text();return 0===e||e>=r.length?r:r.substr(0,e)+"…"},lt={isDonut:!1,showTooltip:!0,color:void 0,fillColor:void 0},ct={angleFactor:.75,maxAngle:2*Math.PI*1.3,minAngle:2*Math.PI*.7},ht={angleFactor:1,maxAngle:2*Math.PI,minAngle:0},ft={showTooltip:!0,percentageMode:!0,innerSpace:5,extents:[0,1e4],outline:!1,scale:{show:!0,color:"#666",width:2,ticks:10,tickLength:8},labels:{show:!0,color:"#666"},style:{bgWidth:.5,width:.9}},pt={meter:class meter_MeterGauge{constructor(t,e){this.gaugeChart=t,this.gaugeConfig=t.gaugeConfig,this.uiSettings=e,this.gaugeConfig=i.a.defaultsDeep(this.gaugeConfig,ft),this.gaugeChart.handler.visConfig.set("legend",{labels:this.getLabels(),colors:this.getColors()});const n=this.gaugeChart.handler.visConfig.get("legend.colors",null);n&&(this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",null),this.gaugeChart.handler.vis.uiState.setSilent("vis.defaultColors",n)),this.colorFunc=this.gaugeChart.handler.data.getColorFunc()}getLabels(){const t=this.gaugeConfig.percentageMode,e=this.gaugeConfig.percentageFormatPattern||this.uiSettings.get(X.FORMATS_UI_SETTINGS.FORMAT_PERCENT_DEFAULT_PATTERN),n=this.gaugeConfig.colorsRange,r=i.a.last(n).to,a=[];return n.forEach((n=>{const i=t?J(n.from/r,e):n.from,o=t?J(n.to/r,e):n.to;a.push(`${i} - ${o}`)})),a}getColors(){const t=this.gaugeConfig.invertColors,e=this.gaugeConfig.colorSchema,n=this.gaugeConfig.colorsRange,r=this.getLabels(),i={};for(let a=0;a<r.length;a+=1){const o=Math.max(n.length-1,1),s=t?1-a/o:a/o;i[r[a]]=Object(ot.getHeatmapColors)(s,e)}return i}getBucket(t){let e=i.a.findIndex(this.gaugeConfig.colorsRange,(e=>e.from<=t&&e.to>t));return-1===e&&(e=t<this.gaugeConfig.colorsRange[0].from?0:this.gaugeConfig.colorsRange.length-1),e}getLabel(t){const e=this.getBucket(t);return this.gaugeChart.handler.visConfig.get("legend.labels")[e]}getColorBucket(t){const e=this.getBucket(t),n=this.gaugeChart.handler.visConfig.get("legend.labels");return this.colorFunc(n[e])}drawScale(t,e,n){const r=this.gaugeConfig.scale.width,i=this.gaugeConfig.scale.tickLength,a=this.gaugeConfig.scale.ticks,s=t.append("g");this.gaugeConfig.colorsRange.forEach((t=>{const i=this.getColorBucket(t.from),a=o.a.svg.arc().startAngle(n(t.from)).endAngle(n(t.to)).innerRadius(e).outerRadius(e+r);s.append("path").attr("d",a).style("stroke",i).style("fill",i)}));const u=n.domain();for(let t=0;t<=a;t++){const o=t*(u[1]-u[0])/a,l=n(o)-Math.PI/2,c=Math.cos(l)*e,h=Math.cos(l)*(e-i),f=Math.sin(l)*e,p=Math.sin(l)*(e-i),d=this.getColorBucket(o);s.append("line").attr("x1",c).attr("x2",h).attr("y1",f).attr("y2",p).style("stroke-width",r).style("stroke",d)}return s}drawGauge(t,e,n,r){const a=this.gaugeChart.tooltip,s=this.gaugeChart.handler.visConfig.get("addTooltip"),{angleFactor:u,maxAngle:l,minAngle:c}="Circle"===this.gaugeConfig.gaugeType?ht:ct,h=Math.min(n,r/u)/2*.95,f=this.gaugeConfig.extendRange,p=i.a.max(e.values,"y").y,d=this.gaugeConfig.colorsRange[0].from,g=i.a.last(this.gaugeConfig.colorsRange).to,v=o.a.scale.linear().range([c,l]).domain([d,f&&g<p?p:g]),m=o.a.scale.linear().range([0,h]).domain([this.gaugeConfig.innerSpace+1,0]),y=Math.abs(m(0)-m(1)),x=y*(1-this.gaugeConfig.style.bgWidth)/2,_=y*(1-this.gaugeConfig.style.width)/2,b=()=>2*m(1)-(this.gaugeConfig.scale.show?2*this.gaugeConfig.scale.tickLength:2*-Math.max(x,_)),w=o.a.svg.arc().startAngle(c).endAngle((function(t){return Math.max(0,Math.min(l,v(Math.max(d,t.y))))})).innerRadius((function(t,e,n){return Math.max(0,m(n+1)+_)})).outerRadius((function(t,e,n){return Math.max(0,m(n)-_)})),k=o.a.svg.arc().startAngle(c).endAngle(l).innerRadius((function(t,e,n){return Math.max(0,m(n+1)+x)})).outerRadius((function(t,e,n){return Math.max(0,m(n)-x)})),C=t.selectAll("path").data([e]).enter().append("g").attr("data-label",(t=>this.getLabel(t.values[0].y))).selectAll("g").data((t=>t.values)).enter();C.append("path").attr("d",k).attr("class",this.gaugeConfig.outline?"visGauge__meter--outline":void 0).style("fill",this.gaugeConfig.style.bgFill);const A=C.append("path").attr("d",w).attr("class",this.gaugeConfig.outline?"visGauge__meter--outline":void 0).style("fill",(t=>this.getColorBucket(Math.max(d,t.y)))),M=t.node().getBBox().height<70;let E=!1;C.append("text").attr("class","chart-label").attr("y",-5).text((t=>{if(this.gaugeConfig.percentageMode){const n=(t.y-d)/(g-d);return e.yAxisFormatter(n)}return e.yAxisFormatter(t.y)})).attr("style","dominant-baseline: central;").style("text-anchor","middle").style("font-size","2em").style("display",(function(){const t=this.getBBox().width>=b()-6;return t&&(E=!0),t?"none":"initial"})),this.gaugeConfig.labels.show&&(t.append("text").attr("class","chart-label").text(e.label).attr("y",-30).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",(function(){const t=this.getBBox().width;return M||t>h?"none":"initial"})),t.append("text").attr("class","chart-label").text(this.gaugeConfig.style.subText).attr("y",20).attr("style","dominant-baseline: central; text-anchor: middle;").style("display",(function(){const t=this.getBBox().width;return E||M||t>h?"none":"initial"}))),this.gaugeConfig.scale.show&&this.drawScale(t,m(1),v),s&&A.each((function(){o.a.select(this).call(a.render())}));const S=n/2,D=r/2>h?r/2:h;return t.attr("transform",`translate(${S}, ${D})`).attr("data-test-subj",`visGauge__meter--${e.label}`),A}}};class gauge_chart_GaugeChart extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r),this.gaugeConfig=t.visConfig.get("gauge",{}),this.gauge=new pt[this.gaugeConfig.type](this,r)}addEvents(t){const e=this.events;return t.call(e.addHoverEvent()).call(e.addMouseoutEvent()).call(e.addClickEvent())}calcGaugeDim(t,e,n){const r=e.clientWidth,i=e.clientHeight,a=Math.ceil(25/n),o=r-25,s=i-25,u=Math.floor(o/n),l=Math.floor(s/n)-a;switch(t){case"vertical":return{width:r,height:l,alignment:t};case"horizontal":return{width:u,height:s,alignment:t};default:return{width:o<s?r:u,height:o<s?l:s,alignment:o<s?"vertical":"horizontal"}}}draw(){const t=this,{gaugeConfig:e}=this;return function(n){n.each((function(n){const r=o.a.select(this),{width:i,height:a}=t.calcGaugeDim(e.alignment,this,n.series.length);if(!(a<0||i<0))return r.style("text-align","center").style("overflow-y","auto"),n.series.forEach((e=>{const n=r.append("svg").style("display","inline-block").style("overflow","hidden").attr("focusable","false").attr("width",i),o=n.append("g"),s=t.gauge.drawGauge(o,e,i,a);n.attr("height",a),t.addEvents(s)})),r.append("div").attr("class","chart-title").style("text-align","center").text(n.label||n.yAxisLabel),t.events.emit("rendered",{chart:n}),r}))}}}const dt={pie:class pie_chart_PieChart extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r);const a=this.handler.data.getVisData();this._validatePieData(a),this._attr=i.a.defaults(t.visConfig.get("chart",{}),lt)}_validatePieData(t){if(t.every((t=>0===t.slices.children.length)))throw new PieContainsAllZeros}addPathEvents(t){const e=this.events;return t.call(e.addHoverEvent()).call(e.addMouseoutEvent()).call(e.addClickEvent())}convertToPercentage(t){!function t(e){if(null!=e.sumOfChildren)return;const n=e,r=n.children,i=n.percentOfParent,a=n.sumOfChildren=Math.abs(r.reduce((function(t,e){return t+Math.abs(e.size)}),0));r.forEach((function(e){e.percentOfGroup=Math.abs(e.size)/a,e.percentOfParent=e.percentOfGroup,null!=i&&(e.percentOfParent*=i),e.children&&t(e)}))}(t)}addPath(t,e,n,r){const i=this,a=i._attr.isDonut,s=Math.min(t,e)/2*.95,u=i.handler.data.getPieColorFunc(),l=i.tooltip,c=i._attr.addTooltip,h=n.append("g").attr("class","arcs"),f=n.append("g").attr("class","labels"),p=i._attr.labels.show,d=i._attr.labels.values,g=i._attr.labels.truncate,v=i._attr.labels.last_level,m=o.a.layout.partition().sort(null).value((function(t){return 100*t.percentOfParent})),y=o.a.scale.linear().range([0,2*Math.PI]),x=o.a.scale.sqrt().range([0,p?.7*s:s]),_=function(t){return Math.max(0,Math.min(2*Math.PI,y(t.x)))},b=function(t){return t.dx<1e-8?y(t.x):Math.max(0,Math.min(2*Math.PI,y(t.x+t.dx)))},w=o.a.svg.arc().startAngle(_).endAngle(b).innerRadius((function(t){return 1!==t.depth||a?Math.max(0,x(t.y)):0})).outerRadius((function(t){return Math.max(0,x(t.y+t.dy))})),k=o.a.svg.arc().startAngle(_).endAngle(b).innerRadius(.8*s).outerRadius(.8*s);let C=0;const A=h.datum(r).selectAll("path").data(m.nodes).enter().append("path").attr("d",w).attr("class",(function(t){if(0!==t.depth)return t.depth>C&&(C=t.depth),"slice"})).attr("data-test-subj",(function(t){if(t.name)return`pieSlice-${t.name.split(" ").join("-")}`})).call(i._addIdentifier,"name").style("fill",(function(t){return 0===t.depth?"none":u(t.name)}));if(p){const t=f.datum(r).selectAll(".label").data(m.nodes),e=n.node().parentNode.parentNode,i={width:e.clientWidth,height:e.clientHeight},a=o.a.geom.quadtree().extent([[-i.width,-i.height],[i.width,i.height]]).x((function(t){return t.position.x})).y((function(t){return t.position.y}))([]);t.enter().append("g").attr("class","label").append("text").text((function(t){if(0!==t.depth){if(d){const e=U()(t.value/100).format("0.[00]%");return`${t.name} (${e})`}return t.name}o.a.select(this.parentNode).remove()})).text((function(){return ut(this,g)})).attr("text-anchor",(function(t){return _(t)+(b(t)-_(t))/2<Math.PI?"start":"end"})).attr("class","label-text").each((function(t){if(0===t.depth)return;const e=this.parentNode;if(v&&C!==t.depth)return void o.a.select(e).remove();const n=this.getBBox(),r=k.centroid(t),i=_(t)+(b(t)-_(t))/2;r[1]+=4,r[0]=(.7+t.depth/10)*s*(i<Math.PI?1:-1),t.position={x:r[0],y:r[1],left:i<Math.PI?r[0]:r[0]-n.width,right:i>Math.PI?r[0]+n.width:r[0],bottom:r[1]+5,top:r[1]-n.height-5};const u=[];a.visit((function(e){if(!e.point)return;if(u.length)return!0;const n=e.point.position,r=t.position;if(n){const t=n.left<0&&r.left<0||n.left>0&&r.left>0,i=n.top>=r.top&&n.top<=r.bottom||n.top<=r.top&&n.bottom>=r.top;return t&&i&&(n.point=e.point,u.push(n)),!0}})),u.length?o.a.select(e).remove():a.add(t)})).attr("x",(function(t){if(0!==t.depth&&t.position)return t.position.x})).attr("y",(function(t){if(0!==t.depth&&t.position)return t.position.y})),t.append("polyline").attr("points",(function(t){if(0===t.depth||!t.position)return;const e=k.centroid(t),n=[t.position.x>0?t.position.x-10:t.position.x+10,t.position.y-4];return e[1]=n[1],[w.centroid(t),e,n]})).attr("class","label-line")}return c&&A.call(l.render()),A}_validateContainerSize(t,e){if(t<=20||e<=20)throw new ContainerTooSmall}draw(){const t=this;return function(e){e.each((function(e){const n=e.slices,r=o.a.select(this),i=A()(this).width(),a=A()(this).height();if(!n.children.length)return;t.convertToPercentage(n),t._validateContainerSize(i,a);const s=r.append("svg").attr("width",i).attr("height",a).attr("focusable","false").append("g").attr("transform","translate("+i/2+","+a/2+")"),u=t.addPath(i,a,s,n);return t.addPathEvents(u),t.events.emit("rendered",{chart:e}),s}))}}},point_series:class point_series_PointSeries extends _chart_Chart{constructor(t,e,n,r){super(t,e,n,r),this.uiSettings=r,this.handler=t,this.chartData=n,this.chartEl=e,this.chartConfig=this.findChartConfig(),this.handler.pointSeries=this}findChartConfig(){return this.handler.visConfig.get("charts")[this.handler.data.chartData().indexOf(this.chartData)]}getSeries(t){return this.series.find((e=>e.chartData.aggId===t))}addBackground(t,e,n){return t.append("rect").attr("x",0).attr("y",0).attr("width",e).attr("height",n).attr("fill","transparent").attr("class","background")}addGrid(t){const{width:e,height:n}=t.node().getBBox();return t.append("g").attr("class","grid").call(this.handler.grid.draw(e,n))}addClipPath(t){const{width:e,height:n}=t.node().getBBox();return this.clipPathId="chart-area"+i.a.uniqueId(),t.append("clipPath").attr("id",this.clipPathId).append("rect").attr("x",0).attr("y",0).attr("width",e).attr("height",n)}addEvents(t){this.events.isBrushable()&&this.events.addBrushEvent(t)}createEndZones(t){const e=this,n=this.handler.categoryAxes[0],r=n.getScale(),a=n.ordered,s=n.axisConfig.isHorizontal();if(!a||i.a.isUndefined(a.min)||i.a.isUndefined(a.max)||!1===a.endzones)return;const{width:u,height:l}=t.node().getBBox(),c=(a.units||i.a.identity)(1),h=s||n.axisConfig.get("scale.inverted",!1),f=s?u:l,p={x:h?0:Math.max(r(a.min),0),w:h?Math.max(r(a.min),0):l-Math.max(r(a.min),0)},d=(n.axisConfig.get("scale.expandLastBucket")?a.max:Math.min(a.max,i.a.last(n.values)))+c,g={x:h?r(d):0,w:h?Math.max(f-r(d),0):r(d)};function v(t){const i=t.target.__data__,a=t.clientX-e.chartEl.getBoundingClientRect().left,o=t.clientY-e.chartEl.getBoundingClientRect().top,u=i&&null!=i.x,l=h?p.w:g.w,c=h?g.x:p.x;let f=s?a:o,d=s?a:o;return u&&(f=r(i.x),d=r(n.addInterval(i.x))),{wholeBucket:u,touchdown:l>f||c<d}}this.endzones=t.selectAll(".layer").data([p,g]).enter().insert("g",".brush").attr("class","endzone").append("rect").attr("class","zone").attr("x",(t=>s?t.x:0)).attr("y",(t=>s?0:t.x)).attr("height",(t=>s?l:t.w)).attr("width",(t=>s?t.w:u));const m=new H("endzones",this.handler.el,(function(){return(({wholeBucket:t})=>Z.a.renderToStaticMarkup(Object(W.jsx)(rt.KibanaThemeProvider,{theme$:Object(_.c)().theme$},Object(W.jsx)("p",{className:"visTooltip__header"},Object(W.jsx)(nt.EuiIcon,{type:"iInCircle",className:"visTooltip__headerIcon"}),Object(W.jsx)("span",{className:"visTooltip__headerText"},t?"Part of this bucket":"This area"," may contain partial data. The selected time range does not fully cover it.")))))(v(o.a.event))}),null);this.tooltips.push(m),m.order=0,m.showCondition=function(){return v(o.a.event).touchdown},m.render()(t)}calculateRadiusLimits(t){this.radii=i()(t.series).map((function(t){return i.a.map(t.values,"z")})).flattenDeep().reduce((function(t,e){return t.min>e&&(t.min=e),t.max<e&&(t.max=e),t}),{min:1/0,max:-1/0})}draw(){const t=this,e=A()(this.chartEl),n=this.chartConfig.width=e.width(),r=this.chartConfig.height=e.height(),a=this.handler.categoryAxes[0].getScale(),s=this.chartConfig.addTimeMarker,u=this.chartConfig.times||[];let l,c;return function(e){e.each((function(e){return l=o.a.select(this),c=l.append("svg").attr("focusable","false").attr("width",n).attr("height",r),t.addBackground(c,n,r),t.addGrid(c),t.addClipPath(c),t.addEvents(c),t.createEndZones(c),t.calculateRadiusLimits(e),t.series=[],i.a.each(t.chartConfig.series,((n,r)=>{if(!n.show)return;const i=new heatmap_chart_HeatmapChart(t.handler,c,e.series[r],n,t.uiSettings);i.events=t.events,c.call(i.draw()),t.series.push(i)})),s&&new Date(a.domain()[1].getTime()+6e4)>new Date&&new time_marker_TimeMarker(u,a,r).render(c),c}))}}},gauge:gauge_chart_GaugeChart,goal:gauge_chart_GaugeChart,metric:gauge_chart_GaugeChart};function gt(t,e){t.each((function(t){const n=o.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":e?"visWrapper__chart--first visWrapper__chart--last visWrapper__chart":this.className+" visWrapper__chart"}));let r,i="";const a=n.selectAll("charts").append("div").data((function(t){return t.rows?(r=t.rows.length,t.rows):t.columns?(r=t.columns.length,t.columns):(i="chart",r=1,[t])})).enter().append("div").attr("class",(function(t,e){let n=i;return"chart"!==n&&(r>1?0===e?n+=" visWrapper__chart--first":e===r-1&&(n+=" visWrapper__chart--last"):n+=" visWrapper__chart--first visWrapper__chart--last"),n}));t.series||a.call(gt)}))}function vt(t){t.each((function(){let t;o.a.select(this).selectAll(".y-axis-div").append("div").data((function(e){return t=e.rows?e.rows.length:1,e.rows?e.rows:[e]})).enter().append("div").attr("class",((e,n)=>{let r="";return 0===n&&(r+=" visWrapper__chart--first"),n===t-1&&(r+=" visWrapper__chart--last"),"y-axis-div axis-div"+r}))}))}function mt(t){t.each((function(){let t;o.a.select(this).selectAll(".x-axis-div").append("div").data((function(e){return t=e.columns?e.columns.length:1,e.columns?e.columns:[e]})).enter().append("div").attr("class",((e,n)=>{let r="";return 0===n&&(r+=" visWrapper__chart--first"),n===t-1&&(r+=" visWrapper__chart--last"),"x-axis-div axis-div"+r}))}))}function yt(t){t.each((function(t){const e=o.a.select(this),n=A()(this).parents(".visWrapper");return t.series?o.a.select(this).remove():(e.selectAll(".chart-title").data((function(t){return t.rows?t.rows:t.columns})).enter().append("div").attr("class","chart-title"),t.rows?n.find(".visAxis__splitTitles--x").remove():n.find(".visAxis__splitTitles--y").remove(),e)}))}function xt(t){t.each((function(t){let e;const n=o.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":"visWrapper__chart"})).selectAll("charts").append("div").data((function(t){return t.rows?(e="chart-row",t.rows):t.columns?(e="chart-column",t.columns):(e="chart",[t])})).enter().append("div").attr("class",(function(){return e}));t.slices||n.call(xt)}))}function _t(t,e){t.each((function(t){const n=o.a.select(this);return t.slices?o.a.select(this).remove():(n.selectAll(".chart-title").append("div").data((function(t){return t.rows?t.rows:t.columns})).enter().append("div").attr("class","chart-title"),t.rows?o.a.select(e).select(".visAxis__splitTitles--x").remove():o.a.select(e).select(".visAxis__splitTitles--y").remove(),n)}))}function bt(t){t.each((function(t){let e;const n=o.a.select(this).attr("class",(function(){return t.rows?"visWrapper__splitCharts--row":t.columns?"visWrapper__splitCharts--column":"visWrapper__chart"})).selectAll("charts").append("div").data((function(t){return t.rows?(e="chart-row",t.rows):t.columns?(e="chart-column",t.columns):(e="chart",[t])})).enter().append("div").attr("class",(function(){return e}));t.series||n.call(bt)}))}function wt(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis__splitTitles--y"},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visWrapper__chart",splits:bt},{type:"div",class:"visAxis__splitTitles--x"}]}]}]}const kt={pie:function(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis__splitTitles--y",splits:_t},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visWrapper__chart",splits:xt},{type:"div",class:"visAxis__splitTitles--x",splits:_t}]}]}]},gauge:wt,goal:wt,metric:wt,point_series:function(t,e){if(!t||!e)throw new Error("Both an el and data need to be specified");return[{parent:t,type:"div",class:"visWrapper",datum:e,children:[{type:"div",class:"visAxis--y",children:[{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-top"},{type:"div",class:"visAxis__column--y visAxis__column--left",children:[{type:"div",class:"visAxis__splitTitles--y",splits:yt},{type:"div",class:"visAxis__splitAxes--y",splits:vt}]},{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-bottom"}]},{type:"div",class:"visWrapper__column",children:[{type:"div",class:"visAxis--x visAxis__column--top",children:[{type:"div",class:"visAxis__splitAxes--x",splits:mt}]},{type:"div",class:"visWrapper__chart",splits:gt},{type:"div",class:"visAxis--x visAxis__column--bottom",children:[{type:"div",class:"visAxis__splitAxes--x",splits:mt},{type:"div",class:"visAxis__splitTitles--x",splits:yt}]}]},{type:"div",class:"visAxis--y",children:[{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-top"},{type:"div",class:"visAxis__column--y visAxis__column--right",children:[{type:"div",class:"visAxis__splitAxes--y",splits:vt}]},{type:"div",class:"visAxis__spacer--y visAxis__spacer--y-bottom"}]}]}]}};class _error_handler_ErrorHandler{constructor(){}validateWidthandHeight(t,e){const n=i.a.isNaN(t)||t<=0,r=i.a.isNaN(e)||e<=0;if(n||r)throw new ContainerTooSmall}}class axis_title_AxisTitle{constructor(t){this.axisConfig=t,this.elSelector=this.axisConfig.get("title.elSelector").replace("{pos}",this.axisConfig.get("position"))}render(){o.a.select(this.axisConfig.get("rootEl")).selectAll(this.elSelector).call(this.draw())}destroy(){A()(this.axisConfig.get("rootEl")).find(this.elSelector).find("svg").remove()}draw(){const t=this.axisConfig;return function(e){e.each((function(){if(!t.get("show")&&!t.get("title.show",!1))return;const e=this,n=o.a.select(e),r=A()(e).width(),i=A()(e).height(),a=t.isHorizontal()?"x":"y",s=n.append("svg").attr("focusable","false").attr("width",r).attr("height",i).attr("class",`axis-title ${a}-axis-title`),u=s.append("text").attr("transform",(function(){return t.isHorizontal()?`translate(${r/2},0)`:`translate(0,${i/2}) rotate(270)`})).attr("text-anchor","middle").attr("dominant-baseline","hanging").text(t.get("title.text")).node().getBBox();t.isHorizontal()?s.attr("height",Math.ceil(u.height)):s.attr("width",Math.ceil(u.height))}))}}}class axis_labels_AxisLabels{constructor(t,e){this.axisConfig=t,this.axisScale=e}render(t){t.call(this.draw())}rotateAxisLabels(){const t=this.axisConfig;return function(e){const n=e.selectAll(".tick text");t.get("labels.rotate")&&n.style("text-anchor",(function(){const e=A()(this).css("text-anchor"),n=t.get("labels.rotate");if(!n)return e;switch(t.get("position")){case"top":case"bottom":return"end";default:return 90===n||-90===n?"middle":e}})).attr("dy",(function(){return t.isHorizontal()?"0.3em":"0"})).attr("transform",(function(e,r){const i="top"===t.get("position")?t.get("labels.rotate"):-t.get("labels.rotate");if("middle"===A()(this).css("text-anchor")){const t=n[0][r].getBBox();return`rotate(${i}, ${t.x+t.width/2}, ${t.y+t.height/2})`}return`rotate(${i}, ${this.attributes.x.nodeValue}, ${this.attributes.y.nodeValue})`}))}}truncateLabels(){const t=this.axisConfig;return function(e){t.get("labels.truncate")&&e.selectAll(".tick text").text((function(){return ut(this,t.get("labels.truncate"))}))}}filterAxisLabels(){const t=this,e=this.axisConfig;let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return function(i){if(!e.get("labels.filter"))return;const a=A()(e.get("rootEl")).find(e.get("elSelector")),s=e.isHorizontal()?a.width():a.height(),u=t.axisScale.scale.range(),l=Math.abs(u[u.length-1]-u[0]),c=.5*(s-l);i.selectAll(".tick text").text((function(i){const a=o.a.select(this.parentNode).node(),u=e.isHorizontal()?c+t.axisScale.scale(i):s-c-t.axisScale.scale(i),l=1.1*(e.isHorizontal()?a.getBBox().width:a.getBBox().height)/2,h=u-l,f=u+l;if(!(f>s||h<0||f>=n&&h<=r))return n=u-l,r=u+l,this.textContent;o.a.select(this.parentNode).remove()}))}}draw(){const t=this,e=this.axisConfig;return function(n){n.each((function(){n.selectAll("text").attr("style",(function(){return`${o.a.select(this).attr("style")} font-size: ${e.get("labels.fontSize")};`})),e.get("labels.show")||n.selectAll("text").attr("style","display: none;"),n.call(t.truncateLabels()),n.call(t.rotateAxisLabels()),n.call(t.filterAxisLabels())}))}}}class axis_scale_AxisScale{constructor(t,e){this.axisConfig=t,this.visConfig=e,"category"===this.axisConfig.get("type")&&(this.values=this.axisConfig.values,this.ordered=this.axisConfig.ordered)}getScaleType(){return this.axisConfig.getScaleType()}validateUserExtents(t){const e=this.axisConfig;return t.map((t=>{if(t=parseFloat(t),isNaN(t))throw new Error(t+" is not a valid number");return e.isPercentage()&&e.isUserDefined()?t/100:t}))}getTimeDomain(t){return[this.minExtent(t),this.maxExtent(t)]}minExtent(t){return this.calculateExtent(t||this.values,"min")}maxExtent(t){return this.calculateExtent(t||this.values,"max")}calculateExtent(t,e){const n=[this.ordered[e]];let i=o.a[e](t);return this.axisConfig.get("scale.expandLastBucket")&&"max"===e&&(i=this.addInterval(i)),n.push(i),o.a[e](n.reduce((function(t,e){return Object(r.isNumber)(e)||(e=+e),isNaN(e)||t.push(e),t}),[]))}addInterval(t){return this.modByInterval(t,1)}subtractInterval(t){return this.modByInterval(t,-1)}modByInterval(t,e){const n=this.ordered;if(!n)return t;const i=n.interval;if(!i)return t;if(!n.date)return t+n.interval*e;const a=v()(t),o=e>0?"add":"subtract";return Object(r.times)(Math.abs(e),(function(){a[o](i)})),a.valueOf()}getAllPoints(){const t=this.axisConfig,e=this.visConfig.data.chartData();return Object(r.reduce)(e,((e,n,r)=>{const i=n.series.reduce(((e,n,i)=>{const a=this.visConfig.get(`charts[${r}].series[${i}]`),o=!!a.valueAxis&&a.valueAxis===t.get("id"),s=t.get("id")===this.visConfig.get("valueAxes[0].id");if(o||!a.valueAxis&&s){const t=n.values.map((t=>t.y0?t.y0+t.y:t.y));return e.concat(t)}return e}),[]);return e.concat(i)}),[])}getYMin(){return o.a.min(this.getAllPoints())}getYMax(){return o.a.max(this.getAllPoints())}getExtents(){if("category"===this.axisConfig.get("type")){if(this.axisConfig.isTimeDomain())return this.getTimeDomain(this.values);if(this.axisConfig.isOrdinal())return this.values}const t=this.axisConfig.get("scale.min",this.getYMin()),e=this.axisConfig.get("scale.max",this.getYMax()),n=[t,e];if(this.axisConfig.isUserDefined())return this.validateUserExtents(n);if(this.axisConfig.isLogScale())return this.logDomain(t,e);if(this.axisConfig.isYExtents()){const r=this.axisConfig.get("scale.boundsMargin");return 0===r||(e<0&&(n[1]=n[1]+r),t>0&&(n[0]=n[0]-r)),n}return[Math.min(0,t),Math.max(0,e)]}getDomain(t){const e=this.getExtents(),n=this.axisConfig.get("padForLabels");if(n>0&&this.canApplyNice()){const r=(e[1]-e[0])/t*n;e[0]<0&&(e[0]-=r),e[1]+=r}return e}getRange(t){return this.axisConfig.isHorizontal()?this.axisConfig.get("scale.inverted")?[t,0]:[0,t]:this.axisConfig.get("scale.inverted")?[0,t]:[t,0]}throwCustomError(t){throw new Error(t)}throwLogScaleValuesError(){throw new InvalidLogScaleValues}logDomain(t,e){return t<0||e<0?this.throwLogScaleValuesError():[1,e]}getD3Scale(t){let e=t||"linear";return"square root"===e&&(e="sqrt"),this.axisConfig.isTimeDomain()?o.a.time.scale.utc():this.axisConfig.isOrdinal()?o.a.scale.ordinal():"function"!=typeof o.a.scale[e]?this.throwCustomError(`Axis.getScaleType: ${e} is not a function`):o.a.scale[e]()}canApplyNice(){const t=this.axisConfig;return!(t.isUserDefined()||t.isYExtents()||t.isOrdinal()||t.isTimeDomain())}getScale(t){const e=this.axisConfig,n=this.getD3Scale(e.getScaleType()),r=this.getDomain(t),i=this.getRange(t),a=e.get("style.rangePadding"),o=e.get("style.rangeOuterPadding");return this.scale=n.domain(r),e.isOrdinal()?this.scale.rangeBands(i,a,o):this.scale.range(i),this.canApplyNice()&&this.scale.nice(),this.scale.clamp&&this.scale.clamp(!0),this.validateScale(this.scale),this.axisConfig.isTimeDomain()&&(this.scale.timezoneCorrectedTicks=(t=>{const e=t.domain(),n=v()(e[0]).utcOffset(),r=e.map((t=>v()(t).add(n,"minute"))),i=t.copy().domain(r);return t=>{const r=i.ticks(t),a=(e[1]-e[0])/r.length<432e5;return r.map((t=>{const e=v()(t).utcOffset();return v()(t).subtract(a?n:e,"minute").valueOf()}))}})(n)),this.scale}validateScale(t){if(!t||Number.isNaN(t))throw new Error("scale is "+t)}}const Ct="normal",At="percentage",Mt={show:!0,type:"value",elSelector:".visAxis__column--{pos} .axis-div",position:"left",scale:{type:"linear",expandLastBucket:!0,inverted:!1,defaultYExtents:null,boundsMargin:0,setYExtents:null,min:null,max:null,mode:Ct},style:{color:"#ddd",lineWidth:"1px",opacity:1,tickColor:"#ddd",tickWidth:"1px",tickLength:"6px",rangePadding:.1,rangeOuterPadding:0},labels:{axisFormatter:null,show:!0,rotate:0,rotateAnchor:"center",filter:!1,color:"#ddd",font:'"Open Sans", "Lato", "Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"8pt",truncate:100},title:{text:"",elSelector:".visAxis__column--{pos} .axis-div"},padForLabels:0},Et={type:"category",position:"bottom"},St={labels:{axisFormatter:o.a.format("n")}},Dt={labels:{rotate:0,rotateAnchor:"end",filter:!0,truncate:0}},Lt={labels:{rotateAnchor:"middle"}};class axis_config_AxisConfig{constructor(t,e){const n="category"===e.type?i.a.cloneDeep(Et):i.a.cloneDeep(St),r=i.a.cloneDeep(e),a="category"===r.type,o=r.position&&["top","bottom"].includes(r.position);if(i.a.merge(n,o||a?Dt:Lt),this._values=i.a.defaultsDeep({},r,n,Mt),this._values.elSelector=this._values.elSelector.replace("{pos}",this._values.position),this._values.rootEl=t.get("el"),this.data=t.data,a&&(this._values.values?this.values=this._values.values:(this.values=this.data.xValues(t.get("orderBucketsBySum",!1)),this.ordered=this.data.get("ordered")),this._values.labels.axisFormatter||(this._values.labels.axisFormatter=this.data.data.xAxisFormatter||this.data.get("xAxisFormatter"))),"value"===this.get("type")&&(("wiggle"===this.get("scale.mode")||"silhouette"===this.get("scale.mode"))&&(this._values.scale.defaultYExtents=!1,e.show||(this._values.show=!1,this._values.title.show=!0)),this.isLogScale()&&(this._values.labels.filter=!0)),null==e.title||null==e.title.text){const t=a?"xAxisLabel":"yAxisLabel";this.set("title.text",this.data.get(t))}let s;this.isHorizontal()&&this.isOrdinal()&&(this._values.labels.filter=i.a.get(e,"labels.filter",!1),this._values.labels.rotate=i.a.get(e,"labels.rotate",90),this._values.labels.truncate=i.a.get(e,"labels.truncate",100)),"category"!==this.get("type")||this.isHorizontal()||(this._values.scale.inverted=i.a.get(e,"scale.inverted",!0)),t.get("labels.show",!1)&&!a&&(this._values.padForLabels=o?40:15);let u=!0;switch(this.get("scale.mode")){case Ct:s="zero",u=!1;break;case"grouped":s="group",u=!1;break;case At:s=function(t){const e=t.length,n=t[0].length,r=[];for(let r=0;r<n;++r){let n=0;for(let i=0;i<e;i++)n+=t[i][r][1];if(n)for(let i=0;i<e;i++)t[i][r][1]/=n}for(let t=0;t<n;++t)r[t]=0;return r};break;default:s=this.get("scale.mode")}this.set("scale.offset",i.a.get(e,"scale.offset",s)),this.set("scale.stacked",u)}get(t,e){if(void 0===e&&!i.a.has(this._values,t))throw new Error(`Accessing invalid config property: ${t}`);const n=i.a.get(this._values,t,e);return null==n&&null!=e?e:n}set(t,e){return Object(c.set)(this._values,t,e)}isHorizontal(){return"top"===this._values.position||"bottom"===this._values.position}isOrdinal(){return!!this.values&&!this.isTimeDomain()}isTimeDomain(){return this.ordered&&this.ordered.date}isPercentage(){return this._values.scale.mode===At}isUserDefined(){return this._values.scale.setYExtents}isYExtents(){return this._values.scale.defaultYExtents}isLogScale(){return"log"===this.getScaleType()}getScaleType(){return this._values.scale.type}}class axis_Axis extends _error_handler_ErrorHandler{constructor(t,e){super(),this.visConfig=t,this.axisConfig=new axis_config_AxisConfig(this.visConfig,e),"category"===this.axisConfig.get("type")&&(this.values=this.axisConfig.values,this.ordered=this.axisConfig.ordered),this.axisScale=new axis_scale_AxisScale(this.axisConfig,t),this.axisTitle=new axis_title_AxisTitle(this.axisConfig),this.axisLabels=new axis_labels_AxisLabels(this.axisConfig,this.axisScale),this.stack=o.a.layout.stack().x((t=>t.x)).y((t=>"function"==typeof this.axisConfig.get("scale.offset")&&"expand"===this.axisConfig.get("scale.offset").name?Math.abs(t.y):t.y)).offset(this.axisConfig.get("scale.offset","zero")),["normal","grouped"].includes(this.axisConfig.get("scale.mode"))&&(this.stack=this._stackNegAndPosVals)}_stackNegAndPosVals(t){const e={};return t.forEach((t=>{t.forEach((t=>{e[t.x]||(e[t.x]=[0,0]),t.y0=e[t.x][t.y<0?0:1],e[t.x][t.y<0?0:1]+=t.y}))})),t}render(){const t=this.axisConfig.get("elSelector"),e=this.axisConfig.get("rootEl");o.a.select(e).selectAll(t).call(this.draw())}destroy(){const t=this.axisConfig.get("elSelector"),e=this.axisConfig.get("rootEl");A()(e).find(t).find("svg").remove(),this.axisTitle.destroy()}getAxis(t){const e=this.axisScale.getScale(t),n=this.axisConfig.get("position"),r=this.axisConfig.get("labels.axisFormatter"),i=o.a.svg.axis().scale(e).tickFormat(r).orient(n);return this.axisConfig.isTimeDomain()?i.tickValues(e.timezoneCorrectedTicks(this.tickScale(t))):i.ticks(this.tickScale(t)),i}getScale(){return this.axisScale.scale}addInterval(t){return this.axisScale.addInterval(t)}substractInterval(t){return this.axisScale.substractInterval(t)}tickScale(t){const e=o.a.scale.linear().clamp(!0).domain([20,40,1e3]).range([0,3,11]);return Math.ceil(e(t))}getLength(t){return this.axisConfig.isHorizontal()?A()(t).width():A()(t).height()}adjustSize(){const t=this.axisConfig,e=t.get("style"),n=this.visConfig.get("el"),r=t.get("position");return function(a){const s=a.selectAll(".tick text"),u=[];s.each((function(){u.push((()=>t.isHorizontal()?o.a.select(this.parentNode).node().getBBox().height:o.a.select(this.parentNode).node().getBBox().width)())}));let l=u.length>0?i.a.max(u):0;if(l+=5,t.isHorizontal()){if(a.attr("height",Math.ceil(l)),"top"===r&&(a.select("g").attr("transform",`translate(0, ${l-parseInt(e.lineWidth)})`),a.select("path").attr("transform","translate(1,0)")),"value"===t.get("type")){const t=A()(n).find(`.visAxis__spacer--y-${r}`),e=A()(n).find(`.visAxis__column--${r}`).height();t.height(e)}}else{const t=Math.ceil(l);a.attr("width",t),"left"===r&&a.select("g").attr("transform",`translate(${t},0)`)}}}validate(){if(this.axisConfig.isLogScale()&&this.axisConfig.isPercentage())throw new errors_VislibError("Can't mix percentage mode with log scale.")}draw(){const t=[],e=this,n=this.axisConfig,r=n.get("style");return function(i){const a=i[0].length;n.get("show")&&e.axisTitle&&["left","top"].includes(n.get("position"))&&e.axisTitle.render(i),i.each((function(){const i=this,s=o.a.select(i),u=A()(i).width(),l=A()(i).height(),c=e.getLength(i,a);e.validate();const h=e.getAxis(c);if(n.get("show")){const i=s.append("svg").attr("focusable","false").attr("width",u).attr("height",l);t.push(i);const a=e.axisConfig.isHorizontal()?"x":"y";i.append("g").attr("class",`${a} axis ${n.get("id")}`).call(h),i.select("g.axis").node()&&(i.select("path").style("stroke",r.color).style("stroke-width",r.lineWidth).style("stroke-opacity",r.opacity),i.selectAll("line").style("stroke",r.tickColor).style("stroke-width",r.tickWidth).style("stroke-opacity",r.opacity)),e.axisLabels&&e.axisLabels.render(i)}})),e.axisTitle&&["right","bottom"].includes(n.get("position"))&&e.axisTitle.render(i),t.forEach((t=>t.call(e.adjustSize())))}}}class chart_title_ChartTitle extends _error_handler_ErrorHandler{constructor(t){super(),this.el=t.get("el"),this.tooltip=new H("chart-title",this.el,(function(t){return"<p>"+i.a.escape(t.label)+"</p>"}))}render(){const t=o.a.select(this.el).select(".chart-title").node(),e=t?t.clientWidth:0,n=t?t.clientHeight:0;return o.a.select(this.el).selectAll(".chart-title").call(this.draw(e,n))}truncate(t){const e=this;return function(n){n.each((function(){const n=o.a.select(this),r=n[0].length,i=t/r*.9,a=this.getComputedTextLength();let s,u,l;return a>i?(s=n.text(),u=a/s.length,l=Math.floor(i/u)-5,s=s.substr(0,l)+"...",e.addMouseEvents(n),n.text(s)):n.text()}))}}addMouseEvents(t){if(this.tooltip)return t.call(this.tooltip.render())}draw(t,e){const n=this;return function(r){r.each((function(){const r=o.a.select(this),i=this.parentNode.__data__.rows?"rows":"columns",a="rows"===i?e:t;n.validateWidthandHeight(t,e),r.append("svg").attr("focusable","false").attr("width",t).attr("height",e).append("text").attr("transform",(function(){return"rows"===i?"translate(11,"+e/2+")rotate(270)":"translate("+t/2+",11)"})).attr("text-anchor","middle").text((function(t){return t.label})),r.selectAll("text").call(n.truncate(a))}))}}}class layout_Layout{constructor(t){this.el=t.get("el"),this.data=t.data.data,this.opts=t,this.layoutType=kt[t.get("type")](this.el,this.data)}render(){this.removeAll(this.el),this.createLayout(this.layoutType),"point_series"===this.opts.get("type")&&this.updateCategoryAxisSize()}createLayout(t){return i.a.each(t,(t=>{this.layout(t)}))}updateCategoryAxisSize(){const t=this.opts,e=t.get("categoryAxes[0]"),n=new axis_Axis(t,e),r=n.axisConfig.get("position"),i=new chart_title_ChartTitle(t),a=A()(this.el).find(`.visAxis__column--${r}`);a.css("visibility","hidden"),n.render(),i.render();const o=a.width(),s=a.height();n.destroy(),A()(this.el).find(".chart-title svg").remove(),a.css("visibility",""),n.axisConfig.isHorizontal()?A()(this.el).find(`.visAxis__spacer--y-${r}`).height(`${s}px`):a.find(".visAxis__splitAxes--y").width(`${o}px`)}layout(t){if(!t.parent)throw new Error("No parent element provided");if(!t.type)throw new Error("No element type provided");if("string"!=typeof t.type)throw new Error(t.type+" must be a string");"string"==typeof t.parent&&"."!==t.parent.charAt(0)&&(t.parent="."+t.parent);const e=this.appendElem(t.parent,t.type,t.class);if(t.datum&&e.datum(t.datum),t.splits&&e.call(t.splits,t.parent,this.opts),t.children){const n=e[0][0];i.a.forEach(t.children,(function(t){t.parent||(t.parent=n)})),this.createLayout(t.children)}return e}appendElem(t,e,n){if(!t||!e||!n)throw new Error("Function requires that an el, type, and class be provided");return"string"==typeof t&&(t=o.a.select(this.el).select(t)[0][0]),o.a.select(t).append(e).attr("class",n)}removeAll(t){return o.a.select(t).selectAll("*").remove()}}const Tt={style:{color:"rgba(105,112,125,0.2)"},categoryLines:!1,valueAxis:void 0};class chart_grid_ChartGrid{constructor(t,e){e&&(this._handler=t,this._values=i.a.defaultsDeep({},e,Tt))}drawLine(t,e,n,r,i){const a=n.axisConfig.isHorizontal(),s=n.getScale();t.append("path").attr("d",(()=>{const t=a?e:0,n=a?e:r,u=a?0:e,l=a?i:e;return o.a.svg.line().x((t=>a?s(t[0]):t[0])).y((t=>a?t[1]:s(t[1])))([[t,u],[n,l]])})).attr("fill","none").attr("stroke",this.get("style.color")).attr("stroke-width",1)}drawCategoryLines(t,e,n){const r=this._handler.categoryAxes[0];if(!r)return;const i=r.getScale().ticks;i&&i().forEach((i=>{this.drawLine(t,i,r,e,n)}))}drawValueLines(t,e,n){const r=this._handler.valueAxes.find((t=>t.axisConfig.get("id")===this.get("valueAxis")));if(!r)return;const i=r.getScale().ticks;i&&i().forEach((i=>{this.drawLine(t,i,r,e,n)}))}draw(t,e){const n=this;return function(r){n._values&&r.each((function(){n.get("categoryLines")&&n.drawCategoryLines(o.a.select(this),t,e),n.get("valueAxis",!1)&&n.drawValueLines(o.a.select(this),t,e)}))}}get(t,e){if(i.a.has(this._values,t)||void 0!==e)return i.a.get(this._values,t,e);throw new Error(`Accessing invalid config property: ${t}`)}set(t,e){return Object(c.set)(this._values,t,e)}}const zt=new k.a({html:!1,linkify:!0}),qt=t=>parseInt(v()(t).format("x"));class handler_Handler{constructor(t,e,n){this.el=e.get("el"),this.ChartClass=dt[e.get("type")],this.uiSettings=n,this.charts=[],this.vis=t,this.visConfig=e,this.data=e.data,this.categoryAxes=e.get("categoryAxes").map((t=>new axis_Axis(e,t))),this.valueAxes=e.get("valueAxes").map((t=>new axis_Axis(e,t))),this.chartTitle=new chart_title_ChartTitle(e),this.grid=new chart_grid_ChartGrid(this,e.get("grid")),"point_series"===e.get("type")&&this.data.stackData(this),e.get("resize",!1)&&(this.resize=e.get("resize")),this.layout=new layout_Layout(e),this.binder=new binder_Binder,this.renderArray=i.a.filter([this.layout,this.chartTitle],Boolean),this.renderArray=this.renderArray.concat(this.valueAxes).concat(this.categoryAxes.slice().reverse()),this.getProxyHandler=i.a.memoize((function(t){const e=this;return function(n){var r;switch(t){case"brush":const{xRaw:i}=null===(r=n.data.series[0])||void 0===r?void 0:r.values.find((({xRaw:t})=>Boolean(t)));if(!i)return;const[a,o]=n.range,s=[qt(a),qt(o)];return e.vis.emit(t,{name:"brush",data:{table:i.table,range:s,column:i.column}});case"click":return e.vis.emit(t,{name:"filter",data:n})}}})),this.enable=this.chartEventProxyToggle("on"),this.disable=this.chartEventProxyToggle("off")}_validateData(){if(!this.data.type)throw new errors_NoResults}render(){if(this.visConfig.get("error",null))return this.error(this.visConfig.get("error"));const t=this,{binder:e,charts:n=[]}=this,r=o.a.select(this.el);r.selectAll("*").remove(),this._validateData(),this.renderArray.forEach((function(t){"function"==typeof t.render&&t.render()}));let i=0;const a=r.selectAll(".chart");a.each((function(r){const o=new t.ChartClass(t,this,r,t.uiSettings);t.vis.eventNames().forEach((function(e){t.enable(e,o)})),e.on(o.events,"rendered",(()=>{i++,i===a.length&&t.vis.emit("renderComplete")})),n.push(o),o.render()}))}chartEventProxyToggle(t){return function(e,n){const r=this.getProxyHandler(e);i.a.each(n?[n]:this.charts,(function(n){n.events[t](e,r)}))}}removeAll(t){return o.a.select(t).selectAll("*").remove()}error(t){this.removeAll(this.el);const e=o.a.select(this.el).append("div").attr("class","visError chart error").attr("data-test-subj","vislibVisualizeError");return e.append("h4").text(zt.renderInline(t)),Object(l.dispatchRenderComplete)(this.el),e}destroy(){this.binder.destroy(),this.renderArray.forEach((function(t){i.a.isFunction(t.destroy)&&t.destroy()})),this.charts.splice(0).forEach((function(t){i.a.isFunction(t.destroy)&&t.destroy()}))}}class vis_Vis extends s.EventEmitter{constructor(t,e,n,r){super(),this.element=t.get?t.get(0):t,this.visConfigArgs=i.a.cloneDeep(e),this.visConfigArgs.heatmapMaxBuckets=n.uiSettings.get("visualization:heatmap:maxBuckets"),this.charts=r,this.uiSettings=n.uiSettings}hasLegend(){return this.visConfigArgs.addLegend}initVisConfig(t,e){this.data=t,this.uiState=e,this.visConfig=new vis_config_VisConfig(this.visConfigArgs,this.data,this.uiState,this.element,this.charts.legacyColors.createColorLookupFunction.bind(this.charts.legacyColors))}render(t,e){if(!t)throw new Error("No valid data!");this.handler&&(this.data=null,this._runOnHandler("destroy")),this.initVisConfig(t,e),this.handler=new handler_Handler(this,this.visConfig,this.uiSettings),this._runOnHandler("render")}getLegendLabels(){return this.visConfig?this.visConfig.get("legend.labels",null):null}getLegendColors(){return this.visConfig?this.visConfig.get("legend.colors",null):null}_runOnHandler(t){try{this.handler[t]()}catch(t){if(!(t instanceof errors_VislibError))throw t;t.displayToScreen(this.handler)}}destroy(){const t=o.a.select(this.element).select(".visWrapper");this.handler&&this._runOnHandler("destroy"),t.remove()}set(t,e){this.visConfigArgs[t]=e,this.render(this.data,this.uiState)}get(t){return this.visConfig.get(t)}on(t,e){const n=0===this.listenerCount(t),r=s.EventEmitter.prototype.on.call(this,t,e),i=this.listenerCount(t)>0;return n&&i&&this.handler&&this.handler.enable(t),r}off(t,e){const n=1===this.listenerCount(t),r=s.EventEmitter.prototype.off.call(this,t,e),i=0===this.listenerCount(t);return n&&i&&this.handler&&this.handler.disable(t),r}removeAllListeners(t){const e=s.EventEmitter.prototype.removeAllListeners.call(this,t);return this.handler.disable(t),e}}}])]);