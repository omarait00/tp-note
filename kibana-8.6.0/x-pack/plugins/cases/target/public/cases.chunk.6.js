/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[6],{105:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(3),s=a(5),r=a(106);const c=(e=r.a)=>{const{capabilities:t}=Object(s.f)().services.application;return Object.entries(t).reduce(((t,[a,n])=>{if(!a.endsWith("Cases"))return t;for(const a of e)if(!n[`${a}_cases`])return t;return t.push(i(a)),t}),[])},i=e=>e===n.I?n.c:e.replace("Cases","")},106:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));const n=e=>!e.all&&!e.create&&!e.update&&!e.delete&&!e.push&&e.read,s=["create","read","update","delete","push"],r=e=>s.filter((t=>t!==e))},111:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return c}));var n=a(3);const s=async({http:e,name:t,size:a=n.G,owners:s,signal:r})=>await e.post(n.L,{body:JSON.stringify({name:t,size:a,owners:s}),signal:r}),r=async({security:e,uids:t})=>0===t.length?[]:e.userProfiles.bulkGet({uids:new Set(t),dataPath:"avatar"}),c=async({security:e})=>e.userProfiles.getCurrent({dataPath:"avatar"})},112:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return m}));var n=a(75),s=a(92),r=a(119),c=a(5),i=a(24),l=a(41);const o={search:"",searchFields:["title","description"],severity:r.a,assignees:[],reporters:[],status:r.c,tags:[],owner:[]},u={page:s.a,perPage:s.b,sortField:r.b.createdAt,sortOrder:"desc"},d={cases:[],countClosedCases:0,countInProgressCases:0,countOpenCases:0,page:0,perPage:0,total:0},m=(e={})=>{const t=Object(c.i)();return Object(n.useQuery)(s.d.cases(e),(()=>{var t,a;const n=new AbortController;return Object(l.f)({filterOptions:{...o,...null!==(t=e.filterOptions)&&void 0!==t?t:{}},queryParams:{...u,...null!==(a=e.queryParams)&&void 0!==a?a:{}},signal:n.signal})}),{keepPreviousData:!0,onError:e=>{"AbortError"!==e.name&&t.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:i.b})}})}},113:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(75),s=a(24),r=a(5),c=a(92),i=a(111);const l=()=>{const{security:e}=Object(r.f)().services,t=Object(r.i)();return Object(n.useQuery)(c.d.currentUser(),(()=>Object(i.b)({security:e})),{retry:!1,onError:e=>{var a;"AbortError"!==e.name&&404!==(null===(a=e.body)||void 0===a?void 0:a.statusCode)&&t.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:s.b})}})}},114:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=new(a(75).QueryClient)},119:function(e,t,a){"use strict";a.d(t,"c",(function(){return n.c})),a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b}));var n=a(21)},123:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),s=a.n(n),r=a(37);const c=a.n(r).a.span.withConfig({displayName:"Text",componentId:"sc-x34vmt-0"})(["text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:",";-webkit-box-orient:vertical;overflow:hidden;word-break:break-word;"],3),i=({text:e})=>s.a.createElement(c,{title:e},e);i.displayName="TruncatedText";const l=s.a.memo(i)},137:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(38),s=a(1),r=n.__importDefault(a(138));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=r.default(e,t),c=n[0],i=n[1],l=n[2];return s.useEffect(l,a),[c,i]}},138:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),s=n.useRef(),r=n.useRef(e),c=n.useCallback((function(){return a.current}),[]),i=n.useCallback((function(){a.current=!1,s.current&&clearTimeout(s.current),s.current=setTimeout((function(){a.current=!0,r.current()}),t)}),[t]),l=n.useCallback((function(){a.current=null,s.current&&clearTimeout(s.current)}),[]);return n.useEffect((function(){r.current=e}),[e]),n.useEffect((function(){return i(),l}),[t]),[c,l,i]}},256:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return G}));var n=a(13),s=a(1),r=a.n(s),c=a(75),i=a(2);const l=i.i18n.translate("xpack.cases.recentCases.commentsTooltip",{defaultMessage:"Comments"}),o=i.i18n.translate("xpack.cases.recentCases.myRecentlyReportedCasesButtonLabel",{defaultMessage:"My recently reported cases"}),u=i.i18n.translate("xpack.cases.recentCases.noCasesMessage",{defaultMessage:"No cases have been created yet. Put your detective hat on and"}),d=i.i18n.translate("xpack.cases.recentCases.noCasesMessageReadOnly",{defaultMessage:"No cases have been created yet."}),m=i.i18n.translate("xpack.cases.recentCases.recentCasesSidebarTitle",{defaultMessage:"Recent cases"}),f=i.i18n.translate("xpack.cases.recentCases.recentlyCreatedCasesButtonLabel",{defaultMessage:"Recently created cases"}),p=i.i18n.translate("xpack.cases.recentCases.startNewCaseLink",{defaultMessage:"start a new case"}),b=i.i18n.translate("xpack.cases.recentCases.viewAllCasesLink",{defaultMessage:"View all cases"}),g=i.i18n.translate("xpack.cases.recentCases.controlLegend",{defaultMessage:"Cases filter"});var C=a(98);const E="myRecentlyReported",y=[{id:"recentlyCreated",label:f,iconType:"folderExclamation"},{id:E,label:o,iconType:"reporter"}],v=r.a.memo((({filterBy:e,setFilterBy:t,showMyRecentlyReported:a})=>{const c=Object(s.useMemo)((()=>a?y:y.filter((e=>e.id!==E))),[a]),i=Object(s.useCallback)((e=>{t(e)}),[t]);return r.a.createElement(n.EuiButtonGroup,{options:c,idSelected:e,onChange:i,isIconOnly:!0,legend:g})}));v.displayName="RecentCasesFilters";var h=a(37),w=a.n(h);const x=w()(n.EuiIcon).withConfig({displayName:"Icon",componentId:"sc-1ql3gmh-0"})(["margin-right:8px;"]),k=w()(n.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-1ql3gmh-1"})(["margin-right:16px;"]),j=w.a.span.withConfig({displayName:"OuterContainer",componentId:"sc-1ql3gmh-2"})(["width:fit-content;"]),O=r.a.memo((({count:e,icon:t,tooltip:a})=>r.a.createElement(j,null,r.a.createElement(n.EuiToolTip,{content:a},r.a.createElement(k,{alignItems:"center",gutterSize:"none"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(x,{color:"subdued",size:"s",type:t})),r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiText,{color:"subdued",size:"xs"},e)))))));O.displayName="IconWithCount";const T=({lines:e,placeholders:t})=>r.a.createElement(r.a.Fragment,null,[...Array(t).keys()].map(((a,s)=>r.a.createElement(r.a.Fragment,{key:s},r.a.createElement(n.EuiLoadingContent,{lines:e,"data-test-subj":"loadingPlaceholders"}),s!==t-1&&r.a.createElement(n.EuiSpacer,{size:"l"})))));T.displayName="LoadingPlaceholdersComponent";const N=r.a.memo(T);var P=a(20),M=a(17);const F=()=>{const{permissions:e}=Object(P.a)(),{getCreateCaseUrl:t,navigateToCreateCase:a}=Object(M.m)(),n=Object(s.useCallback)((e=>{e.preventDefault(),a()}),[a]);return e.create?r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,u),r.a.createElement(C.c,{"data-test-subj":"no-cases-create-case",onClick:n,href:t()},` ${p}`),"!"):r.a.createElement("span",{"data-test-subj":"no-cases-readonly"},d)};F.displayName="NoCasesComponent";const L=r.a.memo(F);var R=a(118),I=a(123),z=a(112),_=a(105);const S=w.a.div.withConfig({displayName:"MarkdownContainer",componentId:"sc-fsk0lx-0"})(["max-height:150px;overflow-y:auto;width:300px;"]),B=({filterOptions:e,maxCasesToShow:t})=>{const{owner:a}=Object(P.a)(),s=Object(_.a)(["read"]),c=!!a.length,{data:i=z.c,isLoading:o}=Object(z.d)({queryParams:{perPage:t},filterOptions:{...e,owner:c?a:s}});return o?r.a.createElement(N,{lines:2,placeholders:3}):o||0!==i.cases.length?r.a.createElement(r.a.Fragment,null,i.cases.map(((e,t)=>r.a.createElement(n.EuiFlexGroup,{key:e.id,gutterSize:"none",justifyContent:"spaceBetween"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiText,{size:"s"},r.a.createElement(C.a,{detailName:e.id,title:e.title},r.a.createElement(I.a,{text:e.title}))),r.a.createElement(O,{count:e.totalComment,icon:"editorComment",tooltip:l}),e.description&&e.description.length&&r.a.createElement(S,null,r.a.createElement(n.EuiText,{color:"subdued",size:"xs"},r.a.createElement(R.b,{disableLinks:!0},e.description))),t!==i.cases.length-1&&r.a.createElement(n.EuiSpacer,{size:"l"})))))):r.a.createElement(L,null)};B.displayName="RecentCasesComp";var U=a(5),A=a(114),D=a(113);const G=r.a.memo((e=>r.a.createElement(c.QueryClientProvider,{client:A.a},r.a.createElement(q,e))));G.displayName="RecentCases";const q=r.a.memo((({maxCasesToShow:e})=>{const t=Object(U.c)(),{data:a,isLoading:c}=Object(D.a)(),{getAllCasesUrl:i,navigateToAllCases:l}=Object(M.i)(),[o,u]=Object(s.useState)("recentlyCreated"),d=Object(s.useCallback)((e=>{e.preventDefault(),l()}),[l]),f=Object(s.useMemo)((()=>V({currentUser:t,isLoadingCurrentUserProfile:c,recentCasesFilterBy:o,currentUserProfile:a})),[t,a,c,o]),p=null!=a||null!=t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(n.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"spaceBetween"},r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(n.EuiTitle,{size:"xs"},r.a.createElement("h2",null,m))),r.a.createElement(n.EuiFlexItem,{grow:!1},r.a.createElement(v,{filterBy:o,setFilterBy:u,showMyRecentlyReported:p}))),r.a.createElement(n.EuiHorizontalRule,{margin:"s"}),r.a.createElement(n.EuiText,{color:"subdued",size:"s"},r.a.createElement(B,{filterOptions:f,maxCasesToShow:e}),r.a.createElement(n.EuiHorizontalRule,{margin:"s"}),r.a.createElement(n.EuiText,{size:"xs"},r.a.createElement(C.c,{onClick:d,href:i()}," ",b))))}));q.displayName="RecentCases";const V=({recentCasesFilterBy:e,currentUserProfile:t,currentUser:a,isLoadingCurrentUserProfile:n})=>{const s={reporters:[]};return"myRecentlyReported"!==e?s:null==t||n?null!=a?{reporters:[{email:a.email,full_name:a.fullName,username:a.username}]}:s:{reporters:[{email:t.user.email,full_name:t.user.full_name,username:t.user.username,profile_uid:t.uid}]}}},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return c}));const n=1,s=10,r={all:["cases"],users:["users"],connectors:["connectors"],connectorsList:()=>[...r.connectors,"list"],casesList:()=>[...r.all,"list"],casesMetrics:()=>[...r.casesList(),"metrics"],casesStatuses:()=>[...r.casesList(),"statuses"],cases:e=>[...r.casesList(),"all-cases",e],caseView:()=>[...r.all,"case"],case:e=>[...r.caseView(),e],caseMetrics:(e,t)=>[...r.case(e),"metrics",t],userActions:(e,t)=>[...r.case(e),"user-actions",t],userProfiles:()=>[...r.users,"user-profiles"],userProfilesList:e=>[...r.userProfiles(),e],currentUser:()=>[...r.users,"current-user"],suggestUsers:e=>[...r.users,"suggest",e],connectorTypes:()=>[...r.connectors,"types"],license:()=>[...r.connectors,"license"],tags:()=>[...r.all,"tags"]},c={deleteCases:["delete-cases"],updateCases:["update-cases"]}},98:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}));var n=a(13),s=a(1),r=a.n(s),c=a(17),i=a(2);const l=e=>i.i18n.translate("xpack.cases.caseTable.caseDetailsLinkAria",{values:{detailName:e},defaultMessage:"click to visit case with title {detailName}"}),o=({children:e,...t})=>r.a.createElement(n.EuiButton,t,e),u=({children:e,...t})=>r.a.createElement(n.EuiLink,t,e),d=({children:e,detailName:t,title:a})=>{const{getCaseViewUrl:n,navigateToCaseView:i}=Object(c.j)(),o=Object(s.useCallback)((e=>{e.preventDefault(),i({detailName:t})}),[i,t]);return r.a.createElement(u,{onClick:o,href:n({detailName:t}),"data-test-subj":"case-details-link","aria-label":l(null!=a?a:t)},e||t)},m=r.a.memo(d);m.displayName="CaseDetailsLink";const f=({isDisabled:e,label:t,msgTooltip:a,showToolTip:i,titleTooltip:l})=>{const{getConfigureCasesUrl:u,navigateToConfigureCases:d}=Object(c.l)(),m=Object(s.useCallback)((e=>{e.preventDefault(),d()}),[d]),f=Object(s.useMemo)((()=>r.a.createElement(o,{onClick:m,href:u(),iconType:"controlsHorizontal",isDisabled:e,"aria-label":t,"data-test-subj":"configure-case-button"},t)),[t,e,m,u]);return i?r.a.createElement(n.EuiToolTip,{position:"top",title:l,content:r.a.createElement("p",null,a),"data-test-subj":"configure-case-tooltip"},f):r.a.createElement(r.a.Fragment,null,f)},p=r.a.memo(f);p.displayName="ConfigureCaseButton"}}]);