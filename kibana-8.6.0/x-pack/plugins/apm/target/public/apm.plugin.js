/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,a,i=t[0],o=t[1],c=0,u=[];c<i.length;c++)a=i[c],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&u.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);u.length;)u.shift()()}var n={},r={7:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,a.nc&&c.setAttribute("nonce",a.nc),c.src=function(e){return a.p+"apm.chunk."+e+".js"}(e);var s=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.apm_bundle_jsonpfunction=window.apm_bundle_jsonpfunction||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=o;a(a.s=27)}([function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(10),a=n.n(r),i=n(3),o=n(4);function c(e){return Object(o.a)(e)?a()(e).format("0,0.0"):i.a}function s(e,t=3){return Object(o.a)(e)?a()(e).format(`0,0.${"0".repeat(t)}`):i.a}function u(e){return Object(o.a)(e)?a()(e).format("0,0"):i.a}function l(e,t,n=i.a){if(!t||!Object(o.a)(e))return n;const r=e/t;return Math.abs(r)>=.1||0===r?a()(r).format("0%"):a()(r).format("0.0%")}function p(e,t=10){return 0===e||e>=t?u(e):c(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(0).i18n.translate("xpack.apm.notAvailableLabel",{defaultMessage:"N/A"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(7);function a(e){return Object(r.isFinite)(e)}},function(e,t,n){"use strict";let r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown"}(r||(r={})),function(e){e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW"}(a||(a={}))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/observability/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){e.exports=n(18)(2)},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"i",(function(){return r.e})),n.d(t,"f",(function(){return r.c})),n.d(t,"h",(function(){return r.d})),n.d(t,"a",(function(){return o})),n.d(t,"m",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"e",(function(){return _})),n.d(t,"c",(function(){return v})),n.d(t,"g",(function(){return h})),n.d(t,"n",(function(){return P})),n.d(t,"d",(function(){return M})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return C}));var r=n(2),a=n(16),i=n.n(a);function o(e,t="milliseconds"){const n=i()(e),r=function(e){const t=e.utcOffset()/60,n=t>0?`+${t}`:t,r=Number.isInteger(t)?n:"Z";return e.format(`(UTC${r})`)}(n);return n.format(`${function(e){switch(e){case"years":return"YYYY";case"months":return"MMM YYYY";case"days":return"MMM D, YYYY";default:return""}}("days")}, ${function(e){switch(e){case"hours":return"HH";case"minutes":return"HH:mm";case"seconds":return"HH:mm:ss";case"milliseconds":return"HH:mm:ss.SSS";default:return""}}(t)} ${r}`)}var c=n(0),s=n(8),u=n.n(s),l=n(7),p=n(3),d=n(4);function f({unit:e,microseconds:t,defaultValue:n=p.a,threshold:a=10}){if(!Object(d.a)(t))return{value:n,formatted:n};const{convertedValue:i,unitLabel:o}=function(e,t,n=10){const a=t/1e3;switch(e){case"hours":return{unitLabel:c.i18n.translate("xpack.apm.formatters.hoursTimeUnitLabel",{defaultMessage:"h"}),convertedValue:Object(r.b)(u.a.duration(a).asHours(),n)};case"minutes":return{unitLabel:c.i18n.translate("xpack.apm.formatters.minutesTimeUnitLabel",{defaultMessage:"min"}),convertedValue:Object(r.b)(u.a.duration(a).asMinutes(),n)};case"seconds":return{unitLabel:c.i18n.translate("xpack.apm.formatters.secondsTimeUnitLabel",{defaultMessage:"s"}),convertedValue:Object(r.b)(u.a.duration(a).asSeconds(),n)};case"milliseconds":return{unitLabel:c.i18n.translate("xpack.apm.formatters.millisTimeUnitLabel",{defaultMessage:"ms"}),convertedValue:Object(r.b)(u.a.duration(a).asMilliseconds(),n)};case"microseconds":return{unitLabel:c.i18n.translate("xpack.apm.formatters.microsTimeUnitLabel",{defaultMessage:"Î¼s"}),convertedValue:Object(r.c)(t)}}}(e,t,a);return{value:i,unit:o,formatted:`${i} ${o}`}}const m=(e,t)=>1e3*u.a.duration(e,t).asMilliseconds(),b=Object(l.memoize)(((e,t=10)=>{const n=function(e,t=10){return e>m(t,"hours")?"hours":e>m(t,"minutes")?"minutes":e>m(t,"seconds")?"seconds":e>m(1,"milliseconds")?"milliseconds":"microseconds"}(e,t);return(e,{defaultValue:r}={})=>f({unit:n,microseconds:e,defaultValue:r,threshold:t})}),((e,t)=>`${e}_${t}`));function g(e){if(!Object(d.a)(e))return p.a;let t;return t=0===e?"0":e<=.1?"< 0.1":Object(r.a)(e),c.i18n.translate("xpack.apm.transactionRateLabel",{defaultMessage:"{displayedValue} tpm",values:{displayedValue:t}})}function _(e){return c.i18n.translate("xpack.apm.exactTransactionRateLabel",{defaultMessage:"{value} tpm",values:{value:Object(r.b)(e)}})}function v(e,{defaultValue:t=p.a}={}){return Object(d.a)(e)?b(e)(e,{defaultValue:t}).formatted:t}function h(e){return f({unit:"milliseconds",microseconds:e}).formatted}function y(e){return`${Object(r.a)(e/1e3)} KB`}function O(e){return`${Object(r.a)(e/1e6)} MB`}function x(e){return`${Object(r.a)(e/1e9)} GB`}function k(e){return`${Object(r.a)(e/1e12)} TB`}function j(e){return`${Object(r.a)(e)} B`}const A=e=>t=>null==t||isNaN(t)?"":e(t),P=Object(l.memoize)((e=>{const t=S(e);return A(t)})),M=A((e=>S(e)(e))),S=e=>e>1e12?k:e>1e9?x:e>1e6?O:e>1e3?y:j;var w=n(25),T=n(12);const D=({pathname:e,query:t})=>`${e}?${Object(w.stringify)(t)}`,E=(e,t)=>D({pathname:`/app/apm/services/${e}/errors`,query:{environment:null!=t?t:T.a.value}}),C=(e,t,n)=>D({pathname:`/app/apm/services/${e}`,query:{transactionType:n,environment:null!=t?t:T.a.value}})},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l}));var r=n(0);n(20);const a="ENVIRONMENT_ALL",i="ENVIRONMENT_NOT_DEFINED",o=r.i18n.translate("xpack.apm.filter.environment.allLabel",{defaultMessage:"All"});function c(e){return e&&e!==i?e===a?o:e:r.i18n.translate("xpack.apm.filter.environment.notDefinedLabel",{defaultMessage:"Not defined"})}const s={value:a,label:c(a)},u={value:i,label:c(i)};function l({requestedEnvironment:e,currentEnvironmentUrlParam:t}){return(e||u.value)===(t||s.value)&&t||s.value}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return p}));var r=n(0),a=(n(6),n(5));const i="apm";let o,c;!function(e){e.ErrorCount="apm.error_rate",e.TransactionErrorRate="apm.transaction_error_rate",e.TransactionDuration="apm.transaction_duration",e.Anomaly="apm.anomaly"}(o||(o={})),function(e){e.Avg="avg",e.P95="95th",e.P99="99th"}(c||(c={}));const s="threshold_met",u={id:s,name:r.i18n.translate("xpack.apm.a.thresholdMet",{defaultMessage:"Threshold met"})},l={[o.ErrorCount]:{name:r.i18n.translate("xpack.apm.errorCountAlert.name",{defaultMessage:"Error count threshold"}),actionGroups:[u],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.TransactionDuration]:{name:r.i18n.translate("xpack.apm.transactionDurationAlert.name",{defaultMessage:"Latency threshold"}),actionGroups:[u],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.Anomaly]:{name:r.i18n.translate("xpack.apm.anomalyAlert.name",{defaultMessage:"Anomaly"}),actionGroups:[u],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0},[o.TransactionErrorRate]:{name:r.i18n.translate("xpack.apm.transactionErrorRateAlert.name",{defaultMessage:"Failed transaction rate threshold"}),actionGroups:[u],defaultActionGroupId:s,minimumLicenseRequired:"basic",producer:i,isExportable:!0}},p=[{type:a.a.CRITICAL,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.criticalLabel",{defaultMessage:"critical"}),threshold:a.b.CRITICAL},{type:a.a.MAJOR,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.majorLabel",{defaultMessage:"major"}),threshold:a.b.MAJOR},{type:a.a.MINOR,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.minor",{defaultMessage:"minor"}),threshold:a.b.MINOR},{type:a.a.WARNING,label:r.i18n.translate("xpack.apm.alerts.anomalySeverity.warningLabel",{defaultMessage:"warning"}),threshold:a.b.WARNING}]},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f}));var r="kibana",a="".concat(r,".alert"),i="".concat(a,".rule"),o="".concat(i,".threat"),c=("".concat(r,".space_ids"),"".concat(r,".version"),"".concat(a,".action_group"),"".concat(a,".building_block_type"),"".concat(a,".duration.us"),"".concat(a,".end"),"".concat(a,".evaluation.threshold"),"".concat(a,".evaluation.value"),"".concat(a,".flapping"),"".concat(a,".instance.id"),"".concat(a,".reason")),s=("".concat(a,".risk_score"),"".concat(a,".severity"),"".concat(a,".start"),"".concat(a,".time_range"),"".concat(a,".status")),u=("".concat(a,".system_status"),"".concat(a,".uuid"),"".concat(a,".workflow_reason"),"".concat(a,".workflow_status"),"".concat(a,".workflow_user"),"".concat(a,".suppression")),l="".concat(u,".terms"),p=("".concat(l,".field"),"".concat(l,".value"),"".concat(u,".start"),"".concat(u,".end"),"".concat(u,".docs_count"),"".concat(i,".author"),"".concat(i,".created_at"),"".concat(i,".created_by"),"".concat(i,".description"),"".concat(i,".enabled"),"".concat(i,".exceptions_list"),"".concat(i,".execution.uuid"),"".concat(i,".from"),"".concat(i,".interval"),"".concat(i,".license"),"".concat(i,".category"),"".concat(i,".name"),"".concat(i,".namespace"),"".concat(i,".note"),"".concat(i,".parameters"),"".concat(i,".references"),"".concat(i,".rule_id"),"".concat(i,".rule_name_override"),"".concat(i,".tags"),"".concat(i,".to"),"".concat(i,".type"),"".concat(i,".rule_type_id"),"".concat(i,".updated_at"),"".concat(i,".updated_by"),"".concat(i,".version"),"".concat(o,".framework"),"".concat(o,".tactic.id"),"".concat(o,".tactic.name"),"".concat(o,".tactic.reference"),"".concat(o,".technique.id"),"".concat(o,".technique.name"),"".concat(o,".technique.reference"),"".concat(o,".technique.subtechnique.id"),"".concat(o,".technique.subtechnique.name"),"".concat(o,".technique.subtechnique.reference"),"".concat(i,".consumer"),"".concat(i,".producer"),"".concat(i,".uuid"),n(9),n(17),{APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SIEM:"siem",UPTIME:"uptime"}),d=(Object.values(p).map((function(e){return e})),"active"),f="recovered"},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,n){e.exports=n(18)(2745)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"x",(function(){return s})),n.d(t,"v",(function(){return u})),n.d(t,"w",(function(){return l})),n.d(t,"z",(function(){return p})),n.d(t,"A",(function(){return d})),n.d(t,"y",(function(){return f})),n.d(t,"B",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"u",(function(){return g})),n.d(t,"I",(function(){return _})),n.d(t,"L",(function(){return v})),n.d(t,"K",(function(){return h})),n.d(t,"J",(function(){return y})),n.d(t,"k",(function(){return O})),n.d(t,"H",(function(){return x})),n.d(t,"G",(function(){return k})),n.d(t,"F",(function(){return j})),n.d(t,"E",(function(){return A})),n.d(t,"D",(function(){return P})),n.d(t,"C",(function(){return M})),n.d(t,"j",(function(){return S})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"n",(function(){return E})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return L})),n.d(t,"s",(function(){return N})),n.d(t,"b",(function(){return B})),n.d(t,"t",(function(){return U})),n.d(t,"i",(function(){return q}));const r="cloud.availability_zone",a="cloud.provider",i="cloud.machine.type",o="cloud.instance.id",c="cloud.instance.name",s="service.name",u="service.environment",l="service.language.name",p="service.runtime.name",d="service.runtime.version",f="service.node.name",m="service.version",b="agent.name",g="processor.event",_="transaction.duration.us",v="transaction.type",h="transaction.name",y="transaction.id",O="event.outcome",x="trace.id",k="span.type",j="span.subtype",A="span.name",P="span.id",M="span.destination.service.resource",S="error.grouping_key",w="host.name",T="host.os.version",D="container.id",E="kubernetes.container.name",C="kubernetes.deployment.name",R="kubernetes.namespace",I="kubernetes.pod.name",L="kubernetes.pod.uid",N="kubernetes.replicaset.name",B="client.geo.country_iso_code",U="network.connection.type",q="device.model.name"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";t.decode=t.parse=n(29),t.encode=t.stringify=n(30)},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){n(28),__kbnBundles__.define("plugin/apm/public",n,31)},function(e,t,n){n.p=window.__kbnPublicPath__.apm},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var c=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var p,d,f,m,b=e[l].replace(c,"%20"),g=b.indexOf(n);g>=0?(p=b.substr(0,g),d=b.substr(g+1)):(p=b,d=""),f=decodeURIComponent(p),m=decodeURIComponent(d),r(o,f)?a(o[f])?o[f].push(m):o[f]=[o[f],m]:o[f]=m}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,c){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var c=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],(function(e){return c+encodeURIComponent(r(e))})).join(t):c+encodeURIComponent(r(e[o]))})).join(t):c?encodeURIComponent(r(c))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return R}));var r=n(0),a=n(24),i=n(26),o=n(22),c=n(19),s=n(1),u=n.n(s),l=n(14),p=n(11),d=n(13);const f="service.environment",m="service.name",b="transaction.type";var g=n(15),_=n(21);function v(){const{http:e}=Object(_.useKibana)().services,t=null==e?void 0:e.basePath.prepend("/app/home#/tutorial/apm");return u.a.createElement(u.a.Fragment,null,u.a.createElement(g.EuiText,null,u.a.createElement("p",null,r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentDescription",{defaultMessage:"After the agent starts, you can install APM agents on your hosts to collect data from your applications and services."}))),u.a.createElement(g.EuiSpacer,{size:"m"}),u.a.createElement(g.EuiButton,{fill:!0,href:t},r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentButtonText",{defaultMessage:"Install APM Agent"})))}const h=Object(s.lazy)((async()=>{const{ApmCustomAssetsExtension:e}=await n.e(15).then(n.bind(null,1091));return{default:e}})),y={id:"apm",title:"APM",description:r.i18n.translate("xpack.apm.apmDescription",{defaultMessage:"Automatically collect in-depth performance metrics and errors from inside your applications."}),icon:"apmApp",path:"/app/apm",showOnHomePage:!1,category:"data"};var O=n(9),x=n.n(O),k=n(23),j=n(6),A=n(12);const P=Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(18)]).then(n.bind(null,1094));class service_detail_locator_APMServiceDetailLocator{constructor(e){x()(this,"id","APM_LOCATOR"),x()(this,"uiSettings",void 0),this.uiSettings=e}async getLocation(e){const{getPathForServiceDetail:t}=await P;return{app:"apm",path:t(e,{...this.uiSettings.get(k.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS),isComparisonEnabledByDefault:this.uiSettings.get(j.enableComparisonByDefault),defaultEnvironment:this.uiSettings.get(j.defaultApmServiceEnvironment,A.a.value)}),state:{}}}}const M=r.i18n.translate("xpack.apm.navigation.servicesTitle",{defaultMessage:"Services"}),S=r.i18n.translate("xpack.apm.navigation.serviceGroupsTitle",{defaultMessage:"Service groups"}),w=r.i18n.translate("xpack.apm.navigation.tracesTitle",{defaultMessage:"Traces"}),T=r.i18n.translate("xpack.apm.navigation.serviceMapTitle",{defaultMessage:"Service Map"}),D=r.i18n.translate("xpack.apm.navigation.dependenciesTitle",{defaultMessage:"Dependencies"}),E=r.i18n.translate("xpack.apm.navigation.apmSettingsTitle",{defaultMessage:"Settings"}),C=r.i18n.translate("xpack.apm.navigation.apmStorageExplorerTitle",{defaultMessage:"Storage Explorer"});class plugin_ApmPlugin{constructor(e){this.initializerContext=e,this.initializerContext=e}setup(e,t){var u,g,_,v;const h=this.initializerContext.config.get(),O=t;O.home&&(O.home.environment.update({apmUi:!0}),O.home.featureCatalogue.register(y)),t.observability.navigation.registerSections(Object(a.from)(e.getStartServices()).pipe(Object(i.map)((([e,t])=>e.application.capabilities.apm.show?[{label:"APM",sortKey:400,entries:[{label:M,app:"apm",path:"/services",matchPath:e=>["/service-groups","/services","/service-map"].some((t=>e.startsWith(t)))},{label:w,app:"apm",path:"/traces"},{label:D,app:"apm",path:"/dependencies/inventory",onClick:()=>{const{usageCollection:e}=t;e&&e.reportUiCounter("apm",c.METRIC_TYPE.CLICK,"side_nav_dependency")}}]}]:[]))));const x=async()=>{const{fetchObservabilityOverviewPageData:t,getHasData:r}=await Promise.all([n.e(0),n.e(19)]).then(n.bind(null,1084)),{hasFleetApmIntegrations:a}=await Promise.all([n.e(0),n.e(21)]).then(n.bind(null,1085)),{createCallApmApi:i}=await n.e(0).then(n.bind(null,74));return i(e),{fetchObservabilityOverviewPageData:t,getHasData:r,hasFleetApmIntegrations:a}};null===(u=O.home)||void 0===u||u.tutorials.registerCustomStatusCheck("apm_fleet_server_status_check",(async()=>{const{hasFleetApmIntegrations:e}=await x();return e()})),null===(g=O.home)||void 0===g||g.tutorials.registerCustomComponent("TutorialFleetInstructions",(()=>n.e(22).then(n.bind(null,1086)))),null===(_=O.home)||void 0===_||_.tutorials.registerCustomComponent("TutorialConfigAgent",(()=>n.e(5).then(n.bind(null,1083)))),null===(v=O.home)||void 0===v||v.tutorials.registerCustomComponent("TutorialConfigAgentRumScript",(()=>Promise.all([n.e(5),n.e(20)]).then(n.bind(null,1087)))),t.observability.dashboard.register({appName:"apm",hasData:async()=>{const e=await x();return await e.getHasData()},fetchData:async e=>{const t=await x();return await t.fetchObservabilityOverviewPageData(e)}});const{observabilityRuleTypeRegistry:k}=t.observability;return e.application.register({id:"apm",title:"APM",order:8300,euiIconType:"logoObservability",appRoute:"/app/apm",icon:"plugins/apm/public/icon.svg",category:o.DEFAULT_APP_CATEGORIES.observability,deepLinks:[{id:"service-groups-list",title:S,path:"/service-groups"},{id:"services",title:M,path:"/services"},{id:"traces",title:w,path:"/traces"},{id:"service-map",title:T,path:"/service-map"},{id:"dependencies",title:D,path:"/dependencies/inventory"},{id:"settings",title:E,path:"/settings"},{id:"storage-explorer",title:C,path:"/storage-explorer"}],async mount(t){const[{renderApp:r},[a,i]]=await Promise.all([Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(4),n.e(13)]).then(n.bind(null,1095)),e.getStartServices()]);return r({coreStart:a,pluginsSetup:O,appMountParameters:t,config:h,pluginsStart:i,observabilityRuleTypeRegistry:k})}}),function(e){e.register({id:d.d.ErrorCount,description:r.i18n.translate("xpack.apm.alertTypes.errorCount.description",{defaultMessage:"Alert when the number of errors in a service exceeds a defined threshold."}),format:({fields:e})=>({reason:e[l.a],link:Object(p.k)(String(e[m][0]),e[f]&&String(e[f][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(s.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,1088)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.errorCount.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\} errors\n- Triggered value: \\{\\{context.triggerValue\\}\\} errors over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.TransactionDuration,description:r.i18n.translate("xpack.apm.alertTypes.transactionDuration.description",{defaultMessage:"Alert when the latency of a specific transaction type in a service exceeds a defined threshold."}),format:({fields:e,formatters:{asDuration:t}})=>({reason:e[l.a],link:Object(p.l)(String(e[m][0]),e[f]&&String(e[f][0]),String(e[b][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(s.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,1089)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionDuration.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Latency threshold: \\{\\{context.threshold\\}\\}ms\n- Latency observed: \\{\\{context.triggerValue\\}\\} over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.TransactionErrorRate,description:r.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.description",{defaultMessage:"Alert when the rate of transaction errors in a service exceeds a defined threshold."}),format:({fields:e,formatters:{asPercent:t}})=>({reason:e[l.a],link:Object(p.l)(String(e[m][0]),e[f]&&String(e[f][0]),String(e[b][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(s.lazy)((()=>Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,1090)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionErrorRate.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Threshold: \\{\\{context.threshold\\}\\}%\n- Triggered value: \\{\\{context.triggerValue\\}\\}% of errors over the last \\{\\{context.interval\\}\\}"})}),e.register({id:d.d.Anomaly,description:r.i18n.translate("xpack.apm.alertTypes.anomaly.description",{defaultMessage:"Alert when either the latency, throughput, or failed transaction rate of a service is anomalous."}),format:({fields:e})=>({reason:e[l.a],link:Object(p.l)(String(e[m][0]),e[f]&&String(e[f][0]),String(e[b][0]))}),iconClass:"bell",documentationUrl:e=>`${e.links.alerting.apmRules}`,ruleParamsExpression:Object(s.lazy)((()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,1098)))),validate:()=>({errors:[]}),requiresAppContext:!1,defaultActionMessage:r.i18n.translate("xpack.apm.alertTypes.transactionDurationAnomaly.defaultActionMessage",{defaultMessage:"\\{\\{alertName\\}\\} alert is firing because of the following conditions:\n\n- Service name: \\{\\{context.serviceName\\}\\}\n- Type: \\{\\{context.transactionType\\}\\}\n- Environment: \\{\\{context.environment\\}\\}\n- Severity threshold: \\{\\{context.threshold\\}\\}\n- Severity value: \\{\\{context.triggerValue\\}\\}\n"})})}(k),{locator:t.share.url.locators.create(new service_detail_locator_APMServiceDetailLocator(e.uiSettings))}}start(e,t){const{fleet:a}=t;if(a){const e={title:r.i18n.translate("xpack.apm.fleetIntegration.enrollmentFlyout.installApmAgentTitle",{defaultMessage:"Install APM Agent"}),Component:v};a.registerExtension({package:"apm",view:"agent-enrollment-flyout",title:e.title,Component:e.Component}),a.registerExtension({package:"apm",view:"package-detail-assets",Component:h}),a.registerExtension({package:"apm",view:"package-policy-create",Component:Object(s.lazy)((async()=>{const{CreateAPMPolicyForm:e}=await Promise.all([n.e(2),n.e(6),n.e(16)]).then(n.bind(null,1092));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit",useLatestPackageVersion:!0,Component:Object(s.lazy)((async()=>{const{EditAPMPolicyForm:e}=await Promise.all([n.e(2),n.e(6),n.e(17)]).then(n.bind(null,1093));return{default:e}}))}),a.registerExtension({package:"apm",view:"package-policy-edit-tabs",tabs:[{title:"APM Agents",Component:Object(s.lazy)((async()=>{const{ApmAgents:e}=await Promise.all([n.e(0),n.e(3),n.e(8)]).then(n.bind(null,1096));return{default:e}}))}]})}}}const R=e=>new plugin_ApmPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/triggersActionsUi/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/ml/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnAnalytics},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/advancedSettings/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/ml/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/infra/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.EmotionCache},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/maps/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedFieldList/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.ReactRouter},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/fleet/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}]);