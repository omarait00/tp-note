/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.licenseManagement_bundle_jsonpfunction=window.licenseManagement_bundle_jsonpfunction||[]).push([[1],Array(26).concat([function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(76));t.combineActions=r.default;var a=u(n(39));t.createAction=a.default;var o=u(n(79));t.createActions=o.default;var s=u(n(88));t.createCurriedAction=s.default;var i=u(n(58));t.handleAction=i.default;var c=u(n(91));function u(e){return e&&e.__esModule?e:{default:e}}t.handleActions=c.default},function(e,t,n){e.exports=n(6)(2743)},function(e,t,n){"use strict";t.__esModule=!0;var r={batch:!0},a=n(60);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||(t[e]=a[e]))}));var o=n(75);t.batch=o.unstable_batchedUpdates,(0,n(43).setBatch)(o.unstable_batchedUpdates)},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var a=r(n(15)).default.createContext(null);t.ReactReduxContext=a;var o=a;t.default=o},function(e,t,n){e.exports=n(6)(3)},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,o,s,i){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,o,s,i],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0,t.DEFAULT_NAMESPACE="/",t.ACTION_TYPE_DELIMITER="||"},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"function"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,n){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var n,o=a;function s(){c.onStateChange&&c.onStateChange()}function i(){var a,i,c;n||(n=t?t.addNestedSub(s):e.subscribe(s),a=(0,r.getBatch)(),i=null,c=null,o={clear:function(){i=null,c=null},notify:function(){a((function(){for(var e=i;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=i;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,n=c={callback:e,next:null,prev:c};return n.prev?n.prev.next=n:i=n,function(){t&&null!==i&&(t=!1,n.next?n.next.prev=n.prev:c=n.prev,n.prev?n.prev.next=n.next:i=n.next)}}})}var c={addNestedSub:function(e){return i(),o.subscribe(e)},notifyNestedSubs:function(){o.notify()},handleChangeWrapper:s,isSubscribed:function(){return Boolean(n)},trySubscribe:i,tryUnsubscribe:function(){n&&(n(),n=void 0,o.clear(),o=a)},getListeners:function(){return o}};return c};var r=n(43),a={notify:function(){},get:function(){return[]}}},function(e,t,n){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=n(15),a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=a},function(e,t,n){e.exports=n(6)(1361)},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=o.default),(0,r.default)((0,a.default)(t)||(0,s.default)(t),"Expected payloadCreator to be a function, undefined or null");var i=(0,s.default)(t)||t===o.default?o.default:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},c=(0,a.default)(n),u=e.toString(),l=function(){var t=i.apply(void 0,arguments),r={type:e};return t instanceof Error&&(r.error=!0),void 0!==t&&(r.payload=t),c&&(r.meta=n.apply(void 0,arguments)),r};return l.toString=function(){return u},l};var r=i(n(31)),a=i(n(34)),o=i(n(40)),s=i(n(78));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if((0,a.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t};var r,a=(r=n(35))&&r.__esModule?r:{default:r}},function(e,t,n){e.exports=n(6)(2744)},function(e,t,n){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e},t.getBatch=function(){return r}},function(e,t,n){"use strict";var r=n(27).default,a=n(42).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=n.methodName,y=void 0===d?"connectAdvanced":d,O=n.renderCountProp,E=void 0===O?void 0:O,_=n.shouldHandleStateChanges,T=void 0===_||_,S=n.storeKey,w=void 0===S?"store":S,C=(n.withRef,n.forwardRef),L=void 0!==C&&C,P=n.context,k=void 0===P?f.ReactReduxContext:P,A=(0,s.default)(n,p),I=k;return function(t){var n=t.displayName||t.name||"Component",r=a(n),d=(0,o.default)({},A,{getDisplayName:a,methodName:y,renderCountProp:E,shouldHandleStateChanges:T,storeKey:w,displayName:r,wrappedComponentName:n,WrappedComponent:t}),f=A.pure,p=f?c.useMemo:function(e){return e()};function O(n){var r=(0,c.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,s.default)(n,b);return[n.context,e,t]}),[n]),a=r[0],i=r[1],f=r[2],y=(0,c.useMemo)((function(){return a&&a.Consumer&&(0,u.isContextConsumer)(c.default.createElement(a.Consumer,null))?a:I}),[a,I]),O=(0,c.useContext)(y),E=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(O)&&Boolean(O.store);var _=E?n.store:O.store,S=(0,c.useMemo)((function(){return function(t){return e(t.dispatch,d)}(_)}),[_]),w=(0,c.useMemo)((function(){if(!T)return m;var e=(0,l.createSubscription)(_,E?null:O.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[_,E,O]),C=w[0],L=w[1],P=(0,c.useMemo)((function(){return E?O:(0,o.default)({},O,{subscription:C})}),[E,O,C]),k=(0,c.useReducer)(g,j,M),A=k[0][0],D=k[1];if(A&&A.error)throw A.error;var F=(0,c.useRef)(),N=(0,c.useRef)(f),R=(0,c.useRef)(),B=(0,c.useRef)(!1),U=p((function(){return R.current&&f===N.current?R.current:S(_.getState(),f)}),[_,A,f]);v(h,[N,F,B,f,U,R,L]),v(x,[T,_,C,S,N,F,B,R,L,D],[_,C,S]);var q=(0,c.useMemo)((function(){return c.default.createElement(t,(0,o.default)({},U,{ref:i}))}),[i,t,U]);return(0,c.useMemo)((function(){return T?c.default.createElement(y.Provider,{value:P},q):q}),[y,q,P])}var _=f?c.default.memo(O):O;if(_.WrappedComponent=t,_.displayName=O.displayName=r,L){var S=c.default.forwardRef((function(e,t){return c.default.createElement(_,(0,o.default)({},e,{reactReduxForwardedRef:t}))}));return S.displayName=r,S.WrappedComponent=t,(0,i.default)(S,t)}return(0,i.default)(_,t)}};var o=r(n(30)),s=r(n(38)),i=r(n(63)),c=a(n(15)),u=n(64),l=n(36),d=n(37),f=n(29),p=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],b=["reactReduxForwardedRef"],j=[],m=[null,null];function g(e,t){var n=e[1];return[t.payload,n+1]}function v(e,t,n){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),n)}function h(e,t,n,r,a,o,s){e.current=r,t.current=a,n.current=!1,o.current&&(o.current=null,s())}function x(e,t,n,r,a,o,s,i,c,u){if(e){var l=!1,d=null,f=function(){if(!l){var e,n,f=t.getState();try{e=r(f,a.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?s.current||c():(o.current=e,i.current=e,s.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=f,n.trySubscribe(),f(),function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var M=function(){return[null,0]}},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!r(e[n[o]],t[n[o]]))return!1;return!0}},function(e,t,n){"use strict";var r=n(27).default;function a(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.getDependsOnOwnProps=a,t.wrapMapToPropsConstant=function(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}},t.wrapMapToPropsFunc=function(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=a(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=a(o),o=r(t,n)),o},r}},r(n(47))},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=function(e,t,n){(0,a.default)(e)||(0,o.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")};var a=r(n(68)),o=r(n(48))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.createStoreHook=s,t.useStore=void 0;var r=n(15),a=n(29),o=n(50);function s(e){void 0===e&&(e=a.ReactReduxContext);var t=e===a.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var i=s();t.useStore=i},function(e,t,n){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,r.useContext)(a.ReactReduxContext)};var r=n(15),a=n(29)},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return 0===e.length}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e.toString()}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"string"==typeof e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null==e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(82))&&r.__esModule?r:{default:r};t.default=function(e){return-1===e.indexOf("/")?(0,a.default)(e):e.split("/").map(a.default).join("/")}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(32),a=s(n(41)),o=s(n(57));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(n,s,i,c){var u=void 0===s?{}:s,l=u.namespace,d=void 0===l?r.DEFAULT_NAMESPACE:l,f=u.prefix;return void 0===i&&(i={}),void 0===c&&(c=""),(0,a.default)(n).forEach((function(a){var s=function(e){return c||!f||f&&new RegExp("^"+f+d).test(e)?e:""+f+d+e}(function(e){var t;if(!c)return e;var n=e.toString().split(r.ACTION_TYPE_DELIMITER),a=c.split(r.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,a.map((function(e){return n.map((function(t){return""+e+d+t}))}))).join(r.ACTION_TYPE_DELIMITER)}(a)),u=(0,o.default)(a,n);e(u)?t(u,{namespace:d,prefix:f},i,s):i[s]=u})),i}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,a.default)(t)?t.get(e):t[e]};var r,a=(r=n(35))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=s.default);var d=(0,u.default)(e).split(l.ACTION_TYPE_DELIMITER);(0,r.default)(!(0,c.default)(n),"defaultState for reducer handling "+d.join(", ")+" should be defined"),(0,r.default)((0,a.default)(t)||(0,o.default)(t),"Expected reducer to be a function or object with next and throw reducers");var f=(0,a.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,i.default)(e)?s.default:e})),p=f[0],b=f[1];return function(e,t){void 0===e&&(e=n);var r=t.type;return r&&-1!==d.indexOf((0,u.default)(r))?(!0===t.error?b:p)(e,t):e}};var r=d(n(31)),a=d(n(34)),o=d(n(33)),s=d(n(40)),i=d(n(54)),c=d(n(90)),u=d(n(52)),l=n(32);function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(95));function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var s="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function u(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(l)(e,t)}if("function"!=typeof e)throw new Error(o(2));var a=e,i=t,d=[],f=d,p=!1;function b(){f===d&&(f=d.slice())}function j(){if(p)throw new Error(o(3));return i}function m(e){if("function"!=typeof e)throw new Error(o(4));if(p)throw new Error(o(5));var t=!0;return b(),f.push(e),function(){if(t){if(p)throw new Error(o(6));t=!1,b();var n=f.indexOf(e);f.splice(n,1),d=null}}}function g(e){if(!u(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(p)throw new Error(o(9));try{p=!0,i=a(i,e)}finally{p=!1}for(var t=d=f,n=0;n<t.length;n++)(0,t[n])();return e}function v(e){if("function"!=typeof e)throw new Error(o(10));a=e,g({type:c.REPLACE})}function h(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(j())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return g({type:c.INIT}),(r={dispatch:g,subscribe:m,getState:j,replaceReducer:v})[s]=h,r}var d=l;function f(e,t){return function(){return t(e.apply(this,arguments))}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=c,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(o(15))},s={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(s)}));return r=p.apply(void 0,i)(n.dispatch),a.default(a.default({},n),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return f(e,t);if("object"!=typeof e||null===e)throw new Error(o(16));var n={};for(var r in e){var a=e[r];"function"==typeof a&&(n[r]=f(a,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:c.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){s=e}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var r=!1,a={},c=0;c<i.length;c++){var u=i[c],l=n[u],d=e[u],f=l(d,t);if(void 0===f)throw t&&t.type,new Error(o(14));a[u]=f,r=r||f!==d}return(r=r||i.length!==Object.keys(e).length)?a:e}},t.compose=p,t.createStore=l,t.legacy_createStore=d},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0;var a=r(n(61));t.Provider=a.default;var o=r(n(44));t.connectAdvanced=o.default;var s=n(29);t.ReactReduxContext=s.ReactReduxContext;var i=r(n(65));t.connect=i.default;var c=n(73);t.useDispatch=c.useDispatch,t.createDispatchHook=c.createDispatchHook;var u=n(74);t.useSelector=u.useSelector,t.createSelectorHook=u.createSelectorHook;var l=n(49);t.useStore=l.useStore,t.createStoreHook=l.createStoreHook;var d=r(n(45));t.shallowEqual=d.default},function(e,t,n){"use strict";var r=n(27).default,a=n(42).default;t.__esModule=!0,t.default=void 0;var o=a(n(15)),s=(r(n(62)),n(29)),i=n(36),c=n(37);t.default=function(e){var t=e.store,n=e.context,r=e.children,a=(0,o.useMemo)((function(){var e=(0,i.createSubscription)(t);return{store:t,subscription:e}}),[t]),u=(0,o.useMemo)((function(){return t.getState()}),[t]);(0,c.useIsomorphicLayoutEffect)((function(){var e=a.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,u]);var l=n||s.ReactReduxContext;return o.default.createElement(l.Provider,{value:a},r)}},function(e,t,n){e.exports=n(6)(8)},function(e,t,n){e.exports=n(6)(264)},function(e,t,n){e.exports=n(6)(447)},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.createConnect=j,t.default=void 0;var a=r(n(30)),o=r(n(38)),s=r(n(44)),i=r(n(45)),c=r(n(66)),u=r(n(69)),l=r(n(70)),d=r(n(71)),f=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function p(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function b(e,t){return e===t}function j(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?s.default:n,j=t.mapStateToPropsFactories,m=void 0===j?u.default:j,g=t.mapDispatchToPropsFactories,v=void 0===g?c.default:g,h=t.mergePropsFactories,x=void 0===h?l.default:h,M=t.selectorFactory,y=void 0===M?d.default:M;return function(e,t,n,s){void 0===s&&(s={});var c=s,u=c.pure,l=void 0===u||u,d=c.areStatesEqual,j=void 0===d?b:d,g=c.areOwnPropsEqual,h=void 0===g?i.default:g,M=c.areStatePropsEqual,O=void 0===M?i.default:M,E=c.areMergedPropsEqual,_=void 0===E?i.default:E,T=(0,o.default)(c,f),S=p(e,m,"mapStateToProps"),w=p(t,v,"mapDispatchToProps"),C=p(n,x,"mergeProps");return r(y,(0,a.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:w,initMergeProps:C,pure:l,areStatesEqual:j,areOwnPropsEqual:h,areStatePropsEqual:O,areMergedPropsEqual:_},T))}}var m=j();t.default=m},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=s,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=c;var a=r(n(67)),o=n(46);function s(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,o.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function c(e){return e&&"object"==typeof e?(0,o.wrapMapToPropsConstant)((function(t){return(0,a.default)(e,t)})):void 0}var u=[s,i,c];t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={},r=function(r){var a=e[r];"function"==typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=a,t.whenMapStateToPropsIsMissing=o;var r=n(46);function a(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function o(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var s=[a,o];t.default=s},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=o,t.whenMergePropsIsFunction=i,t.whenMergePropsIsOmitted=c,t.wrapMergePropsFunc=s;var a=r(n(30));function o(e,t,n){return(0,a.default)({},n,e,t)}function s(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,s=!1;return function(t,n,i){var c=e(t,n,i);return s?a&&o(c,r)||(r=c):(s=!0,r=c),r}}}function i(e){return"function"==typeof e?s(e):void 0}function c(e){return e?void 0:function(){return o}}r(n(47));var u=[i,c];t.default=u},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=function(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,c=t.initMergeProps,u=(0,a.default)(t,o),l=n(e,u),d=r(e,u),f=c(e,u);return(u.pure?i:s)(l,d,f,e,u)},t.impureFinalPropsSelectorFactory=s,t.pureFinalPropsSelectorFactory=i;var a=r(n(38)),o=(r(n(72)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function s(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function i(e,t,n,r,a){var o,s,i,c,u,l=a.areStatesEqual,d=a.areOwnPropsEqual,f=a.areStatePropsEqual,p=!1;return function(a,b){return p?function(a,p){var b,j,m=!d(p,s),g=!l(a,o);return o=a,s=p,m&&g?(i=e(o,s),t.dependsOnOwnProps&&(c=t(r,s)),u=n(i,c,s)):m?(e.dependsOnOwnProps&&(i=e(o,s)),t.dependsOnOwnProps&&(c=t(r,s)),u=n(i,c,s)):g?(b=e(o,s),j=!f(b,i),i=b,j&&(u=n(i,c,s)),u):u}(a,b):(i=e(o=a,s=b),c=t(r,s),u=n(i,c,s),p=!0,u)}}},function(e,t,n){"use strict";var r=n(27).default;t.__esModule=!0,t.default=function(e,t,n,r){o(e,"mapStateToProps",r),o(t,"mapDispatchToProps",r),o(n,"mergeProps",r)};var a=r(n(48));function o(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,a.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}},function(e,t,n){"use strict";t.__esModule=!0,t.createDispatchHook=o,t.useDispatch=void 0;var r=n(29),a=n(49);function o(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?a.useStore:(0,a.createStoreHook)(e);return function(){return t().dispatch}}var s=o();t.useDispatch=s},function(e,t,n){"use strict";t.__esModule=!0,t.createSelectorHook=u,t.useSelector=void 0;var r=n(15),a=n(50),o=n(36),s=n(37),i=n(29),c=function(e,t){return e===t};function u(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?a.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=c);var a=t(),i=function(e,t,n,a){var i,c=(0,r.useReducer)((function(e){return e+1}),0)[1],u=(0,r.useMemo)((function(){return(0,o.createSubscription)(n,a)}),[n,a]),l=(0,r.useRef)(),d=(0,r.useRef)(),f=(0,r.useRef)(),p=(0,r.useRef)(),b=n.getState();try{if(e!==d.current||b!==f.current||l.current){var j=e(b);i=void 0!==p.current&&t(j,p.current)?p.current:j}else i=p.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return(0,s.useIsomorphicLayoutEffect)((function(){d.current=e,f.current=b,p.current=i,l.current=void 0})),(0,s.useIsomorphicLayoutEffect)((function(){function e(){try{var e=n.getState();if(e===f.current)return;var r=d.current(e);if(t(r,p.current))return;p.current=r,f.current=e}catch(e){l.current=e}c()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[n,u]),i}(e,n,a.store,a.subscription);return(0,r.useDebugValue)(i),i}}var l=u();t.useSelector=l},function(e,t,n){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=n(21);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,r.default)(f(t),"Expected action types to be strings, symbols, or action creators");var a=t.map(i.default).join(u.ACTION_TYPE_DELIMITER);return{toString:function(){return a}}};var r=l(n(31)),a=l(n(34)),o=l(n(77)),s=l(n(51)),i=l(n(52)),c=l(n(53)),u=n(32);function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return(0,c.default)(e)||(0,a.default)(e)||(0,o.default)(e)}function f(e){return!(0,s.default)(e)&&e.every(d)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null===e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var s=(0,a.default)((0,l.default)(n))?n.pop():{};return(0,r.default)(n.every(c.default)&&((0,c.default)(e)||(0,a.default)(e)),"Expected optional object followed by string action types"),(0,c.default)(e)?y([e].concat(n),s):v({},x(e,s),y(n,s))};var r=g(n(31)),a=g(n(33)),o=g(n(34)),s=g(n(40)),i=g(n(80)),c=g(n(53)),u=g(n(54)),l=g(n(81)),d=g(n(55)),f=g(n(85)),p=g(n(86)),b=g(n(87)),j=g(n(39)),m=n(32);function g(e){return e&&e.__esModule?e:{default:e}}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){var n=M((0,p.default)(e,t));return(0,b.default)(n,t)}function M(e,t){var n=void 0===t?{}:t,a=n.prefix,c=n.namespace,l=void 0===c?m.DEFAULT_NAMESPACE:c;return(0,f.default)(Object.keys(e),(function(t,n){var c,d=e[n];(0,r.default)(function(e){if((0,o.default)(e)||(0,u.default)(e))return!0;if((0,i.default)(e)){var t=e[0],n=void 0===t?s.default:t,r=e[1];return(0,o.default)(n)&&(0,o.default)(r)}return!1}(d),"Expected function, undefined, null, or array with payload and meta functions for "+n);var f=a?""+a+l+n:n,p=(0,i.default)(d)?j.default.apply(void 0,[f].concat(d)):(0,j.default)(f,d);return v({},t,((c={})[n]=p,c))}))}function y(e,t){var n=M((0,f.default)(e,(function(e,t){var n;return v({},e,((n={})[t]=s.default,n))})),t);return(0,f.default)(Object.keys(n),(function(e,t){var r;return v({},e,((r={})[(0,d.default)(t)]=n[t],r))}))}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e[e.length-1]}},function(e,t,n){var r=n(83);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){var r=n(84);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(o,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():a.test(e)?function(e){return e.replace(s,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/,o=/[\W_]+(.|$)/g,s=/(.)([A-Z]+)/g},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){return e.reduce((function(e,n){return t(e,n)}),{})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}var o=(0,a(n(56)).default)(r.default);t.default=o},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=void 0===t?{}:t,s=n.namespace,i=void 0===s?r.DEFAULT_NAMESPACE:s,c=n.prefix;function u(t,n,r){var s=(0,o.default)(r.shift());(0,a.default)(r)?n[s]=e[t]:(n[s]||(n[s]={}),u(t,n[s],r))}var l={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=c?e.replace(""+c+i,""):e;return u(e,l,t.split(i))})),l};var r=n(32),a=s(n(51)),o=s(n(55));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(89)),a=o(n(39));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,r.default)((0,a.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function n(){null==t&&(t=e.length);var r=[].slice.call(arguments);return r.length>=t?e.apply(this,r):function(){return n.apply(this,r.concat([].slice.call(arguments)))}}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return void 0===e}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n={}),(0,a.default)((0,o.default)(e)||(0,s.default)(e),"Expected handlers to be a plain object.");var d=(0,c.default)(e,n),f=(0,i.default)(d).map((function(e){return(0,u.default)(e,(0,l.default)(e,d),t)})),p=r.default.apply(void 0,f.concat([t]));return function(e,n){return void 0===e&&(e=t),p(e,n)}};var r=d(n(92)),a=d(n(31)),o=d(n(33)),s=d(n(35)),i=d(n(41)),c=d(n(93)),u=d(n(58)),l=d(n(57));function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[t.length-1]&&t.pop(),a=t;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),s=2;s<n;s++)o[s-2]=arguments[s];var i=void 0===e,c=void 0===t;return i&&c&&r?r:a.reduce((function(e,n){return n.apply(void 0,[e,t].concat(o))}),i&&!c&&r?r:e)}},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(33)),a=s(n(35)),o=s(n(94));function s(e){return e&&e.__esModule?e:{default:e}}var i=(0,s(n(56)).default)((function(e){return((0,r.default)(e)||(0,a.default)(e))&&!(0,o.default)(e)}));t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e),n=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&n};var r,a=(r=n(41))&&r.__esModule?r:{default:r}},function(e,t,n){e.exports=n(6)(2745)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelector=void 0,t.createSelectorCreator=o,t.createStructuredSelector=void 0,Object.defineProperty(t,"defaultEqualityCheck",{enumerable:!0,get:function(){return r.defaultEqualityCheck}}),Object.defineProperty(t,"defaultMemoize",{enumerable:!0,get:function(){return r.defaultMemoize}});var r=n(97);function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var s,i=0,c={memoizeOptions:void 0},u=r.pop();if("object"==typeof u&&(c=u,u=r.pop()),"function"!=typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var l=c,d=l.memoizeOptions,f=void 0===d?n:d,p=Array.isArray(f)?f:[f],b=a(r),j=e.apply(void 0,[function(){return i++,u.apply(null,arguments)}].concat(p)),m=e((function(){for(var e=[],t=b.length,n=0;n<t;n++)e.push(b[n].apply(null,arguments));return s=j.apply(null,e)}));return Object.assign(m,{resultFunc:u,memoizedResultFunc:j,dependencies:b,lastResult:function(){return s},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),m};return o}var s=o(r.defaultMemoize);t.createSelector=s,t.createStructuredSelector=function(e,t){if(void 0===t&&(t=s),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheKeyComparator=o,t.defaultEqualityCheck=void 0,t.defaultMemoize=function(e,t){var n,s,i="object"==typeof t?t:{equalityCheck:t},c=i.equalityCheck,u=void 0===c?a:c,l=i.maxSize,d=void 0===l?1:l,f=i.resultEqualityCheck,p=o(u),b=1===d?(n=p,{get:function(e){return s&&n(s.key,e)?s.value:r},put:function(e,t){s={key:e,value:t}},getEntries:function(){return s?[s]:[]},clear:function(){s=void 0}}):function(e,t){var n=[];function a(e){var a=n.findIndex((function(n){return t(e,n.key)}));if(a>-1){var o=n[a];return a>0&&(n.splice(a,1),n.unshift(o)),o.value}return r}return{get:a,put:function(t,o){a(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(d,p);function j(){var t=b.get(arguments);if(t===r){if(t=e.apply(null,arguments),f){var n=b.getEntries(),a=n.find((function(e){return f(e.value,t)}));a&&(t=a.value)}b.put(arguments,t)}return t}return j.clearCache=function(){return b.clear()},j};var r="NOT_FOUND",a=function(e,t){return e===t};function o(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}}t.defaultEqualityCheck=a},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r();a.withExtraArgument=r;var o=a;t.default=o},,function(e,t,n){"use strict";n.r(t),n.d(t,"renderApp",(function(){return ke}));var r=n(15),a=n.n(r),o=n(21),s=n(20),i=n(28),c=n(22),u=n(19),l=n(16);const d=Object(r.createContext)(void 0),f=({children:e,value:t})=>Object(l.jsx)(d.Provider,{value:t},e),p=d.Consumer;var b=n(59),j=n(98),m=n.n(j),g=n(2),v=n(23),h=n(96),x=n(26);const M=Object(x.createAction)("LICENSE_MANAGEMENT_ADD_LICENSE"),y=Object(x.handleActions)({[M]:(e,{payload:t})=>t},{});var O=n(0);const E=Object(x.createAction)("LICENSE_MANAGEMENT_ADD_UPLOAD_ERROR_MESSAGE"),_=Object(x.createAction)("LICENSE_MANAGEMENT_UPLOAD_LICENSE_STATUS"),T=g.i18n.translate("xpack.licenseMgmt.uploadLicense.genericUploadErrorMessage",{defaultMessage:"Error encountered uploading license:"}),S=Object(x.handleActions)({[_]:(e,{payload:t})=>t},{}),w=Object(x.createAction)("LICENSE_MANAGEMENT_START_BASIC_LICENSE_STATUS"),C=Object(x.createAction)("LICENSE_MANAGEMENT_CANCEL_START_BASIC_LICENSE"),L=Object(x.handleActions)({[w]:(e,{payload:t})=>t,[C]:()=>({})},{}),P=Object(x.handleActions)({[E]:(e,{payload:t})=>t},""),k=Object(x.createAction)("LICENSE_MANAGEMENT_TRIAL_STATUS_LOADED"),A=Object(x.handleActions)({[k]:(e,{payload:t})=>({canStartTrial:t})},{}),I=Object(x.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_LOADING"),D=Object(x.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_SUCCESS"),F=Object(x.createAction)("LICENSE_MANAGEMENT_PERMISSIONS_ERROR"),N=Object(x.handleActions)({[I]:(e,{payload:t})=>({loading:t}),[D]:(e,{payload:t})=>({hasPermission:t}),[F]:(e,{payload:t})=>({error:t})},{});var R=n(24),B=n.n(R);const U=Object(b.combineReducers)({license:y,uploadStatus:S,uploadErrorMessage:P,trialStatus:A,startBasicStatus:L,permissions:N}),q=e=>e.permissions.hasPermission,z=e=>e.permissions.loading,H=e=>e.permissions.error,K=e=>e.license,Y=e=>K(e).type,G=e=>K(e).expiryDateInMillis,W=e=>"basic"===Y(e)?null:G(e)?B.a.tz(G(e),B.a.tz.guess()):null,$=e=>(new Date).getTime()>G(e),X=e=>{const{type:t}=K(e);return"trial"===t||(e=>{const t=new Date,n=W(e);return n&&n.isAfter(t)&&n.diff(t,"days")<=25})(e)||$(e)},J=e=>!!e.uploadStatus.acknowledge,V=e=>!!e.uploadStatus.applying,Z=e=>e.uploadStatus.messages,Q=e=>!!e.uploadStatus.invalid,ee=e=>e.uploadErrorMessage,te=e=>{const t=Y(e);return e.trialStatus.canStartTrial&&"trial"!==t&&("platinum"!==t&&"enterprise"!==t||$(e))},ne=e=>{if(e.trialStatus.canStartTrial)return!1;const{type:t}=K(e);return"platinum"!==t&&"enterprise"!==t||$(e)},re=e=>!!e.startBasicStatus.acknowledge,ae=e=>e.startBasicStatus.messages,oe=Object(h.createSelector)(K,(e=>{const t=W(e);return t?t.format("LLL z"):null}),$,((e,t,n)=>{const{isActive:r,type:a}=e;return{type:Object(v.capitalize)(a),isExpired:n,expirationDate:t,status:r?g.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusText",{defaultMessage:"active"}):g.i18n.translate("xpack.licenseMgmt.licenseDashboard.licenseStatus.inactiveLicenseStatusText",{defaultMessage:"inactive"})}})),se=({appDependencies:e,children:t})=>{const{core:n,plugins:r,services:a,store:{initialLicense:o},theme$:s}=e,{http:c,notifications:{toasts:d},i18n:{Context:p}}=n,j=((e={},t={})=>{const n=[Object(b.applyMiddleware)(m.a.withExtraArgument(t))];return window.__REDUX_DEVTOOLS_EXTENSION__&&n.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(b.createStore)(U,e,Object(b.compose)(...n))})({license:o},{history:e.services.history,toasts:d,http:c,telemetry:r.telemetry,licensing:r.licensing,breadcrumbService:a.breadcrumbService});return Object(l.jsx)(p,null,Object(l.jsx)(u.KibanaThemeProvider,{theme$:s},Object(l.jsx)(i.Provider,{store:j},Object(l.jsx)(f,{value:e},t))))};var ie=n(30),ce=n.n(ie),ue=n(18),le=n(17),de=n(1),fe=n.n(de);const pe=a.a.lazy((()=>n.e(2).then(n.bind(null,99))));class telemetry_opt_in_TelemetryOptIn extends a.a.Component{constructor(...e){super(...e),fe()(this,"state",{showMoreTelemetryInfo:!1,showExample:!1}),fe()(this,"closeReadMorePopover",(()=>{this.setState({showMoreTelemetryInfo:!1})})),fe()(this,"onClickReadMore",(()=>{const{showMoreTelemetryInfo:e}=this.state;this.setState({showMoreTelemetryInfo:!e})})),fe()(this,"onClickExample",(()=>{this.setState({showExample:!0}),this.closeReadMorePopover()})),fe()(this,"onChangeOptIn",(e=>{const t=e.target.checked,{onOptInChange:n}=this.props;n(t)}))}render(){const{showMoreTelemetryInfo:e,showExample:t}=this.state,{isStartTrial:n,isOptingInToTelemetry:o,telemetry:s}=this.props;let i,c=null;t&&(c=Object(l.jsx)(a.a.Suspense,{fallback:Object(l.jsx)(le.EuiLoadingSpinner,null)},Object(l.jsx)(pe,{onClose:()=>this.setState({showExample:!1}),fetchExample:s.telemetryService.fetchExample}))),n||(i=Object(l.jsx)(r.Fragment,null,Object(l.jsx)(le.EuiSpacer,{size:"s"}),Object(l.jsx)(le.EuiTitle,{size:"s"},Object(l.jsx)("h4",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.customersHelpSupportDescription",defaultMessage:"Help Elastic support provide better service"}))),Object(l.jsx)(le.EuiSpacer,{size:"s"})));const u=Object(l.jsx)(le.EuiLink,{onClick:this.onClickReadMore},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.readMoreLinkText",defaultMessage:"Read more"})),d=Object(l.jsx)(le.EuiPopover,{ownFocus:!0,id:"readMorePopover",button:u,isOpen:e,closePopover:this.closeReadMorePopover,className:"eui-AlignBaseline"},Object(l.jsx)(le.EuiText,{className:"licManagement__narrowText"},Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.featureUsageWarningMessage",defaultMessage:"This feature periodically sends basic feature usage statistics. This information will not be shared outside of Elastic. See an {exampleLink} or read our {telemetryPrivacyStatementLink}. You can disable this feature any time.",values:{exampleLink:Object(l.jsx)(le.EuiLink,{onClick:this.onClickExample},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.exampleLinkText",defaultMessage:"example"})),telemetryPrivacyStatementLink:Object(l.jsx)(le.EuiLink,{href:s.telemetryConstants.getPrivacyStatementUrl(),target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.telemetryPrivacyStatementLinkText",defaultMessage:"telemetry privacy statement"}))}}))));return Object(l.jsx)(r.Fragment,null,c,i,Object(l.jsx)(le.EuiCheckbox,{label:Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.telemetryOptIn.sendBasicFeatureStatisticsLabel",defaultMessage:"Send basic feature usage statistics to Elastic periodically. {popover}",values:{popover:d}})),id:"isOptingInToTelemetry",checked:o,onChange:this.onChangeOptIn}))}}function be(e){if(e){const{telemetryService:t}=e,n=t.getIsOptedIn();return t.getCanChangeOptInStatus()&&!n}return!1}class start_trial_StartTrial extends r.Component{constructor(...e){super(...e),fe()(this,"cancelRef",void 0),fe()(this,"confirmRef",void 0),fe()(this,"state",{showConfirmation:!1,isOptingInToTelemetry:!1}),fe()(this,"onOptInChange",(e=>{this.setState({isOptingInToTelemetry:e})})),fe()(this,"onStartLicenseTrial",(()=>{const{telemetry:e,startLicenseTrial:t}=this.props;this.state.isOptingInToTelemetry&&e&&e.telemetryService.setOptIn(!0),t()})),fe()(this,"cancel",(()=>{this.setState({showConfirmation:!1})}))}UNSAFE_componentWillMount(){this.props.loadTrialStatus()}acknowledgeModal(e){const{showConfirmation:t,isOptingInToTelemetry:n}=this.state,{telemetry:r}=this.props;return t?Object(l.jsx)(le.EuiModal,{className:"licManagement__modal",onClose:this.cancel},Object(l.jsx)(le.EuiModalHeader,null,Object(l.jsx)(le.EuiModalHeaderTitle,{"data-test-subj":"confirmModalTitleText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalTitle",defaultMessage:"Start your free 30-day trial"}))),Object(l.jsx)(le.EuiModalBody,null,Object(l.jsx)(le.EuiText,{"data-test-subj":"confirmModalBodyText"},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription",defaultMessage:"This trial is for the full set of {subscriptionFeaturesLinkText} of the Elastic Stack. You'll get immediate access to:",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:O.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}})),Object(l.jsx)("ul",null,Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.mashingLearningFeatureTitle",defaultMessage:"Machine learning"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.alertingFeatureTitle",defaultMessage:"Alerting"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.graphCapabilitiesFeatureTitle",defaultMessage:"Graph capabilities"})),Object(l.jsx)("li",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.dataBaseConnectivityFeatureTitle",defaultMessage:"{jdbcStandard} and {odbcStandard} connectivity for {sqlDataBase}",values:{jdbcStandard:"JDBC",odbcStandard:"ODBC",sqlDataBase:"SQL"}}))),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityFeaturesConfigurationDescription",defaultMessage:"Advanced security features, such as authentication ({authenticationTypeList}), field- and document-level security, and auditing, require configuration. See the {securityDocumentationLinkText} for instructions.",values:{authenticationTypeList:"AD/LDAP, SAML, PKI, SAML/SSO",securityDocumentationLinkText:Object(l.jsx)(le.EuiLink,{href:e.security,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.securityDocumentationLinkText",defaultMessage:"documentation"}))}})),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsDescription",defaultMessage:"By starting this trial, you agree that it is subject to these {termsAndConditionsLinkText}.",values:{termsAndConditionsLinkText:Object(l.jsx)(le.EuiLink,{href:O.EXTERNAL_LINKS.TRIAL_LICENSE,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModalDescription.termsAndConditionsLinkText",defaultMessage:"terms and conditions"}))}})))))),Object(l.jsx)(le.EuiModalFooter,null,Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(l.jsx)(le.EuiFlexItem,{grow:!1},be(r)&&Object(l.jsx)(telemetry_opt_in_TelemetryOptIn,{telemetry:r,isStartTrial:!0,onOptInChange:this.onOptInChange,isOptingInToTelemetry:n})),Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiFlexGroup,{responsive:!1},Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiButtonEmpty,{"data-test-subj":"confirmModalCancelButton",onClick:this.cancel,buttonRef:this.cancelRef},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(l.jsx)(le.EuiFlexItem,{grow:!1,className:"licManagement__ieFlex"},Object(l.jsx)(le.EuiButton,{"data-test-subj":"confirmModalConfirmButton",onClick:this.onStartLicenseTrial,fill:!0,buttonRef:this.confirmRef,color:"primary"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.confirmModal.startTrialButtonLabel",defaultMessage:"Start my trial"})))))))):null}render(){const{shouldShowStartTrial:e}=this.props;if(!e)return null;const t=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.subscriptionFeaturesExperienceDescription",defaultMessage:"Experience what machine learning, advanced security, and all our other {subscriptionFeaturesLinkText} have to offer.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:O.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}})),n=Object(l.jsx)(le.EuiButton,{"data-test-subj":"startTrialButton",onClick:()=>this.setState({showConfirmation:!0})},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrial.startTrialButtonLabel",defaultMessage:"Start trial"}));return Object(l.jsx)(p,null,(e=>Object(l.jsx)(le.EuiFlexItem,null,this.acknowledgeModal(e.docLinks),Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.startTrialTitle",defaultMessage:"Start a 30-day trial"}),description:t,footer:n}))))}}const je={loadTrialStatus:()=>async(e,t,{http:n})=>{const r=await function(e){return e.get(`${O.API_BASE_PATH}/start_trial`,{headers:{contentType:"application/json"},cache:"no-cache"})}(n);e(k(r))},startLicenseTrial:()=>async(e,t,{licensing:n,toasts:r,http:a})=>{const{trial_was_started:o,error_message:s}=await function(e){return e.post(`${O.API_BASE_PATH}/start_trial`,{headers:{contentType:"application/json"},cache:"no-cache"})}(a);if(!o)return r.addDanger(s);await n.refresh(),window.location.reload()}},me=Object(i.connect)((e=>({shouldShowStartTrial:te(e)})),je)(start_trial_StartTrial),ge=({license:e,...t})=>Object(l.jsx)(le.EuiPageHeader,ce()({},t,{pageTitle:Object(l.jsx)("span",{"data-test-subj":"licenseText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusTitle",defaultMessage:"Your {licenseType} license is {status}",values:{licenseType:e.type,status:e.status}})),description:Object(l.jsx)("span",{"data-test-subj":"licenseSubText"},e.expirationDate?Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.activeLicenseStatusDescription",defaultMessage:"Your license will expire on {licenseExpirationDate}",values:{licenseExpirationDate:Object(l.jsx)("strong",null,e.expirationDate)}}):Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.permanentActiveLicenseStatusDescription",defaultMessage:"Your license will never expire."}))})),ve=({license:e,...t})=>Object(l.jsx)(le.EuiPageHeader,ce()({},t,{pageTitle:Object(l.jsx)("span",{"data-test-subj":"licenseText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusTitle",defaultMessage:"Your {licenseType} license has expired",values:{licenseType:e.type}})),description:Object(l.jsx)("span",{"data-test-subj":"licenseSubText"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.licenseStatus.expiredLicenseStatusDescription",defaultMessage:"Your license expired on {licenseExpirationDate}",values:{licenseExpirationDate:Object(l.jsx)("strong",null,e.expirationDate)}}))})),he=()=>{const e=Object(i.useSelector)(oe);return Object(l.jsx)(a.a.Fragment,null,e.isExpired?Object(l.jsx)(ve,{license:e,bottomBorder:!0,iconType:"alert",iconProps:{color:"danger"}}):Object(l.jsx)(ge,{license:e,bottomBorder:!0,iconType:"checkInCircleFilled",iconProps:{color:"success"}}),Object(l.jsx)(le.EuiSpacer,{size:"l"}))},xe=({uploadPath:e="/upload_license"})=>{const{services:t}=(()=>{const e=Object(r.useContext)(d);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e})();return Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseTitle",defaultMessage:"Update your license"}),description:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.useAvailableLicenseDescription",defaultMessage:"If you already have a new license, upload it now."}),footer:Object(l.jsx)(le.EuiButton,ce()({"data-test-subj":"updateLicenseButton"},Object(u.reactRouterNavigate)(t.history,e)),Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.addLicense.updateLicenseButtonLabel",defaultMessage:"Update license"}))})};class revert_to_basic_RevertToBasic extends a.a.PureComponent{constructor(...e){super(...e),fe()(this,"cancel",(()=>{this.props.uploadLicenseStatus({})}))}acknowledgeModal(){const{needsAcknowledgement:e,messages:[t,...n]=[],startBasicLicense:r,cancelStartBasicLicense:a,licenseType:o}=this.props;return e?Object(l.jsx)(le.EuiConfirmModal,{title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModalTitle",defaultMessage:"Confirm Revert to Basic License"}),onCancel:a,onConfirm:()=>r(o,!0),cancelButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,t),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("ul",null,n.map((e=>Object(l.jsx)("li",{key:e},e))))))):null}render(){const{licenseType:e,shouldShowRevertToBasicLicense:t,startBasicLicense:n}=this.props;if(!t)return null;const r=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.revertToFreeFeaturesDescription",defaultMessage:"You’ll revert to our free features and lose access to machine learning, advanced security, and other {subscriptionFeaturesLinkText}.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:O.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}}));return Object(l.jsx)(le.EuiFlexItem,null,this.acknowledgeModal(),Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModalTitle",defaultMessage:"Revert to Basic license"}),description:r,footer:Object(l.jsx)(le.EuiButton,{"data-test-subj":"revertToBasicButton",onClick:()=>n(e)},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.revertToBasic.acknowledgeModal.revertToBasicButtonLabel",defaultMessage:"Revert to Basic"}))}))}}const Me={startBasicLicense:(e,t)=>async(n,r,{licensing:a,toasts:o,http:s})=>{const{acknowledged:i,basic_was_started:c,error_message:u,acknowledge:l}=await function(e,t){return e.post(`${O.API_BASE_PATH}/start_basic`,{query:{acknowledge:t?"true":""},headers:{contentType:"application/json"},body:null,cache:"no-cache"})}(s,t);if(i){if(!c)return o.addDanger(u);await a.refresh(),window.location.reload()}else{const t=Object.values(l).slice(1).map((e=>e[0])),r=g.i18n.translate("xpack.licenseMgmt.replacingCurrentLicenseWithBasicLicenseWarningMessage",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a BASIC license. Review the list of features below.",values:{currentLicenseType:e.toUpperCase()}});n(w({acknowledge:!0,messages:[r,...t]}))}},cancelStartBasicLicense:C},ye=Object(i.connect)((e=>({shouldShowRevertToBasicLicense:X(e),licenseType:Y(e),needsAcknowledgement:re(e),messages:ae(e)})),Me)(revert_to_basic_RevertToBasic),Oe=Object(i.connect)((e=>({shouldShowRequestTrialExtension:ne(e)})))((({shouldShowRequestTrialExtension:e})=>{if(!e)return null;const t=Object(l.jsx)("span",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.howToContinueUsingPluginsDescription",defaultMessage:"If you’d like to continue using machine learning, advanced security, and our other awesome {subscriptionFeaturesLinkText}, request an extension now.",values:{subscriptionFeaturesLinkText:Object(l.jsx)(le.EuiLink,{href:O.EXTERNAL_LINKS.SUBSCRIPTIONS,target:"_blank"},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.subscriptionFeaturesLinkText",defaultMessage:"subscription features"}))}}));return Object(l.jsx)(le.EuiFlexItem,null,Object(l.jsx)(le.EuiCard,{hasBorder:!0,title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendYourTrialTitle",defaultMessage:"Extend your trial"}),description:t,footer:Object(l.jsx)(le.EuiButton,{"data-test-subj":"extendTrialButton",target:"_blank",href:O.EXTERNAL_LINKS.TRIAL_EXTENSION},Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.licenseDashboard.requestTrialExtension.extendTrialButtonLabel",defaultMessage:"Extend trial"}))}))})),Ee=e=>(t,n,{breadcrumbService:r})=>{r.setBreadcrumbs(e)},_e={setBreadcrumb:Ee},Te=Object(i.connect)(null,_e)((({setBreadcrumb:e,telemetry:t}={setBreadcrumb:()=>{}})=>(Object(r.useEffect)((()=>{e("dashboard")})),Object(l.jsx)(a.a.Fragment,null,Object(l.jsx)(he,null),Object(l.jsx)(le.EuiPageContentBody_Deprecated,null,Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceAround"},Object(l.jsx)(le.EuiFlexItem,null,Object(l.jsx)(xe,null)),Object(l.jsx)(me,{telemetry:t}),Object(l.jsx)(Oe,null),Object(l.jsx)(ye,null)))))));class upload_license_UploadLicense extends a.a.PureComponent{constructor(...e){super(...e),fe()(this,"state",{isOptingInToTelemetry:!1}),fe()(this,"onOptInChange",(e=>{this.setState({isOptingInToTelemetry:e})})),fe()(this,"send",(e=>{const t=this.file,n=new FileReader;n.onload=({target:{result:t}})=>{var n;this.state.isOptingInToTelemetry&&(null===(n=this.props.telemetry)||void 0===n||n.telemetryService.setOptIn(!0)),this.props.uploadLicense(t,this.props.currentLicenseType,e)},n.readAsText(t)})),fe()(this,"cancel",(()=>{this.props.uploadLicenseStatus({})})),fe()(this,"handleFile",(([e])=>{e&&this.props.addUploadErrorMessage(""),this.file=e})),fe()(this,"submit",(e=>{e.preventDefault(),this.file?this.send():this.props.addUploadErrorMessage(Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseFileNotSelectedErrorMessage",defaultMessage:"You must select a license file."}))}))}componentDidMount(){this.props.setBreadcrumb("upload"),this.props.addUploadErrorMessage("")}acknowledgeModal(){const{needsAcknowledgement:e,messages:[t,...n]=[]}=this.props;return e?Object(l.jsx)(le.EuiConfirmModal,{title:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModalTitle",defaultMessage:"Confirm License Upload"}),onCancel:this.cancel,onConfirm:()=>this.send(!0),cancelButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.confirmModal.confirmButtonLabel",defaultMessage:"Confirm"})},Object(l.jsx)("div",null,Object(l.jsx)(le.EuiText,null,t),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("ul",null,n.map((e=>Object(l.jsx)("li",{key:e},e))))))):null}errorMessage(){const{errorMessage:e}=this.props;return e?[e]:null}render(){const{currentLicenseType:e,applying:t,telemetry:n,history:r}=this.props;return Object(l.jsx)(le.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(le.EuiPageContentBody_Deprecated,null,Object(l.jsx)(le.EuiTitle,{size:"m"},Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadLicenseTitle",defaultMessage:"Upload your license"}))),Object(l.jsx)(le.EuiSpacer,null),this.acknowledgeModal(),Object(l.jsx)(le.EuiText,null,Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.licenseKeyTypeDescription",defaultMessage:"Your license key is a JSON file with a signature attached."})),Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.replacingCurrentLicenseWarningMessage",defaultMessage:"Uploading a license will replace your current {currentLicenseType} license.",values:{currentLicenseType:Object(l.jsx)("strong",null,e.toUpperCase())}}))),Object(l.jsx)(le.EuiSpacer,null),Object(l.jsx)(le.EuiForm,{isInvalid:!!this.errorMessage(),error:this.errorMessage()},Object(l.jsx)(le.EuiFilePicker,{fullWidth:!0,id:"licenseFile",initialPromptText:Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.selectLicenseFileDescription",defaultMessage:"Select or drag your license file"}),onChange:this.handleFile}),Object(l.jsx)(le.EuiSpacer,{size:"m"}),be(n)&&Object(l.jsx)(telemetry_opt_in_TelemetryOptIn,{isOptingInToTelemetry:this.state.isOptingInToTelemetry,onOptInChange:this.onOptInChange,telemetry:n}),Object(l.jsx)(le.EuiSpacer,{size:"m"}),Object(l.jsx)(le.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(l.jsx)(le.EuiFlexItem,{grow:!1},Object(l.jsx)(le.EuiButtonEmpty,ce()({"data-test-subj":"cancelUploadButton"},Object(u.reactRouterNavigate)(r,"/home")),Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.cancelButtonLabel",defaultMessage:"Cancel"}))),Object(l.jsx)(le.EuiFlexItem,{grow:!1},Object(l.jsx)(le.EuiButton,{"data-test-subj":"uploadLicenseButton",fill:!0,isLoading:t,onClick:this.submit},t?Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadingButtonLabel",defaultMessage:"Uploading…"}):Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.uploadLicense.uploadButtonLabel",defaultMessage:"Upload"})))))))}}const Se={addUploadErrorMessage:E,uploadLicense:(e,t,n)=>async(r,a,o)=>{r(_({applying:!0}));let s=null;try{({type:s}=JSON.parse(e).license)}catch(e){return r(_({})),r(E(g.i18n.translate("xpack.licenseMgmt.uploadLicense.checkLicenseFileErrorMessage",{defaultMessage:"{genericUploadError} Check your license file.",values:{genericUploadError:T}})))}try{const a=await function(e,t,n){return e.put(O.API_BASE_PATH,{query:{acknowledge:n?"true":""},body:t,headers:{contentType:"application/json"},cache:"no-cache"})}(o.http,e,n);await(async(e,t,n,r,{history:a,licensing:o})=>{const{error:s,acknowledged:i,license_status:c,acknowledge:u}=e;if(s)t(_({})),t(E(`${T} ${s.reason}`));else if(i)if("invalid"===c)t(_({})),t(E(g.i18n.translate("xpack.licenseMgmt.uploadLicense.invalidLicenseErrorMessage",{defaultMessage:"The supplied license is not valid for this product."})));else if("expired"===c)t(_({})),t(E(g.i18n.translate("xpack.licenseMgmt.uploadLicense.expiredLicenseErrorMessage",{defaultMessage:"The supplied license has expired."})));else{const e=await o.refresh();t(M(e)),t(_({})),a.replace("/home"),window.location.reload()}else{const e=Object.values(u).slice(1),a=g.i18n.translate("xpack.licenseMgmt.uploadLicense.problemWithUploadedLicenseDescription",{defaultMessage:"Some functionality will be lost if you replace your {currentLicenseType} license with a {newLicenseType} license. Review the list of features below.",values:{currentLicenseType:n.toUpperCase(),newLicenseType:r.toUpperCase()}});t(_({acknowledge:!0,messages:[a,...e]}))}})(a,r,t,s,o)}catch(e){const t=e.responseJSON&&e.responseJSON.error.reason?e.responseJSON.error.reason:g.i18n.translate("xpack.licenseMgmt.uploadLicense.unknownErrorErrorMessage",{defaultMessage:"Unknown error."});r(_({})),r(E(`${T} ${t}`))}},uploadLicenseStatus:_,setBreadcrumb:Ee},we=Object(i.connect)((e=>({isInvalid:Q(e),needsAcknowledgement:J(e),messages:Z(e),errorMessage:ee(e),applying:V(e),currentLicenseType:Y(e)||""})),Se)(upload_license_UploadLicense),Ce={loadPermissions:()=>async(e,t,{http:n})=>{e(I(!0));try{const t=await function(e){return e.post(`${O.API_BASE_PATH}/permissions`,{headers:{contentType:"application/json"},cache:"no-cache"})}(n);e(I(!1)),e(D(t.hasPermission))}catch(t){e(I(!1)),e(F(t))}}},Le=Object(s.withRouter)(Object(i.connect)((e=>({hasPermission:q(e),permissionsLoading:z(e),permissionsError:H(e)})),Ce)((({hasPermission:e,permissionsLoading:t,permissionsError:n,telemetry:a,loadPermissions:o,executionContext:i})=>{if(Object(u.useExecutionContext)(i,{type:"application",page:"licenseManagement"}),Object(r.useEffect)((()=>{o()}),[o]),t)return Object(l.jsx)(le.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(c.SectionLoading,null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.loadingPermissionsDescription",defaultMessage:"Checking permissions…"})));if(n){var d;const e=null==n||null===(d=n.data)||void 0===d?void 0:d.message;return Object(l.jsx)(le.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(l.jsx)(le.EuiEmptyPrompt,{iconType:"alert",title:Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.checkingPermissionsErrorMessage",defaultMessage:"Error checking permissions"})),body:e?Object(l.jsx)("p",null,e):null}))}if(!e)return Object(l.jsx)(le.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(l.jsx)(le.EuiEmptyPrompt,{iconType:"securityApp",title:Object(l.jsx)("h1",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionTitle",defaultMessage:"Cluster privileges required"})),body:Object(l.jsx)("p",null,Object(l.jsx)(ue.FormattedMessage,{id:"xpack.licenseMgmt.app.deniedPermissionDescription",defaultMessage:"To use License Management, you must have {permissionType} privileges.",values:{permissionType:Object(l.jsx)("strong",null,O.APP_PERMISSION)}}))}));const f=e=>t=>Object(l.jsx)(e,ce()({},t,{telemetry:a}));return Object(l.jsx)(le.EuiPageBody,null,Object(l.jsx)(s.Switch,null,Object(l.jsx)(s.Route,{path:"/upload_license",component:f(we)}),Object(l.jsx)(s.Route,{path:["/"],component:f(Te)})))}))),Pe=e=>Object(l.jsx)(s.Router,{history:e.history},Object(l.jsx)(Le,e)),ke=(e,t)=>(Object(o.render)(Object(l.jsx)(se,{appDependencies:t},Object(l.jsx)(Pe,{telemetry:t.plugins.telemetry,history:t.services.history,executionContext:t.core.executionContext})),e),()=>{Object(o.unmountComponentAtNode)(e)})}])]);