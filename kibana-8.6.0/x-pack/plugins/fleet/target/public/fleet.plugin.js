/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,a,i=t[0],o=t[1],s=0,c=[];s<i.length;s++)a=i[s],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={1:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+"fleet.chunk."+e+".js"}(e);var u=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:s})}),12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.fleet_bundle_jsonpfunction=window.fleet_bundle_jsonpfunction||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=o;a(a.s=65)}([function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.d(t,"L",(function(){return a})),n.d(t,"W",(function(){return r})),n.d(t,"t",(function(){return i})),n.d(t,"T",(function(){return o})),n.d(t,"u",(function(){return p})),n.d(t,"o",(function(){return f})),n.d(t,"U",(function(){return g})),n.d(t,"g",(function(){return E})),n.d(t,"M",(function(){return m})),n.d(t,"Q",(function(){return h})),n.d(t,"E",(function(){return _})),n.d(t,"Z",(function(){return b})),n.d(t,"l",(function(){return T})),n.d(t,"f",(function(){return P})),n.d(t,"s",(function(){return I})),n.d(t,"c",(function(){return v})),n.d(t,"ab",(function(){return y})),n.d(t,"X",(function(){return O})),n.d(t,"p",(function(){return A})),n.d(t,"b",(function(){return N})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return k})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return L})),n.d(t,"e",(function(){return j})),n.d(t,"J",(function(){return x})),n.d(t,"i",(function(){return $})),n.d(t,"h",(function(){return C})),n.d(t,"cb",(function(){return w})),n.d(t,"P",(function(){return M})),n.d(t,"V",(function(){return D})),n.d(t,"S",(function(){return U})),n.d(t,"m",(function(){return F})),n.d(t,"I",(function(){return G})),n.d(t,"A",(function(){return B})),n.d(t,"F",(function(){return q})),n.d(t,"B",(function(){return V})),n.d(t,"x",(function(){return K})),n.d(t,"H",(function(){return z})),n.d(t,"C",(function(){return H})),n.d(t,"y",(function(){return X})),n.d(t,"z",(function(){return Y})),n.d(t,"K",(function(){return Q})),n.d(t,"db",(function(){return Z})),n.d(t,"eb",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"fb",(function(){return ne})),n.d(t,"O",(function(){return re})),n.d(t,"r",(function(){return ae})),n.d(t,"Y",(function(){return oe})),n.d(t,"n",(function(){return ce})),n.d(t,"N",(function(){return de})),n.d(t,"q",(function(){return pe})),n.d(t,"w",(function(){return fe})),n.d(t,"v",(function(){return ge})),n.d(t,"bb",(function(){return Ee})),n.d(t,"D",(function(){return me})),n.d(t,"G",(function(){return he}));const r="fleet",a="integrations",i="/api/fleet/epm",o="/api/fleet/package_policies",s="/api/fleet/agent_policies",u="/api/fleet/kubernetes",c=`${i}/packages`,l=`${c}/{pkgkey}`,d=`${c}/{pkgName}/{pkgVersion}`,p={BULK_INSTALL_PATTERN:`${c}/_bulk`,LIST_PATTERN:c,LIMITED_LIST_PATTERN:`${c}/limited`,INFO_PATTERN:d,INSTALL_FROM_REGISTRY_PATTERN:d,INSTALL_BY_UPLOAD_PATTERN:c,DELETE_PATTERN:d,FILEPATH_PATTERN:`${d}/{filePath*}`,CATEGORIES_PATTERN:`${i}/categories`,STATS_PATTERN:`${c}/{pkgName}/stats`,INFO_PATTERN_DEPRECATED:l,INSTALL_FROM_REGISTRY_PATTERN_DEPRECATED:l,DELETE_PATTERN_DEPRECATED:l},f={LIST_PATTERN:"/api/fleet/data_streams"},g={LIST_PATTERN:`${o}`,BULK_GET_PATTERN:`${o}/_bulk_get`,INFO_PATTERN:`${o}/{packagePolicyId}`,CREATE_PATTERN:`${o}`,UPDATE_PATTERN:`${o}/{packagePolicyId}`,DELETE_PATTERN:`${o}/delete`,UPGRADE_PATTERN:`${o}/upgrade`,DRYRUN_PATTERN:`${o}/upgrade/dryrun`,ORPHANED_INTEGRATION_POLICIES:"/internal/fleet/orphaned_integration_policies"},E={LIST_PATTERN:`${s}`,BULK_GET_PATTERN:`${s}/_bulk_get`,INFO_PATTERN:`${s}/{agentPolicyId}`,CREATE_PATTERN:`${s}`,UPDATE_PATTERN:`${s}/{agentPolicyId}`,COPY_PATTERN:`${s}/{agentPolicyId}/copy`,DELETE_PATTERN:`${s}/delete`,FULL_INFO_PATTERN:`${s}/{agentPolicyId}/full`,FULL_INFO_DOWNLOAD_PATTERN:`${s}/{agentPolicyId}/download`},m={K8S_DOWNLOAD_PATTERN:`${u}/download`,K8S_INFO_PATTERN:`${u}`},h={LIST_PATTERN:"/api/fleet/outputs",INFO_PATTERN:"/api/fleet/outputs/{outputId}",UPDATE_PATTERN:"/api/fleet/outputs/{outputId}",DELETE_PATTERN:"/api/fleet/outputs/{outputId}",CREATE_PATTERN:"/api/fleet/outputs",LOGSTASH_API_KEY_PATTERN:"/api/fleet/logstash_api_keys"},_={LIST_PATTERN:"/api/fleet/fleet_server_hosts",CREATE_PATTERN:"/api/fleet/fleet_server_hosts",INFO_PATTERN:"/api/fleet/fleet_server_hosts/{itemId}",UPDATE_PATTERN:"/api/fleet/fleet_server_hosts/{itemId}",DELETE_PATTERN:"/api/fleet/fleet_server_hosts/{itemId}"},b={INFO_PATTERN:"/api/fleet/settings",UPDATE_PATTERN:"/api/fleet/settings"},T={HEALTH_CHECK_PATTERN:"/api/fleet/health_check",CHECK_PERMISSIONS_PATTERN:"/api/fleet/check-permissions",GENERATE_SERVICE_TOKEN_PATTERN:"/api/fleet/service_tokens",GENERATE_SERVICE_TOKEN_PATTERN_DEPRECATED:"/api/fleet/service-tokens"},P={LIST_PATTERN:"/api/fleet/agents",INFO_PATTERN:"/api/fleet/agents/{agentId}",UPDATE_PATTERN:"/api/fleet/agents/{agentId}",BULK_UPDATE_AGENT_TAGS_PATTERN:"/api/fleet/agents/bulk_update_agent_tags",DELETE_PATTERN:"/api/fleet/agents/{agentId}",CHECKIN_PATTERN:"/api/fleet/agents/{agentId}/checkin",ACKS_PATTERN:"/api/fleet/agents/{agentId}/acks",ACTIONS_PATTERN:"/api/fleet/agents/{agentId}/actions",CANCEL_ACTIONS_PATTERN:"/api/fleet/agents/actions/{actionId}/cancel",UNENROLL_PATTERN:"/api/fleet/agents/{agentId}/unenroll",BULK_UNENROLL_PATTERN:"/api/fleet/agents/bulk_unenroll",REASSIGN_PATTERN:"/api/fleet/agents/{agentId}/reassign",BULK_REASSIGN_PATTERN:"/api/fleet/agents/bulk_reassign",REQUEST_DIAGNOSTICS_PATTERN:"/api/fleet/agents/{agentId}/request_diagnostics",BULK_REQUEST_DIAGNOSTICS_PATTERN:"/api/fleet/agents/bulk_request_diagnostics",AVAILABLE_VERSIONS_PATTERN:"/api/fleet/agents/available_versions",STATUS_PATTERN:"/api/fleet/agent_status",DATA_PATTERN:"/api/fleet/agent_status/data",STATUS_PATTERN_DEPRECATED:"/api/fleet/agent-status",UPGRADE_PATTERN:"/api/fleet/agents/{agentId}/upgrade",BULK_UPGRADE_PATTERN:"/api/fleet/agents/bulk_upgrade",CURRENT_UPGRADES_PATTERN:"/api/fleet/agents/current_upgrades",ACTION_STATUS_PATTERN:"/api/fleet/agents/action_status",LIST_TAGS_PATTERN:"/api/fleet/agents/tags",LIST_UPLOADS_PATTERN:"/api/fleet/agents/{agentId}/uploads",GET_UPLOAD_FILE_PATTERN:"/api/fleet/agents/files/{fileId}/{fileName}"},I={CREATE_PATTERN:"/api/fleet/enrollment_api_keys",LIST_PATTERN:"/api/fleet/enrollment_api_keys",INFO_PATTERN:"/api/fleet/enrollment_api_keys/{keyId}",DELETE_PATTERN:"/api/fleet/enrollment_api_keys/{keyId}",CREATE_PATTERN_DEPRECATED:"/api/fleet/enrollment-api-keys",LIST_PATTERN_DEPRECATED:"/api/fleet/enrollment-api-keys",INFO_PATTERN_DEPRECATED:"/api/fleet/enrollment-api-keys/{keyId}",DELETE_PATTERN_DEPRECATED:"/api/fleet/enrollment-api-keys/{keyId}"},v={INFO_PATTERN:"/api/fleet/agents/setup",CREATE_PATTERN:"/api/fleet/agents/setup"},y="/api/fleet/setup",O={UPDATE_PATTERN:"/api/fleet/setup/preconfiguration",RESET_PATTERN:"/internal/fleet/reset_preconfigured_agent_policies",RESET_ONE_PATTERN:"/internal/fleet/reset_preconfigured_agent_policies/{agentPolicyId}"},A={LIST_PATTERN:"/api/fleet/agent_download_sources",INFO_PATTERN:"/api/fleet/agent_download_sources/{sourceId}",CREATE_PATTERN:"/api/fleet/agent_download_sources",UPDATE_PATTERN:"/api/fleet/agent_download_sources/{sourceId}",DELETE_PATTERN:"/api/fleet/agent_download_sources/{sourceId}"},N="fleet-agents",R=3e4,k=3e4,S=".fleet-agents",L=".fleet-actions",j=".fleet-actions-results",x=["starting","configuring","healthy","degraded","failed","stopping","stopped"],$="ingest-agent-policies",C=".fleet-policies",w={Active:"active",Inactive:"inactive"},M="platinum",D="ingest-package-policies",U="epm-packages",F="epm-packages-assets",G="system",B="elastic_agent",q="fleet_server",V="endpoint",K="apm",z="synthetics",H="kubernetes",X="cloud_security_posture",Y="elastic_agent-f47f18cc-9c7d-4278-b2ea-a6dee816d395",J=[V,K,z,X],Q=[V,K,z],W=[K,z,X],Z={Logs:"logs",Metrics:"metrics"},ee=(Object.values(Z),{Installed:"installed",Installing:"installing",InstallFailed:"install_failed",NotInstalled:"not_installed"}),te="ingest-outputs",ne={Elasticsearch:"elasticsearch",Logstash:"logstash"},re=(ne.Elasticsearch,"platinum"),ae=".fleet-enrollment-api-keys";var ie=n(11);const oe="fleet-preconfiguration-deletion-record",se="latest",ue=J.map((e=>({name:e,version:se}))),ce=W.map((e=>({name:e,version:se}))),le=[G,B,q].map((e=>({name:e,version:se}))),de=Object(ie.uniqBy)([...ce,...le,...ue],(({name:e})=>e)),pe=["writeEndpointList","readEndpointList","writeTrustedApplications","readTrustedApplications","writeHostIsolationExceptions","readHostIsolationExceptions","writeBlocklist","readBlocklist","writeEventFilters","readEventFilters","writePolicyManagement","readPolicyManagement","writeActionsLogManagement","readActionsLogManagement","writeHostIsolation","writeProcessOperations","writeFileOperations"],fe=".fleet-files-*",ge=".fleet-file-data-*",Ee=(Object.keys({elastic_agent:"agent",endpoint:"endpoint"}),1e4),me=".fleet-artifacts",he=".fleet-servers"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r.a})),n.d(t,"a",(function(){return a.a})),n.d(t,"c",(function(){return a.d})),n.d(t,"x",(function(){return a.I})),n.d(t,"g",(function(){return a.h})),n.d(t,"m",(function(){return a.p})),n.d(t,"d",(function(){return a.e})),n.d(t,"k",(function(){return a.m})),n.d(t,"l",(function(){return a.n})),n.d(t,"C",(function(){return a.L})),n.d(t,"w",(function(){return a.H})),n.d(t,"B",(function(){return a.K})),n.d(t,"e",(function(){return a.f})),n.d(t,"y",(function(){return a.J})),n.d(t,"n",(function(){return a.q})),n.d(t,"r",(function(){return a.F})),n.d(t,"h",(function(){return a.j})),n.d(t,"u",(function(){return a.G})),n.d(t,"q",(function(){return a.B})),n.d(t,"i",(function(){return a.k})),n.d(t,"D",(function(){return a.N})),n.d(t,"E",(function(){return a.O})),n.d(t,"F",(function(){return a.P})),n.d(t,"f",(function(){return a.g})),n.d(t,"o",(function(){return a.A})),n.d(t,"j",(function(){return a.l})),n.d(t,"t",(function(){return i})),n.d(t,"v",(function(){return o})),n.d(t,"z",(function(){return s})),n.d(t,"p",(function(){return u})),n.d(t,"A",(function(){return l})),n.d(t,"s",(function(){return d.b})),n(30);var r=n(31),a=n(5);function i(e,t){if(!("savedObject"in e))return!1;const{verification_status:n,verification_key_id:a}=e.savedObject.attributes,{packageVerification:i}=r.a.get();return i&&("unverified"===n||"verified"===n&&!!a&&a!==t)}const o=e=>{var t;return e&&"attributes"in e&&"verification_failed"===(null===(t=e.attributes)||void 0===t?void 0:t.type)},s=e=>`${e.name}-${e.version}`;function u(e,t){const n=e.map((e=>e.name)).map((e=>{const n=e.match(t?/Fleet Server policy (\d+)/:/Agent policy (\d+)/);return n?parseInt(n[1],10):0}));return`${t?"Fleet Server":"Agent"} policy ${Math.max(...n,0)+1}`}n(32);var c=n(7);function l(e){return!!e.package_policies&&e.package_policies.some((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)===c.j}))}var d=n(46)},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n(0),a=n(44);let i;const o=e=>{i=e},s=e=>{if(!i)throw new Error("sendRequest has no http client set");return Object(a.sendRequest)(i,e)},u=e=>{if(!i)throw new Error("sendRequest has no http client set");return Object(a.useRequest)(i,e)},c=e=>{const[t,n]=Object(r.useState)({error:null,data:null,isLoading:!1}),{path:a,method:i,shouldSendRequest:o,query:u,body:c}=e;async function l(){if(e.shouldSendRequest)try{n({data:null,isLoading:!0,error:null});const t=await s({method:e.method,path:e.path,query:e.query,body:e.body});if(t.error)throw t.error;return n({data:t.data,isLoading:!1,error:null}),t}catch(e){n({data:null,isLoading:!1,error:e})}else n({data:null,isLoading:!1,error:null})}return Object(r.useEffect)((()=>{l()}),[a,i,o,JSON.stringify(u),JSON.stringify(c)]),{...t,sendRequest:l}}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){"use strict";n.d(t,"n",(function(){return a})),n.d(t,"I",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"p",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"H",(function(){return l})),n.d(t,"o",(function(){return d})),n.d(t,"K",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"L",(function(){return E})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"J",(function(){return R})),n.d(t,"A",(function(){return O})),n.d(t,"q",(function(){return S})),n.d(t,"F",(function(){return L})),n.d(t,"j",(function(){return j})),n.d(t,"i",(function(){return x.a})),n.d(t,"G",(function(){return $.b})),n.d(t,"b",(function(){return $.a})),n.d(t,"C",(function(){return C})),n.d(t,"c",(function(){return license_LicenseService})),n.d(t,"B",(function(){return V})),n.d(t,"D",(function(){return b})),n.d(t,"E",(function(){return T})),n.d(t,"x",(function(){return P})),n.d(t,"w",(function(){return I})),n.d(t,"k",(function(){return H})),n.d(t,"N",(function(){return Q})),n.d(t,"O",(function(){return W})),n.d(t,"P",(function(){return ee})),n.d(t,"g",(function(){return Z})),n.d(t,"M",(function(){return re})),n.d(t,"v",(function(){return ae})),n.d(t,"y",(function(){return se})),n.d(t,"s",(function(){return ue})),n.d(t,"z",(function(){return ie})),n.d(t,"r",(function(){return oe})),n.d(t,"u",(function(){return ce})),n.d(t,"t",(function(){return le}));var r=n(1);const a={getCategoriesPath:()=>r.u.CATEGORIES_PATTERN,getListPath:()=>r.u.LIST_PATTERN,getListLimitedPath:()=>r.u.LIMITED_LIST_PATTERN,getInfoPath:(e,t)=>t?r.u.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t):r.u.INFO_PATTERN.replace("{pkgName}",e).replace("/{pkgVersion}",""),getStatsPath:e=>r.u.STATS_PATTERN.replace("{pkgName}",e),getFilePath:e=>`${r.t}${e.replace("/package","/packages")}`,getInstallPath:(e,t)=>r.u.INSTALL_FROM_REGISTRY_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getBulkInstallPath:()=>r.u.BULK_INSTALL_PATTERN,getRemovePath:(e,t)=>r.u.DELETE_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t).replace(/\/$/,""),getUpdatePath:(e,t)=>r.u.INFO_PATTERN.replace("{pkgName}",e).replace("{pkgVersion}",t)},i={getListPath:()=>r.U.LIST_PATTERN,getInfoPath:e=>r.U.INFO_PATTERN.replace("{packagePolicyId}",e),getCreatePath:()=>r.U.CREATE_PATTERN,getUpdatePath:e=>r.U.UPDATE_PATTERN.replace("{packagePolicyId}",e),getDeletePath:()=>r.U.DELETE_PATTERN,getUpgradePath:()=>r.U.UPGRADE_PATTERN,getDryRunPath:()=>r.U.DRYRUN_PATTERN,getOrphanedIntegrationPoliciesPath:()=>r.U.ORPHANED_INTEGRATION_POLICIES},o={getListPath:()=>r.g.LIST_PATTERN,getBulkGetPath:()=>r.g.BULK_GET_PATTERN,getInfoPath:e=>r.g.INFO_PATTERN.replace("{agentPolicyId}",e),getCreatePath:()=>r.g.CREATE_PATTERN,getUpdatePath:e=>r.g.UPDATE_PATTERN.replace("{agentPolicyId}",e),getCopyPath:e=>r.g.COPY_PATTERN.replace("{agentPolicyId}",e),getDeletePath:()=>r.g.DELETE_PATTERN,getInfoFullPath:e=>r.g.FULL_INFO_PATTERN.replace("{agentPolicyId}",e),getInfoFullDownloadPath:e=>r.g.FULL_INFO_DOWNLOAD_PATTERN.replace("{agentPolicyId}",e),getK8sInfoPath:()=>r.M.K8S_INFO_PATTERN,getK8sFullDownloadPath:()=>r.M.K8S_DOWNLOAD_PATTERN,getResetOnePreconfiguredAgentPolicyPath:e=>r.X.RESET_ONE_PATTERN.replace("{agentPolicyId}",e),getResetAllPreconfiguredAgentPolicyPath:()=>r.X.RESET_PATTERN},s={getListPath:()=>r.o.LIST_PATTERN},u={getFleetSetupPath:()=>r.c.INFO_PATTERN,postFleetSetupPath:()=>r.c.CREATE_PATTERN},c={getInfoPath:e=>r.f.INFO_PATTERN.replace("{agentId}",e),getUpdatePath:e=>r.f.UPDATE_PATTERN.replace("{agentId}",e),getBulkUpdateTagsPath:()=>r.f.BULK_UPDATE_AGENT_TAGS_PATTERN,getUnenrollPath:e=>r.f.UNENROLL_PATTERN.replace("{agentId}",e),getBulkUnenrollPath:()=>r.f.BULK_UNENROLL_PATTERN,getReassignPath:e=>r.f.REASSIGN_PATTERN.replace("{agentId}",e),getBulkReassignPath:()=>r.f.BULK_REASSIGN_PATTERN,getUpgradePath:e=>r.f.UPGRADE_PATTERN.replace("{agentId}",e),getBulkUpgradePath:()=>r.f.BULK_UPGRADE_PATTERN,getActionStatusPath:()=>r.f.ACTION_STATUS_PATTERN,getCurrentUpgradesPath:()=>r.f.CURRENT_UPGRADES_PATTERN,getCancelActionPath:e=>r.f.CANCEL_ACTIONS_PATTERN.replace("{actionId}",e),getListPath:()=>r.f.LIST_PATTERN,getStatusPath:()=>r.f.STATUS_PATTERN,getIncomingDataPath:()=>r.f.DATA_PATTERN,getCreateActionPath:e=>r.f.ACTIONS_PATTERN.replace("{agentId}",e),getListTagsPath:()=>r.f.LIST_TAGS_PATTERN,getAvailableVersionsPath:()=>r.f.AVAILABLE_VERSIONS_PATTERN,getRequestDiagnosticsPath:e=>r.f.REQUEST_DIAGNOSTICS_PATTERN.replace("{agentId}",e),getBulkRequestDiagnosticsPath:()=>r.f.BULK_REQUEST_DIAGNOSTICS_PATTERN,getListAgentUploads:e=>r.f.LIST_UPLOADS_PATTERN.replace("{agentId}",e),getAgentFileDownloadLink:(e,t)=>r.f.GET_UPLOAD_FILE_PATTERN.replace("{fileId}",e).replace("{fileName}",t)},l={getInfoPath:e=>r.Q.INFO_PATTERN.replace("{outputId}",e),getUpdatePath:e=>r.Q.UPDATE_PATTERN.replace("{outputId}",e),getListPath:()=>r.Q.LIST_PATTERN,getDeletePath:e=>r.Q.DELETE_PATTERN.replace("{outputId}",e),getCreatePath:()=>r.Q.CREATE_PATTERN,getCreateLogstashApiKeyPath:()=>r.Q.LOGSTASH_API_KEY_PATTERN},d={getInfoPath:e=>r.E.INFO_PATTERN.replace("{itemId}",e),getUpdatePath:e=>r.E.UPDATE_PATTERN.replace("{itemId}",e),getListPath:()=>r.E.LIST_PATTERN,getDeletePath:e=>r.E.DELETE_PATTERN.replace("{itemId}",e),getCreatePath:()=>r.E.CREATE_PATTERN},p={getInfoPath:()=>r.Z.INFO_PATTERN,getUpdatePath:()=>r.Z.UPDATE_PATTERN},f={getCheckPermissionsPath:e=>r.l.CHECK_PERMISSIONS_PATTERN,getRegenerateServiceTokenPath:()=>r.l.GENERATE_SERVICE_TOKEN_PATTERN},g={getListPath:()=>r.s.LIST_PATTERN,getCreatePath:()=>r.s.CREATE_PATTERN,getInfoPath:e=>r.s.INFO_PATTERN.replace("{keyId}",e),getDeletePath:e=>r.s.DELETE_PATTERN.replace("{keyId}",e)},E={getSetupPath:()=>r.ab},m={getInfoPath:e=>r.p.INFO_PATTERN.replace("{sourceId}",e),getUpdatePath:e=>r.p.UPDATE_PATTERN.replace("{sourceId}",e),getListPath:()=>r.p.LIST_PATTERN,getDeletePath:e=>r.p.DELETE_PATTERN.replace("{sourceId}",e),getCreatePath:()=>r.p.CREATE_PATTERN};var h=n(50);const _={name:"data_stream.dataset",type:"text",title:"Dataset name",description:"Set the name for your dataset. Changing the dataset will send the data to a different index. You can't use `-` in the name of a dataset and only valid characters for [Elasticsearch index names](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html).\n",multi:!1,required:!0,show_user:!0};function b(e){return"input"in e}function T(e){return!b(e)}const P=e=>T(e)?e.inputs||[]:[{type:e.input,title:e.title,description:e.description}],I=e=>{if("input"!==e.type)return e.data_streams||[];const t=e.policy_templates;return t&&0!==t.length?t.map((t=>({type:t.type,dataset:y(e,t),title:t.title+" Dataset",release:e.release||"ga",package:e.name,path:e.name,streams:[{input:t.input,vars:v(t.vars),template_path:t.template_path,title:t.title,description:t.title,enabled:!0}]}))):[]},v=e=>{const t=null!=e?e:[];return t.find((e=>e.name===_.name))?t:[...t,_]},y=(e,t)=>e.name+"."+t.name,O=(e,t,n=[])=>{const r=[],a=I(t);return(n.length?a.filter((e=>n.includes(e.path))):a).forEach((t=>{(t.streams||[]).forEach((n=>{n.input===e&&r.push({...n,data_stream:{type:t.type,dataset:t.dataset},release:t.release})}))})),r},A=(e,t)=>{const n={value:!t.default&&t.multi?[]:t.default};return t.type&&(n.type=t.type),e[t.name]=n,e},N=(e,t)=>{var n;const r=H(e),a=[],i={};return null===(n=e.policy_templates)||void 0===n||n.forEach((e=>{const t=P(e);null==t||t.forEach((t=>{const n=`${e.name}-${t.type}`,r={...t,...T(e)&&e.data_streams?{data_streams:e.data_streams}:{},policy_template:e.name};i[n]=r}))})),Object.values(i).forEach((n=>{var i;const o=[];let s={};const u=O(n.type,e,n.data_streams).map((e=>{const t={enabled:!1!==e.enabled,data_stream:e.data_stream,release:e.release};return e.vars&&e.vars.length&&(t.vars=e.vars.reduce(A,{})),t}));null!==(i=n.vars)&&void 0!==i&&i.length&&!r&&(s=n.vars.reduce(A,{})),o.push(...u);let c=!o.length||!!o.find((e=>e.enabled));c&&r&&t&&t!==n.policy_template&&(c=!1);const l={type:n.type,policy_template:n.policy_template,enabled:c,streams:o};Object.keys(s).length&&(l.vars=s),a.push(l)})),a},R=(e,t,n="",r,a,i)=>{var o;const s={name:r||`${e.name}-1`,namespace:n,description:a,package:{name:e.name,title:e.title,version:e.version},enabled:!0,policy_id:t,inputs:N(e,i),vars:void 0};return null!==(o=e.vars)&&void 0!==o&&o.length&&(s.vars=e.vars.reduce(A,{})),s},k=["id","name","revision","dataset","type","outputs","output_permissions","agent","inputs","enabled","use_output","meta","input","download"],S=(e,t)=>t(e,{skipInvalid:!0,sortKeys:(e,t)=>{const n=k.indexOf(e),r=k.indexOf(t);return n>=0&&r<0?-1:n<0&&r>=0?1:n-r}}),L=e=>(e.policy_templates||[]).some((e=>!1===e.multiple)),j=(e,t)=>{if(!e.package_policies)throw new Error("Unable to read full package policy information");return e.package_policies.map((e=>{var t;return(null===(t=e.package)||void 0===t?void 0:t.name)||""})).includes(t)};var x=n(58),$=n(41);function C(e){const t=new URL(e[0]),n=t.protocol,r=t.pathname;return e.some((e=>{const t=new URL(e),a=t.protocol,i=t.pathname;return n!==a||r!==i}))}var w=n(10),M=n.n(w);class license_LicenseService{constructor(){M()(this,"observable",null),M()(this,"subscription",null),M()(this,"licenseInformation",null)}updateInformation(e){this.licenseInformation=e}start(e){this.observable=e,this.subscription=this.observable.subscribe(this.updateInformation.bind(this))}stop(){this.subscription&&this.subscription.unsubscribe()}getLicenseInformation(){return this.licenseInformation}getLicenseInformation$(){return this.observable}isGoldPlus(){return this.hasAtLeast("gold")}isEnterprise(){return this.hasAtLeast("enterprise")}hasAtLeast(e){var t,n,r;return(null===(t=this.licenseInformation)||void 0===t?void 0:t.isAvailable)&&(null===(n=this.licenseInformation)||void 0===n?void 0:n.isActive)&&(null===(r=this.licenseInformation)||void 0===r?void 0:r.hasAtLeast(e))}}var D=n(20),U=n.n(D),F=n(26),G=n.n(F),B=n(29),q=n.n(B);function V(e,t,n){var r,a,i;let o;return"string"==typeof(null==e||null===(r=e.local_metadata)||void 0===r||null===(a=r.elastic)||void 0===a||null===(i=a.agent)||void 0===i?void 0:i.version)&&(o=e.local_metadata.elastic.agent.version,!e.unenrollment_started_at&&!e.unenrolled_at&&!!e.local_metadata.elastic.agent.upgradeable&&!(e.upgrade_started_at&&!e.upgraded_at)&&(void 0!==n?z(o,n)&&K(o,t):K(o,t)))}const K=(e,t)=>{const n=U()(e);if(!n)throw new Error("agent version is not valid");const r=U()(t);if(!r)throw new Error("kibana version is not valid");return G()(n,r)},z=(e,t)=>{const n=U()(e);if(!n)throw new Error("agent version is not valid");const r=U()(t);if(!r)throw new Error("target version is not valid");return q()(r,n)},H=e=>(e.policy_templates||[]).length>1;var X=n(30),Y=n(4),J=n(11);const Q=(e,t,n)=>{const r=H(t),a={name:null,description:null,namespace:null,inputs:{},vars:{}},i=Object($.b)(e.namespace);e.name.trim()||(a.name=[Y.i18n.translate("xpack.fleet.packagePolicyValidation.nameRequiredErrorMessage",{defaultMessage:"Name is required"})]),!i.valid&&i.error&&(a.namespace=[i.error]);const o=Object(J.keyBy)(t.vars||[],"name"),s=Object.entries(e.vars||{});if(s.length&&(a.vars=s.reduce(((e,[t,r])=>(e[t]=W(r,o[t],t,n),e)),{})),!t.policy_templates||0===t.policy_templates.length||!t.policy_templates.find((e=>b(e)||e.inputs&&e.inputs.length>0)))return a.inputs=null,a;const u=t.policy_templates.reduce(((e,t)=>(P(t).forEach((n=>{const a=r?`${t.name}-${n.type}`:n.type;(n.vars||[]).length&&(e[a]=Object(J.keyBy)(n.vars||[],"name"))})),e)),{}),c=I(t).reduce(((e,t)=>{var n;return null===(n=t.streams)||void 0===n||n.forEach((n=>{e[`${t.dataset}-${n.input}`]=n})),e}),{}),l=Object.entries(c).reduce(((e,[t,n])=>(e[t]=Object(J.keyBy)(n.vars||[],"name"),e)),{});return e.inputs.forEach((e=>{if(!e.vars&&!e.streams)return;const t=r?`${e.policy_template}-${e.type}`:e.type,i={vars:void 0,streams:{}},o=Object.entries(e.vars||{});o.length?i.vars=o.reduce(((r,[a,i])=>{var o;return r[a]=e.enabled?W(i,(null!==(o=u[t])&&void 0!==o?o:{})[a],a,n):null,r}),{}):delete i.vars,e.streams.length?e.streams.forEach((t=>{const r={},a=l[`${t.data_stream.dataset}-${e.type}`];a&&Object.keys(a).length&&(r.vars=Object.keys(a).reduce(((r,i)=>{var o;const s=null==t||null===(o=t.vars)||void 0===o?void 0:o[i];return r[i]=e.enabled&&t.enabled?W(s,a[i],i,n):null,r}),{})),i.streams[t.data_stream.dataset]=r})):delete i.streams,(i.vars||i.streams)&&(a.inputs[t]=i)})),0===Object.entries(a.inputs).length&&(a.inputs=null),a},W=(e,t,n,r)=>{const a=[],i=null==e?void 0:e.value;let o=i;if("string"==typeof i&&(o=i.trim()),void 0===t)return console.debug(`No variable definition for ${n} found`),null;if(t.required&&(void 0===o||"yaml"===t.type&&""===o)&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"yaml"===t.type)try{o=r(i)}catch(e){a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.invalidYamlFormatErrorMessage",{defaultMessage:"Invalid YAML format"}))}return t.multi?o&&!Array.isArray(o)?(a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.invalidArrayErrorMessage",{defaultMessage:"Invalid format"})),a):(t.required&&Array.isArray(o)&&0===o.length&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.requiredErrorMessage",{defaultMessage:"{fieldName} is required",values:{fieldName:t.title||t.name}})),"text"===t.type&&o&&o.filter((e=>/^[*&]/.test(e))).length>0&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"integer"===t.type&&o&&o.filter((e=>!Number.isInteger(Number(e)))).length>0&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerMultiErrorMessage",{defaultMessage:"Invalid integer"})),a.length?a:null):("text"===t.type&&o&&!Array.isArray(o)&&/^[*&]/.test(o)&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.quoteStringErrorMessage",{defaultMessage:"Strings starting with special YAML characters like * or & need to be enclosed in double quotes."})),"bool"===t.type&&o&&!["true","false"].includes(o.toString())&&a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.boolValueError",{defaultMessage:"Boolean values must be either true or false"})),"integer"===t.type&&o&&!Array.isArray(o)&&(Number.isInteger(Number(o))||a.push(Y.i18n.translate("xpack.fleet.packagePolicyValidation.invalidIntegerErrorMessage",{defaultMessage:"Invalid integer"}))),a.length?a:null)},Z=e=>{const t=Object(X.getFlattenedObject)(e);return(Object.values(t).filter((e=>Boolean(e)))||[]).length},ee=e=>Z(e)>0;var te=n(62),ne=n.n(te);function re(e){if(!e.includes("-"))return{pkgName:e,pkgVersion:""};const t=e.includes("-")?e.substr(0,e.indexOf("-")):e;if(""===t)throw new Error("Package key parsing failed: package name was empty");const n=e.substr(e.indexOf("-")+1);if(!ne()(n))throw new Error("Package key parsing failed: package version was not a valid semver");return{pkgName:t,pkgVersion:n}}function ae(e,t){const n=new RegExp(`${e}-(\\d+)`);return`${e}-${Math.max(...(null!=t?t:[]).filter((e=>Boolean(e.name.match(n)))).map((e=>parseInt(e.name.match(n)[1],10))),0)+1}`}function ie(e){const t=`${e.type}-${e.dataset}`;return e.hidden?`.${t}`:t}function oe(e,t){return`${ie(e)}${null!=t?t:""}`}n(40);const se=({dataStream:e,packageVersion:t})=>`${e.type}-${e.dataset}-${t}`,ue=e=>`${e.type}-${e.dataset}@custom`,ce=e=>{if(-1!==r.w.indexOf("*"))return r.w.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${r.w}`)},le=e=>{if(-1!==r.v.indexOf("*"))return r.v.replace("*",e);throw new Error(`Unable to define integration file data index. No '*' in index pattern: ${r.v}`)}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"s",(function(){return r.W})),n.d(t,"m",(function(){return r.L})),n.d(t,"t",(function(){return r.bb})),n.d(t,"c",(function(){return r.i})),n.d(t,"b",(function(){return r.b})),n.d(t,"r",(function(){return r.V})),n.d(t,"j",(function(){return r.F})),n.d(t,"a",(function(){return r.a})),n.d(t,"g",(function(){return r.r})),n.d(t,"p",(function(){return r.N})),n.d(t,"d",(function(){return r.n})),n.d(t,"h",(function(){return i})),n.d(t,"l",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"o",(function(){return u})),n.d(t,"n",(function(){return c})),n.d(t,"u",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"q",(function(){return g}));var r=n(1),a=n(21);const i="/app/fleet",o="/app/integrations",s={fleet:"/:tabId",agents:"/agents",agent_details:"/agents/:agentId/:tabId?",agent_details_logs:"/agents/:agentId/logs",agent_details_diagnostics:"/agents/:agentId/diagnostics",policies:"/policies",policies_list:"/policies",policy_details:"/policies/:policyId/:tabId?",policy_details_settings:"/policies/:policyId/settings",edit_integration:"/policies/:policyId/edit-integration/:packagePolicyId",upgrade_package_policy:"/policies/:policyId/upgrade-package-policy/:packagePolicyId",enrollment_tokens:"/enrollment-tokens",data_streams:"/data-streams",settings:"/settings",settings_create_fleet_server_hosts:"/settings/create-fleet-server-hosts",settings_edit_fleet_server_hosts:"/settings/fleet-server-hosts/:itemId",settings_create_outputs:"/settings/create-outputs",settings_edit_outputs:"/settings/outputs/:outputId",settings_create_download_sources:"/settings/create-download-sources",settings_edit_download_sources:"/settings/downloadSources/:downloadSourceId",debug:"/_debug",add_integration_to_policy:"/integrations/:pkgkey/add-integration/:integration?"},u="q",c={integrations:"/:tabId",integrations_all:"/browse/:category?",integrations_installed:"/installed/:category?",integrations_installed_updates_available:"/installed/updates_available/:category?",integration_details:"/detail/:pkgkey/:panel?",integration_details_overview:"/detail/:pkgkey/overview",integration_details_policies:"/detail/:pkgkey/policies",integration_details_assets:"/detail/:pkgkey/assets",integration_details_settings:"/detail/:pkgkey/settings",integration_details_custom:"/detail/:pkgkey/custom",integration_details_api_reference:"/detail/:pkgkey/api-reference",integration_details_language_clients:"/language_clients/:pkgkey/overview",integration_policy_edit:"/edit-integration/:packagePolicyId",integration_policy_upgrade:"/edit-integration/:packagePolicyId"},l={base:()=>[i,"/"],overview:()=>[i,"/"],integrations:()=>[o,"/"],integrations_all:({searchTerm:e,category:t})=>[o,`/browse${t?`/${t}`:""}${e?`?${u}=${e}`:""}`],integrations_installed:({query:e,category:t})=>[o,`/installed${t?`/${t}`:""}${e?`?${u}=${e}`:""}`],integrations_installed_updates_available:({query:e,category:t})=>[o,`/installed/updates_available${t?`/${t}`:""}${e?`?${u}=${e}`:""}`],integration_details_overview:({pkgkey:e,integration:t})=>[o,`/detail/${e}/overview${t?`?integration=${t}`:""}`],integration_details_policies:({pkgkey:e,integration:t,addAgentToPolicyId:n})=>{const r=Object(a.stringify)({integration:t,addAgentToPolicyId:n});return[o,`/detail/${e}/policies${r?`?${r}`:""}`]},integration_details_assets:({pkgkey:e,integration:t})=>[o,`/detail/${e}/assets${t?`?integration=${t}`:""}`],integration_details_settings:({pkgkey:e,integration:t})=>[o,`/detail/${e}/settings${t?`?integration=${t}`:""}`],integration_details_custom:({pkgkey:e,integration:t})=>[o,`/detail/${e}/custom${t?`?integration=${t}`:""}`],integration_details_api_reference:({pkgkey:e,integration:t})=>[o,`/detail/${e}/api-reference${t?`?integration=${t}`:""}`],integration_policy_edit:({packagePolicyId:e})=>[o,`/edit-integration/${e}`],integration_policy_upgrade:({packagePolicyId:e})=>[o,`/edit-integration/${e}`],integration_details_language_clients:({pkgkey:e})=>[o,`/language_clients/${e}/overview`],policies:()=>[i,"/policies"],policies_list:()=>[i,"/policies"],policy_details:({policyId:e,tabId:t})=>[i,`/policies/${e}${t?`/${t}`:""}`],add_integration_to_policy:({pkgkey:e,integration:t,agentPolicyId:n,useMultiPageLayout:r})=>{const o=Object(a.stringify)({...n?{policyId:n}:{},...r?{useMultiPageLayout:null}:{}});return[i,`/integrations/${e}/add-integration${t?`/${t}`:""}${o?`?${o}`:""}`]},edit_integration:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/edit-integration/${t}`],upgrade_package_policy:({policyId:e,packagePolicyId:t})=>[i,`/policies/${e}/upgrade-package-policy/${t}`],agent_list:({kuery:e})=>[i,"/agents"+(e?`?kuery=${e}`:"")],agent_details:({agentId:e,tabId:t,logQuery:n})=>[i,`/agents/${e}${t?`/${t}`:""}${n?`?_q=${n}`:""}`],agent_details_logs:({agentId:e})=>[i,`/agents/${e}/logs`],agent_details_diagnostics:({agentId:e})=>[i,`/agents/${e}/diagnostics`],enrollment_tokens:()=>[i,"/enrollment-tokens"],data_streams:()=>[i,"/data-streams"],settings:()=>[i,s.settings],settings_edit_fleet_server_hosts:({itemId:e})=>[i,s.settings_edit_fleet_server_hosts.replace(":itemId",e.toString())],settings_create_fleet_server_hosts:()=>[i,s.settings_create_fleet_server_hosts],settings_edit_outputs:({outputId:e})=>[i,s.settings_edit_outputs.replace(":outputId",e)],settings_edit_download_sources:({downloadSourceId:e})=>[i,s.settings_edit_download_sources.replace(":downloadSourceId",e)],settings_create_outputs:()=>[i,s.settings_create_outputs],settings_create_download_sources:()=>[i,s.settings_create_download_sources],debug:()=>[i,s.debug]},d=".kibana",p="log",f={IDLE_TIMEOUT:"idle_timeout",READ_TIMEOUT:"read_timeout",SHUTDOWN_TIMEOUT:"shutdown_timeout",TAIL_SAMPLING_INTERVAL:"tail_sampling_interval",WRITE_TIMEOUT:"write_timeout"},g={APM_LOCATOR:"APM_LOCATOR"}},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.f})),n.d(t,"e",(function(){return r.g})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.j})),n.d(t,"i",(function(){return r.k})),n.d(t,"j",(function(){return r.l})),n.d(t,"k",(function(){return r.m})),n.d(t,"l",(function(){return r.q})),n.d(t,"m",(function(){return r.r})),n.d(t,"n",(function(){return r.t})),n.d(t,"o",(function(){return r.u}))},function(e,t,n){e.exports=n(36)(2)},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){"use strict";n.d(t,"xb",(function(){return a})),n.d(t,"oc",(function(){return r.a})),n.d(t,"b",(function(){return s})),n.d(t,"Ab",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"ec",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"fc",(function(){return p})),n.d(t,"gc",(function(){return E})),n.d(t,"i",(function(){return _})),n.d(t,"dc",(function(){return b})),n.d(t,"hc",(function(){return v})),n.d(t,"jc",(function(){return O})),n.d(t,"rc",(function(){return k})),n.d(t,"nc",(function(){return L})),n.d(t,"mb",(function(){return j.db})),n.d(t,"mc",(function(){return j.Lb})),n.d(t,"zb",(function(){return j.nb})),n.d(t,"Fb",(function(){return j.pb})),n.d(t,"y",(function(){return j.o})),n.d(t,"Ob",(function(){return j.yb})),n.d(t,"Pb",(function(){return j.zb})),n.d(t,"I",(function(){return j.z})),n.d(t,"H",(function(){return j.y})),n.d(t,"m",(function(){return j.c})),n.d(t,"qb",(function(){return j.hb})),n.d(t,"l",(function(){return j.b})),n.d(t,"p",(function(){return j.f})),n.d(t,"ob",(function(){return j.fb})),n.d(t,"nb",(function(){return j.eb})),n.d(t,"o",(function(){return j.e})),n.d(t,"sb",(function(){return j.jb})),n.d(t,"u",(function(){return j.k})),n.d(t,"Ub",(function(){return j.Eb})),n.d(t,"N",(function(){return j.E})),n.d(t,"Rb",(function(){return j.Bb})),n.d(t,"K",(function(){return j.B})),n.d(t,"ub",(function(){return j.lb})),n.d(t,"tb",(function(){return j.kb})),n.d(t,"L",(function(){return j.C})),n.d(t,"Jb",(function(){return j.tb})),n.d(t,"Nb",(function(){return j.xb})),n.d(t,"Gb",(function(){return j.qb})),n.d(t,"C",(function(){return j.s})),n.d(t,"x",(function(){return j.n})),n.d(t,"z",(function(){return j.p})),n.d(t,"A",(function(){return j.q})),n.d(t,"fb",(function(){return j.W})),n.d(t,"U",(function(){return j.L})),n.d(t,"S",(function(){return j.J})),n.d(t,"W",(function(){return j.N})),n.d(t,"T",(function(){return j.K})),n.d(t,"eb",(function(){return j.V})),n.d(t,"Y",(function(){return j.P})),n.d(t,"B",(function(){return j.r})),n.d(t,"R",(function(){return j.I})),n.d(t,"X",(function(){return j.O})),n.d(t,"w",(function(){return j.m})),n.d(t,"Z",(function(){return j.Q})),n.d(t,"gb",(function(){return j.X})),n.d(t,"V",(function(){return j.M})),n.d(t,"D",(function(){return j.t})),n.d(t,"Qb",(function(){return j.Ab})),n.d(t,"J",(function(){return j.A})),n.d(t,"s",(function(){return j.i})),n.d(t,"F",(function(){return j.v})),n.d(t,"Lb",(function(){return j.vb})),n.d(t,"n",(function(){return j.d})),n.d(t,"Hb",(function(){return j.rb})),n.d(t,"Yb",(function(){return j.Ib})),n.d(t,"Ib",(function(){return j.sb})),n.d(t,"E",(function(){return j.u})),n.d(t,"Wb",(function(){return j.Gb})),n.d(t,"O",(function(){return j.F})),n.d(t,"Tb",(function(){return j.Db})),n.d(t,"Vb",(function(){return j.Fb})),n.d(t,"M",(function(){return j.D})),n.d(t,"G",(function(){return j.w})),n.d(t,"Q",(function(){return j.H})),n.d(t,"k",(function(){return j.a})),n.d(t,"lb",(function(){return j.cb})),n.d(t,"rb",(function(){return j.ib})),n.d(t,"Sb",(function(){return j.Cb})),n.d(t,"Bb",(function(){return j.ob})),n.d(t,"jb",(function(){return j.ab})),n.d(t,"cb",(function(){return j.T})),n.d(t,"db",(function(){return j.U})),n.d(t,"t",(function(){return j.j})),n.d(t,"Zb",(function(){return j.Jb})),n.d(t,"kb",(function(){return j.bb})),n.d(t,"pb",(function(){return j.gb})),n.d(t,"P",(function(){return j.G})),n.d(t,"v",(function(){return j.l})),n.d(t,"kc",(function(){return j.Kb})),n.d(t,"Xb",(function(){return j.Hb})),n.d(t,"Kb",(function(){return j.ub})),n.d(t,"hb",(function(){return j.Y})),n.d(t,"ab",(function(){return j.R})),n.d(t,"q",(function(){return j.g})),n.d(t,"Mb",(function(){return j.wb})),n.d(t,"r",(function(){return j.h})),n.d(t,"ib",(function(){return j.Z})),n.d(t,"bb",(function(){return j.S})),n.d(t,"tc",(function(){return x})),n.d(t,"ac",(function(){return $})),n.d(t,"pc",(function(){return C})),n.d(t,"yb",(function(){return w})),n.d(t,"sc",(function(){return R})),n.d(t,"c",(function(){return D})),n.d(t,"Db",(function(){return U})),n.d(t,"h",(function(){return F})),n.d(t,"qc",(function(){return G})),n.d(t,"bc",(function(){return B})),n.d(t,"g",(function(){return V})),n.d(t,"f",(function(){return K})),n.d(t,"lc",(function(){return z})),n.d(t,"a",(function(){return H})),n.d(t,"wb",(function(){return X})),n.d(t,"ic",(function(){return ee})),n.d(t,"vb",(function(){return ne})),n.d(t,"d",(function(){return ae})),n.d(t,"Eb",(function(){return ie})),n.d(t,"cc",(function(){return ce})),n.d(t,"Cb",(function(){return le}));var r=n(14);function a(){return Object(r.a)().authz}var i=n(0),o=n.n(i);const s=o.a.createContext(null);function u(){const e=Object(i.useContext)(s);if(null===e)throw new Error("ConfigContext not initialized");return e}const c=o.a.createContext(null);function l(){const e=Object(i.useContext)(c);if(null===e)throw new Error("KibanaVersionContext is not initialized");return e}const d=new(n(5).c);function p(){return d}var f=n(7);const g=(e,t={})=>t?f.u[e](t):f.u[e](),E=()=>{const e=Object(r.a)();return{getPath:(e,t={})=>g(e,t)[1],getAbsolutePath:t=>e.http.basePath.prepend(`${t}`),getAssetsPath:t=>e.http.basePath.prepend(`/plugins/${f.s}/assets/${t}`),getHref:(t,n)=>{const[r,a]=g(t,n);return e.http.basePath.prepend(`${r}${a}`)}}};var m=n(24);const h=(e,t)=>e.basePath.prepend(`/app/kibana#${t}`),_=({type:e,id:t,http:n})=>{let r;switch(e){case m.c.dashboard:r=`/dashboard/${t}`;break;case m.c.search:r=`/discover/${t}`;break;case m.c.visualization:r=`/visualize/edit/${t}`;break;default:return}return h(n,r)};function b(e="/"){const{http:t}=Object(r.a)();return h(t,e)}var T=n(6),P=n(53);const I=new Map,v=({packageName:e,integrationName:t,version:n,icons:r,tryApi:a=!1})=>{const{toPackageImage:o}=Object(P.a)(),[s,u]=Object(i.useState)(),[c,l]=Object(i.useState)(""),d=`${e}-${n}${t?`-${t}`:""}`;return Object(i.useEffect)((()=>{var t;if(I.has(d))return void l(I.get(d)||"");const i=null===(t=r&&r.length?r:s)||void 0===t?void 0:t.filter((e=>"image/svg+xml"===e.type)),c=Array.isArray(i)&&o(i[0],e,n);if(c)return I.set(d,c),void l(I.get(d)||"");const p=T.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e}`));if(p)return I.set(d,p),void l(p);!a||r||s||Object(j.D)(e,n).catch((e=>{})).then((e=>{var t,n;I.delete(d),u(null==e||null===(t=e.data)||void 0===t||null===(n=t.item)||void 0===n?void 0:n.icons)})),I.set(d,"package"),l("package")}),[r,d,o,s,e,c,a,n]),c},y=[5,20,50];function O(e={currentPage:1,pageSize:20}){const[t,n]=Object(i.useState)(e);return{pagination:t,setPagination:n,pageSizeOptions:Object(i.useMemo)((()=>[...y]),[])}}var A=n(16),N=n(21);function R(){const{search:e}=Object(A.useLocation)(),[t,n]=Object(i.useState)((()=>Object(N.parse)(e))),r=Object(i.useCallback)(((e=t)=>Object(N.stringify)(e)),[t]);return Object(i.useEffect)((()=>{n(Object(N.parse)(e))}),[e]),{urlParams:t,toUrlParams:r}}const k=()=>{const e=Object(A.useLocation)(),t=Object(A.useHistory)(),{urlParams:n,toUrlParams:r}=R(),a=Object(i.useMemo)((()=>S(n)),[n]),{pagination:o,pageSizeOptions:s,setPagination:u}=O(a),c=Object(i.useCallback)((({pageSize:a,currentPage:i})=>{t.push({...e,search:r({...n,currentPage:i,pageSize:a})})}),[t,e,r,n]);return Object(i.useEffect)((()=>{u((e=>({...e,...S(n)})))}),[u,n]),{pagination:o,setPagination:c,pageSizeOptions:s}},S=e=>{var t,n,r;const a={pageSize:20,currentPage:1};return a.currentPage=Number(null!==(t=Array.isArray(e.currentPage)?e.currentPage.pop():e.currentPage)&&void 0!==t?t:a.currentPage),a.pageSize=null!==(n=Number(null!==(r=Array.isArray(e.pageSize)?e.pageSize.pop():e.pageSize)&&void 0!==r?r:a.pageSize))&&void 0!==n?n:a.pageSize,(!Number.isFinite(a.currentPage)||a.currentPage<1)&&(a.currentPage=1),y.includes(a.pageSize)||(a.pageSize=20),a};function L(e){const[t,n]=Object(i.useState)(e);return{sorting:t,setSorting:n}}var j=n(15);function x(e){return Object.values(e).reduce(((e,t)=>{const n=t.validate();return!1===e?e:n}),!0)}function $(e="",t,n=!1){const[r,a]=Object(i.useState)(e),[o,s]=Object(i.useState)(),[u,c]=Object(i.useState)(!1),l=Object(i.useCallback)((e=>{const n=e.target.value;a(n),o&&t&&void 0===t(n)&&s(void 0)}),[o,t]);Object(i.useEffect)((()=>{u||r!==e&&c(!0)}),[u,r,e]);const d=void 0!==o;return{value:r,errors:o,props:{onChange:l,value:r,isInvalid:d,disabled:n},formRowProps:{error:o,isInvalid:d},clear:()=>{a("")},validate:()=>{if(t){const e=t(r);return s(e),void 0===e}return!0},setValue:a,hasChanged:u}}function C(e=!1,t=!1){const[n,r]=Object(i.useState)(e),[a,o]=Object(i.useState)(!1),s=Object(i.useCallback)((()=>!0),[]);return Object(i.useEffect)((()=>{a||n!==e&&o(!0)}),[a,n,e]),{value:n,props:{onChange:e=>{const t=e.target.checked;r(t)},checked:n,disabled:t},validate:s,formRowProps:{},setValue:r,hasChanged:a}}function w(e,t=[],n,r=!1){const[a,o]=Object(i.useState)(t),[s,u]=Object(i.useState)(),[c,l]=Object(i.useState)(!1);Object(i.useEffect)((()=>{c||(a.length!==t.length||a.some(((e,n)=>e!==t[n])))&&l(!0)}),[c,a,t]);const d=void 0!==s,p=Object(i.useCallback)((()=>{if(n){const e=n(a);return u(e),void 0===e}return!0}),[n,a]),f=Object(i.useCallback)((e=>{o(e),s&&n&&u(n(e))}),[n,s]);return{props:{id:e,value:a,onChange:f,errors:s,isInvalid:d,disabled:r},formRowProps:{error:s,isInvalid:d},value:a,clear:()=>{o([])},setValue:o,validate:p,hasChanged:c}}const M=o.a.createContext(void 0),D=({children:e})=>{const t=u(),[n,r]=Object(i.useState)(!1),[a,s]=Object(i.useState)({enabled:t.agents.enabled,isLoading:!1,isReady:!1}),c=Object(i.useCallback)((async function(){try{s((e=>({...e,isLoading:!0})));const e=await Object(j.x)();if(e.error)throw e.error;s((t=>{var n,r,a,i,o;return{...t,isLoading:!1,isReady:null!==(n=null===(r=e.data)||void 0===r?void 0:r.isReady)&&void 0!==n&&n,missingRequirements:null===(a=e.data)||void 0===a?void 0:a.missing_requirements,missingOptionalFeatures:null===(i=e.data)||void 0===i?void 0:i.missing_optional_features,packageVerificationKeyId:null===(o=e.data)||void 0===o?void 0:o.package_verification_key_id}}))}catch(e){s((t=>({...t,isLoading:!1,error:e})))}}),[s]);Object(i.useEffect)((()=>{c()}),[c]);const l=Object(i.useCallback)((()=>c()),[c]);return o.a.createElement(M.Provider,{value:{...a,refresh:l,forceDisplayInstructions:n,setForceDisplayInstructions:r}},e)};function U(){const e=Object(i.useContext)(M);if(!e)throw new Error("FleetStatusContext not set");return e}const F=o.a.createContext({}),G=(e,t)=>{var n;const r=Object(i.useContext)(F);if(!r)throw new Error("useUIExtension called outside of UIExtensionsContext");const a=null==r||null===(n=r[e])||void 0===n?void 0:n[t];if(a)return a};function B(){return Object(A.useLocation)().state}var q=n(4);const V=[{id:"linux",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux",{defaultMessage:"Linux Tar"}),"data-test-subj":"platformTypeLinux"},{id:"mac",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.mac",{defaultMessage:"Mac"}),"data-test-subj":"platformTypeMac"},{id:"windows",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.windows",{defaultMessage:"Windows"}),"data-test-subj":"platformTypeWindows"},{id:"rpm",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.rpm",{defaultMessage:"RPM"}),"data-test-subj":"platformTypeLinuxRpm"},{id:"deb",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.linux.deb",{defaultMessage:"DEB"}),"data-test-subj":"platformTypeLinuxDeb"}],K=[...V,{id:"kubernetes",label:q.i18n.translate("xpack.fleet.enrollmentInstructions.platformButtons.kubernetes",{defaultMessage:"Kubernetes"}),"data-test-subj":"platformTypeKubernetes"}];function z(){const[e,t]=Object(i.useState)("linux");return{platform:e,setPlatform:t}}const H=o.a.createContext({refresh:()=>{}});function X(){return o.a.useContext(H).refresh}var Y=n(26),J=n.n(Y),Q=n(1),W=n(34),Z=n(33);const ee=()=>{const{data:e,isLoading:t}=Object(W.m)({prerelease:!0}),{data:n,isLoading:r}=Object(Z.j)({full:!0}),a=Object(i.useMemo)((()=>((null==e?void 0:e.items)||[]).filter((e=>e.status===Q.eb.Installed))),[null==e?void 0:e.items]),o=Object(i.useMemo)((()=>a.filter((e=>"savedObject"in e&&J()(e.savedObject.attributes.version,e.version)))),[a]),s=Object(i.useMemo)((()=>((null==n?void 0:n.items)||[]).reduce(((e,t)=>{var n;return null===(n=t.package_policies)||void 0===n||n.forEach((n=>{if(!n.package)return!1;const{name:r,version:i}=n.package,o=a.find((e=>"savedObject"in e&&e.savedObject.attributes.name===r));if(o&&"savedObject"in o&&J()(i,o.savedObject.attributes.version)){var s,u;const a=null!==(s=e.get(r))&&void 0!==s?s:{currentVersion:o.savedObject.attributes.version,policiesToUpgrade:[]};a.policiesToUpgrade.push({id:t.id,name:t.name,agentsCount:null!==(u=t.agents)&&void 0!==u?u:0,pkgPolicyId:n.id,pkgPolicyName:n.name,pkgPolicyIntegrationVersion:i}),e.set(r,a)}})),e}),new Map)),[a,n]);return{allPackages:e,allInstalledPackages:a,updatablePackages:o,updatableIntegrations:s,isLoadingPackages:t,isLoadingPolicies:r}};var te=n(2);function ne(){const{data:e,isInitialRequest:t,isLoading:n,resendRequest:r}=Object(j.pb)({page:1,perPage:f.t,full:!0});return{agentPolicies:Object(i.useMemo)((()=>{var t;return n?[]:(null!==(t=null==e?void 0:e.items)&&void 0!==t?t:[]).filter((e=>!Object(te.A)(e)))}),[n,null==e?void 0:e.items]),refreshAgentPolicies:r,isLoadingInitialAgentPolicies:t&&n,isLoadingAgentPolicies:n}}const re=Object(i.createContext)(void 0),ae=({children:e})=>{const[t,n]=Object(i.useState)(!1),[r,a]=Object(i.useState)(!1);return o.a.createElement(re.Provider,{value:{isEnrollmentFlyoutOpen:t,openEnrollmentFlyout:()=>{n(!0)},closeEnrollmentFlyout:()=>n(!1),isFleetServerFlyoutOpen:r,openFleetServerFlyout:()=>a(!0),closeFleetServerFlyout:()=>a(!1)}},e)},ie=()=>{const e=Object(i.useContext)(re);if(!e)throw new Error("useFlyoutContext must be used within a FlyoutContextProvider");return e};var oe=n(54),se=n.n(oe),ue=n(18);const ce=e=>{const[t,n]=Object(i.useState)(!1),{guidedOnboarding:a}=Object(r.a)(),o=se()(a.guidedOnboardingApi?a.guidedOnboardingApi.isGuidedOnboardingActiveForIntegration$(e):Object(ue.of)(!1));return Object(i.useEffect)((()=>{n(!!o)}),[o]),t};function le(e){const t=Object(j.wb)(),n=Object(i.useMemo)((()=>{var n,r,a,i;return null!==(n=null===(r=t.data)||void 0===r||null===(a=r.items.filter((t=>null!=e&&e.fleet_server_host_id?t.id===(null==e?void 0:e.fleet_server_host_id):t.is_default)))||void 0===a||null===(i=a[0])||void 0===i?void 0:i.host_urls)&&void 0!==n?n:[]}),[e,t]),r=t.isLoading&&t.isInitialRequest,a=Object(i.useMemo)((()=>{var e,n;return null!==(e=null===(n=t.data)||void 0===n?void 0:n.items)&&void 0!==e?e:[]}),[t]);return Object(i.useMemo)((()=>({isLoadingInitialRequest:r,fleetServerHosts:n,allFleetServerHosts:a})),[n,a,r])}},function(e,t,n){"use strict";n.r(t),n.d(t,"PLUGIN_ID",(function(){return r.W})),n.d(t,"INTEGRATIONS_PLUGIN_ID",(function(){return r.L})),n.d(t,"FLEET_APM_PACKAGE",(function(){return r.x})),n.d(t,"FLEET_SERVER_PACKAGE",(function(){return r.F})),n.d(t,"FLEET_SYSTEM_PACKAGE",(function(){return r.I})),n.d(t,"FLEET_SYNTHETICS_PACKAGE",(function(){return r.H})),n.d(t,"FLEET_ELASTIC_AGENT_PACKAGE",(function(){return r.A})),n.d(t,"FLEET_KUBERNETES_PACKAGE",(function(){return r.C})),n.d(t,"FLEET_CLOUD_SECURITY_POSTURE_PACKAGE",(function(){return r.y})),n.d(t,"FLEET_ENDPOINT_PACKAGE",(function(){return r.B})),n.d(t,"AGENT_POLICY_SAVED_OBJECT_TYPE",(function(){return r.i})),n.d(t,"PACKAGES_SAVED_OBJECT_TYPE",(function(){return r.S})),n.d(t,"PACKAGE_POLICY_SAVED_OBJECT_TYPE",(function(){return r.V})),n.d(t,"OUTPUT_SAVED_OBJECT_TYPE",(function(){return r.R})),n.d(t,"PRECONFIGURATION_DELETION_RECORD_SAVED_OBJECT_TYPE",(function(){return r.Y})),n.d(t,"ASSETS_SAVED_OBJECT_TYPE",(function(){return r.m})),n.d(t,"FLEET_SERVER_SERVERS_INDEX",(function(){return r.G})),n.d(t,"FLEET_SERVER_ARTIFACTS_INDEX",(function(){return r.D})),n.d(t,"AGENTS_INDEX",(function(){return r.a})),n.d(t,"AGENT_POLICY_INDEX",(function(){return r.h})),n.d(t,"AGENT_ACTIONS_INDEX",(function(){return r.d})),n.d(t,"AGENT_ACTIONS_RESULTS_INDEX",(function(){return r.e})),n.d(t,"AGENTS_PREFIX",(function(){return r.b})),n.d(t,"AGENT_UPDATE_LAST_CHECKIN_INTERVAL_MS",(function(){return r.k})),n.d(t,"agentPolicyStatuses",(function(){return r.cb})),n.d(t,"FleetServerAgentComponentStatuses",(function(){return r.J})),n.d(t,"PACKAGE_POLICY_API_ROOT",(function(){return r.T})),n.d(t,"AGENT_API_ROUTES",(function(){return r.f})),n.d(t,"AGENT_POLICY_API_ROUTES",(function(){return r.g})),n.d(t,"AGENTS_SETUP_API_ROUTES",(function(){return r.c})),n.d(t,"PACKAGE_POLICY_API_ROUTES",(function(){return r.U})),n.d(t,"EPM_API_ROUTES",(function(){return r.u})),n.d(t,"SETUP_API_ROUTE",(function(){return r.ab})),n.d(t,"SO_SEARCH_LIMIT",(function(){return r.bb})),n.d(t,"ENDPOINT_PRIVILEGES",(function(){return r.q})),n.d(t,"epmRouteService",(function(){return a.n})),n.d(t,"agentRouteService",(function(){return a.e})),n.d(t,"agentPolicyRouteService",(function(){return a.d})),n.d(t,"setupRouteService",(function(){return a.L})),n.d(t,"appRoutesService",(function(){return a.f})),n.d(t,"packagePolicyRouteService",(function(){return a.I})),n.d(t,"fleetSetupRouteService",(function(){return a.p})),n.d(t,"isValidNamespace",(function(){return a.G})),n.d(t,"INVALID_NAMESPACE_CHARACTERS",(function(){return a.b})),n.d(t,"decodeCloudId",(function(){return a.i})),n.d(t,"getFileMetadataIndexName",(function(){return a.u})),n.d(t,"getFileDataIndexName",(function(){return a.t})),n.d(t,"createFleetAuthzMock",(function(){return i})),n.d(t,"ElasticsearchAssetType",(function(){return o.a}));var r=n(1),a=n(5);const i=()=>({fleet:{all:!0,setup:!0,readEnrollmentTokens:!0,readAgentPolicies:!0},integrations:{readPackageInfo:!0,readInstalledPackages:!0,installPackages:!0,upgradePackages:!0,uploadPackages:!0,removePackages:!0,readPackageSettings:!0,writePackageSettings:!0,readIntegrationPolicies:!0,writeIntegrationPolicies:!0},packagePrivileges:{endpoint:{actions:r.q.reduce(((e,t)=>({...e,[t]:{executePackageAction:!0}})),{})}}});var o=n(19)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(23);function a(){const{services:e}=Object(r.useKibana)();if(null===e)throw new Error("KibanaContextProvider not initialized");return e}},function(e,t,n){"use strict";n.d(t,"mb",(function(){return r.b})),n.d(t,"db",(function(){return r.a})),n.d(t,"Lb",(function(){return r.d})),n.d(t,"nb",(function(){return r.c})),n.d(t,"pb",(function(){return a.j})),n.d(t,"o",(function(){return a.d})),n.d(t,"yb",(function(){return a.k})),n.d(t,"zb",(function(){return a.l})),n.d(t,"z",(function(){return a.f})),n.d(t,"y",(function(){return a.e})),n.d(t,"c",(function(){return a.b})),n.d(t,"hb",(function(){return a.i})),n.d(t,"b",(function(){return a.a})),n.d(t,"f",(function(){return a.c})),n.d(t,"fb",(function(){return a.h})),n.d(t,"eb",(function(){return a.g})),n.d(t,"e",(function(){return o})),n.d(t,"jb",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"Eb",(function(){return c})),n.d(t,"E",(function(){return l})),n.d(t,"Bb",(function(){return d})),n.d(t,"B",(function(){return p})),n.d(t,"lb",(function(){return f})),n.d(t,"kb",(function(){return g})),n.d(t,"C",(function(){return E})),n.d(t,"tb",(function(){return m})),n.d(t,"xb",(function(){return h})),n.d(t,"qb",(function(){return _})),n.d(t,"s",(function(){return b})),n.d(t,"n",(function(){return T})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return I})),n.d(t,"W",(function(){return v})),n.d(t,"L",(function(){return y})),n.d(t,"J",(function(){return O})),n.d(t,"N",(function(){return A})),n.d(t,"K",(function(){return N})),n.d(t,"V",(function(){return R})),n.d(t,"P",(function(){return k})),n.d(t,"r",(function(){return S})),n.d(t,"I",(function(){return L})),n.d(t,"O",(function(){return j})),n.d(t,"m",(function(){return x})),n.d(t,"Q",(function(){return $})),n.d(t,"X",(function(){return C})),n.d(t,"M",(function(){return w})),n.d(t,"t",(function(){return M})),n.d(t,"Ab",(function(){return D})),n.d(t,"A",(function(){return U})),n.d(t,"i",(function(){return F})),n.d(t,"v",(function(){return G})),n.d(t,"vb",(function(){return B})),n.d(t,"d",(function(){return q})),n.d(t,"rb",(function(){return V.i})),n.d(t,"Ib",(function(){return V.n})),n.d(t,"sb",(function(){return V.j})),n.d(t,"u",(function(){return V.b})),n.d(t,"Gb",(function(){return V.m})),n.d(t,"F",(function(){return V.e})),n.d(t,"Db",(function(){return V.k})),n.d(t,"Fb",(function(){return V.l})),n.d(t,"D",(function(){return V.d})),n.d(t,"w",(function(){return V.c})),n.d(t,"H",(function(){return V.f})),n.d(t,"a",(function(){return V.a})),n.d(t,"cb",(function(){return V.g})),n.d(t,"ib",(function(){return V.h})),n.d(t,"Cb",(function(){return K})),n.d(t,"ob",(function(){return z})),n.d(t,"ab",(function(){return H})),n.d(t,"T",(function(){return X})),n.d(t,"U",(function(){return Y})),n.d(t,"j",(function(){return J})),n.d(t,"Jb",(function(){return Q})),n.d(t,"bb",(function(){return W})),n.d(t,"gb",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"G",(function(){return te})),n.d(t,"l",(function(){return ne})),n.d(t,"Kb",(function(){return re})),n.d(t,"Hb",(function(){return ae})),n.d(t,"ub",(function(){return ie})),n.d(t,"Y",(function(){return oe})),n.d(t,"R",(function(){return se})),n.d(t,"g",(function(){return ue})),n.d(t,"wb",(function(){return le})),n.d(t,"h",(function(){return de})),n.d(t,"Z",(function(){return pe})),n.d(t,"S",(function(){return fe}));var r=n(3),a=n(33),i=n(2);const o=e=>Object(r.a)({path:i.x.getCreatePath(),method:"post",body:JSON.stringify(e)}),s=(e,t)=>Object(r.a)({path:i.x.getUpdatePath(e),method:"put",body:JSON.stringify(t)}),u=e=>Object(r.a)({path:i.x.getDeletePath(),method:"post",body:JSON.stringify(e)});function c(e){return Object(r.d)({method:"get",path:i.x.getListPath(),query:e})}const l=e=>Object(r.a)({method:"get",path:i.x.getListPath(),query:e}),d=e=>Object(r.d)({path:i.x.getInfoPath(e),method:"get"}),p=e=>Object(r.a)({path:i.x.getInfoPath(e),method:"get"});function f(e,t){const n={packagePolicyIds:e};return t&&(n.packageVersion=t),Object(r.a)({path:i.x.getDryRunPath(),method:"post",body:JSON.stringify(n)})}function g(e){return Object(r.a)({path:i.x.getUpgradePath(),method:"post",body:JSON.stringify({packagePolicyIds:e})})}function E(){return Object(r.a)({path:i.x.getOrphanedIntegrationPoliciesPath(),method:"get"})}const m=()=>Object(r.d)({path:i.g.getListPath(),method:"get"});function h(e,t){return Object(r.d)({path:i.d.getInfoPath(e),method:"get",...t})}function _(e,t){return Object(r.d)({method:"get",path:i.d.getListPath(),query:e,...t})}function b(e,t){return Object(r.a)({method:"get",path:i.d.getListPath(),query:e,...t})}function T(e){return Object(r.a)({method:"get",path:i.d.getIncomingDataPath(),query:e})}function P(e,t){return Object(r.a)({method:"get",path:i.d.getStatusPath(),query:e,...t})}function I(e,t){return Object(r.a)({method:"get",path:i.d.getListTagsPath(),query:e,...t})}function v(e,t,n){return Object(r.a)({method:"put",path:i.d.getReassignPath(e),body:t,...n})}function y(e,t){return Object(r.a)({method:"post",path:i.d.getBulkReassignPath(),body:e,...t})}function O(e,t,n){return Object(r.a)({path:i.d.getUnenrollPath(e),method:"post",body:t,...n})}function A(e,t){return Object(r.a)({path:i.d.getBulkUnenrollPath(),method:"post",body:e,...t})}function N(e,t,n){return Object(r.a)({path:i.d.getUpgradePath(e),method:"post",body:t,...n})}function R(e,t){return Object(r.a)({path:i.d.getRequestDiagnosticsPath(e),method:"post",...t})}function k(e,t){return Object(r.a)({path:i.d.getBulkRequestDiagnosticsPath(),method:"post",body:e,...t})}function S(e,t){return Object(r.a)({path:i.d.getListAgentUploads(e),method:"get",...t})}function L(e,t,n){return Object(r.a)({path:i.d.getCreateActionPath(e),method:"post",body:t,...n})}function j(e,t){return Object(r.a)({path:i.d.getBulkUpgradePath(),method:"post",body:e,...t})}function x(){return Object(r.a)({path:i.d.getActionStatusPath(),method:"get"})}function $(e){return Object(r.a)({path:i.d.getCancelActionPath(e),method:"post"})}function C(e,t,n){return Object(r.a)({method:"put",path:i.d.getUpdatePath(e),body:t,...n})}function w(e,t){return Object(r.a)({method:"post",path:i.d.getBulkUpdateTagsPath(),body:e,...t})}function M(){return Object(r.a)({method:"get",path:i.d.getAvailableVersionsPath()})}function D(e){return Object(r.c)({method:"get",path:e?i.k.getInfoPath(e):void 0,shouldSendRequest:!!e})}function U(e,t){return Object(r.a)({method:"get",path:i.k.getInfoPath(e),...t})}function F(e,t){return Object(r.a)({method:"delete",path:i.k.getDeletePath(e),...t})}function G(e,t){return Object(r.a)({method:"get",path:i.k.getListPath(),query:e,...t})}function B(e,t){return Object(r.d)({method:"get",path:i.k.getListPath(),query:e,...t})}function q(e){return Object(r.a)({method:"post",path:i.k.getCreatePath(),body:e})}var V=n(34);function K(){return Object(r.d)({method:"get",path:i.w.getListPath()})}function z(){var e;const t=K();return{output:null===(e=t.data)||void 0===e?void 0:e.items.find((e=>e.is_default)),refresh:t.resendRequest}}function H(e,t){return Object(r.a)({method:"put",path:i.w.getUpdatePath(e),body:t})}function X(){return Object(r.a)({method:"post",path:i.w.getCreateLogstashApiKeyPath()})}function Y(e){return Object(r.a)({method:"post",path:i.w.getCreatePath(),body:e})}function J(e){return Object(r.a)({method:"delete",path:i.w.getDeletePath(e)})}function Q(){return Object(r.d)({method:"get",path:i.B.getInfoPath()})}function W(e){return Object(r.a)({method:"put",path:i.B.getUpdatePath(),body:e})}const Z=()=>Object(r.a)({path:i.C.getSetupPath(),method:"post"}),ee=()=>Object(r.a)({path:i.m.getFleetSetupPath(),method:"get"}),te=e=>Object(r.a)({path:i.e.getCheckPermissionsPath(),method:"get",query:{fleetServerSetup:e}}),ne=()=>Object(r.a)({path:i.e.getRegenerateServiceTokenPath(),method:"post"}),re=()=>Object(r.d)({path:i.e.getCheckPermissionsPath(),method:"get"}),ae=e=>Object(r.d)({path:`/api/ingest_pipelines/${e}`,method:"get"});function ie(){return Object(r.d)({method:"get",path:i.j.getListPath()})}function oe(e,t){return Object(r.a)({method:"put",path:i.j.getUpdatePath(e),body:t})}function se(e){return Object(r.a)({method:"post",path:i.j.getCreatePath(),body:e})}function ue(e){return Object(r.a)({method:"delete",path:i.j.getDeletePath(e)})}var ce=n(5);function le(){return Object(r.d)({method:"get",path:ce.o.getListPath()})}function de(e){return Object(r.a)({method:"delete",path:ce.o.getDeletePath(e)})}function pe(e,t){return Object(r.a)({method:"put",path:ce.o.getUpdatePath(e),body:t})}function fe(e){return Object(r.a)({method:"post",path:ce.o.getCreatePath(),body:e})}},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){"use strict";n.d(t,"nb",(function(){return r.xb})),n.d(t,"Tb",(function(){return r.oc})),n.d(t,"b",(function(){return r.b})),n.d(t,"qb",(function(){return r.Ab})),n.d(t,"e",(function(){return r.e})),n.d(t,"Lb",(function(){return r.ec})),n.d(t,"g",(function(){return r.j})),n.d(t,"Mb",(function(){return r.fc})),n.d(t,"Nb",(function(){return r.gc})),n.d(t,"Kb",(function(){return r.dc})),n.d(t,"Pb",(function(){return r.jc})),n.d(t,"Sb",(function(){return r.nc})),n.d(t,"fb",(function(){return r.mb})),n.d(t,"Rb",(function(){return r.mc})),n.d(t,"vb",(function(){return r.Fb})),n.d(t,"u",(function(){return r.y})),n.d(t,"Bb",(function(){return r.Ob})),n.d(t,"Cb",(function(){return r.Pb})),n.d(t,"C",(function(){return r.H})),n.d(t,"j",(function(){return r.m})),n.d(t,"jb",(function(){return r.qb})),n.d(t,"i",(function(){return r.l})),n.d(t,"m",(function(){return r.p})),n.d(t,"hb",(function(){return r.ob})),n.d(t,"gb",(function(){return r.nb})),n.d(t,"l",(function(){return r.o})),n.d(t,"kb",(function(){return r.sb})),n.d(t,"r",(function(){return r.u})),n.d(t,"Fb",(function(){return r.Ub})),n.d(t,"H",(function(){return r.N})),n.d(t,"E",(function(){return r.K})),n.d(t,"lb",(function(){return r.ub})),n.d(t,"F",(function(){return r.L})),n.d(t,"wb",(function(){return r.Jb})),n.d(t,"Ab",(function(){return r.Nb})),n.d(t,"y",(function(){return r.C})),n.d(t,"v",(function(){return r.z})),n.d(t,"w",(function(){return r.A})),n.d(t,"Z",(function(){return r.fb})),n.d(t,"O",(function(){return r.U})),n.d(t,"M",(function(){return r.S})),n.d(t,"Q",(function(){return r.W})),n.d(t,"N",(function(){return r.T})),n.d(t,"Y",(function(){return r.eb})),n.d(t,"S",(function(){return r.Y})),n.d(t,"x",(function(){return r.B})),n.d(t,"L",(function(){return r.R})),n.d(t,"R",(function(){return r.X})),n.d(t,"t",(function(){return r.w})),n.d(t,"T",(function(){return r.Z})),n.d(t,"ab",(function(){return r.gb})),n.d(t,"P",(function(){return r.V})),n.d(t,"z",(function(){return r.D})),n.d(t,"D",(function(){return r.J})),n.d(t,"p",(function(){return r.s})),n.d(t,"B",(function(){return r.F})),n.d(t,"yb",(function(){return r.Lb})),n.d(t,"k",(function(){return r.n})),n.d(t,"A",(function(){return r.E})),n.d(t,"I",(function(){return r.O})),n.d(t,"Eb",(function(){return r.Tb})),n.d(t,"G",(function(){return r.M})),n.d(t,"K",(function(){return r.Q})),n.d(t,"h",(function(){return r.k})),n.d(t,"eb",(function(){return r.lb})),n.d(t,"Db",(function(){return r.Sb})),n.d(t,"rb",(function(){return r.Bb})),n.d(t,"db",(function(){return r.jb})),n.d(t,"W",(function(){return r.cb})),n.d(t,"X",(function(){return r.db})),n.d(t,"q",(function(){return r.t})),n.d(t,"Hb",(function(){return r.Zb})),n.d(t,"ib",(function(){return r.pb})),n.d(t,"J",(function(){return r.P})),n.d(t,"s",(function(){return r.v})),n.d(t,"Qb",(function(){return r.kc})),n.d(t,"Gb",(function(){return r.Xb})),n.d(t,"xb",(function(){return r.Kb})),n.d(t,"bb",(function(){return r.hb})),n.d(t,"U",(function(){return r.ab})),n.d(t,"n",(function(){return r.q})),n.d(t,"zb",(function(){return r.Mb})),n.d(t,"o",(function(){return r.r})),n.d(t,"cb",(function(){return r.ib})),n.d(t,"V",(function(){return r.bb})),n.d(t,"Xb",(function(){return r.tc})),n.d(t,"Ib",(function(){return r.ac})),n.d(t,"Ub",(function(){return r.pc})),n.d(t,"pb",(function(){return r.yb})),n.d(t,"Wb",(function(){return r.sc})),n.d(t,"c",(function(){return r.c})),n.d(t,"tb",(function(){return r.Db})),n.d(t,"f",(function(){return r.h})),n.d(t,"Vb",(function(){return r.qc})),n.d(t,"Jb",(function(){return r.bc})),n.d(t,"a",(function(){return r.a})),n.d(t,"mb",(function(){return r.wb})),n.d(t,"Ob",(function(){return r.ic})),n.d(t,"d",(function(){return r.d})),n.d(t,"ub",(function(){return r.Eb})),n.d(t,"sb",(function(){return r.Cb})),n.d(t,"ob",(function(){return c}));var r=n(12),a=n(4),i=n(9);const o={href:i.o.base()[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.appTitle",{defaultMessage:"Fleet"})},s={href:i.o.integrations()[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.integrationsAppTitle",{defaultMessage:"Integrations"}),useIntegrationsBasePath:!0},u={base:()=>[o],policies:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policies_list:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})}],policy_details:({policyName:e})=>[o,{href:i.o.policies()[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{text:e}],add_integration_to_policy:({pkgTitle:e,pkgkey:t,integration:n})=>[s,{href:i.o.integration_details_overview({pkgkey:t,integration:n})[1],text:e,useIntegrationsBasePath:!0},{text:a.i18n.translate("xpack.fleet.breadcrumbs.addPackagePolicyPageTitle",{defaultMessage:"Add integration"})}],edit_integration:({policyName:e,policyId:t})=>[o,{href:i.o.policies()[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:i.o.policy_details({policyId:t})[1],text:e},{text:a.i18n.translate("xpack.fleet.breadcrumbs.editPackagePolicyPageTitle",{defaultMessage:"Edit integration"})}],upgrade_package_policy:({policyName:e,policyId:t})=>[o,{href:i.o.policies()[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.policiesPageTitle",{defaultMessage:"Agent policies"})},{href:i.o.policy_details({policyId:t})[1],text:e},{text:a.i18n.translate("xpack.fleet.breadcrumbs.upgradePackagePolicyPageTitle",{defaultMessage:"Upgrade integration "})}],agent_list:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})}],agent_details:({agentHost:e})=>[o,{href:i.o.agent_list({})[1],text:a.i18n.translate("xpack.fleet.breadcrumbs.agentsPageTitle",{defaultMessage:"Agents"})},{text:e}],enrollment_tokens:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.enrollmentTokensPageTitle",{defaultMessage:"Enrollment tokens"})}],data_streams:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.datastreamsPageTitle",{defaultMessage:"Data streams"})}],settings:()=>[o,{text:a.i18n.translate("xpack.fleet.breadcrumbs.settingsPageTitle",{defaultMessage:"Settings"})}]};function c(e,t={}){var n;const{chrome:a,http:o,application:s}=Object(r.oc)(),c=(null===(n=u[e])||void 0===n?void 0:n.call(u,t).map((e=>{const t=e.href?o.basePath.prepend(`${e.useIntegrationsBasePath?i.j:i.f}${e.href}`):void 0;return{...e,href:t,onClick:t?e=>{e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),s.navigateToUrl(t))}:void 0}})))||[],l=[...c].reverse().map((e=>e.text));a.docTitle.change(l),a.setBreadcrumbs(c)}n(56)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";let r,a,i,o,s,u,c,l,d;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return p})),function(e){e.installed="installed",e.notInstalled="not_installed",e.installing="installing",e.reinstalling="reinstalling",e.uninstalling="uninstalling"}(r||(r={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index_pattern",e.map="map",e.lens="lens",e.securityRule="security_rule",e.cloudSecurityPostureRuleTemplate="csp_rule_template",e.mlModule="ml_module",e.tag="tag",e.osqueryPackAsset="osquery_pack_asset",e.osquerySavedQuery="osquery_saved_query"}(a||(a={})),function(e){e.dashboard="dashboard",e.visualization="visualization",e.search="search",e.indexPattern="index-pattern",e.map="map",e.lens="lens",e.mlModule="ml-module",e.securityRule="security-rule",e.cloudSecurityPostureRuleTemplate="csp-rule-template",e.tag="tag",e.osqueryPackAsset="osquery-pack-asset",e.osquerySavedQuery="osquery-saved-query"}(i||(i={})),function(e){e.componentTemplate="component_template",e.ingestPipeline="ingest_pipeline",e.indexTemplate="index_template",e.ilmPolicy="ilm_policy",e.transform="transform",e.dataStreamIlmPolicy="data_stream_ilm_policy",e.mlModel="ml_model"}(o||(o={})),function(e){e.categories="categories",e.data_streams="data_streams",e.inputs="inputs",e.readme="readme",e.multiple="multiple",e.type="type",e.vars="vars",e.input="input",e.template_path="template_path",e.name="name",e.title="title",e.description="description",e.icons="icons",e.screenshots="screenshots"}(s||(s={})),function(e){e.type="type",e.title="title",e.description="description",e.template_path="template_path",e.condition="condition",e.input_group="input_group",e.vars="vars"}(u||(u={})),function(e){e.input="input",e.title="title",e.description="description",e.enabled="enabled",e.vars="vars",e.template_path="template_path"}(c||(c={})),function(e){e.type="type",e.ilm_policy="ilm_policy",e.hidden="hidden",e.dataset="dataset",e.title="title",e.release="release",e.streams="streams",e.package="package",e.path="path",e.ingest_pipeline="ingest_pipeline",e.elasticsearch="elasticsearch",e.dataset_is_prefix="dataset_is_prefix"}(l||(l={})),function(e){e.name="name",e.title="title",e.description="description",e.type="type",e.required="required",e.show_user="show_user",e.multi="multi",e.default="default",e.os="os"}(d||(d={}));const p=Object.entries},function(e,t,n){const r=n(38),a=n(61),{re:i,t:o}=n(43);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=i[o.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[o.COERCERTL].lastIndex=-1}else n=e.match(i[o.COERCE]);return null===n?null:a(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},function(e,t,n){"use strict";const r=n(69),a=n(70),i=n(71);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?a(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function f(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,o]=i(t.decode?a.replace(/\+/g," "):a,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:u(o,t),n(u(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=f,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[",a,"]"].join("")]:[...n,[s(t,e),"[",s(a,e),"]=",s(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[s(t,e),"=",s(r,e)].join("")]:[[n,s(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,s(t,e)]:[...n,[s(t,e),"=",s(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?s(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):s(n,t)+"="+s(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:f(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),o=Object.assign(i,e.query);let u=t.stringify(o,n);u&&(u=`?${u}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,n)}`),`${r}${u}${c}`}},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"a",(function(){return r.a})),n.d(t,"c",(function(){return r.c})),n.d(t,"b",(function(){return r.b}));var r=n(19)},function(e,t,n){"use strict";let r,a;function i(e){r=e}function o(){return r}function s(e){a=e}function u(){return a}n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return u}))},function(e,t,n){const r=n(52);e.exports=(e,t,n)=>r(e,t,n)<0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),a=n(0),i=r.__importDefault(n(72));t.default=function(e,t){void 0===t&&(t=[]);var n=i.default(e,t,{loading:!0}),r=n[0],o=n[1];return a.useEffect((function(){o()}),[o]),r}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){const r=n(52);e.exports=(e,t,n)=>r(e,t,n)>0},function(e,t){e.exports=__kbnSharedDeps__.KbnStd},function(e,t,n){"use strict";n.d(t,"a",(function(){return ExperimentalFeaturesService}));var r=n(10),a=n.n(r);class ExperimentalFeaturesService{static init(e){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized")}}a()(ExperimentalFeaturesService,"experimentalFeatures",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>t=>{var n;const{package:r,view:a}=t;if(e[r]||(e[r]={}),null!==(n=e[r])&&void 0!==n&&n[a])throw new Error(`Extension point has already been registered: [${r}][${a}]`);e[r][a]=t}},function(e,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return E})),n.d(t,"g",(function(){return m}));var r=n(2),a=n(3);const i=e=>Object(a.d)({path:r.c.getListPath(),method:"get",query:e}),o=e=>Object(a.a)({path:r.c.getListPath(),method:"get",query:e}),s=e=>Object(a.c)({path:e?r.c.getInfoPath(e):void 0,method:"get",shouldSendRequest:!!e}),u=e=>Object(a.d)({path:r.c.getInfoFullPath(e),method:"get"}),c=(e,t={})=>Object(a.a)({path:r.c.getInfoFullPath(e),method:"get",query:t}),l=e=>Object(a.a)({path:r.c.getInfoPath(e),method:"get"}),d=(e,{withSysMonitoring:t}={withSysMonitoring:!1})=>Object(a.a)({path:r.c.getCreatePath(),method:"post",body:JSON.stringify(e),query:t?{sys_monitoring:!0}:{}}),p=(e,t)=>Object(a.a)({path:r.c.getUpdatePath(e),method:"put",body:JSON.stringify(t)}),f=(e,t)=>Object(a.a)({path:r.c.getCopyPath(e),method:"post",body:JSON.stringify(t)}),g=e=>Object(a.a)({path:r.c.getDeletePath(),method:"post",body:JSON.stringify(e)}),E=e=>Object(a.a)({path:r.c.getResetOnePreconfiguredAgentPolicyPath(e),method:"post",body:JSON.stringify({})}),m=()=>Object(a.a)({path:r.c.getResetAllPreconfiguredAgentPolicyPath(),method:"post",body:JSON.stringify({})})},function(e,t,n){"use strict";n.d(t,"i",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"e",(function(){return E})),n.d(t,"k",(function(){return m})),n.d(t,"l",(function(){return h})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return T})),n.d(t,"a",(function(){return P})),n.d(t,"g",(function(){return I})),n.d(t,"h",(function(){return v}));var r=n(27),a=n.n(r),i=n(0),o=n(2),s=n(25),u=n(57),c=n(3);function l(){const e=Object(s.a)();return a()(e.getAppendCustomIntegrations,[])}function d(){const e=Object(s.a)();return a()(e.getReplacementCustomIntegrations,[])}const p=(e={})=>Object(c.d)({path:o.l.getCategoriesPath(),method:"get",query:e}),f=(e={})=>Object(c.a)({path:o.l.getCategoriesPath(),method:"get",query:e}),g=(e={})=>Object(c.d)({path:o.l.getListPath(),method:"get",query:e}),E=(e={})=>Object(c.a)({path:o.l.getListPath(),method:"get",query:e}),m=(e,t,n)=>{const r=Object(u.a)(),[a,s]=Object(i.useState)(null==n?void 0:n.ignoreUnverified),l=Object(c.d)({path:o.l.getInfoPath(e,t),method:"get",query:{...n,...a&&{ignoreUnverified:a}}});return Object(i.useEffect)((()=>{l.error&&Object(o.v)(l.error)&&(async()=>{await r(e)&&s(!0)})()}),[l.error,e,t,r]),l},h=e=>Object(c.d)({path:o.l.getStatsPath(e),method:"get"}),_=(e,t,n)=>Object(c.a)({path:o.l.getInfoPath(e,t),method:"get",query:n}),b=e=>Object(c.a)({path:o.l.getFilePath(e),method:"get"}),T=(e,t,n=!1)=>{const r=n?{force:n}:void 0;return Object(c.a)({path:o.l.getInstallPath(e,t),method:"post",body:r})},P=e=>Object(c.a)({path:o.l.getBulkInstallPath(),method:"post",body:{packages:e}}),I=(e,t,n=!1)=>Object(c.a)({path:o.l.getRemovePath(e,t),method:"delete",body:{force:n}}),v=(e,t,n)=>Object(c.a)({path:o.l.getUpdatePath(e,t),method:"put",body:n})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(16),a=n(17);function i(e){const{params:{packagePolicyId:t,policyId:n}}=Object(r.useRouteMatch)(),{getHref:i}=Object(a.Nb)();return`${t&&n?i("edit_integration",{policyId:n,packagePolicyId:t}):i("integration_policy_edit",{packagePolicyId:t})}${e?`?datastreamId=${encodeURIComponent(e)}`:""}`}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";var r=n(24);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d}))},function(e,t,n){const r=n(59),{MAX_LENGTH:a,MAX_SAFE_INTEGER:i}=n(42),{re:o,t:s}=n(43),u=n(60),{compareIdentifiers:c}=n(68);class SemVer{constructor(e,t){if(t=u(t),e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof SemVer)){if("string"==typeof e&&e===this.version)return 0;e=new SemVer(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof SemVer||(e=new SemVer(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof SemVer||(e=new SemVer(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],a=e.prerelease[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}compareBuild(e){e instanceof SemVer||(e=new SemVer(e,this.options));let t=0;do{const n=this.build[t],a=e.build[t];if(r("prerelease compare",t,n,a),void 0===n&&void 0===a)return 0;if(void 0===a)return 1;if(void 0===n)return-1;if(n!==a)return c(n,a)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=SemVer},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(11),a=n(29),i=n.n(a),o=n(20),s=n.n(o);function u(e){const t=function(e){const t=Object(r.uniq)(e).filter((e=>{var t;return void 0!==(null===(t=s()(e))||void 0===t?void 0:t.version)}));return t.length>1?t.sort(((e,t)=>i()(e,t)?1:-1)):t}(e);return t.length>=1?t[0]:""}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));var r=n(4);function a(t){return t.trim()?t!==t.toLowerCase()?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.lowercaseErrorMessage",{defaultMessage:"Namespace must be lowercase"})}:i.test(t)?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.invalidCharactersErrorMessage",{defaultMessage:"Namespace contains invalid characters"})}:"function"==typeof Blob&&new Blob([t]).size>100||"function"==typeof e&&e.from(t).length>100?{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.tooLongErrorMessage",{defaultMessage:"Namespace cannot be more than 100 bytes"})}:{valid:!0}:{valid:!1,error:r.i18n.translate("xpack.fleet.namespaceValidation.requiredErrorMessage",{defaultMessage:"Namespace is required"})}}const i=/[\*\\/\?"<>|\s,#:-]+/}).call(this,n(51).Buffer)},function(e,t){const n=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(42),a=n(59),i=(t=e.exports={}).re=[],o=t.src=[],s=t.t={};let u=0;const c=(e,t,n)=>{const r=u++;a(e,r,t),s[e]=r,o[r]=t,i[r]=new RegExp(t,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})\\.(${o[s.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})\\.(${o[s.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${o[s.NUMERICIDENTIFIER]}|${o[s.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${o[s.NUMERICIDENTIFIERLOOSE]}|${o[s.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${o[s.PRERELEASEIDENTIFIER]}(?:\\.${o[s.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${o[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[s.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${o[s.BUILDIDENTIFIER]}(?:\\.${o[s.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${o[s.MAINVERSION]}${o[s.PRERELEASE]}?${o[s.BUILD]}?`),c("FULL",`^${o[s.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${o[s.MAINVERSIONLOOSE]}${o[s.PRERELEASELOOSE]}?${o[s.BUILD]}?`),c("LOOSE",`^${o[s.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${o[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${o[s.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:\\.(${o[s.XRANGEIDENTIFIER]})(?:${o[s.PRERELEASE]})?${o[s.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[s.XRANGEIDENTIFIERLOOSE]})(?:${o[s.PRERELEASELOOSE]})?${o[s.BUILD]}?)?)?`),c("XRANGE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${o[s.GTLT]}\\s*${o[s.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",o[s.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${o[s.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${o[s.LONETILDE]}${o[s.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${o[s.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${o[s.LONECARET]}${o[s.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${o[s.LONECARET]}${o[s.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${o[s.GTLT]}\\s*(${o[s.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${o[s.GTLT]}\\s*(${o[s.LOOSEPLAIN]}|${o[s.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${o[s.XRANGEPLAIN]})\\s+-\\s+(${o[s.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${o[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[s.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";var r=n(2);n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b})),n.d(t,"c",(function(){return r.c})),n.d(t,"d",(function(){return r.d})),n.d(t,"e",(function(){return r.f})),n.d(t,"f",(function(){return r.h})),n.d(t,"g",(function(){return r.i})),n.d(t,"h",(function(){return r.l})),n.d(t,"i",(function(){return r.n})),n.d(t,"j",(function(){return r.o})),n.d(t,"k",(function(){return r.p})),n.d(t,"l",(function(){return r.q})),n.d(t,"m",(function(){return r.r})),n.d(t,"n",(function(){return r.u})),n.d(t,"o",(function(){return r.v})),n.d(t,"p",(function(){return r.x})),n.d(t,"q",(function(){return r.y})),n.d(t,"r",(function(){return r.z})),n.d(t,"s",(function(){return r.A})),n.d(t,"t",(function(){return r.D})),n.d(t,"u",(function(){return r.E})),n.d(t,"v",(function(){return r.F}))},function(e,t,n){"use strict";function r(e){return e.startsWith("0")||e.includes("-")}function a(e){return e.startsWith("0")||e.includes("-preview")?"preview":e.includes("-rc")?"rc":e.includes("-")?"beta":"ga"}function i(e){return"experimental"===e?"preview":e}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),i=n(4),o=n(6),s=n(8),u=n(17),c=n(5),l=n(35);function d(e,t=!1){return{pipelineName:e,canEdit:t}}const p=({packageInputStream:e,packageInfo:t})=>{const n=e.data_stream,{application:p,share:f,docLinks:g}=Object(u.Tb)(),E=f.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),m=Object(l.a)(e.id),{pipelines:h,addPipelineUrl:_,hasCustom:b,isLoading:T}=function(e,t,n){var a;const[i,o]=Object(r.useState)(""),{share:s}=Object(u.Tb)(),l=s.url.locators.get("INGEST_PIPELINES_APP_LOCATOR"),p=Object(c.y)({dataStream:t,packageVersion:e.version}),f=Object(c.s)(t),g=Object(u.Gb)(f),E=Object(r.useMemo)((()=>g.data?[d(p),d(f,!0)]:[d(p)]),[p,f,g.data]);return Object(r.useEffect)((()=>{!async function(){if(!l)return;const e=await l.getUrl({page:"pipeline_create"});o(`${e}?name=${f}&redirect_path=${n}`)}()}),[f,n,l]),{isLoading:g.isLoading,hasCustom:!g.isLoading&&404!==(null===(a=g.error)||void 0===a?void 0:a.statusCode),pipelines:E,addPipelineUrl:i}}(t,n,m);return n?a.a.createElement(o.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},a.a.createElement(o.EuiFlexItem,{grow:!1},a.a.createElement(o.EuiTitle,{size:"xxxs"},a.a.createElement("h5",null,a.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesTitle",defaultMessage:"Ingest pipelines"})))),a.a.createElement(o.EuiFlexItem,{grow:!1},a.a.createElement(o.EuiText,{color:"subdued",size:"xs"},a.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelinesLabel",defaultMessage:"Ingest pipelines perform common transformations on the ingested data. We recommend modifying only the custom ingest pipeline. These pipelines are shared between integration policies of the same integration type. Hence, any modifications to the ingest pipelines would affect all the integration policies. {learnMoreLink}",values:{learnMoreLink:a.a.createElement(o.EuiLink,{href:g.links.fleet.datastreams,external:!0},a.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEdotpr.datastreamIngestPipelines.learnMoreLink",defaultMessage:"Learn more"}))}}))),a.a.createElement(o.EuiFlexItem,{grow:!1},a.a.createElement(o.EuiBasicTable,{loading:T,items:h,columns:[{field:"pipelineName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:i.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.editBtn",{defaultMessage:"Edit pipeline"}),"data-test-subj":"datastreamEditPipelineBtn",name:"edit",isPrimary:!0,onClick:async e=>{if(!E)return;const t=await E.getUrl({page:"pipeline_edit",pipelineId:e.pipelineName});p.navigateToUrl(`${t}?redirect_path=${m}`)},available:({canEdit:e})=>e},{icon:"inspect",type:"icon",description:i.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.inspectBtn",{defaultMessage:"Inspect pipeline"}),name:"inspect","data-test-subj":"datastreamInspectPipelineBtn",isPrimary:!0,onClick:async e=>{if(!E)return;const t=await E.getUrl({page:"pipeline_list"});p.navigateToUrl(`${t}?pipeline=${e.pipelineName}&redirect_path=${m}`)}}]}]})),!T&&!b&&a.a.createElement(o.EuiFlexItem,{grow:!1},a.a.createElement(o.EuiSpacer,{size:"xs"}),a.a.createElement(o.EuiButtonEmpty,{size:"xs",flush:"left",iconType:"plusInCircle","data-test-subj":"datastreamAddCustomIngestPipelineBtn",href:_},a.a.createElement(s.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamIngestPipelines.addCustomButn",defaultMessage:"Add custom pipeline"})))):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),i=n(6),o=n(8),s=n(4),u=n(5),c=n(17),l=n(35);const d=({packageInputStream:e,packageInfo:t})=>{const n=e.data_stream,r=Object(l.a)(e.id),{application:d,docLinks:p}=Object(c.Tb)(),f=function(e){return[{templateName:Object(u.r)(e,"@package")},{templateName:Object(u.r)(e,"@custom"),canEdit:!0}]}(n);return a.a.createElement(i.EuiFlexGroup,{direction:"column",gutterSize:"xs",alignItems:"flexStart"},a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(i.EuiTitle,{size:"xxxs"},a.a.createElement("h5",null,a.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.title",defaultMessage:"Mappings"})))),a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(i.EuiText,{color:"subdued",size:"xs"},a.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.description",defaultMessage:"Mapping is the process of defining how a document, and the fields it contains, are stored and indexed. If you are adding new fields through custom ingest pipeline, we recommend addition of a mapping for those in the component template. {learnMoreLink}",values:{learnMoreLink:a.a.createElement(i.EuiLink,{href:p.links.fleet.datastreams,external:!0},a.a.createElement(o.FormattedMessage,{id:"xpack.fleet.packagePolicyEditor.datastreamMappings.learnMoreLink",defaultMessage:"Learn more"}))}}))),a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(i.EuiBasicTable,{items:f,columns:[{field:"templateName",name:""},{width:"60px",actions:[{icon:"pencil",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.editBtn",{defaultMessage:"Edit mappings"}),"data-test-subj":"datastreamEditMappingsBtn",name:"edit",isPrimary:!0,onClick:async e=>{const t=d.getUrlForApp("management",{path:`/data/index_management/edit_component_template/${e.templateName}`});d.navigateToUrl(`${t}?step=mappings&redirect_path=${r}`)},available:({canEdit:e})=>!!e},{icon:"inspect",type:"icon",description:s.i18n.translate("xpack.fleet.packagePolicyEditor.datastreamMappings.inspectBtn",{defaultMessage:"Inspect mappings"}),name:"inspect","data-test-subj":"datastreamInspectMappingsBtn",isPrimary:!0,onClick:async e=>{const t=d.getUrlForApp("management",{path:`/data/index_management/component_templates/${e.templateName}`});d.navigateToUrl(`${t}?redirect_path=${r}`)}}]}]})))}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.r(t),n.d(t,"getAgentStatus",(function(){return a})),n.d(t,"getPreviousAgentStatusForOfflineAgents",(function(){return i})),n.d(t,"buildKueryForEnrollingAgents",(function(){return o})),n.d(t,"buildKueryForUnenrollingAgents",(function(){return s})),n.d(t,"buildKueryForOnlineAgents",(function(){return u})),n.d(t,"buildKueryForErrorAgents",(function(){return c})),n.d(t,"buildKueryForOfflineAgents",(function(){return l})),n.d(t,"buildKueryForUpgradingAgents",(function(){return d})),n.d(t,"buildKueryForUpdatingAgents",(function(){return p})),n.d(t,"buildKueryForInactiveAgents",(function(){return f}));var r=n(1);function a(e){var t,n;const{last_checkin:a}=e;if(!e.active)return"inactive";if(!e.last_checkin)return"enrolling";const i=new Date(a||0).getTime(),o=(new Date).getTime()-i;return Math.floor(o/r.j)>=10?"offline":e.unenrollment_started_at&&!e.unenrolled_at?"unenrolling":"error"===(null===(t=e.last_checkin_status)||void 0===t?void 0:t.toLowerCase())?"error":"degraded"===(null===(n=e.last_checkin_status)||void 0===n?void 0:n.toLowerCase())?"degraded":!("policy_revision"in e?e.policy_revision:"policy_revision_idx"in e?e.policy_revision_idx:void 0)||e.upgrade_started_at&&!e.upgraded_at?"updating":"online"}function i(e){var t,n;return e.unenrollment_started_at&&!e.unenrolled_at?"unenrolling":"error"===(null===(t=e.last_checkin_status)||void 0===t?void 0:t.toLowerCase())?"error":"degraded"===(null===(n=e.last_checkin_status)||void 0===n?void 0:n.toLowerCase())?"degraded":!("policy_revision"in e?e.policy_revision:"policy_revision_idx"in e?e.policy_revision_idx:void 0)||e.upgrade_started_at&&!e.upgraded_at?"updating":void 0}function o(e=""){return`not (${e}last_checkin:*)`}function s(e=""){return`${e}unenrollment_started_at:*`}function u(e=""){return`${e}last_checkin:* ${g([l,p,c],e)}`}function c(e=""){return`(${e}last_checkin_status:error or ${e}last_checkin_status:degraded or ${e}last_checkin_status:DEGRADED or ${e}last_checkin_status:ERROR) ${g([l,s],e)}`}function l(e=""){return`${e}last_checkin < now-${10*r.j/1e3}s`}function d(e=""){return`(${e}upgrade_started_at:*) and not (${e}upgraded_at:*)`}function p(e=""){return`((${d(e)}) or (${o(e)}) or (${s(e)}) or (not ${e}policy_revision_idx:*)) ${g([l,c],e)}`}function f(e=""){return`${e}active:false`}function g(e,t){return` AND not (${e.map((e=>`(${e(t)})`)).join(" or ")})`}},function(e,t,n){e.exports=n(36)(2728)},function(e,t,n){const r=n(38);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(2);function i(){const{http:e}=Object(r.a)();return{toSharedAssets:t=>e.basePath.prepend(`/plugins/kibanaReact/assets/${t}`),toPackageImage:(t,n,r)=>{const i=t.src?`/package/${n}/${r}${t.src}`:"path"in t&&t.path;if(i){const t=a.l.getFilePath(i);return e.basePath.prepend(t)}},toRelativeImage:({path:t,packageName:n,version:r})=>{const i=new URL(t,"http://example.com").pathname,o=`${a.l.getInfoPath(n,r)}/${i}`;return e.basePath.prepend(o)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),a=n(0),i=r.__importDefault(n(64));t.default=function(e,t){var n=a.useState(t),r=n[0],o=n[1];return i.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var r=n(4),a=n(37);const i={kibana:Object.values(a.c),elasticsearch:Object.values(a.a)},o={dashboard:r.i18n.translate("xpack.fleet.epm.assetTitles.dashboards",{defaultMessage:"Dashboards"}),ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.ilmPolicies",{defaultMessage:"ILM policies"}),ingest_pipeline:r.i18n.translate("xpack.fleet.epm.assetTitles.ingestPipelines",{defaultMessage:"Ingest pipelines"}),transform:r.i18n.translate("xpack.fleet.epm.assetTitles.transforms",{defaultMessage:"Transforms"}),index_pattern:r.i18n.translate("xpack.fleet.epm.assetTitles.indexPatterns",{defaultMessage:"Index patterns"}),index_template:r.i18n.translate("xpack.fleet.epm.assetTitles.indexTemplates",{defaultMessage:"Index templates"}),component_template:r.i18n.translate("xpack.fleet.epm.assetTitles.componentTemplates",{defaultMessage:"Component templates"}),search:r.i18n.translate("xpack.fleet.epm.assetTitles.savedSearches",{defaultMessage:"Saved searches"}),visualization:r.i18n.translate("xpack.fleet.epm.assetTitles.visualizations",{defaultMessage:"Visualizations"}),map:r.i18n.translate("xpack.fleet.epm.assetTitles.maps",{defaultMessage:"Maps"}),data_stream_ilm_policy:r.i18n.translate("xpack.fleet.epm.assetTitles.dataStreamILM",{defaultMessage:"Data stream ILM policies"}),lens:r.i18n.translate("xpack.fleet.epm.assetTitles.lens",{defaultMessage:"Lens"}),security_rule:r.i18n.translate("xpack.fleet.epm.assetTitles.securityRules",{defaultMessage:"Security rules"}),osquery_pack_asset:r.i18n.translate("xpack.fleet.epm.assetTitles.osqueryPackAssets",{defaultMessage:"Osquery packs"}),osquery_saved_query:r.i18n.translate("xpack.fleet.epm.assetTitles.osquerySavedQuery",{defaultMessage:"Osquery saved queries"}),ml_module:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModules",{defaultMessage:"ML modules"}),ml_model:r.i18n.translate("xpack.fleet.epm.assetTitles.mlModels",{defaultMessage:"ML models"}),view:r.i18n.translate("xpack.fleet.epm.assetTitles.views",{defaultMessage:"Views"}),tag:r.i18n.translate("xpack.fleet.epm.assetTitles.tag",{defaultMessage:"Tag"}),csp_rule_template:r.i18n.translate("xpack.fleet.epm.assetTitles.cloudSecurityPostureRuleTemplate",{defaultMessage:"Cloud Security Posture rule template"})},s={kibana:"Kibana",elasticsearch:"Elasticsearch"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(27),a=n.n(r),i=n(14),o=n(9);const s=e=>{const t=(n=o.l.APM_LOCATOR,Object(i.a)().share.url.locators.get(n));var n;const{error:r,loading:s,value:u}=a()((()=>{if(!(e=>Boolean("apm"===e.package))(e)||!t)return Promise.resolve();if(e.serviceDetails){const{serviceName:n,environment:r}=e.serviceDetails;return t.getUrl({serviceName:n,serviceOverviewTab:"logs"===e.type?"errors":e.type,query:{environment:r}})}return t.getUrl({serviceName:void 0})}));return{isSuccessful:!r&&!s,href:u}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(23),a=n(0),i=n.n(a),o=n(14),s=n(6),u=n(4),c=n(8);const l=({onCancel:e,onConfirm:t,pkgName:n,docLinks:r})=>i.a.createElement(s.EuiConfirmModal,{title:i.a.createElement("span",{className:"eui-textBreakWord"},i.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.title",defaultMessage:"View unverified integration?"})),onCancel:e,onConfirm:t,cancelButtonText:i.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:i.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.confirmButtonLabel",defaultMessage:"View anyway"}),buttonColor:"danger","data-test-subj":"ConfirmOpenUnverifiedModal"},i.a.createElement(s.EuiCallOut,{title:u.i18n.translate("xpack.fleet.ConfirmOpenUnverifiedModal.calloutTitleWithPkg",{defaultMessage:"Integration {pkgName} has failed verification",values:{pkgName:n}}),color:"warning",iconType:"alert",children:i.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.calloutBody",defaultMessage:"This integration contains an unsigned package of unknown authenticity and could contain malicious files. Learn more about {learnMoreLink}.",values:{learnMoreLink:i.a.createElement(s.EuiLink,{target:"_blank",external:!0,href:r.links.fleet.packageSignatures},i.a.createElement(c.FormattedMessage,{id:"xpack.fleet.ConfirmOpenUnverifiedModal.learnMoreLink",defaultMessage:"package signatures"}))}})})),d=()=>{const{overlays:e,docLinks:t}=Object(o.a)();return Object(a.useCallback)((n=>(({pkgName:e,overlays:t,docLinks:n})=>new Promise((a=>{const o=t.openModal(Object(r.toMountPoint)(i.a.createElement(l,{pkgName:e,onConfirm:()=>{o.close(),a(!0)},onCancel:()=>{o.close(),a(!1)},docLinks:n})))})))({pkgName:n,overlays:e,docLinks:t})),[t,e])}},function(e,t,n){"use strict";(function(e){function r(t){const n=t.split(":").pop();if(!n)return void console.debug(`Unable to decode ${n}`);let r;try{r=e.from(n,"base64").toString("utf8")}catch{return void console.debug(`base64 decoding failed on ${n}`)}const i=r.split("$");if(i.length<3)return void console.debug(`Expected at least 3 parts in ${r}`);const[o,s]=a(i[0]),[u,c]=a(i[1],s),[l,d]=a(i[2],s);return{host:o,defaultPort:s,elasticsearchUrl:`https://${u}.${o}:${c}`,kibanaUrl:`https://${l}.${o}:${d}`}}function a(e,t="443"){const[n,r=t]=e.split(":");return[n,r]}n.d(t,"a",(function(){return r}))}).call(this,n(51).Buffer)},function(e,t,n){(function(t){const n="object"==typeof t&&Object({IS_KIBANA_DISTRIBUTABLE:"true"})&&Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({IS_KIBANA_DISTRIBUTABLE:"true"}).NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(67))},function(e,t){const n=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:n.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},function(e,t,n){const{MAX_LENGTH:r}=n(42),{re:a,t:i}=n(43),o=n(38),s=n(60);e.exports=(e,t)=>{if(t=s(t),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?a[i.LOOSE]:a[i.FULL]).test(e))return null;try{return new o(e,t)}catch(e){return null}}},function(e,t,n){const r=n(61);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),a=n(45);const i=(e,t)=>{var n;const i=null===(n=e.icons)||void 0===n?void 0:n.find((e=>"image/svg+xml"===e.type));return i?t.prepend(a.h.getFilePath(`/package/${e.name}/${e.version}${i.src}`)):r.ICON_TYPES.find((t=>t.toLowerCase()===`logo${e.name}`))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=a},function(e,t,n){n(66),__kbnBundles__.define("plugin/fleet/public",n,74),__kbnBundles__.define("plugin/fleet/common",n,13)},function(e,t,n){n.p=window.__kbnPublicPath__.fleet},function(e,t,n){e.exports=n(36)(477)},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),a=n.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"","%FF%FE":""},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="";for(var a=Object.keys(t),o=0;o<a.length;o++){var u=a[o];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(39),a=n(0),i=r.__importDefault(n(73));t.default=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var o=a.useRef(0),s=i.default(),u=a.useState(n),c=u[0],l=u[1],d=a.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=++o.current;return l((function(e){return r.__assign(r.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&a===o.current&&l({value:e,loading:!1}),e}),(function(e){return s()&&a===o.current&&l({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=function(){var e=r.useRef(!1),t=r.useCallback((function(){return e.current}),[]);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"plugin",(function(){return q})),n.d(t,"pagePathGetters",(function(){return b.u})),n.d(t,"pkgKeyFromPackageInfo",(function(){return F.z})),n.d(t,"CustomAssetsAccordion",(function(){return w})),n.d(t,"PackagePolicyEditorDatastreamPipelines",(function(){return G.a})),n.d(t,"PackagePolicyEditorDatastreamMappings",(function(){return B.a}));var r=n(10),a=n.n(r),i=n(0),o=n.n(i),s=n(4),u=n(11),c=n(28),l=n(49),d=n(13),p=(Object.freeze({kibana:{id:"kibana",label:s.i18n.translate("core.ui.kibanaNavList.label",{defaultMessage:"Analytics"}),euiIconType:"logoKibana",order:1e3},enterpriseSearch:{id:"enterpriseSearch",label:s.i18n.translate("core.ui.enterpriseSearchNavList.label",{defaultMessage:"Enterprise Search"}),order:2e3,euiIconType:"logoEnterpriseSearch"},observability:{id:"observability",label:s.i18n.translate("core.ui.observabilityNavList.label",{defaultMessage:"Observability"}),euiIconType:"logoObservability",order:3e3},security:{id:"securitySolution",label:s.i18n.translate("core.ui.securityNavList.label",{defaultMessage:"Security"}),order:4e3,euiIconType:"logoSecurity"},management:{id:"management",label:s.i18n.translate("core.ui.managementNavList.label",{defaultMessage:"Management"}),order:5e3,euiIconType:"managementApp"}}),n(1));const f=({fleet:e,integrations:t,isSuperuser:n})=>({fleet:{all:e.all&&(t.all||t.read),setup:e.all||e.setup,readEnrollmentTokens:e.all||e.setup,readAgentPolicies:e.all||e.setup},integrations:{readPackageInfo:e.all||e.setup||t.all||t.read,readInstalledPackages:t.all||t.read,installPackages:e.all&&t.all,upgradePackages:e.all&&t.all,removePackages:e.all&&t.all,uploadPackages:n,readPackageSettings:e.all&&t.all,writePackageSettings:e.all&&t.all,readIntegrationPolicies:e.all&&(t.all||t.read),writeIntegrationPolicies:e.all&&t.all}});function g(e){return e?{endpoint:{actions:p.q.reduce(((t,n)=>({...t,[n]:{executePackageAction:e.siem[n]||!1}})),{})}}:{}}const E=Object.freeze({createPackagePolicyMultiPageLayout:!0,packageVerification:!0,showDevtoolsRequest:!0,diagnosticFileUploadEnabled:!1}),m=class extends Error{},h=Object.keys(E),_=e=>h.includes(e);var b=n(7),T=n(12),P=n(15),I=n(18),v=n(22),y=n(63);const O="integration",A=(e,t,n)=>({id:e.name,type:O,title:e.title,score:80,icon:Object(y.a)(e,n),url:{path:`${t.getUrlForApp(d.INTEGRATIONS_PLUGIN_ID)}${b.u.integration_details_overview({pkgkey:e.name})[1]}`,prependBasePath:!1}});var N=n(6);const R=o.a.lazy((()=>n.e(4).then(n.bind(null,369)))),k=()=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(N.EuiLoadingSpinner,null)},o.a.createElement(R,null)),S=o.a.lazy((()=>n.e(5).then(n.bind(null,370)))),L=({moduleName:e})=>o.a.createElement(o.a.Suspense,{fallback:o.a.createElement(N.EuiLoadingSpinner,null)},o.a.createElement(S,{moduleName:e}));var j=n(32),x=n(31),$=n(23),C=n(55);const w=({views:e,initialIsOpen:t=!1})=>{const{application:n}=Object(T.oc)();return o.a.createElement(N.EuiAccordion,{initialIsOpen:t,buttonContent:o.a.createElement(N.EuiFlexGroup,{justifyContent:"center",alignItems:"center",gutterSize:"s",responsive:!1},o.a.createElement(N.EuiFlexItem,{grow:!1},o.a.createElement(N.EuiText,{size:"m"},o.a.createElement("h3",null,C.a.view))),o.a.createElement(N.EuiFlexItem,{grow:!1},o.a.createElement(N.EuiNotificationBadge,{color:"subdued",size:"m"},o.a.createElement("h3",null,e.length)))),id:"custom-assets"},o.a.createElement(o.a.Fragment,null,o.a.createElement(N.EuiSpacer,{size:"m"}),o.a.createElement(N.EuiSplitPanel.Outer,{hasBorder:!0,hasShadow:!1},e.map(((t,r)=>o.a.createElement(o.a.Fragment,null,o.a.createElement(N.EuiSplitPanel.Inner,{grow:!1,key:r},o.a.createElement(N.EuiText,{size:"m"},o.a.createElement("p",null,o.a.createElement($.RedirectAppLinks,{application:n},o.a.createElement(N.EuiLink,{href:t.url},t.name)))),o.a.createElement(N.EuiSpacer,{size:"s"}),o.a.createElement(N.EuiText,{size:"s",color:"subdued"},o.a.createElement("p",null,t.description))),r+1<e.length&&o.a.createElement(N.EuiHorizontalRule,{margin:"none"})))))))},M=()=>{const{http:e}=Object(T.oc)(),t=e.basePath.prepend("/app/logs/stream"),n=[{name:s.i18n.translate("xpack.fleet.assets.customLogs.name",{defaultMessage:"Logs"}),url:t,description:s.i18n.translate("xpack.fleet.assets.customLogs.description",{defaultMessage:"View Custom logs data in Logs app"})}];return o.a.createElement(w,{views:n,initialIsOpen:!0})},D=Object(i.lazy)((async()=>({default:M})));var U=n(25);class plugin_FleetPlugin{constructor(e){a()(this,"config",void 0),a()(this,"kibanaVersion",void 0),a()(this,"extensions",{}),a()(this,"experimentalFeatures",void 0),a()(this,"storage",new l.Storage(localStorage)),this.initializerContext=e,this.config=this.initializerContext.config.get(),this.experimentalFeatures=(e=>{const t={};for(const n of e){if(!_(n))throw new m(`[${n}] is not a supported experimental feature`);t[n]=!0}return{...E,...t}})(this.config.enableExperimental||[]),this.kibanaVersion=e.env.packageInfo.version}setup(e,t){const r=this.config,a=this.kibanaVersion,i=this.extensions;return Object(U.c)(t.customIntegrations),Object(P.mb)(e.http),e.application.register({id:d.INTEGRATIONS_PLUGIN_ID,category:c.DEFAULT_APP_CATEGORIES.management,appRoute:"/app/integrations",title:s.i18n.translate("xpack.fleet.integrationsAppTitle",{defaultMessage:"Integrations"}),order:9019,euiIconType:"logoElastic",mount:async s=>{var u,c;const[l,d,p]=await e.getStartServices(),f=t.cloud&&d.cloud?{...t.cloud,...d.cloud}:void 0,g={...l,...d,storage:this.storage,cloud:f,authz:await p.authz},{renderApp:E,teardownIntegrations:m}=await Promise.all([n.e(0),n.e(2)]).then(n.bind(null,372)),h=null!==(u=null===(c=t.usageCollection)||void 0===c?void 0:c.components.ApplicationUsageTrackingProvider)&&void 0!==u?u:o.a.Fragment,_=E(g,s,r,a,i,h);return()=>{_(),m(g)}}}),e.application.register({id:d.PLUGIN_ID,category:c.DEFAULT_APP_CATEGORIES.management,title:s.i18n.translate("xpack.fleet.appTitle",{defaultMessage:"Fleet"}),order:9020,euiIconType:"logoElastic",appRoute:"/app/fleet",mount:async o=>{const[s,u,c]=await e.getStartServices(),l=t.cloud&&u.cloud?{...t.cloud,...u.cloud}:void 0,d={...s,...u,storage:this.storage,cloud:l,authz:await c.authz},{renderApp:p,teardownFleet:f}=await Promise.all([n.e(0),n.e(3)]).then(n.bind(null,371)),g=p(d,o,r,a,i);return()=>{g(),f(d)}}}),e.application.register({id:"ingestManager",category:c.DEFAULT_APP_CATEGORIES.management,navLinkStatus:c.AppNavLinkStatus.hidden,title:s.i18n.translate("xpack.fleet.oldAppTitle",{defaultMessage:"Ingest Manager"}),async mount(t){const[n]=await e.getStartServices();return n.application.navigateToApp("fleet",{path:t.history.location.hash}),()=>{}}}),t.home&&(t.home.tutorials.registerDirectoryHeaderLink(d.PLUGIN_ID,k),t.home.tutorials.registerModuleNotice(d.PLUGIN_ID,L),t.home.featureCatalogue.register({id:"fleet",title:s.i18n.translate("xpack.fleet.featureCatalogueTitle",{defaultMessage:"Add Elastic Agent integrations"}),description:s.i18n.translate("xpack.fleet.featureCatalogueDescription",{defaultMessage:"Add and manage integrations with Elastic Agent"}),icon:"indexManagementApp",showOnHomePage:!0,path:b.l,category:"data",order:510})),t.globalSearch&&t.globalSearch.registerResultProvider((e=>{const t=Object(I.from)(e.getStartServices()).pipe(Object(v.map)((([e])=>e)),Object(v.shareReplay)(1));let n;return{id:"integrations",getSearchableTypes:()=>[O],find:({term:e,types:r},{maxResults:a,aborted$:i})=>{if(!1===(null==r?void 0:r.includes(O)))return Object(I.of)([]);const o=Boolean(r)&&r.includes(O),s=!e,u=o&&s;return!u&&s?Object(I.of)([]):(e&&(e=e.toLowerCase()),Object(I.combineLatest)([t,(n||(n=Object(I.from)(Object(T.O)()).pipe(Object(v.map)((({error:e,data:t})=>{var n;if(e)throw e;return null!==(n=null==t?void 0:t.response)&&void 0!==n?n:[]})),Object(v.shareReplay)(1))),n)]).pipe(Object(v.takeUntil)(i),Object(v.map)((([t,n])=>n?((t,n)=>n.flatMap(u?e=>A(e,t.application,t.http.basePath):n=>e&&n.title.toLowerCase().includes(e)?A(n,t.application,t.http.basePath):[]).slice(0,a))(t,n):[]))))}}})(e)),{}}start(e,t){x.a.init(this.experimentalFeatures);const n=Object(j.a)(this.extensions),r=Object(u.once)((()=>e.http.get(d.appRoutesService.getCheckPermissionsPath())));T.j.start(t.licensing.license$),n({package:b.e,view:"package-detail-assets",Component:D});const{capabilities:a}=e.application;return Object(U.d)(t.customIntegrations),{authz:{...f({fleet:{all:a.fleetv2.all,setup:!1},integrations:{all:a.fleet.all,read:a.fleet.read},isSuperuser:!1}),packagePrivileges:g(a)},isInitialized:Object(u.once)((async()=>{const t=await r();if(null!=t&&t.success){const{isInitialized:t}=await e.http.post(d.setupRouteService.getSetupPath());if(!t)throw new Error("Unknown setup error");return!0}throw new Error((null==t?void 0:t.error)||"Unknown permissions error")})),registerExtension:n}}stop(){}}var F=n(2),G=n(47),B=n(48);const q=e=>new plugin_FleetPlugin(e)},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/customIntegrations/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/cloudChat/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/usageCollection/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.RisonNode},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/infra/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.ReactQueryDevtools}]);