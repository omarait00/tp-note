/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.indexManagement_bundle_jsonpfunction=window.indexManagement_bundle_jsonpfunction||[]).push([[1],Array(42).concat([function(e,t,a){"use strict";t.__esModule=!0;var i=c(a(123));t.combineActions=i.default;var n=c(a(58));t.createAction=n.default;var s=c(a(126));t.createActions=s.default;var r=c(a(135));t.createCurriedAction=r.default;var o=c(a(82));t.handleAction=o.default;var l=c(a(138));function c(e){return e&&e.__esModule?e:{default:e}}t.handleActions=l.default},function(e,t,a){e.exports=a(3)(3)},function(e,t,a){e.exports=a(3)(2743)},function(e,t,a){"use strict";t.__esModule=!0;var i={batch:!0},n=a(84);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===n[e]||(t[e]=n[e]))}));var s=a(98);t.batch=s.unstable_batchedUpdates,(0,a(65).setBatch)(s.unstable_batchedUpdates)},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var n=i(a(23)).default.createContext(null);t.ReactReduxContext=n;var s=n;t.default=s},function(e,t,a){"use strict";e.exports=function(e,t,a,i,n,s,r,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[a,i,n,s,r,o],d=0;(l=new Error(t.replace(/%s/g,(function(){return c[d++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,a){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0,t.DEFAULT_NAMESPACE="/",t.ACTION_TYPE_DELIMITER="||"},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},function(e,t,a){"use strict";function i(e){return e}function n(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=i,t.unsafeCoerce=i,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,a){return e(a,t)}},t.flow=function(e,t,a,i,n,s,r,o,l){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return a(t(e.apply(this,arguments)))};case 4:return function(){return i(a(t(e.apply(this,arguments))))};case 5:return function(){return n(i(a(t(e.apply(this,arguments)))))};case 6:return function(){return s(n(i(a(t(e.apply(this,arguments))))))};case 7:return function(){return r(s(n(i(a(t(e.apply(this,arguments)))))))};case 8:return function(){return o(r(s(n(i(a(t(e.apply(this,arguments))))))))};case 9:return function(){return l(o(r(s(n(i(a(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=n,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return e(t)}},t.pipe=function(e,t,a,i,n,s,r,o,l,c,d,u,p,m,g,f,x,b,j,h){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return a(t(e));case 4:return i(a(t(e)));case 5:return n(i(a(t(e))));case 6:return s(n(i(a(t(e)))));case 7:return r(s(n(i(a(t(e))))));case 8:return o(r(s(n(i(a(t(e)))))));case 9:return l(o(r(s(n(i(a(t(e))))))));case 10:return c(l(o(r(s(n(i(a(t(e)))))))));case 11:return d(c(l(o(r(s(n(i(a(t(e))))))))));case 12:return u(d(c(l(o(r(s(n(i(a(t(e)))))))))));case 13:return p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))));case 14:return m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))));case 15:return g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))));case 16:return f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))));case 17:return x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))))));case 18:return b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))))));case 19:return j(b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e))))))))))))))))));case 20:return h(j(b(x(f(g(m(p(u(d(c(l(o(r(s(n(i(a(t(e)))))))))))))))))))}},t.hole=n,t.bind_=function(e,t,a){var i;return Object.assign({},e,((i={})[t]=a,i))},t.bindTo_=function(e){return function(t){var a;return(a={})[e]=t,a}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"function"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},function(e,t,a){"use strict";const i=a(142),n=a(143),s=a(144);function r(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function l(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){r((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,i)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=a):i[e]=a};case"bracket":return(e,a,i)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],a):i[e]=[a]:i[e]=a};case"comma":case"separator":return(t,a,i)=>{const n="string"==typeof a&&a.split("").indexOf(e.arrayFormatSeparator)>-1?a.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===a?a:l(a,e);i[t]=n};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const n of e.split("&")){let[e,r]=s(t.decode?n.replace(/\+/g," "):n,"=");r=void 0===r?null:["comma","separator"].includes(t.arrayFormat)?r:l(r,t),a(l(e,t),r,i)}for(const e of Object.keys(i)){const a=i[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=p(a[e],t);else i[e]=p(a,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const a=i[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=u,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";r((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],i=function(e){switch(e.arrayFormat){case"index":return t=>(a,i)=>{const n=a.length;return void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[",n,"]"].join("")]:[...a,[o(t,e),"[",o(n,e),"]=",o(i,e)].join("")]};case"bracket":return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(i,e)].join("")];case"comma":case"separator":return t=>(a,i)=>null==i||0===i.length?a:0===a.length?[[o(t,e),"=",o(i,e)].join("")]:[[a,o(i,e)].join(e.arrayFormatSeparator)];default:return t=>(a,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?a:null===i?[...a,o(t,e)]:[...a,[o(t,e),"=",o(i,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const s=Object.keys(n);return!1!==t.sort&&s.sort(t.sort),s.map((a=>{const n=e[a];return void 0===n?"":null===n?o(a,t):Array.isArray(n)?n.reduce(i(a),[]).join("&"):o(a,t)+"="+o(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,i]=s(e,"#");return Object.assign({url:a.split("?")[0]||"",query:m(u(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:l(i,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const i=d(e.url).split("?")[0]||"",n=t.extract(e.url),s=t.parse(n,{sort:!1}),r=Object.assign(s,e.query);let l=t.stringify(r,a);l&&(l=`?${l}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${i}${l}${c}`}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var i=a(83),n=a(50);function s(e,a){try{return t.right(e())}catch(e){return t.left(a(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(a){return null==a?t.left(e):t.right(a)}},t.tryCatch=s,t.parseJSON=function(e,t){return s((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return s((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(a){return"None"===a._tag?t.left(e()):t.right(a.value)}},t.fromPredicate=function(e,a){return function(i){return e(i)?t.right(i):t.left(a(i))}},t.fold=function(e,a){return function(i){return t.isLeft(i)?e(i.left):a(i.right)}},t.getOrElseW=function(e){return function(a){return t.isLeft(a)?e(a.left):a.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(a){return t.isLeft(a)?e(a.left):a}},t.filterOrElse=function(e,a){return t.chain((function(i){return e(i)?t.right(i):t.left(a(i))}))};var r=function(e,a){return n.pipe(e,t.map(a))},o=function(e,a){return n.pipe(e,t.ap(a))},l=function(e,a){return n.pipe(e,t.chain(a))},c=function(e,a,i){return n.pipe(e,t.reduce(a,i))},d=function(e){return function(a,i){var s=t.foldMap(e);return n.pipe(a,s(i))}},u=function(e,a,i){return n.pipe(e,t.reduceRight(a,i))},p=function(e){var a=t.traverse(e);return function(e,t){return n.pipe(e,a(t))}},m=function(e,a,i){return n.pipe(e,t.bimap(a,i))},g=function(e,a){return n.pipe(e,t.mapLeft(a))},f=function(e,a){return n.pipe(e,t.alt(a))},x=function(e,a){return n.pipe(e,t.extend(a))},b=function(e,a){return i.tailRec(a(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(a(e.right.left)):t.right(t.right(e.right.right))}))};function j(e){return{concat:function(a,i){return t.isLeft(a)?a:t.isLeft(i)?i:t.right(e.concat(a.right,i.right))}}}function h(e){var a=t.left(e.empty);return{URI:t.URI,_E:void 0,map:r,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?a:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:a}:{left:a,right:t.right(e.right.right)}},filter:function(e,i){return t.isLeft(e)||i(e.right)?e:a},filterMap:function(e,i){if(t.isLeft(e))return e;var n=i(e.right);return"None"===n._tag?a:t.right(n.value)},partition:function(e,i){return t.isLeft(e)?{left:e,right:e}:i(e.right)?{left:a,right:t.right(e.right)}:{left:t.right(e.right),right:a}},partitionMap:function(e,i){if(t.isLeft(e))return{left:e,right:e};var n=i(e.right);return t.isLeft(n)?{left:t.right(n.left),right:a}:{left:a,right:t.right(n.right)}}}}function M(e){return{URI:t.URI,_E:void 0,map:r,ap:function(a,i){return t.isLeft(a)?t.isLeft(i)?t.left(e.concat(a.left,i.left)):a:t.isLeft(i)?i:t.right(a.right(i.right))},of:t.of}}function y(e){return{URI:t.URI,_E:void 0,map:r,alt:function(a,i){if(t.isRight(a))return a;var n=i();return t.isLeft(n)?t.left(e.concat(a.left,n.left)):n}}}function O(e,a){return{concat:function(i,n){return t.isLeft(i)?t.isLeft(n)?t.left(e.concat(i.left,n.left)):i:t.isLeft(n)?n:t.right(a.concat(i.right,n.right))}}}t.map=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a.right))}},t.bimap=function(e,a){return function(i){return t.isLeft(i)?t.left(e(i.left)):t.right(a(i.right))}},t.mapLeft=function(e){return function(a){return t.isLeft(a)?t.left(e(a.left)):a}},t.apW=function(e){return function(a){return t.isLeft(a)?a:t.isLeft(e)?e:t.right(a.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return n.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return n.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(a){return t.isLeft(a)?a:e(a.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(a){return n.pipe(a,t.chainW((function(a){return n.pipe(e(a),t.map((function(){return a})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(n.identity),t.alt=function(e){return function(a){return t.isLeft(a)?e():a}},t.extend=function(e){return function(a){return t.isLeft(a)?a:t.right(e(a))}},t.duplicate=t.extend(n.identity),t.reduce=function(e,a){return function(i){return t.isLeft(i)?e:a(e,i.right)}},t.foldMap=function(e){return function(a){return function(i){return t.isLeft(i)?e.empty:a(i.right)}}},t.reduceRight=function(e,a){return function(i){return t.isLeft(i)?e:a(i.right,e)}},t.traverse=function(e){return function(a){return function(i){return t.isLeft(i)?e.of(t.left(i.left)):e.map(a(i.right),t.right)}}},t.sequence=function(e){return function(a){return t.isLeft(a)?e.of(t.left(a.left)):e.map(a.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,a){return{show:function(i){return t.isLeft(i)?"left("+e.show(i.left)+")":"right("+a.show(i.right)+")"}}},t.getEq=function(e,a){return{equals:function(i,n){return i===n||(t.isLeft(i)?t.isLeft(n)&&e.equals(i.left,n.left):t.isRight(n)&&a.equals(i.right,n.right))}}},t.getSemigroup=function(e){return{concat:function(a,i){return t.isLeft(i)?a:t.isLeft(a)?i:t.right(e.concat(a.right,i.right))}}},t.getApplySemigroup=j,t.getApplyMonoid=function(e){return{concat:j(e).concat,empty:t.right(e.empty)}},t.getFilterable=h,t.getWitherable=function(e){var a=h(e);return{URI:t.URI,_E:void 0,map:r,compact:a.compact,separate:a.separate,filter:a.filter,filterMap:a.filterMap,partition:a.partition,partitionMap:a.partitionMap,traverse:p,sequence:t.sequence,reduce:c,foldMap:d,reduceRight:u,wither:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.compact)}},wilt:function(e){var t=p(e);return function(i,n){return e.map(t(i,n),a.separate)}}}},t.getApplicativeValidation=M,t.getAltValidation=y,t.getValidation=function(e){var a=M(e),i=y(e);return{URI:t.URI,_E:void 0,map:r,of:t.of,chain:l,bimap:m,mapLeft:g,reduce:c,foldMap:d,reduceRight:u,extend:x,traverse:p,sequence:t.sequence,chainRec:b,throwError:t.throwError,ap:a.ap,alt:i.alt}},t.getValidationSemigroup=O,t.Functor={URI:t.URI,map:r},t.Applicative={URI:t.URI,map:r,ap:o,of:t.of},t.Monad={URI:t.URI,map:r,ap:o,of:t.of,chain:l},t.Foldable={URI:t.URI,reduce:c,foldMap:d,reduceRight:u},t.Traversable={URI:t.URI,map:r,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:m,mapLeft:g},t.Alt={URI:t.URI,map:r,alt:f},t.Extend={URI:t.URI,map:r,extend:x},t.ChainRec={URI:t.URI,map:r,ap:o,chain:l,chainRec:b},t.MonadThrow={URI:t.URI,map:r,ap:o,of:t.of,chain:l,throwError:t.throwError},t.getValidationMonoid=function(e,a){return{concat:O(e,a).concat,empty:t.right(a.empty)}},t.either={URI:t.URI,map:r,of:t.of,ap:o,chain:l,reduce:c,foldMap:d,reduceRight:u,traverse:p,sequence:t.sequence,bimap:m,mapLeft:g,alt:f,extend:x,chainRec:b,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(a,i){return!t.isLeft(i)&&e.equals(a,i.right)}},t.exists=function(e){return function(a){return!t.isLeft(a)&&e(a.right)}},t.bindTo=function(e){return t.map(n.bindTo_(e))},t.bindW=function(e,a){return t.chainW((function(i){return n.pipe(a(i),t.map((function(t){return n.bind_(i,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,a){return n.flow(t.map((function(t){return function(a){return n.bind_(t,e,a)}})),t.apW(a))},t.apS=t.apSW},function(e,t,a){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var a,s=n;function r(){l.onStateChange&&l.onStateChange()}function o(){var n,o,l;a||(a=t?t.addNestedSub(r):e.subscribe(r),n=(0,i.getBatch)(),o=null,l=null,s={clear:function(){o=null,l=null},notify:function(){n((function(){for(var e=o;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=o;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,a=l={callback:e,next:null,prev:l};return a.prev?a.prev.next=a:o=a,function(){t&&null!==o&&(t=!1,a.next?a.next.prev=a.prev:l=a.prev,a.prev?a.prev.next=a.next:o=a.next)}}})}var l={addNestedSub:function(e){return o(),s.subscribe(e)},notifyNestedSubs:function(){s.notify()},handleChangeWrapper:r,isSubscribed:function(){return Boolean(a)},trySubscribe:o,tryUnsubscribe:function(){a&&(a(),a=void 0,s.clear(),s=n)},getListeners:function(){return s}};return l};var i=a(65),n={notify:function(){},get:function(){return[]}}},function(e,t,a){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var i=a(23),n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;t.useIsomorphicLayoutEffect=n},function(e,t,a){e.exports=a(3)(1361)},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=s.default),(0,i.default)((0,n.default)(t)||(0,r.default)(t),"Expected payloadCreator to be a function, undefined or null");var o=(0,r.default)(t)||t===s.default?s.default:function(e){for(var a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return e instanceof Error?e:t.apply(void 0,[e].concat(i))},l=(0,n.default)(a),c=e.toString(),d=function(){var t=o.apply(void 0,arguments),i={type:e};return t instanceof Error&&(i.error=!0),void 0!==t&&(i.payload=t),l&&(i.meta=a.apply(void 0,arguments)),i};return d.toString=function(){return c},d};var i=o(a(47)),n=o(a(51)),s=o(a(59)),r=o(a(125));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if((0,n.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t};var i,n=(i=a(52))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(150));function s(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var r="function"==typeof Symbol&&Symbol.observable||"@@observable",o=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,a){var i;if("function"==typeof t&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw new Error(s(0));if("function"==typeof t&&void 0===a&&(a=t,t=void 0),void 0!==a){if("function"!=typeof a)throw new Error(s(1));return a(d)(e,t)}if("function"!=typeof e)throw new Error(s(2));var n=e,o=t,u=[],p=u,m=!1;function g(){p===u&&(p=u.slice())}function f(){if(m)throw new Error(s(3));return o}function x(e){if("function"!=typeof e)throw new Error(s(4));if(m)throw new Error(s(5));var t=!0;return g(),p.push(e),function(){if(t){if(m)throw new Error(s(6));t=!1,g();var a=p.indexOf(e);p.splice(a,1),u=null}}}function b(e){if(!c(e))throw new Error(s(7));if(void 0===e.type)throw new Error(s(8));if(m)throw new Error(s(9));try{m=!0,o=n(o,e)}finally{m=!1}for(var t=u=p,a=0;a<t.length;a++)(0,t[a])();return e}function j(e){if("function"!=typeof e)throw new Error(s(10));n=e,b({type:l.REPLACE})}function h(){var e,t=x;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(s(11));function a(){e.next&&e.next(f())}return a(),{unsubscribe:t(a)}}})[r]=function(){return this},e}return b({type:l.INIT}),(i={dispatch:b,subscribe:x,getState:f,replaceReducer:j})[r]=h,i}var u=d;function p(e,t){return function(){return t(e.apply(this,arguments))}}function m(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return function(){var a=e.apply(void 0,arguments),i=function(){throw new Error(s(15))},r={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map((function(e){return e(r)}));return i=m.apply(void 0,o)(a.dispatch),n.default(n.default({},a),{},{dispatch:i})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(s(16));var a={};for(var i in e){var n=e[i];"function"==typeof n&&(a[i]=p(n,t))}return a},t.combineReducers=function(e){for(var t=Object.keys(e),a={},i=0;i<t.length;i++){var n=t[i];"function"==typeof e[n]&&(a[n]=e[n])}var r,o=Object.keys(a);try{!function(e){Object.keys(e).forEach((function(t){var a=e[t];if(void 0===a(void 0,{type:l.INIT}))throw new Error(s(12));if(void 0===a(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(s(13))}))}(a)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var i=!1,n={},l=0;l<o.length;l++){var c=o[l],d=a[c],u=e[c],p=d(u,t);if(void 0===p)throw t&&t.type,new Error(s(14));n[c]=p,i=i||p!==u}return(i=i||o.length!==Object.keys(e).length)?n:e}},t.compose=m,t.createStore=d,t.legacy_createStore=u},function(e,t,a){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},i(e,t)},function(e,t){function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=a(54),o=r.either.map,l=r.either.chain,c=function(){function e(e,t,a,i){this.name=e,this.is=t,this.validate=a,this.encode=i,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(a,i){var n=this;return void 0===i&&(i="pipe("+this.name+", "+a.name+")"),new e(i,a.is,(function(e,t){return l(n.validate(e,t),(function(e){return a.validate(e,t)}))}),this.encode===t.identity&&a.encode===t.identity?t.identity:function(e){return n.encode(a.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,a,i){for(var n=e.length,s=Array(n+1),r=0;r<n;r++)s[r]=e[r];return s[n]={key:t,type:a,actual:i},s},t.failures=r.left,t.failure=function(e,a,i){return t.failures([{value:e,context:a,message:i}])},t.success=r.right;var d=function(e,t){for(var a=t.length,i=0;i<a;i++)e.push(t[i])},u=function(e){return function(t){return t._tag===e}},p=u("AnyType"),m=u("InterfaceType"),g=u("PartialType"),f=function(e){function a(){var a=e.call(this,"null",(function(e){return null===e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="NullType",a}return n(a,e),a}(c);t.NullType=f,t.nullType=new f,t.null=t.nullType;var x=function(e){function a(){var a=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="UndefinedType",a}return n(a,e),a}(c);t.UndefinedType=x;var b=new x;t.undefined=b;var j=function(e){function a(){var a=e.call(this,"void",b.is,b.validate,t.identity)||this;return a._tag="VoidType",a}return n(a,e),a}(c);t.VoidType=j,t.voidType=new j,t.void=t.voidType;var h=function(e){function a(){var a=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return a._tag="UnknownType",a}return n(a,e),a}(c);t.UnknownType=h,t.unknown=new h;var M=function(e){function a(){var a=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="StringType",a}return n(a,e),a}(c);t.StringType=M,t.string=new M;var y=function(e){function a(){var a=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="NumberType",a}return n(a,e),a}(c);t.NumberType=y,t.number=new y;var O=function(e){function a(){var a=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="BooleanType",a}return n(a,e),a}(c);t.BooleanType=O,t.boolean=new O;var v=function(e){function a(){var a=e.call(this,"UnknownArray",Array.isArray,(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="AnyArrayType",a}return n(a,e),a}(c);t.AnyArrayType=v,t.UnknownArray=new v,t.Array=t.UnknownArray;var T=function(e){function a(){var a=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="AnyDictionaryType",a}return n(a,e),a}(c);t.AnyDictionaryType=T,t.UnknownRecord=new T;var E=function(e){function a(){var a=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="FunctionType",a}return n(a,e),a}(c);t.FunctionType=E,t.Function=new E;var k=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n)||this;return o.type=s,o.predicate=r,o._tag="RefinementType",o}return n(t,e),t}(c);t.RefinementType=k,t.brand=function(e,t,a){return Q(e,t,a)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var F=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.value=s,r._tag="LiteralType",r}return n(t,e),t}(c);t.LiteralType=F,t.literal=function(e,a){void 0===a&&(a=JSON.stringify(e));var i=function(t){return t===e};return new F(a,i,(function(a,n){return i(a)?t.success(e):t.failure(a,n)}),t.identity,e)};var _=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.keys=s,r._tag="KeyofType",r}return n(t,e),t}(c);t.KeyofType=_;var S=Object.prototype.hasOwnProperty;t.keyof=function(e,a){void 0===a&&(a=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var i=function(a){return t.string.is(a)&&S.call(e,a)};return new _(a,i,(function(e,a){return i(e)?t.success(e):t.failure(e,a)}),t.identity,e)};var C=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.runDefinition=s,r._tag="RecursiveType",r}return n(t,e),t}(c);t.RecursiveType=C,Object.defineProperty(C.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var a,i=function(){return a||((a=t(n)).name=e),a},n=new C(e,(function(e){return i().is(e)}),(function(e,t){return i().validate(e,t)}),(function(e){return i().encode(e)}),i);return n};var L=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ArrayType",r}return n(t,e),t}(c);t.ArrayType=L,t.array=function(e,a){return void 0===a&&(a="Array<"+e.name+">"),new L(a,(function(a){return t.UnknownArray.is(a)&&a.every(e.is)}),(function(a,i){return l(t.UnknownArray.validate(a,i),(function(a){for(var n=a.length,s=a,o=[],l=0;l<n;l++){var c=a[l],u=e.validate(c,t.appendContext(i,String(l),e,c));if(r.isLeft(u))d(o,u.left);else{var p=u.right;p!==c&&(s===a&&(s=a.slice()),s[l]=p)}}return o.length>0?t.failures(o):t.success(s)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var w=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="InterfaceType",r}return n(t,e),t}(c);t.InterfaceType=w;var I=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},D=function(e){for(var a=0;a<e.length;a++)if(e[a].encode!==t.identity)return!1;return!0},P=function(e){return"{ "+I(e)+" }"};t.type=function(e,a){void 0===a&&(a=P(e));var i=Object.keys(e),n=i.map((function(t){return e[t]})),o=i.length;return new w(a,(function(e){if(t.UnknownRecord.is(e)){for(var a=0;a<o;a++){var s=i[a];if(!S.call(e,s)||!n[a].is(e[s]))return!1}return!0}return!1}),(function(e,a){return l(t.UnknownRecord.validate(e,a),(function(e){for(var l=e,c=[],u=0;u<o;u++){var p=i[u];S.call(l,p)||(l===e&&(l=s({},e)),l[p]=l[p]);var m=l[p],g=n[u],f=g.validate(m,t.appendContext(a,p,g,m));if(r.isLeft(f))d(c,f.left);else{var x=f.right;x!==m&&(l===e&&(l=s({},e)),l[p]=x)}}return c.length>0?t.failures(c):t.success(l)}))}),D(n)?t.identity:function(e){for(var a=s({},e),r=0;r<o;r++){var l=i[r],c=n[r].encode;c!==t.identity&&(a[l]=c(e[l]))}return a},e)},t.interface=t.type;var N=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="PartialType",r}return n(t,e),t}(c);t.PartialType=N;var A=function(e){return"Partial<"+e+">"};t.partial=function(e,a){void 0===a&&(a=A(P(e)));var i=Object.keys(e),n=i.map((function(t){return e[t]})),o=i.length;return new N(a,(function(a){if(t.UnknownRecord.is(a)){for(var n=0;n<o;n++){var s=i[n],r=a[s];if(void 0!==r&&!e[s].is(r))return!1}return!0}return!1}),(function(a,n){return l(t.UnknownRecord.validate(a,n),(function(a){for(var l=a,c=[],u=0;u<o;u++){var p=i[u],m=l[p],g=e[p],f=g.validate(m,t.appendContext(n,p,g,m));if(r.isLeft(f))void 0!==m&&d(c,f.left);else{var x=f.right;x!==m&&(l===a&&(l=s({},a)),l[p]=x)}}return c.length>0?t.failures(c):t.success(l)}))}),D(n)?t.identity:function(e){for(var t=s({},e),a=0;a<o;a++){var r=i[a],l=e[r];void 0!==l&&(t[r]=n[a].encode(l))}return t},e)};var R=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n)||this;return o.domain=s,o.codomain=r,o._tag="DictionaryType",o}return n(t,e),t}(c);t.DictionaryType=R,t.record=function(e,a,i){return void 0===i&&(i="{ [K in "+e.name+"]: "+a.name+" }"),new R(i,(function(i){return t.UnknownRecord.is(i)?Object.keys(i).every((function(t){return e.is(t)&&a.is(i[t])})):p(a)&&Array.isArray(i)}),(function(i,n){if(t.UnknownRecord.is(i)){for(var s={},o=[],l=Object.keys(i),c=l.length,u=!1,m=0;m<c;m++){var g=l[m],f=i[g],x=e.validate(g,t.appendContext(n,g,e,g));if(r.isLeft(x))d(o,x.left);else{var b=x.right;u=u||b!==g,g=b;var j=a.validate(f,t.appendContext(n,g,a,f));if(r.isLeft(j))d(o,j.left);else{var h=j.right;u=u||h!==f,s[g]=h}}}return o.length>0?t.failures(o):t.success(u?s:i)}return p(a)&&Array.isArray(i)?t.success(i):t.failure(i,n)}),e.encode===t.identity&&a.encode===t.identity?t.identity:function(t){for(var i={},n=Object.keys(t),s=n.length,r=0;r<s;r++){var o=n[r];i[String(e.encode(o))]=a.encode(t[o])}return i},e,a)};var z=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="UnionType",r}return n(t,e),t}(c);t.UnionType=z;var B=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,a){void 0===a&&(a=B(e));var i=se(e);if(void 0!==i&&e.length>0){var n=i[0],s=i[1],o=s.length,c=function(e){for(var t=0;t<o;t++)if(-1!==s[t].indexOf(e))return t};return new H(a,(function(a){if(t.UnknownRecord.is(a)){var i=c(a[n]);return void 0!==i&&e[i].is(a)}return!1}),(function(a,i){return l(t.UnknownRecord.validate(a,i),(function(s){var r=c(s[n]);if(void 0===r)return t.failure(a,i);var o=e[r];return o.validate(s,t.appendContext(i,String(r),o,s))}))}),D(e)?t.identity:function(t){var i=c(t[n]);if(void 0===i)throw new Error("no codec found to encode value in union codec "+a);return e[i].encode(t)},e,n)}return new z(a,(function(t){return e.some((function(e){return e.is(t)}))}),(function(a,i){for(var n=[],s=0;s<e.length;s++){var o=e[s],l=o.validate(a,t.appendContext(i,String(s),o,a));if(!r.isLeft(l))return t.success(l.right);d(n,l.left)}return t.failures(n)}),D(e)?t.identity:function(t){for(var i=0,n=e;i<n.length;i++){var s=n[i];if(s.is(t))return s.encode(t)}throw new Error("no codec found to encode value in union type "+a)},e)};var V=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="IntersectionType",r}return n(t,e),t}(c);t.IntersectionType=V;var U=function(e,a){for(var i=!0,n=!0,s=0,r=a;s<r.length;s++)(d=r[s])!==e&&(i=!1),t.UnknownRecord.is(d)&&(n=!1);if(i)return e;if(n)return a[a.length-1];for(var o={},l=0,c=a;l<c.length;l++){var d=c[l];for(var u in d)d[u]===e[u]&&o.hasOwnProperty(u)||(o[u]=d[u])}return o};t.intersection=function(e,a){void 0===a&&(a="("+e.map((function(e){return e.name})).join(" & ")+")");var i=e.length;return new V(a,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(a,n){for(var s=[],o=[],l=0;l<i;l++){var c=e[l],u=c.validate(a,t.appendContext(n,String(l),c,a));r.isLeft(u)?d(o,u.left):s.push(u.right)}return o.length>0?t.failures(o):t.success(U(a,s))},0===e.length?t.identity:function(t){return U(t,e.map((function(e){return e.encode(t)})))},e)};var q=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.types=s,r._tag="TupleType",r}return n(t,e),t}(c);t.TupleType=q,t.tuple=function(e,a){void 0===a&&(a="["+e.map((function(e){return e.name})).join(", ")+"]");var i=e.length;return new q(a,(function(a){return t.UnknownArray.is(a)&&a.length===i&&e.every((function(e,t){return e.is(a[t])}))}),(function(a,n){return l(t.UnknownArray.validate(a,n),(function(a){for(var s=a.length>i?a.slice(0,i):a,o=[],l=0;l<i;l++){var c=a[l],u=e[l],p=u.validate(c,t.appendContext(n,String(l),u,c));if(r.isLeft(p))d(o,p.left);else{var m=p.right;m!==c&&(s===a&&(s=a.slice()),s[l]=m)}}return o.length>0?t.failures(o):t.success(s)}))}),D(e)?t.identity:function(t){return e.map((function(e,a){return e.encode(t[a])}))},e)};var $=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ReadonlyType",r}return n(t,e),t}(c);t.ReadonlyType=$,t.readonly=function(e,a){return void 0===a&&(a="Readonly<"+e.name+">"),new $(a,e.is,(function(t,a){return o(e.validate(t,a),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var W=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ReadonlyArrayType",r}return n(t,e),t}(c);t.ReadonlyArrayType=W,t.readonlyArray=function(e,a){void 0===a&&(a="ReadonlyArray<"+e.name+">");var i=t.array(e);return new W(a,i.is,(function(e,t){return o(i.validate(e,t),(function(e){return e}))}),i.encode,e)},t.strict=function(e,a){return t.exact(t.type(e),a)};var H=function(e){function t(t,a,i,n,s,r){var o=e.call(this,t,a,i,n,s)||this;return o.tag=r,o}return n(t,e),t}(z);t.TaggedUnionType=H,t.taggedUnion=function(e,a,i){void 0===i&&(i=B(a));var n=t.union(a,i);return n instanceof H?n:(console.warn("[io-ts] Cannot build a tagged union for "+i+", returning a de-optimized union"),new H(i,n.is,n.validate,n.encode,a,e))};var G=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.type=s,r._tag="ExactType",r}return n(t,e),t}(c);t.ExactType=G;var J=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return J(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,J(t))}),{})}},Y=function(e,t){for(var a=Object.getOwnPropertyNames(e),i=!1,n={},s=0;s<a.length;s++){var r=a[s];S.call(t,r)?n[r]=e[r]:i=!0}return i?n:e};t.exact=function(e,a){void 0===a&&(a=function(e){return m(e)?"{| "+I(e.props)+" |}":g(e)?A("{| "+I(e.props)+" |}"):"Exact<"+e.name+">"}(e));var i=J(e);return new G(a,e.is,(function(a,n){return l(t.UnknownRecord.validate(a,n),(function(){return o(e.validate(a,n),(function(e){return Y(e,i)}))}))}),(function(t){return e.encode(Y(t,i))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var K=function(e){function a(){var a=e.call(this,"never",(function(e){return!1}),(function(e,a){return t.failure(e,a)}),(function(){throw new Error("cannot encode never")}))||this;return a._tag="NeverType",a}return n(a,e),a}(c);t.NeverType=K,t.never=new K;var X=function(e){function a(){var a=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return a._tag="AnyType",a}return n(a,e),a}(c);t.AnyType=X,t.any=new X,t.Dictionary=t.UnknownRecord;var Z=function(e){function a(){var a=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,i){return a.is(e)?t.success(e):t.failure(e,i)}),t.identity)||this;return a._tag="ObjectType",a}return n(a,e),a}(c);function Q(e,a,i){return void 0===i&&(i="("+e.name+" | "+t.getFunctionName(a)+")"),new k(i,(function(t){return e.is(t)&&a(t)}),(function(i,n){return l(e.validate(i,n),(function(e){return a(e)?t.success(e):t.failure(e,n)}))}),e.encode,e,a)}t.ObjectType=Z,t.object=new Z,t.refinement=Q,t.Integer=Q(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,a,i,n,s){var r=e.call(this,t,a,i,n)||this;return r.props=s,r._tag="StrictType",r}return n(t,e),t}(c);function te(e,t){for(var a=[],i=0,n=e;i<n.length;i++){var s=n[i];-1!==t.indexOf(s)&&a.push(s)}return a}function ae(e){return"LiteralType"===e._tag}t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}},t.emptyTags={};var ie=[];function ne(e){if(-1!==ie.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var a=t.emptyTags;for(var i in e.props){var n=e.props[i];ae(n)&&(a===t.emptyTags&&(a={}),a[i]=[n.value])}return a}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ne(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,a){return function(e,a){if(e===t.emptyTags)return a;if(a===t.emptyTags)return e;var i=Object.assign({},e);for(var n in a)if(e.hasOwnProperty(n)){var s=te(e[n],a[n]);if(!(s.length>0)){i=t.emptyTags;break}i[n]=s}else i[n]=a[n];return i}(e,ne(a))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,a){return function(e,a){if(e===t.emptyTags||a===t.emptyTags)return t.emptyTags;var i=t.emptyTags;for(var n in e)a.hasOwnProperty(n)&&0===te(e[n],a[n]).length&&(i===t.emptyTags&&(i={}),i[n]=e[n].concat(a[n]));return i}(e,ne(a))}),ne(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){ie.push(e);var s=ne(e.type);return ie.pop(),s}return t.emptyTags}function se(e){for(var t=ne(e[0]),a=Object.keys(t),i=e.length,n=function(a){for(var n=t[a].slice(),s=[t[a]],r=1;r<i;r++){var o=ne(e[r])[a];if(void 0===o)return"continue-keys";if(o.some((function(e){return-1!==n.indexOf(e)})))return"continue-keys";n.push.apply(n,o),s.push(o)}return{value:[a,s]}},s=0,r=a;s<r.length;s++){var o=n(r[s]);if("object"==typeof o)return o.value}}t.getTags=ne,t.getIndex=se},function(e,t,a){e.exports=a(3)(2744)},function(e,t,a){e.exports=a(3)(8)},function(e,t,a){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var i=function(e){e()};t.setBatch=function(e){return i=e},t.getBatch=function(){return i}},function(e,t,a){"use strict";var i=a(44).default,n=a(63).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var a=t,i=a.getDisplayName,n=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,u=a.methodName,O=void 0===u?"connectAdvanced":u,v=a.renderCountProp,T=void 0===v?void 0:v,E=a.shouldHandleStateChanges,k=void 0===E||E,F=a.storeKey,_=void 0===F?"store":F,S=(a.withRef,a.forwardRef),C=void 0!==S&&S,L=a.context,w=void 0===L?p.ReactReduxContext:L,I=(0,r.default)(a,m),D=w;return function(t){var a=t.displayName||t.name||"Component",i=n(a),u=(0,s.default)({},I,{getDisplayName:n,methodName:O,renderCountProp:T,shouldHandleStateChanges:k,storeKey:_,displayName:i,wrappedComponentName:a,WrappedComponent:t}),p=I.pure,m=p?l.useMemo:function(e){return e()};function v(a){var i=(0,l.useMemo)((function(){var e=a.reactReduxForwardedRef,t=(0,r.default)(a,g);return[a.context,e,t]}),[a]),n=i[0],o=i[1],p=i[2],O=(0,l.useMemo)((function(){return n&&n.Consumer&&(0,c.isContextConsumer)(l.default.createElement(n.Consumer,null))?n:D}),[n,D]),v=(0,l.useContext)(O),T=Boolean(a.store)&&Boolean(a.store.getState)&&Boolean(a.store.dispatch);Boolean(v)&&Boolean(v.store);var E=T?a.store:v.store,F=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,u)}(E)}),[E]),_=(0,l.useMemo)((function(){if(!k)return x;var e=(0,d.createSubscription)(E,T?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[E,T,v]),S=_[0],C=_[1],L=(0,l.useMemo)((function(){return T?v:(0,s.default)({},v,{subscription:S})}),[T,v,S]),w=(0,l.useReducer)(b,f,y),I=w[0][0],P=w[1];if(I&&I.error)throw I.error;var N=(0,l.useRef)(),A=(0,l.useRef)(p),R=(0,l.useRef)(),z=(0,l.useRef)(!1),B=m((function(){return R.current&&p===A.current?R.current:F(E.getState(),p)}),[E,I,p]);j(h,[A,N,z,p,B,R,C]),j(M,[k,E,S,F,A,N,z,R,C,P],[E,S,F]);var V=(0,l.useMemo)((function(){return l.default.createElement(t,(0,s.default)({},B,{ref:o}))}),[o,t,B]);return(0,l.useMemo)((function(){return k?l.default.createElement(O.Provider,{value:L},V):V}),[O,V,L])}var E=p?l.default.memo(v):v;if(E.WrappedComponent=t,E.displayName=v.displayName=i,C){var F=l.default.forwardRef((function(e,t){return l.default.createElement(E,(0,s.default)({},e,{reactReduxForwardedRef:t}))}));return F.displayName=i,F.WrappedComponent=t,(0,o.default)(F,t)}return(0,o.default)(E,t)}};var s=i(a(43)),r=i(a(57)),o=i(a(86)),l=n(a(23)),c=a(87),d=a(55),u=a(56),p=a(46),m=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],g=["reactReduxForwardedRef"],f=[],x=[null,null];function b(e,t){var a=e[1];return[t.payload,a+1]}function j(e,t,a){(0,u.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),a)}function h(e,t,a,i,n,s,r){e.current=i,t.current=n,a.current=!1,s.current&&(s.current=null,r())}function M(e,t,a,i,n,s,r,o,l,c){if(e){var d=!1,u=null,p=function(){if(!d){var e,a,p=t.getState();try{e=i(p,n.current)}catch(e){a=e,u=e}a||(u=null),e===s.current?r.current||l():(s.current=e,o.current=e,r.current=!0,c({type:"STORE_UPDATED",payload:{error:a}}))}};return a.onStateChange=p,a.trySubscribe(),p(),function(){if(d=!0,a.tryUnsubscribe(),a.onStateChange=null,u)throw u}}}var y=function(){return[null,0]}},function(e,t,a){"use strict";function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(var s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!i(e[a[s]],t[a[s]]))return!1;return!0}},function(e,t,a){"use strict";var i=a(44).default;function n(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.getDependsOnOwnProps=n,t.wrapMapToPropsConstant=function(e){return function(t,a){var i=e(t,a);function n(){return i}return n.dependsOnOwnProps=!1,n}},t.wrapMapToPropsFunc=function(e,t){return function(t,a){a.displayName;var i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,a){i.mapToProps=e,i.dependsOnOwnProps=n(e);var s=i(t,a);return"function"==typeof s&&(i.mapToProps=s,i.dependsOnOwnProps=n(s),s=i(t,a)),s},i}},i(a(69))},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=function(e,t,a){(0,n.default)(e)||(0,s.default)(a+"() in "+t+" must return a plain object. Instead received "+e+".")};var n=i(a(91)),s=i(a(70))},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,a){"use strict";t.__esModule=!0,t.createStoreHook=r,t.useStore=void 0;var i=a(23),n=a(46),s=a(72);function r(e){void 0===e&&(e=n.ReactReduxContext);var t=e===n.ReactReduxContext?s.useReduxContext:function(){return(0,i.useContext)(e)};return function(){return t().store}}var o=r();t.useStore=o},function(e,t,a){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,i.useContext)(n.ReactReduxContext)};var i=a(23),n=a(46)},function(e,t){var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(a){var i=new Uint8Array(16);e.exports=function(){return a(i),i}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},function(e,t){for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);e.exports=function(e,t){var i=t||0,n=a;return[n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],"-",n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]],n[e[i++]]].join("")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return 0===e.length}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e.toString()}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"string"==typeof e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null==e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i,n=(i=a(129))&&i.__esModule?i:{default:i};t.default=function(e){return-1===e.indexOf("/")?(0,n.default)(e):e.split("/").map(n.default).join("/")}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=a(48),n=r(a(60)),s=r(a(81));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(a,r,o,l){var c=void 0===r?{}:r,d=c.namespace,u=void 0===d?i.DEFAULT_NAMESPACE:d,p=c.prefix;return void 0===o&&(o={}),void 0===l&&(l=""),(0,n.default)(a).forEach((function(n){var r=function(e){return l||!p||p&&new RegExp("^"+p+u).test(e)?e:""+p+u+e}(function(e){var t;if(!l)return e;var a=e.toString().split(i.ACTION_TYPE_DELIMITER),n=l.split(i.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,n.map((function(e){return a.map((function(t){return""+e+u+t}))}))).join(i.ACTION_TYPE_DELIMITER)}(n)),c=(0,s.default)(n,a);e(c)?t(c,{namespace:u,prefix:p},o,r):o[r]=c})),o}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,n.default)(t)?t.get(e):t[e]};var i,n=(i=a(52))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===t&&(t=r.default);var u=(0,c.default)(e).split(d.ACTION_TYPE_DELIMITER);(0,i.default)(!(0,l.default)(a),"defaultState for reducer handling "+u.join(", ")+" should be defined"),(0,i.default)((0,n.default)(t)||(0,s.default)(t),"Expected reducer to be a function or object with next and throw reducers");var p=(0,n.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,o.default)(e)?r.default:e})),m=p[0],g=p[1];return function(e,t){void 0===e&&(e=a);var i=t.type;return i&&-1!==u.indexOf((0,c.default)(i))?(!0===t.error?g:m)(e,t):e}};var i=u(a(47)),n=u(a(51)),s=u(a(49)),r=u(a(59)),o=u(a(78)),l=u(a(137)),c=u(a(76)),d=a(48);function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var a=t(e);"Left"===a._tag;)a=t(a.left);return a.right}},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0;var n=i(a(85));t.Provider=n.default;var s=i(a(66));t.connectAdvanced=s.default;var r=a(46);t.ReactReduxContext=r.ReactReduxContext;var o=i(a(88));t.connect=o.default;var l=a(96);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var c=a(97);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var d=a(71);t.useStore=d.useStore,t.createStoreHook=d.createStoreHook;var u=i(a(67));t.shallowEqual=u.default},function(e,t,a){"use strict";var i=a(44).default,n=a(63).default;t.__esModule=!0,t.default=void 0;var s=n(a(23)),r=(i(a(64)),a(46)),o=a(55),l=a(56);t.default=function(e){var t=e.store,a=e.context,i=e.children,n=(0,s.useMemo)((function(){var e=(0,o.createSubscription)(t);return{store:t,subscription:e}}),[t]),c=(0,s.useMemo)((function(){return t.getState()}),[t]);(0,l.useIsomorphicLayoutEffect)((function(){var e=n.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[n,c]);var d=a||r.ReactReduxContext;return s.default.createElement(d.Provider,{value:n},i)}},function(e,t,a){e.exports=a(3)(264)},function(e,t,a){e.exports=a(3)(447)},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.createConnect=f,t.default=void 0;var n=i(a(43)),s=i(a(57)),r=i(a(66)),o=i(a(67)),l=i(a(89)),c=i(a(92)),d=i(a(93)),u=i(a(94)),p=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function m(e,t,a){for(var i=t.length-1;i>=0;i--){var n=t[i](e);if(n)return n}return function(t,i){throw new Error("Invalid value of type "+typeof e+" for "+a+" argument when connecting component "+i.wrappedComponentName+".")}}function g(e,t){return e===t}function f(e){var t=void 0===e?{}:e,a=t.connectHOC,i=void 0===a?r.default:a,f=t.mapStateToPropsFactories,x=void 0===f?c.default:f,b=t.mapDispatchToPropsFactories,j=void 0===b?l.default:b,h=t.mergePropsFactories,M=void 0===h?d.default:h,y=t.selectorFactory,O=void 0===y?u.default:y;return function(e,t,a,r){void 0===r&&(r={});var l=r,c=l.pure,d=void 0===c||c,u=l.areStatesEqual,f=void 0===u?g:u,b=l.areOwnPropsEqual,h=void 0===b?o.default:b,y=l.areStatePropsEqual,v=void 0===y?o.default:y,T=l.areMergedPropsEqual,E=void 0===T?o.default:T,k=(0,s.default)(l,p),F=m(e,x,"mapStateToProps"),_=m(t,j,"mapDispatchToProps"),S=m(a,M,"mergeProps");return i(O,(0,n.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:F,initMapDispatchToProps:_,initMergeProps:S,pure:d,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:v,areMergedPropsEqual:E},k))}}var x=f();t.default=x},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=o,t.whenMapDispatchToPropsIsObject=l;var n=i(a(90)),s=a(68);function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function o(e){return e?void 0:(0,s.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function l(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)((function(t){return(0,n.default)(e,t)})):void 0}var c=[r,o,l];t.default=c},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a={},i=function(i){var n=e[i];"function"==typeof n&&(a[i]=function(){return t(n.apply(void 0,arguments))})};for(var n in e)i(n);return a}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var a=t;null!==Object.getPrototypeOf(a);)a=Object.getPrototypeOf(a);return t===a}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=n,t.whenMapStateToPropsIsMissing=s;var i=a(68);function n(e){return"function"==typeof e?(0,i.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function s(e){return e?void 0:(0,i.wrapMapToPropsConstant)((function(){return{}}))}var r=[n,s];t.default=r},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=s,t.whenMergePropsIsFunction=o,t.whenMergePropsIsOmitted=l,t.wrapMergePropsFunc=r;var n=i(a(43));function s(e,t,a){return(0,n.default)({},a,e,t)}function r(e){return function(t,a){a.displayName;var i,n=a.pure,s=a.areMergedPropsEqual,r=!1;return function(t,a,o){var l=e(t,a,o);return r?n&&s(l,i)||(i=l):(r=!0,i=l),i}}}function o(e){return"function"==typeof e?r(e):void 0}function l(e){return e?void 0:function(){return s}}i(a(69));var c=[o,l];t.default=c},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=function(e,t){var a=t.initMapStateToProps,i=t.initMapDispatchToProps,l=t.initMergeProps,c=(0,n.default)(t,s),d=a(e,c),u=i(e,c),p=l(e,c);return(c.pure?o:r)(d,u,p,e,c)},t.impureFinalPropsSelectorFactory=r,t.pureFinalPropsSelectorFactory=o;var n=i(a(57)),s=(i(a(95)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function r(e,t,a,i){return function(n,s){return a(e(n,s),t(i,s),s)}}function o(e,t,a,i,n){var s,r,o,l,c,d=n.areStatesEqual,u=n.areOwnPropsEqual,p=n.areStatePropsEqual,m=!1;return function(n,g){return m?function(n,m){var g,f,x=!u(m,r),b=!d(n,s);return s=n,r=m,x&&b?(o=e(s,r),t.dependsOnOwnProps&&(l=t(i,r)),c=a(o,l,r)):x?(e.dependsOnOwnProps&&(o=e(s,r)),t.dependsOnOwnProps&&(l=t(i,r)),c=a(o,l,r)):b?(g=e(s,r),f=!p(g,o),o=g,f&&(c=a(o,l,r)),c):c}(n,g):(o=e(s=n,r=g),l=t(i,r),c=a(o,l,r),m=!0,c)}}},function(e,t,a){"use strict";var i=a(44).default;t.__esModule=!0,t.default=function(e,t,a,i){s(e,"mapStateToProps",i),s(t,"mapDispatchToProps",i),s(a,"mergeProps",i)};var n=i(a(70));function s(e,t,a){if(!e)throw new Error("Unexpected value for "+t+" in "+a+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,n.default)("The selector for "+t+" of "+a+" did not specify a value for dependsOnOwnProps.")}},function(e,t,a){"use strict";t.__esModule=!0,t.createDispatchHook=s,t.useDispatch=void 0;var i=a(46),n=a(71);function s(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?n.useStore:(0,n.createStoreHook)(e);return function(){return t().dispatch}}var r=s();t.useDispatch=r},function(e,t,a){"use strict";t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var i=a(23),n=a(72),s=a(55),r=a(56),o=a(46),l=function(e,t){return e===t};function c(e){void 0===e&&(e=o.ReactReduxContext);var t=e===o.ReactReduxContext?n.useReduxContext:function(){return(0,i.useContext)(e)};return function(e,a){void 0===a&&(a=l);var n=t(),o=function(e,t,a,n){var o,l=(0,i.useReducer)((function(e){return e+1}),0)[1],c=(0,i.useMemo)((function(){return(0,s.createSubscription)(a,n)}),[a,n]),d=(0,i.useRef)(),u=(0,i.useRef)(),p=(0,i.useRef)(),m=(0,i.useRef)(),g=a.getState();try{if(e!==u.current||g!==p.current||d.current){var f=e(g);o=void 0!==m.current&&t(f,m.current)?m.current:f}else o=m.current}catch(e){throw d.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+d.current.stack+"\n\n"),e}return(0,r.useIsomorphicLayoutEffect)((function(){u.current=e,p.current=g,m.current=o,d.current=void 0})),(0,r.useIsomorphicLayoutEffect)((function(){function e(){try{var e=a.getState();if(e===p.current)return;var i=u.current(e);if(t(i,m.current))return;m.current=i,p.current=e}catch(e){d.current=e}l()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[a,c]),o}(e,a,n.store,n.subscription);return(0,i.useDebugValue)(o),o}}var d=c();t.useSelector=d},function(e,t,a){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var i=a(39);t.unstable_batchedUpdates=i.unstable_batchedUpdates},function(e,t,a){var i=a(100),n=a(101),s=n;s.v1=i,s.v4=n,e.exports=s},function(e,t,a){var i,n,s=a(73),r=a(74),o=0,l=0;e.exports=function(e,t,a){var c=t&&a||0,d=t||[],u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:n;if(null==u||null==p){var m=s();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=n=16383&(m[6]<<8|m[7]))}var g=void 0!==e.msecs?e.msecs:(new Date).getTime(),f=void 0!==e.nsecs?e.nsecs:l+1,x=g-o+(f-l)/1e4;if(x<0&&void 0===e.clockseq&&(p=p+1&16383),(x<0||g>o)&&void 0===e.nsecs&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=g,l=f,n=p;var b=(1e4*(268435455&(g+=122192928e5))+f)%4294967296;d[c++]=b>>>24&255,d[c++]=b>>>16&255,d[c++]=b>>>8&255,d[c++]=255&b;var j=g/4294967296*1e4&268435455;d[c++]=j>>>8&255,d[c++]=255&j,d[c++]=j>>>24&15|16,d[c++]=j>>>16&255,d[c++]=p>>>8|128,d[c++]=255&p;for(var h=0;h<6;++h)d[c+h]=u[h];return t||r(d)}},function(e,t,a){var i=a(73),n=a(74);e.exports=function(e,t,a){var s=t&&a||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t)for(var o=0;o<16;++o)t[s+o]=r[o];return t||n(r)}},function(e,t,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&i(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.toggle=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.subset=t.chain=t.every=t.map=t.some=t.getEq=t.toArray=t.empty=t.getShow=void 0;var r=s(a(103));t.getShow=r.getShow,t.empty=new Set,t.toArray=r.toReadonlyArray,t.getEq=r.getEq,t.some=r.some,t.map=r.map,t.every=r.every,t.chain=r.chain,t.subset=r.isSubset,t.filter=function(e){return r.filter(e)},t.partition=function(e){return r.partition(e)},t.elem=r.elem,t.union=r.union,t.intersection=r.intersection,t.partitionMap=r.partitionMap,t.difference=r.difference,t.getUnionMonoid=r.getUnionMonoid,t.getIntersectionSemigroup=r.getIntersectionSemigroup,t.reduce=r.reduce,t.foldMap=r.foldMap,t.singleton=r.singleton,t.insert=r.insert,t.remove=r.remove,t.toggle=function(e){var a=t.elem(e),i=t.remove(e),n=t.insert(e);return function(e){return function(t){return(a(e,t)?i:n)(e)(t)}}},t.fromArray=r.fromArray,t.compact=r.compact,t.separate=r.separate,t.filterMap=r.filterMap},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterMap=t.separate=t.compact=t.fromArray=t.remove=t.insert=t.singleton=t.foldMap=t.reduce=t.getIntersectionSemigroup=t.getUnionMonoid=t.difference=t.partitionMap=t.intersection=t.union=t.elem=t.partition=t.filter=t.isSubset=t.chain=t.every=t.map=t.some=t.getEq=t.toReadonlyArray=t.empty=t.getShow=t.toSet=t.fromSet=void 0;var i=a(104),n=a(50);function s(e){return function(t){var a=[];return t.forEach((function(e){return a.push(e)})),a.sort(e.compare)}}function r(e){return function(t){for(var a,i=t.values(),n=!1;!n&&!(a=i.next()).done;)n=e(a.value);return n}}function o(e){return n.not(r(n.not(e)))}function l(e){var t=d(e);return function(a,i){if(void 0===i){var n=l(e);return function(e){return n(e,a)}}return o((function(e){return t(e,i)}))(a)}}function c(e){return function(t){for(var a,i=t.values(),n=new Set;!(a=i.next()).done;){var s=a.value;e(s)&&n.add(s)}return n}}function d(e){return function(t,a){if(void 0===a){var i=d(e);return function(e){return i(t,e)}}for(var n,s=a.values(),r=!1;!r&&!(n=s.next()).done;)r=e.equals(t,n.value);return r}}function u(e){var a=d(e);return function(i,n){if(void 0===n){var s=u(e);return function(e){return s(i,e)}}if(i===t.empty)return n;if(n===t.empty)return i;var r=new Set(i);return n.forEach((function(e){a(e,r)||r.add(e)})),r}}function p(e){var a=d(e);return function(i,n){if(void 0===n){var s=p(e);return function(e){return s(e,i)}}if(i===t.empty||n===t.empty)return t.empty;var r=new Set;return i.forEach((function(e){a(e,n)&&r.add(e)})),r}}function m(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);"Some"!==n._tag||t(n.value,i)||i.add(n.value)})),i}}}t.fromSet=function(e){return new Set(e)},t.toSet=function(e){return new Set(e)},t.getShow=function(e){return{show:function(t){var a="";return t.forEach((function(t){a+=e.show(t)+", "})),""!==a&&(a=a.substring(0,a.length-2)),"new Set(["+a+"])"}}},t.empty=new Set,t.toReadonlyArray=s,t.getEq=function(e){var t=l(e);return i.fromEquals((function(e,a){return t(e,a)&&t(a,e)}))},t.some=r,t.map=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){var n=e(a);t(n,i)||i.add(n)})),i}}},t.every=o,t.chain=function(e){var t=d(e);return function(e){return function(a){var i=new Set;return a.forEach((function(a){e(a).forEach((function(e){t(e,i)||i.add(e)}))})),i}}},t.isSubset=l,t.filter=c,t.partition=function(e){return function(t){for(var a,i=t.values(),n=new Set,s=new Set;!(a=i.next()).done;){var r=a.value;e(r)?n.add(r):s.add(r)}return{left:s,right:n}}},t.elem=d,t.union=u,t.intersection=p,t.partitionMap=function(e,t){return function(a){return function(i){for(var n,s=i.values(),r=new Set,o=new Set,l=d(e),c=d(t);!(n=s.next()).done;){var u=a(n.value);switch(u._tag){case"Left":l(u.left,r)||r.add(u.left);break;case"Right":c(u.right,o)||o.add(u.right)}}return{left:r,right:o}}}},t.difference=function e(t){var a=d(t);return function(i,n){if(void 0===n){var s=e(t);return function(e){return s(e,i)}}return c((function(e){return!a(e,n)}))(i)}},t.getUnionMonoid=function(e){return{concat:u(e),empty:t.empty}},t.getIntersectionSemigroup=function(e){return{concat:p(e)}},t.reduce=function(e){var t=s(e);return function(e,a){return function(i){return t(i).reduce(a,e)}}},t.foldMap=function(e,t){var a=s(e);return function(e){return function(i){return a(i).reduce((function(a,i){return t.concat(a,e(i))}),t.empty)}}},t.singleton=function(e){return new Set([e])},t.insert=function(e){var t=d(e);return function(e){return function(a){if(t(e)(a))return a;var i=new Set(a);return i.add(e),i}}},t.remove=function(e){return function(t){return function(a){return c((function(a){return!e.equals(t,a)}))(a)}}},t.fromArray=function(e){return function(t){for(var a=t.length,i=new Set,n=d(e),s=0;s<a;s++){var r=t[s];n(r,i)||i.add(r)}return i}},t.compact=function(e){return m(e)(n.identity)},t.separate=function(e,t){return function(a){var i=d(e),n=d(t),s=new Set,r=new Set;return a.forEach((function(e){switch(e._tag){case"Left":i(e.left,s)||s.add(e.left);break;case"Right":n(e.right,r)||r.add(e.right)}})),{left:s,right:r}}},t.filterMap=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eq=t.Contravariant=t.getMonoid=t.eqDate=t.getTupleEq=t.getStructEq=t.eqBoolean=t.eqNumber=t.eqString=t.strictEqual=t.eqStrict=t.URI=t.contramap=t.fromEquals=void 0;var i=a(50);function n(e){return{equals:function(t,a){return t===a||e(t,a)}}}function s(e,t){return e===t}t.fromEquals=n,t.contramap=function(e){return function(t){return n((function(a,i){return t.equals(e(a),e(i))}))}},t.URI="Eq",t.eqStrict={equals:s},t.strictEqual=s,t.eqString=t.eqStrict,t.eqNumber=t.eqStrict,t.eqBoolean=t.eqStrict,t.getStructEq=function(e){return n((function(t,a){for(var i in e)if(!e[i].equals(t[i],a[i]))return!1;return!0}))},t.getTupleEq=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n((function(t,a){return e.every((function(e,i){return e.equals(t[i],a[i])}))}))},t.eqDate={equals:function(e,t){return e.valueOf()===t.valueOf()}};var r={equals:function(){return!0}};t.getMonoid=function(){return{concat:function(e,t){return n((function(a,i){return e.equals(a,i)&&t.equals(a,i)}))},empty:r}},t.Contravariant={URI:t.URI,contramap:function(e,a){return i.pipe(e,t.contramap(a))}},t.eq=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ord=t.Contravariant=t.ordDate=t.URI=t.contramap=t.getDualOrd=t.getTupleOrd=t.getMonoid=t.getSemigroup=t.fromCompare=t.between=t.clamp=t.max=t.min=t.geq=t.leq=t.gt=t.lt=t.ordBoolean=t.ordNumber=t.ordString=void 0;var i=a(106),n=a(50);function s(e,t){return e<t?-1:e>t?1:0}function r(e,t){return e===t}function o(e){return function(t,a){return-1===e.compare(t,a)}}function l(e){return function(t,a){return 1===e.compare(t,a)}}function c(e){return function(t,a){return 1===e.compare(t,a)?a:t}}function d(e){return function(t,a){return-1===e.compare(t,a)?a:t}}function u(e){var t=function(t,a){return t===a?0:e(t,a)};return{equals:function(e,a){return 0===t(e,a)},compare:t}}function p(){return{concat:function(e,t){return u((function(a,n){return i.monoidOrdering.concat(e.compare(a,n),t.compare(a,n))}))}}}t.ordString={equals:r,compare:s},t.ordNumber={equals:r,compare:s},t.ordBoolean={equals:r,compare:s},t.lt=o,t.gt=l,t.leq=function(e){return function(t,a){return 1!==e.compare(t,a)}},t.geq=function(e){return function(t,a){return-1!==e.compare(t,a)}},t.min=c,t.max=d,t.clamp=function(e){var t=c(e),a=d(e);return function(e,i){return function(n){return a(t(n,i),e)}}},t.between=function(e){var t=o(e),a=l(e);return function(e,i){return function(n){return!t(n,e)&&!a(n,i)}}},t.fromCompare=u,t.getSemigroup=p,t.getMonoid=function(){return{concat:p().concat,empty:u((function(){return 0}))}},t.getTupleOrd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var a=e.length;return u((function(t,i){for(var n=0;n<a-1;n++){var s=e[n].compare(t[n],i[n]);if(0!==s)return s}return e[n].compare(t[n],i[n])}))},t.getDualOrd=function(e){return u((function(t,a){return e.compare(a,t)}))},t.contramap=function(e){return function(t){return u((function(a,i){return t.compare(e(a),e(i))}))}},t.URI="Ord",t.ordDate=n.pipe(t.ordNumber,t.contramap((function(e){return e.valueOf()}))),t.Contravariant={URI:t.URI,contramap:function(e,a){return n.pipe(e,t.contramap(a))}},t.ord=t.Contravariant},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invert=t.monoidOrdering=t.semigroupOrdering=t.eqOrdering=t.sign=void 0,t.sign=function(e){return e<=-1?-1:e>=1?1:0},t.eqOrdering={equals:function(e,t){return e===t}},t.semigroupOrdering={concat:function(e,t){return 0!==e?e:t}},t.monoidOrdering={concat:t.semigroupOrdering.concat,empty:0},t.invert=function(e){switch(e){case-1:return 1;case 1:return-1;default:return 0}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,s,r=a(23),o=a(64),l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},l(e,t)},c=function(){return c=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},c.apply(this,arguments)};!function(e){e.AUTO="auto",e.START="start",e.CENTER="center",e.END="end"}(i||(i={})),(n=t.ScrollDirection||(t.ScrollDirection={})).HORIZONTAL="horizontal",n.VERTICAL="vertical",function(e){e.OBSERVED="observed",e.REQUESTED="requested"}(s||(s={}));var d,u,p,m,g,f=((d={})[t.ScrollDirection.VERTICAL]="scrollTop",d[t.ScrollDirection.HORIZONTAL]="scrollLeft",d),x=((u={})[t.ScrollDirection.VERTICAL]="height",u[t.ScrollDirection.HORIZONTAL]="width",u),b=((p={})[t.ScrollDirection.VERTICAL]="top",p[t.ScrollDirection.HORIZONTAL]="left",p),j=((m={})[t.ScrollDirection.VERTICAL]="marginTop",m[t.ScrollDirection.HORIZONTAL]="marginLeft",m),h=((g={})[t.ScrollDirection.VERTICAL]="marginBottom",g[t.ScrollDirection.HORIZONTAL]="marginRight",g),M=function(){function e(e){var t=e.itemCount,a=e.itemSizeGetter,i=e.estimatedItemSize;this.itemSizeGetter=a,this.itemCount=t,this.estimatedItemSize=i,this.itemSizeAndPositionData={},this.lastMeasuredIndex=-1}return e.prototype.updateConfig=function(e){var t=e.itemCount,a=e.itemSizeGetter,i=e.estimatedItemSize;null!=t&&(this.itemCount=t),null!=i&&(this.estimatedItemSize=i),null!=a&&(this.itemSizeGetter=a)},e.prototype.getLastMeasuredIndex=function(){return this.lastMeasuredIndex},e.prototype.getSizeAndPositionForIndex=function(e){if(e<0||e>=this.itemCount)throw Error("Requested index "+e+" is outside of range 0.."+this.itemCount);if(e>this.lastMeasuredIndex){for(var t=this.getSizeAndPositionOfLastMeasuredItem(),a=t.offset+t.size,i=this.lastMeasuredIndex+1;i<=e;i++){var n=this.itemSizeGetter(i);if(null==n||isNaN(n))throw Error("Invalid size returned for index "+i+" of value "+n);this.itemSizeAndPositionData[i]={offset:a,size:n},a+=n}this.lastMeasuredIndex=e}return this.itemSizeAndPositionData[e]},e.prototype.getSizeAndPositionOfLastMeasuredItem=function(){return this.lastMeasuredIndex>=0?this.itemSizeAndPositionData[this.lastMeasuredIndex]:{offset:0,size:0}},e.prototype.getTotalSize=function(){var e=this.getSizeAndPositionOfLastMeasuredItem();return e.offset+e.size+(this.itemCount-this.lastMeasuredIndex-1)*this.estimatedItemSize},e.prototype.getUpdatedOffsetForIndex=function(e){var t=e.align,a=void 0===t?i.START:t,n=e.containerSize,s=e.currentOffset,r=e.targetIndex;if(n<=0)return 0;var o,l=this.getSizeAndPositionForIndex(r),c=l.offset,d=c-n+l.size;switch(a){case i.END:o=d;break;case i.CENTER:o=c-(n-l.size)/2;break;case i.START:o=c;break;default:o=Math.max(d,Math.min(c,s))}var u=this.getTotalSize();return Math.max(0,Math.min(u-n,o))},e.prototype.getVisibleRange=function(e){var t=e.containerSize,a=e.offset,i=e.overscanCount;if(0===this.getTotalSize())return{};var n=a+t,s=this.findNearestItem(a);if(void 0===s)throw Error("Invalid offset "+a+" specified");var r=this.getSizeAndPositionForIndex(s);a=r.offset+r.size;for(var o=s;a<n&&o<this.itemCount-1;)o++,a+=this.getSizeAndPositionForIndex(o).size;return i&&(s=Math.max(0,s-i),o=Math.min(o+i,this.itemCount-1)),{start:s,stop:o}},e.prototype.resetItem=function(e){this.lastMeasuredIndex=Math.min(this.lastMeasuredIndex,e-1)},e.prototype.findNearestItem=function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredItem(),a=Math.max(0,this.lastMeasuredIndex);return t.offset>=e?this.binarySearch({high:a,low:0,offset:e}):this.exponentialSearch({index:a,offset:e})},e.prototype.binarySearch=function(e){for(var t=e.low,a=e.high,i=e.offset,n=0,s=0;t<=a;){if(n=t+Math.floor((a-t)/2),(s=this.getSizeAndPositionForIndex(n).offset)===i)return n;s<i?t=n+1:s>i&&(a=n-1)}return t>0?t-1:0},e.prototype.exponentialSearch=function(e){for(var t=e.index,a=e.offset,i=1;t<this.itemCount&&this.getSizeAndPositionForIndex(t).offset<a;)t+=i,i*=2;return this.binarySearch({high:Math.min(t,this.itemCount-1),low:Math.floor(t/2),offset:a})},e}(),y={overflow:"auto",willChange:"transform",WebkitOverflowScrolling:"touch"},O={position:"relative",width:"100%",minHeight:"100%"},v={position:"absolute",top:0,left:0,width:"100%"},T=c({},v,{position:"sticky"}),E=function(e){function a(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemSizeGetter=function(e){return function(a){return t.getSize(a,e)}},t.sizeAndPositionManager=new M({itemCount:t.props.itemCount,itemSizeGetter:t.itemSizeGetter(t.props.itemSize),estimatedItemSize:t.getEstimatedItemSize()}),t.state={offset:t.props.scrollOffset||null!=t.props.scrollToIndex&&t.getOffsetForIndex(t.props.scrollToIndex)||0,scrollChangeReason:s.REQUESTED},t.styleCache={},t.getRef=function(e){t.rootNode=e},t.handleScroll=function(e){var a=t.props.onScroll,i=t.getNodeOffset();i<0||t.state.offset===i||e.target!==t.rootNode||(t.setState({offset:i,scrollChangeReason:s.OBSERVED}),"function"==typeof a&&a(i,e))},t}return function(e,t){function a(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}(a,e),a.prototype.componentDidMount=function(){var e=this.props,t=e.scrollOffset,a=e.scrollToIndex;this.rootNode.addEventListener("scroll",this.handleScroll,{passive:!0}),null!=t?this.scrollTo(t):null!=a&&this.scrollTo(this.getOffsetForIndex(a))},a.prototype.componentWillReceiveProps=function(e){var t=this.props,a=t.estimatedItemSize,i=t.itemCount,n=t.itemSize,r=t.scrollOffset,o=t.scrollToAlignment,l=t.scrollToIndex,c=e.scrollToIndex!==l||e.scrollToAlignment!==o,d=e.itemCount!==i||e.itemSize!==n||e.estimatedItemSize!==a;e.itemSize!==n&&this.sizeAndPositionManager.updateConfig({itemSizeGetter:this.itemSizeGetter(e.itemSize)}),e.itemCount===i&&e.estimatedItemSize===a||this.sizeAndPositionManager.updateConfig({itemCount:e.itemCount,estimatedItemSize:this.getEstimatedItemSize(e)}),d&&this.recomputeSizes(),e.scrollOffset!==r?this.setState({offset:e.scrollOffset||0,scrollChangeReason:s.REQUESTED}):"number"==typeof e.scrollToIndex&&(c||d)&&this.setState({offset:this.getOffsetForIndex(e.scrollToIndex,e.scrollToAlignment,e.itemCount),scrollChangeReason:s.REQUESTED})},a.prototype.componentDidUpdate=function(e,t){var a=this.state,i=a.offset,n=a.scrollChangeReason;t.offset!==i&&n===s.REQUESTED&&this.scrollTo(i)},a.prototype.componentWillUnmount=function(){this.rootNode.removeEventListener("scroll",this.handleScroll)},a.prototype.scrollTo=function(e){var a=this.props.scrollDirection,i=void 0===a?t.ScrollDirection.VERTICAL:a;this.rootNode[f[i]]=e},a.prototype.getOffsetForIndex=function(e,a,i){void 0===a&&(a=this.props.scrollToAlignment),void 0===i&&(i=this.props.itemCount);var n=this.props.scrollDirection,s=void 0===n?t.ScrollDirection.VERTICAL:n;return(e<0||e>=i)&&(e=0),this.sizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:this.props[x[s]],currentOffset:this.state&&this.state.offset||0,targetIndex:e})},a.prototype.recomputeSizes=function(e){void 0===e&&(e=0),this.styleCache={},this.sizeAndPositionManager.resetItem(e)},a.prototype.render=function(){var e,a=this,i=this.props,n=(i.estimatedItemSize,i.height),s=i.overscanCount,o=void 0===s?3:s,l=i.renderItem,d=(i.itemCount,i.itemSize,i.onItemsRendered),u=(i.onScroll,i.scrollDirection),p=void 0===u?t.ScrollDirection.VERTICAL:u,m=(i.scrollOffset,i.scrollToIndex,i.scrollToAlignment,i.stickyIndices),g=i.style,f=i.width,b=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(a[i[n]]=e[i[n]])}return a}(i,["estimatedItemSize","height","overscanCount","renderItem","itemCount","itemSize","onItemsRendered","onScroll","scrollDirection","scrollOffset","scrollToIndex","scrollToAlignment","stickyIndices","style","width"]),j=this.state.offset,h=this.sizeAndPositionManager.getVisibleRange({containerSize:this.props[x[p]]||0,offset:j,overscanCount:o}),M=h.start,v=h.stop,T=[],E=c({},y,g,{height:n,width:f}),k=c({},O,((e={})[x[p]]=this.sizeAndPositionManager.getTotalSize(),e));if(null!=m&&0!==m.length&&(m.forEach((function(e){return T.push(l({index:e,style:a.getStyle(e,!0)}))})),p===t.ScrollDirection.HORIZONTAL&&(k.display="flex")),void 0!==M&&void 0!==v){for(var F=M;F<=v;F++)null!=m&&m.includes(F)||T.push(l({index:F,style:this.getStyle(F,!1)}));"function"==typeof d&&d({startIndex:M,stopIndex:v})}return r.createElement("div",c({ref:this.getRef},b,{style:E}),r.createElement("div",{style:k},T))},a.prototype.getNodeOffset=function(){var e=this.props.scrollDirection,a=void 0===e?t.ScrollDirection.VERTICAL:e;return this.rootNode[f[a]]},a.prototype.getEstimatedItemSize=function(e){return void 0===e&&(e=this.props),e.estimatedItemSize||"number"==typeof e.itemSize&&e.itemSize||50},a.prototype.getSize=function(e,t){return"function"==typeof t?t(e):Array.isArray(t)?t[e]:t},a.prototype.getStyle=function(e,a){var i=this.styleCache[e];if(i)return i;var n,s,r=this.props.scrollDirection,o=void 0===r?t.ScrollDirection.VERTICAL:r,l=this.sizeAndPositionManager.getSizeAndPositionForIndex(e),d=l.size,u=l.offset;return this.styleCache[e]=a?c({},T,((n={})[x[o]]=d,n[j[o]]=u,n[h[o]]=-(u+d),n.zIndex=1,n)):c({},v,((s={})[x[o]]=d,s[b[o]]=u,s))},a.defaultProps={overscanCount:3,scrollDirection:t.ScrollDirection.VERTICAL,width:"100%"},a.propTypes={estimatedItemSize:o.number,height:o.oneOfType([o.number,o.string]).isRequired,itemCount:o.number.isRequired,itemSize:o.oneOfType([o.number,o.array,o.func]).isRequired,onScroll:o.func,onItemsRendered:o.func,overscanCount:o.number,renderItem:o.func.isRequired,scrollOffset:o.number,scrollToIndex:o.number,scrollToAlignment:o.oneOf([i.AUTO,i.START,i.CENTER,i.END]),scrollDirection:o.oneOf([t.ScrollDirection.HORIZONTAL,t.ScrollDirection.VERTICAL]),stickyIndices:o.arrayOf(o.number),style:o.object,width:o.oneOfType([o.number,o.string])},a}(r.PureComponent);t.default=E},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(109);case"v8light":return a(111)}},function(e,t,a){var i=a(4),n=a(110);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#141519;border-bottom:1px solid #343741;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#ffffffb3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){var i=a(4),n=a(112);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,'.componentTemplatesListItem{background-color:#fafbfd;border-bottom:1px solid #d3dae6;height:48px;padding:12px;position:relative}.componentTemplatesListItem--selected:before{background-color:#ffffffb3;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.componentTemplatesListItem__contentIndicator{flex-direction:row}.componentTemplatesListItem__checkIcon{position:absolute;right:16px;top:16px;z-index:2}',""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(114);case"v8light":return a(116)}},function(e,t,a){var i=a(4),n=a(115);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,".componentTemplates{border:1px solid #343741;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #343741;border-bottom-right-radius:0;border-top:1px solid #343741;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #343741;border-bottom-left-radius:0;border-left:1px solid #343741;border-top:1px solid #343741;border-top-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){var i=a(4),n=a(117);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,".componentTemplates{border:1px solid #d3dae6;border-radius:6px;border-top:none;height:100%}.componentTemplates__header{height:48px}.componentTemplates__header .euiFormControlLayout{max-width:none}.componentTemplates__searchBox{border-bottom:1px solid #d3dae6;border-bottom-right-radius:0;border-top:1px solid #d3dae6;border-top-right-radius:0;box-shadow:none;max-width:none}.componentTemplates__filterListButton{border-bottom:1px solid #d3dae6;border-bottom-left-radius:0;border-left:1px solid #d3dae6;border-top:1px solid #d3dae6;border-top-left-radius:0;box-shadow:none;height:40px}.componentTemplates__listWrapper{height:calc(100% - 48px)}.componentTemplates__listWrapper--is-empty{display:flex}",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(119);case"v8light":return a(121)}},function(e,t,a){var i=a(4),n=a(120);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #343741;border-radius:6px;color:#98a2b3;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#25262e;border-bottom:1px solid #343741;color:#000;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){var i=a(4),n=a(122);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);i(n,{insert:"head",singleton:!1}),e.exports=n.locals||{}},function(e,t,a){(t=a(5)(!1)).push([e.i,".componentTemplatesSelector{height:480px}.componentTemplatesSelector__selection{border:1px solid #d3dae6;border-radius:6px;color:#69707d;padding:0 16px 16px}.componentTemplatesSelector__selection--is-empty{align-items:center;justify-content:center}.componentTemplatesSelector__selection__header{background-color:#f5f7fa;border-bottom:1px solid #d3dae6;color:#000;font-size:12px;height:40px;line-height:40px;margin-bottom:8px;margin-left:-16px;margin-right:-16px;padding-left:16px}.componentTemplatesSelector__selection__header__count{font-weight:600}.componentTemplatesSelector__selection__content{-webkit-mask-image:none;mask-image:none}",""]),e.exports=t},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];(0,i.default)(p(t),"Expected action types to be strings, symbols, or action creators");var n=t.map(o.default).join(c.ACTION_TYPE_DELIMITER);return{toString:function(){return n}}};var i=d(a(47)),n=d(a(51)),s=d(a(124)),r=d(a(75)),o=d(a(76)),l=d(a(77)),c=a(48);function d(e){return e&&e.__esModule?e:{default:e}}function u(e){return(0,l.default)(e)||(0,n.default)(e)||(0,s.default)(e)}function p(e){return!(0,r.default)(e)&&e.every(u)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];var r=(0,n.default)((0,d.default)(a))?a.pop():{};return(0,i.default)(a.every(l.default)&&((0,l.default)(e)||(0,n.default)(e)),"Expected optional object followed by string action types"),(0,l.default)(e)?O([e].concat(a),r):j({},M(e,r),O(a,r))};var i=b(a(47)),n=b(a(49)),s=b(a(51)),r=b(a(59)),o=b(a(127)),l=b(a(77)),c=b(a(78)),d=b(a(128)),u=b(a(79)),p=b(a(132)),m=b(a(133)),g=b(a(134)),f=b(a(58)),x=a(48);function b(e){return e&&e.__esModule?e:{default:e}}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},i=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),i.forEach((function(t){h(e,t,a[t])}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function M(e,t){var a=y((0,m.default)(e,t));return(0,g.default)(a,t)}function y(e,t){var a=void 0===t?{}:t,n=a.prefix,l=a.namespace,d=void 0===l?x.DEFAULT_NAMESPACE:l;return(0,p.default)(Object.keys(e),(function(t,a){var l,u=e[a];(0,i.default)(function(e){if((0,s.default)(e)||(0,c.default)(e))return!0;if((0,o.default)(e)){var t=e[0],a=void 0===t?r.default:t,i=e[1];return(0,s.default)(a)&&(0,s.default)(i)}return!1}(u),"Expected function, undefined, null, or array with payload and meta functions for "+a);var p=n?""+n+d+a:a,m=(0,o.default)(u)?f.default.apply(void 0,[p].concat(u)):(0,f.default)(p,u);return j({},t,((l={})[a]=m,l))}))}function O(e,t){var a=y((0,p.default)(e,(function(e,t){var a;return j({},e,((a={})[t]=r.default,a))})),t);return(0,p.default)(Object.keys(a),(function(e,t){var i;return j({},e,((i={})[(0,u.default)(t)]=a[t],i))}))}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return Array.isArray(e)}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e[e.length-1]}},function(e,t,a){var i=a(130);e.exports=function(e){return i(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,a){var i=a(131);e.exports=function(e){return i(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},function(e,t){e.exports=function(e){return a.test(e)?e.toLowerCase():i.test(e)?(function(e){return e.replace(s,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():n.test(e)?function(e){return e.replace(r,(function(e,t,a){return t+" "+a.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var a=/\s/,i=/(_|-|\.|:)/,n=/([a-z][A-Z]|[A-Z][a-z])/,s=/[\W_]+(.|$)/g,r=/(.)([A-Z]+)/g},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){return e.reduce((function(e,a){return t(e,a)}),{})}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=n(a(49));function n(e){return e&&e.__esModule?e:{default:e}}var s=(0,n(a(80)).default)(i.default);t.default=s},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t){var a=void 0===t?{}:t,r=a.namespace,o=void 0===r?i.DEFAULT_NAMESPACE:r,l=a.prefix;function c(t,a,i){var r=(0,s.default)(i.shift());(0,n.default)(i)?a[r]=e[t]:(a[r]||(a[r]={}),c(t,a[r],i))}var d={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=l?e.replace(""+l+o,""):e;return c(e,d,t.split(o))})),d};var i=a(48),n=r(a(75)),s=r(a(79));function r(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=s(a(136)),n=s(a(58));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,i.default)((0,n.default)(e,t),t.length)}},function(e,t){e.exports=function(e,t){return function a(){null==t&&(t=e.length);var i=[].slice.call(arguments);return i.length>=t?e.apply(this,i):function(){return a.apply(this,i.concat([].slice.call(arguments)))}}}},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return void 0===e}},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e,t,a){void 0===a&&(a={}),(0,n.default)((0,s.default)(e)||(0,r.default)(e),"Expected handlers to be a plain object.");var u=(0,l.default)(e,a),p=(0,o.default)(u).map((function(e){return(0,c.default)(e,(0,d.default)(e,u),t)})),m=i.default.apply(void 0,p.concat([t]));return function(e,a){return void 0===e&&(e=t),m(e,a)}};var i=u(a(139)),n=u(a(47)),s=u(a(49)),r=u(a(52)),o=u(a(60)),l=u(a(140)),c=u(a(82)),d=u(a(81));function u(e){return e&&e.__esModule?e:{default:e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];var i="function"!=typeof t[t.length-1]&&t.pop(),n=t;if(void 0===i)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var a=arguments.length,s=Array(a>2?a-2:0),r=2;r<a;r++)s[r-2]=arguments[r];var o=void 0===e,l=void 0===t;return o&&l&&i?i:n.reduce((function(e,a){return a.apply(void 0,[e,t].concat(s))}),o&&!l&&i?i:e)}},e.exports=t.default},function(e,t,a){"use strict";t.__esModule=!0,t.default=void 0;var i=r(a(49)),n=r(a(52)),s=r(a(141));function r(e){return e&&e.__esModule?e:{default:e}}var o=(0,r(a(80)).default)((function(e){return((0,i.default)(e)||(0,n.default)(e))&&!(0,s.default)(e)}));t.default=o},function(e,t,a){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,n.default)(e),a=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&a};var i,n=(i=a(60))&&i.__esModule?i:{default:i}},function(e,t,a){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,a){"use strict";var i="%[a-f0-9]{2}",n=new RegExp(i,"gi"),s=new RegExp("("+i+")+","gi");function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],r(a),r(i))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(n),a=1;a<t.length;a++)t=(e=r(t,a).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=s.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var i=o(a[0]);i!==a[0]&&(t[a[0]]=i)}a=s.exec(e)}t["%C2"]="�";for(var n=Object.keys(t),r=0;r<n.length;r++){var l=n[r];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,a){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelector=void 0,t.createSelectorCreator=s,t.createStructuredSelector=void 0,Object.defineProperty(t,"defaultEqualityCheck",{enumerable:!0,get:function(){return i.defaultEqualityCheck}}),Object.defineProperty(t,"defaultMemoize",{enumerable:!0,get:function(){return i.defaultMemoize}});var i=a(146);function n(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var a=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+a+"]")}return t}function s(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var s=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var r,o=0,l={memoizeOptions:void 0},c=i.pop();if("object"==typeof c&&(l=c,c=i.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var d=l,u=d.memoizeOptions,p=void 0===u?a:u,m=Array.isArray(p)?p:[p],g=n(i),f=e.apply(void 0,[function(){return o++,c.apply(null,arguments)}].concat(m)),x=e((function(){for(var e=[],t=g.length,a=0;a<t;a++)e.push(g[a].apply(null,arguments));return r=f.apply(null,e)}));return Object.assign(x,{resultFunc:c,memoizedResultFunc:f,dependencies:g,lastResult:function(){return r},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),x};return s}var r=s(i.defaultMemoize);t.createSelector=r,t.createStructuredSelector=function(e,t){if(void 0===t&&(t=r),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var a=Object.keys(e),i=t(a.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[a[i]]=t,e}),{})}));return i}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheKeyComparator=s,t.defaultEqualityCheck=void 0,t.defaultMemoize=function(e,t){var a,r,o="object"==typeof t?t:{equalityCheck:t},l=o.equalityCheck,c=void 0===l?n:l,d=o.maxSize,u=void 0===d?1:d,p=o.resultEqualityCheck,m=s(c),g=1===u?(a=m,{get:function(e){return r&&a(r.key,e)?r.value:i},put:function(e,t){r={key:e,value:t}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(e,t){var a=[];function n(e){var n=a.findIndex((function(a){return t(e,a.key)}));if(n>-1){var s=a[n];return n>0&&(a.splice(n,1),a.unshift(s)),s.value}return i}return{get:n,put:function(t,s){n(t)===i&&(a.unshift({key:t,value:s}),a.length>e&&a.pop())},getEntries:function(){return a},clear:function(){a=[]}}}(u,m);function f(){var t=g.get(arguments);if(t===i){if(t=e.apply(null,arguments),p){var a=g.getEntries(),n=a.find((function(e){return p(e.value,t)}));n&&(t=n.value)}g.put(arguments,t)}return t}return f.clearCache=function(){return g.clear()},f};var i="NOT_FOUND",n=function(e,t){return e===t};function s(e){return function(t,a){if(null===t||null===a||t.length!==a.length)return!1;for(var i=t.length,n=0;n<i;n++)if(!e(t[n],a[n]))return!1;return!0}}t.defaultEqualityCheck=n},function(e,t){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,a){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,a){e.exports=a(3)(1688)},function(e,t){ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],(function(e,t,a){"use strict";var i=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),r=e("./range").Range,o=e("./anchor").Anchor,l=e("./keyboard/hash_handler").HashHandler,c=e("./tokenizer").Tokenizer,d=r.comparePoints,u=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,n),this.getTokenizer=function(){function e(e,t,a){return e=e.substr(1),/^\d+$/.test(e)&&!a.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return u.$tokenizer=new c({start:[{regex:/:/,onMatch:function(e,t,a){return a.length&&a[0].expectIf?(a[0].expectIf=!1,a[0].elseBranch=a[0],[a[0]]):":"}},{regex:/\\./,onMatch:function(e,t,a){var i=e[1];return"}"==i&&a.length||-1!="`$\\".indexOf(i)?e=i:a.inFormatString&&("n"==i||"t"==i?e="\n":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"})),[e]}},{regex:/}/,onMatch:function(e,t,a){return[a.length?a.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,a,i){var n=e(t.substr(1),0,i);return i.unshift(n[0]),n},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,a){a[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+t("/")+"+)/(?:("+t("/")+"*)/)(\\w*):?",onMatch:function(e,t,a){var i=a[0];return i.fmtString=e,e=this.splitRegex.exec(e),i.guard=e[1],i.fmt=e[2],i.flag=e[3],""},next:"start"},{regex:"`"+t("`")+"*`",onMatch:function(e,t,a){return a[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,a){a[0]&&(a[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+t("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,a){a.inFormatString=!0},next:"start"}]}),u.prototype.getTokenizer=function(){return u.$tokenizer},u.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var a=t.substr(1);return(this.variables[t[0]+"__"]||{})[a]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var i=e.session;switch(t){case"CURRENT_WORD":var n=i.getWordRange();case"SELECTION":case"SELECTED_TEXT":return i.getTextRange(n);case"CURRENT_LINE":return i.getLine(e.getCursorPosition().row);case"PREV_LINE":return i.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return i.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return i.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,a){var i=t.flag||"",n=t.guard;n=new RegExp(n,i.replace(/[^gi]/,""));var s=this.tokenizeTmSnippet(t.fmt,"formatString"),r=this,o=e.replace(n,(function(){r.variables.__=arguments;for(var e=r.resolveVariables(s,a),t="E",i=0;i<e.length;i++){var n=e[i];if("object"==typeof n)if(e[i]="",n.changeCase&&n.local){var o=e[i+1];o&&"string"==typeof o&&("u"==n.changeCase?e[i]=o[0].toUpperCase():e[i]=o[0].toLowerCase(),e[i+1]=o.substr(1))}else n.changeCase&&(t=n.changeCase);else"U"==t?e[i]=n.toUpperCase():"L"==t&&(e[i]=n.toLowerCase())}return e.join("")}));return this.variables.__=null,o},this.resolveVariables=function(e,t){for(var a=[],i=0;i<e.length;i++){var n=e[i];if("string"==typeof n)a.push(n);else{if("object"!=typeof n)continue;if(n.skip)r(n);else{if(n.processed<i)continue;if(n.text){var s=this.getVariableValue(t,n.text);s&&n.fmtString&&(s=this.tmStrFormat(s,n)),n.processed=i,null==n.expectIf?s&&(a.push(s),r(n)):s?n.skip=n.elseBranch:r(n)}else(null!=n.tabstopId||null!=n.changeCase)&&a.push(n)}}}function r(t){var a=e.indexOf(t,i+1);-1!=a&&(i=a)}return a},this.insertSnippetForSelection=function(e,t){var a=e.getCursorPosition(),i=e.session.getLine(a.row),n=e.session.getTabString(),s=i.match(/^\s*/)[0];a.column<s.length&&(s=s.slice(0,a.column)),t=t.replace(/\r/g,"");var r=this.tokenizeTmSnippet(t);r=(r=this.resolveVariables(r,e)).map((function(e){return"\n"==e?e+s:"string"==typeof e?e.replace(/\t/g,n):e}));var o=[];r.forEach((function(e,t){if("object"==typeof e){var a=e.tabstopId,i=o[a];if(i||((i=o[a]=[]).index=a,i.value=""),-1===i.indexOf(e)){i.push(e);var n=r.indexOf(e,t+1);if(-1!==n){var s=r.slice(t+1,n);s.some((function(e){return"object"==typeof e}))&&!i.value?i.value=s:!s.length||i.value&&"string"==typeof i.value||(i.value=s.join(""))}}}})),o.forEach((function(e){e.length=0}));var l={};function c(e){for(var t=[],a=0;a<e.length;a++){var i=e[a];if("object"==typeof i){if(l[i.tabstopId])continue;i=t[e.lastIndexOf(i,a-1)]||{tabstopId:i.tabstopId}}t[a]=i}return t}for(var d=0;d<r.length;d++){var u=r[d];if("object"==typeof u){var m=u.tabstopId,g=r.indexOf(u,d+1);if(l[m])l[m]===u&&(l[m]=null);else{var f=o[m],x="string"==typeof f.value?[f.value]:c(f.value);x.unshift(d+1,Math.max(0,g-d)),x.push(u),l[m]=u,r.splice.apply(r,x),-1===f.indexOf(u)&&f.push(u)}}}var b=0,j=0,h="";r.forEach((function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(j=t[t.length-1].length,b+=t.length-1):j+=e.length,h+=e}else e.start?e.end={row:b,column:j}:e.start={row:b,column:j}}));var M=e.getSelectionRange(),y=e.session.replace(M,h),O=new p(e),v=e.inVirtualSelectionMode&&e.selection.index;O.addTabstops(o,M.start,y,v)},this.insertSnippet=function(e,t){var a=this;if(e.inVirtualSelectionMode)return a.insertSnippetForSelection(e,t);e.forEachSelection((function(){a.insertSnippetForSelection(e,t)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var a=e.getCursorPosition(),i=e.session.getState(a.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),a=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&a.push.apply(a,i[t].includeScopes),a.push("_"),a},this.expandWithTab=function(e,t){var a=this,i=e.forEachSelection((function(){return a.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var a,i=e.getCursorPosition(),n=e.session.getLine(i.row),s=n.substring(0,i.column),r=n.substr(i.column),o=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=o[e];return t&&(a=this.findMatchingSnippet(t,s,r)),!!a}),this),!!a&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-a.replaceBefore.length,i.column+a.replaceAfter.length),this.variables.M__=a.matchBefore,this.variables.T__=a.matchAfter,this.insertSnippetForSelection(e,a.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,a){for(var i=e.length;i--;){var n=e[i];if((!n.startRe||n.startRe.test(t))&&(!n.endRe||n.endRe.test(a))&&(n.startRe||n.endRe))return n.matchBefore=n.startRe?n.startRe.exec(t):[""],n.matchAfter=n.endRe?n.endRe.exec(a):[""],n.replaceBefore=n.triggerRe?n.triggerRe.exec(t)[0]:"",n.replaceAfter=n.endTriggerRe?n.endTriggerRe.exec(a)[0]:"",n}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){var a=this.snippetMap,i=this.snippetNameMap,n=this;function r(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function o(e,t,a){return e=r(e),t=r(t),a?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,a[t]||(a[t]=[],i[t]={});var r=i[t];if(e.name){var l=r[e.name];l&&n.unregister(l),r[e.name]=e}a[t].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=o(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger,"",!0),e.endRe=o(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger,"",!0))}e||(e=[]),e&&e.content?l(e):Array.isArray(e)&&e.forEach(l),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){var a=this.snippetMap,i=this.snippetNameMap;function n(e){var n=i[e.scope||t];if(n&&n[e.name]){delete n[e.name];var s=a[e.scope||t],r=s&&s.indexOf(e);r>=0&&s.splice(r,1)}}e.content?n(e):Array.isArray(e)&&e.forEach(n)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,a=[],i={},n=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=n.exec(e);){if(t[1])try{i=JSON.parse(t[1]),a.push(i)}catch(e){}if(t[4])i.content=t[4].replace(/^\t/gm,""),a.push(i),i={};else{var s=t[2],r=t[3];if("regex"==s){var o=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=o.exec(r)[1],i.trigger=o.exec(r)[1],i.endTrigger=o.exec(r)[1],i.endGuard=o.exec(r)[1]}else"snippet"==s?(i.tabTrigger=r.match(/^\S*/)[0],i.name||(i.name=r)):i[s]=r}}return a},this.getSnippetByName=function(e,t){var a,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var n=i[t];return n&&(a=n[e]),!!a}),this),a}}).call(u.prototype);var p=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t="r"==e.action[0],a=e.start,i=e.end,n=a.row,s=i.row-n,r=i.column-a.column;if(t&&(s=-s,r=-r),!this.$inChange&&t){var o=this.selectedTabstop,l=o&&!o.some((function(e){return d(e.start,a)<=0&&d(e.end,i)>=0}));if(l)return this.detach()}for(var c=this.ranges,u=0;u<c.length;u++){var p=c[u];p.end.row<a.row||(t&&d(a,p.start)<0&&d(i,p.end)>0?(this.removeRange(p),u--):(p.start.row==n&&p.start.column>a.column&&(p.start.column+=r),p.end.row==n&&p.end.column>=a.column&&(p.end.column+=r),p.start.row>=n&&(p.start.row+=s),p.end.row>=n&&(p.end.row+=s),d(p.start,p.end)>0&&this.removeRange(p)))}c.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var a=this.editor.session,i=a.getTextRange(e.firstNonLinked),n=e.length;n--;){var s=e[n];if(s.linked){var r=t.snippetManager.tmStrFormat(i,s.original);a.replace(s,r)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,a=this.editor.selection.isEmpty(),i=this.ranges.length;i--;)if(!this.ranges[i].linked){var n=this.ranges[i].contains(e.row,e.column),s=a||this.ranges[i].contains(t.row,t.column);if(n&&s)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,a=this.index+(e||1);(a=Math.min(Math.max(a,1),t))==t&&(a=0),this.selectTabstop(a),0===a&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var a=this.editor.multiSelect;a.toSingleRange(t.firstNonLinked.clone());for(var i=t.length;i--;)t.hasLinkedRanges&&t[i].linked||a.addRange(t[i].clone(),!0);a.ranges[0]&&a.addRange(a.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,t,a){if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var i=r.fromPoints(a,a);f(i.start,t),f(i.end,t),e[0]=[i],e[0].index=0}var n=[this.index+1,0],s=this.ranges;e.forEach((function(e,a){for(var i=this.$openTabstops[a]||e,o=e.length;o--;){var l=e[o],c=r.fromPoints(l.start,l.end||l.start);g(c.start,t),g(c.end,t),c.original=l,c.tabstop=i,s.push(c),i!=e?i.unshift(c):i[o]=c,l.fmtString?(c.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=c)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(n.push(i),this.$openTabstops[a]=i),this.addTabstopMarkers(i)}),this),n.length>2&&(this.tabstops.length&&n.push(n.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,n))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new l,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}).call(p.prototype);var m={};m.onChange=o.prototype.onChange,m.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},m.update=function(e,t,a){this.$insertRight=a,this.pos=e,this.onChange(t)};var g=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},f=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),t.snippetManager=new u;var x=e("./editor").Editor;(function(){this.insertSnippet=function(e,a){return t.snippetManager.insertSnippet(this,e,a)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(x.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(e,t,a){"use strict";var i=e("../virtual_renderer").VirtualRenderer,n=e("../editor").Editor,s=e("../range").Range,r=e("../lib/event"),o=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new i(e);t.$maxLines=4;var a=new n(t);return a.setHighlightActiveLine(!1),a.setShowPrintMargin(!1),a.renderer.setShowGutter(!1),a.renderer.setHighlightGutterLine(!1),a.$mouseHandler.$focusWaitTimout=0,a.$highlightTagPending=!0,a};l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);}.ace_editor.ace_autocomplete .ace_line-hover {    position: absolute;    z-index: 2;}.ace_editor.ace_autocomplete .ace_scroller {   background: none;   border: none;   box-shadow: none;}.ace_rightAlignedText {    color: gray;    display: inline-block;    position: absolute;    right: 4px;    text-align: right;    z-index: -1;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #000;    text-shadow: 0 0 0.01em;}.ace_editor.ace_autocomplete {    width: 280px;    z-index: 200000;    background: #fbfbfb;    color: #444;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;}"),t.AcePopup=function(e){var t=l.createElement("div"),a=new c(t);e&&e.appendChild(t),t.style.display="none",a.renderer.content.style.cursor="default",a.renderer.setStyle("ace_autocomplete"),a.setOption("displayIndentGuides",!1),a.setOption("dragDelay",150);var i,n=function(){};a.focus=n,a.$isFocused=!0,a.renderer.$cursorLayer.restartTimer=n,a.renderer.$cursorLayer.element.style.opacity=0,a.renderer.$maxLines=8,a.renderer.$keepTextAreaAtCursor=!1,a.setHighlightActiveLine(!1),a.session.highlight(""),a.session.$searchHighlight.clazz="ace_highlight-marker",a.on("mousedown",(function(e){var t=e.getDocumentPosition();a.selection.moveToPosition(t),u.start.row=u.end.row=t.row,e.stop()}));var d=new s(-1,0,-1,1/0),u=new s(-1,0,-1,1/0);u.id=a.session.addMarker(u,"ace_active-line","fullLine"),a.setSelectOnHover=function(e){e?d.id&&(a.session.removeMarker(d.id),d.id=null):d.id=a.session.addMarker(d,"ace_line-hover","fullLine")},a.setSelectOnHover(!1),a.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=a.renderer.scrollTop;var t=i.getDocumentPosition().row;d.start.row!=t&&(d.id||a.setRow(t),m(t))}}else i=e})),a.renderer.on("beforeRender",(function(){if(i&&-1!=d.start.row){i.$pos=null;var e=i.getDocumentPosition().row;d.id||a.setRow(e),m(e,!0)}})),a.renderer.on("afterRender",(function(){var e=a.getRow(),t=a.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!=t.selectedNode&&(t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=i,i&&l.addCssClass(i,"ace_selected"))}));var p=function(){m(-1)},m=function(e,t){e!==d.start.row&&(d.start.row=d.end.row=e,t||a.session._emit("changeBackMarker"),a._emit("changeHoverMarker"))};a.getHoveredRow=function(){return d.start.row},r.addListener(a.container,"mouseout",p),a.on("hide",p),a.on("changeSelection",p),a.session.doc.getLength=function(){return a.data.length},a.session.doc.getLine=function(e){var t=a.data[e];return"string"==typeof t?t:t&&t.value||""};var g=a.session.bgTokenizer;return g.$tokenizeRow=function(e){var t=a.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t}),t.caption||(t.caption=t.value||t.name);for(var n,s,r=-1,o=0;o<t.caption.length;o++)s=t.caption[o],r!==(n=t.matchMask&1<<o?1:0)?(i.push({type:t.className||(n?"completion-highlight":""),value:s}),r=n):i[i.length-1].value+=s;if(t.meta){var l=a.renderer.$size.scrollerWidth/a.renderer.layerConfig.characterWidth,c=t.meta;c.length+t.caption.length>l-2&&(c=c.substr(0,l-t.caption.length-3)+"…"),i.push({type:"rightAlignedText",value:c})}return i},g.$updateOnChange=n,g.start=n,a.session.$computeWidth=function(){return this.screenWidth=0},a.$blockScrolling=1/0,a.isOpen=!1,a.isTopdown=!1,a.autoSelect=!0,a.data=[],a.setData=function(e){a.setValue(o.stringRepeat("\n",e.length),-1),a.data=e||[],a.setRow(0)},a.getData=function(e){return a.data[e]},a.getRow=function(){return u.start.row},a.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),u.start.row!=e&&(a.selection.clearSelection(),u.start.row=u.end.row=e||0,a.session._emit("changeBackMarker"),a.moveCursorTo(e||0,0),a.isOpen&&a._signal("select"))},a.on("changeSelection",(function(){a.isOpen&&a.setRow(a.selection.lead.row),a.renderer.scrollCursorIntoView()})),a.hide=function(){this.container.style.display="none",this._signal("hide"),a.isOpen=!1},a.show=function(e,t,n){var s=this.container,r=window.innerHeight,o=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,d=e.top+this.$borderSize;d>r/2&&!n&&d+t+c>r?(l.$maxPixelHeight=d-2*this.$borderSize,s.style.top="",s.style.bottom=r-d+"px",a.isTopdown=!1):(d+=t,l.$maxPixelHeight=r-d-.2*t,s.style.top=d+"px",s.style.bottom="",a.isTopdown=!0),s.style.display="",this.renderer.$textLayer.checkForSizeChanges();var u=e.left;u+s.offsetWidth>o&&(u=o-s.offsetWidth),s.style.left=u+"px",this._signal("show"),i=null,a.isOpen=!0},a.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},a.$imageSize=0,a.$borderSize=1,a}})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,a){"use strict";t.parForEach=function(e,t,a){var i=0,n=e.length;0===n&&a();for(var s=0;s<n;s++)t(e[s],(function(e,t){++i===n&&a(e,t)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,a){a=a||i;for(var n=[],s=t-1;s>=0&&a.test(e[s]);s--)n.push(e[s]);return n.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,a){a=a||i;for(var n=[],s=t;s<e.length&&a.test(e[s]);s++)n.push(e[s]);return n},t.getCompletionPrefix=function(e){var t,a=e.getCursorPosition(),i=e.session.getLine(a.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,a.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,a.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],(function(e,t,a){"use strict";var i=e("./keyboard/hash_handler").HashHandler,n=e("./autocomplete/popup").AcePopup,s=e("./autocomplete/util"),r=(e("./lib/event"),e("./lib/lang")),o=e("./lib/dom"),l=e("./snippets").snippetManager,c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=r.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=r.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new n(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,a){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),a)a&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var n=i.layerConfig.lineHeight,s=i.$cursorLayer.getPixelPosition(this.base,!0);s.left-=this.popup.getTextLeftOffset();var r=e.container.getBoundingClientRect();s.top+=r.top-i.layerConfig.offset,s.left+=r.left-e.renderer.scrollLeft,s.left+=i.gutterWidth,this.popup.show(s,n)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,a=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),n=this.popup&&this.popup.container;t==a||t.parentNode==n||i||t==this.tooltipNode||e.relatedTarget==a||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),a=this.popup.session.getLength()-1;switch(e){case"up":t=t<=0?a:t-1;break;case"down":t=t>=a?-1:t+1;break;case"start":t=0;break;case"end":t=a}this.popup.setRow(t)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var a,i=this.editor.selection.getAllRanges(),n=0;a=i[n];n++)a.start.column-=this.completions.filterText.length,this.editor.session.remove(a);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var a=e.getSession(),i=e.getCursorPosition(),n=s.getCompletionPrefix(e);this.base=a.doc.createAnchor(i.row,i.column-n.length),this.base.$insertRight=!0;var r=[],o=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,a,i,n,(function(a,i){!a&&i&&(r=r.concat(i)),t(null,{prefix:s.getCompletionPrefix(e),matches:r,finished:0==--o})}))})),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(e){if(e&&this.base&&this.completions){var t=this.editor.getCursorPosition(),a=this.editor.session.getTextRange({start:this.base,end:t});if(a==this.completions.filterText)return;return this.completions.setFilter(a),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=a||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,a,e):this.detach()}var i=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(t,a){var n=function(){if(a.finished)return this.detach()}.bind(this),s=a.prefix,r=a&&a.matches;if(!r||!r.length)return n();if(0===s.indexOf(a.prefix)&&i==this.gatherCompletionsId){this.completions=new d(r),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(s);var o=this.completions.filtered;return o.length&&(1!=o.length||o[0].value!=s||o[0].snippet)?this.autoInsert&&1==o.length&&a.finished?this.insertMatch(o[0]):void this.openPopup(this.editor,s,e):n()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,a=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;return a&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(e){return e.getDocTooltip&&(i=e.getDocTooltip(a)),i})),i||(i=a),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?void this.showDocTooltip(i):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=o.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var a=this.popup,i=a.container.getBoundingClientRect();t.style.top=a.container.style.top,t.style.bottom=a.container.style.bottom,window.innerWidth-i.right<320?(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right=""),t.style.display="block"},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}}}).call(c.prototype),c.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new c),e.completer.autoInsert=!1,e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var d=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.score-e.score}));var a=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==a&&(a=t,!0)})),this.filtered=t},this.filterCompletions=function(e,t){var a=[],i=t.toUpperCase(),n=t.toLowerCase();e:for(var s,r=0;s=e[r];r++){var o=s.value||s.caption||s.snippet;if(o){var l,c,d=-1,u=0,p=0;if(this.exactMatch){if(t!==o.substr(0,t.length))continue e}else for(var m=0;m<t.length;m++){var g=o.indexOf(n[m],d+1),f=o.indexOf(i[m],d+1);if((l=g>=0&&(f<0||g<f)?g:f)<0)continue e;(c=l-d-1)>0&&(-1===d&&(p+=10),p+=c),u|=1<<l,d=l}s.matchMask=u,s.exactMatch=p?0:1,s.score=(s.score||0)-p,a.push(s)}}return a}}).call(d.prototype),t.Autocomplete=c,t.FilteredList=d})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,a){var i=e("../range").Range,n=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,a,s,r){var o=function(e,t){var a=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(n).length-1}(e,t),s=e.getValue().split(n),r=Object.create(null),o=s[a];return s.forEach((function(e,t){if(e&&e!==o){var i=Math.abs(a-t),n=s.length-i;r[e]?r[e]=Math.max(n,r[e]):r[e]=n}})),r}(t,a);r(null,Object.keys(o).map((function(e){return{caption:e,value:e,score:o[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,a){"use strict";var i=e("../snippets").snippetManager,n=e("../autocomplete").Autocomplete,s=e("../config"),r=e("../lib/lang"),o=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,a,i,n){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,a,i,n);var s=e.session.getState(a.row);n(null,t.$mode.getCompletions(s,t,a,i))}},d={getCompletions:function(e,t,a,n,s){var r=i.snippetMap,o=[];i.getActiveScopes(e).forEach((function(e){for(var t=r[e]||[],a=t.length;a--;){var i=t[a],n=i.name||i.tabTrigger;n&&o.push({caption:n,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+"⇥ ":"snippet",type:"snippet"})}}),this),s(null,o)},getDocTooltip:function(e){"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",r.escapeHTML(e.caption),"</b>","<hr></hr>",r.escapeHTML(e.snippet)].join(""))}},u=[d,l,c];t.setCompleters=function(e){u.length=0,e&&u.push.apply(u,e)},t.addCompleter=function(e){u.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=d;var p={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},m=function(e,t){g(t.session.$mode)},g=function(e){var t=e.$id;i.files||(i.files={}),f(t),e.modes&&e.modes.forEach(g)},f=function(e){if(e&&!i.files[e]){var t=e.replace("mode","snippets");i.files[e]={},s.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){f("ace/mode/"+e)}))))}))}},x=function(e){var t=e.editor,a=t.completer&&t.completer.activated;"backspace"===e.command.name?a&&!o.getCompletionPrefix(t)&&t.completer.detach():"insertstring"===e.command.name&&o.getCompletionPrefix(t)&&!a&&(t.completer||(t.completer=new n),t.completer.autoInsert=!1,t.completer.showPopup(t))},b=e("../editor").Editor;e("../config").defineOptions(b.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.addCommand(n.startCommand)):this.commands.removeCommand(n.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:u),this.commands.on("afterExec",x)):this.commands.removeListener("afterExec",x)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(p),this.on("changeMode",m),m(0,this)):(this.commands.removeCommand(p),this.off("changeMode",m))},value:!1}})})),ace.acequire(["ace/ext/language_tools"],(function(){}))},function(e,t,a){e.exports=a(3)(2745)},function(e,t,a){"use strict";function i(e){return function(t){var a=t.dispatch,i=t.getState;return function(t){return function(n){return"function"==typeof n?n(a,i,e):t(n)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i();n.withExtraArgument=i;var s=n;t.default=s},function(e,t,a){"use strict";a.r(t),a.d(t,"mountManagementSection",(function(){return nc}));var i=a(1);const n="/api/index_management",s="close",r="open",o="closing",l="opening",c="refreshing",d="flushing",u="forcemerging",p="clearing cache",m="template_show_details_click";var g=a(6),f=a(0),x=a.n(f);const b=new class breadcrumbs_BreadcrumbService{constructor(){x()(this,"breadcrumbs",{home:[]}),x()(this,"setBreadcrumbsHandler",void 0)}setup(e){this.setBreadcrumbsHandler=e,this.breadcrumbs.home=[{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"}],this.breadcrumbs.templates=[...this.breadcrumbs.home,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.templatesLabel",{defaultMessage:"Templates"}),href:"/templates"}],this.breadcrumbs.templateCreate=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.createTemplateLabel",{defaultMessage:"Create template"})}],this.breadcrumbs.templateEdit=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.editTemplateLabel",{defaultMessage:"Edit template"})}],this.breadcrumbs.templateClone=[...this.breadcrumbs.templates,{text:i.i18n.translate("xpack.idxMgmt.breadcrumb.cloneTemplateLabel",{defaultMessage:"Clone template"})}]}setBreadcrumbs(e){if(!this.setBreadcrumbsHandler)throw new Error("BreadcrumbService#setup() must be called first!");const t=this.breadcrumbs[e]?[...this.breadcrumbs[e]]:[...this.breadcrumbs.home],a=t.pop();t.push({...a,href:void 0}),this.setBreadcrumbsHandler(t)}},j="index_default",h="standard";var M=a(23),y=a.n(M),O=a(25);const v={"indexOptions.docs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberTitle",{defaultMessage:"Doc number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.docNumberDescription",{defaultMessage:"Index the doc number only. Used to verify the existence of a term in a field."})},"indexOptions.freqs":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyTitle",{defaultMessage:"Term frequencies"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.termFrequencyDescription",{defaultMessage:"Index the doc number and term frequencies. Repeated terms score higher than single terms."})},"indexOptions.positions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsTitle",{defaultMessage:"Positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.positionsDescription",{defaultMessage:"Index the doc number, term frequencies, positions, and start and end character offsets. Offsets map the term back to the original string."})},"indexOptions.offsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsTitle",{defaultMessage:"Offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.indexOptions.offsetsDescription",{defaultMessage:"Doc number, term frequencies, positions, and start and end character offsets (which map the term back to the original string) are indexed."})},"analyzer.indexDefault":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultTitle",{defaultMessage:"Index default"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.indexDefaultDescription",{defaultMessage:"Use the analyzer defined for the index."})},"analyzer.standard":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardTitle",{defaultMessage:"Standard"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.standardDescription",{defaultMessage:"The standard analyzer divides text into terms on word boundaries, as defined by the Unicode Text Segmentation algorithm."})},"analyzer.simple":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleTitle",{defaultMessage:"Simple"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.simpleDescription",{defaultMessage:"The simple analyzer divides text into terms whenever it encounters a character which is not a letter. "})},"analyzer.whitespace":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceTitle",{defaultMessage:"Whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.whitespaceDescription",{defaultMessage:"The whitespace analyzer divides text into terms whenever it encounters any whitespace character."})},"analyzer.stop":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopTitle",{defaultMessage:"Stop"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.stopDescription",{defaultMessage:"The stop analyzer is like the simple analyzer, but also supports removal of stop words."})},"analyzer.keyword":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordTitle",{defaultMessage:"Keyword"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.keywordDescription",{defaultMessage:"The keyword analyzer is a “noop” analyzer that accepts whatever text it is given and outputs the exact same text as a single term."})},"analyzer.pattern":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternTitle",{defaultMessage:"Pattern"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.patternDescription",{defaultMessage:"The pattern analyzer uses a regular expression to split the text into terms. It supports lower-casing and stop words."})},"analyzer.fingerprint":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintTitle",{defaultMessage:"Fingerprint"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.fingerprintDescription",{defaultMessage:"The fingerprint analyzer is a specialist analyzer which creates a fingerprint which can be used for duplicate detection."})},"analyzer.language":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageTitle",{defaultMessage:"Language"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.languageDescription",{defaultMessage:"Elasticsearch provides many language-specific analyzers like english or french."})},"similarity.bm25":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Title",{defaultMessage:"Okapi BM25"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.bm25Description",{defaultMessage:"The default algorithm used in Elasticsearch and Lucene."})},"similarity.boolean":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanTitle",{defaultMessage:"Boolean"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.similarity.booleanDescription",{defaultMessage:"A boolean similarity to use when full text-ranking is not needed. The score is based on whether the query terms match."})},"termVector.no":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noTitle",{defaultMessage:"No"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.noDescription",{defaultMessage:"No term vectors are stored."})},"termVector.yes":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesTitle",{defaultMessage:"Yes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.yesDescription",{defaultMessage:"Just the terms in the field are stored."})},"termVector.withPositions":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsTitle",{defaultMessage:"With positions"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsDescription",{defaultMessage:"Terms and positions are stored."})},"termVector.withOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsTitle",{defaultMessage:"With offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withOffsetsDescription",{defaultMessage:"Terms and character offsets are stored."})},"termVector.withPositionsOffsets":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsTitle",{defaultMessage:"With positions and offsets"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsDescription",{defaultMessage:"Terms, positions, and character offsets are stored."})},"termVector.withPositionsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsTitle",{defaultMessage:"With positions and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsPayloadsDescription",{defaultMessage:"Terms, positions, and payloads are stored."})},"termVector.withPositionsOffsetsPayloads":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsTitle",{defaultMessage:"With positions, offsets, and payloads"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.termVector.withPositionsOffsetsPayloadsDescription",{defaultMessage:"Terms, positions, offsets and payloads are stored."})},"orientation.counterclockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseTitle",{defaultMessage:"Counterclockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.counterclockwiseDescription",{defaultMessage:"Defines outer polygon vertices in counterclockwise order and interior shape vertices in clockwise order. This is the Open Geospatial Consortium (OGC) and GeoJSON standard."})},"orientation.clockwise":{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseTitle",{defaultMessage:"Clockwise"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.orientation.clockwiseDescription",{defaultMessage:"Defines outer polygon vertices in clockwise order and interior shape vertices in counterclockwise order."})}},T={arabic:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.arabic",{defaultMessage:"Arabic"}),armenian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.armenian",{defaultMessage:"Armenian"}),basque:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.basque",{defaultMessage:"Basque"}),bengali:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bengali",{defaultMessage:"Bengali"}),brazilian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.brazilian",{defaultMessage:"Brazilian"}),bulgarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.bulgarian",{defaultMessage:"Bulgarian"}),catalan:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.catalan",{defaultMessage:"Catalan"}),cjk:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.cjk",{defaultMessage:"Cjk"}),czech:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.czech",{defaultMessage:"Czech"}),danish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.danish",{defaultMessage:"Danish"}),dutch:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.dutch",{defaultMessage:"Dutch"}),english:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.english",{defaultMessage:"English"}),finnish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.finnish",{defaultMessage:"Finnish"}),french:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.french",{defaultMessage:"French"}),galician:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.galician",{defaultMessage:"Galician"}),german:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.german",{defaultMessage:"German"}),greek:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.greek",{defaultMessage:"Greek"}),hindi:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hindi",{defaultMessage:"Hindi"}),hungarian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.hungarian",{defaultMessage:"Hungarian"}),indonesian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.indonesian",{defaultMessage:"Indonesian"}),irish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.irish",{defaultMessage:"Irish"}),italian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.italian",{defaultMessage:"Italian"}),latvian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.latvian",{defaultMessage:"Latvian"}),lithuanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.lithuanian",{defaultMessage:"Lithuanian"}),norwegian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.norwegian",{defaultMessage:"Norwegian"}),persian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.persian",{defaultMessage:"Persian"}),portuguese:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.portuguese",{defaultMessage:"Portuguese"}),romanian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.romanian",{defaultMessage:"Romanian"}),russian:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.russian",{defaultMessage:"Russian"}),sorani:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.sorani",{defaultMessage:"Sorani"}),spanish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.spanish",{defaultMessage:"Spanish"}),swedish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.swedish",{defaultMessage:"Swedish"}),thai:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.thai",{defaultMessage:"Thai"}),turkish:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.languageAnalyzer.turkish",{defaultMessage:"Turkish"})};var E=a(26),k=a(24);const F={text:{value:"text",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textDescription",{defaultMessage:"Text"}),documentation:{main:"/text.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.textLongDescription",defaultMessage:"Text fields support full-text search by breaking strings into individual, searchable terms. To index structured content, such as an email address, use the {keyword}.",values:{keyword:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.textLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},keyword:{value:"keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordDescription",{defaultMessage:"Keyword"}),documentation:{main:"/keyword.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription",defaultMessage:"Keyword fields support searching for an exact value and are useful for filtering, sorting, and aggregations. To index full-text content, such as an email body, use the {textType}.",values:{textType:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("text"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.keywordLongDescription.textTypeLink",{defaultMessage:"text data type"}))}}))},constant_keyword:{value:"constant_keyword",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.constantKeywordDescription",{defaultMessage:"Constant keyword"}),documentation:{main:"/keyword.html#constant-keyword-field-type"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.constantKeywordLongDescription",defaultMessage:"Constant keyword fields are a special type of keyword fields for fields that contain the same keyword across all documents in the index. Supports the same queries and aggregations as {keyword} fields.",values:{keyword:Object(k.jsx)(O.EuiCode,null,"keyword")}}))},numeric:{value:"numeric",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericDescription",{defaultMessage:"Numeric"}),documentation:{main:"/number.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.numericSubtypeDescription",{defaultMessage:"Numeric type"}),types:["byte","double","float","half_float","integer","long","scaled_float","short"]}},byte:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.byteDescription",{defaultMessage:"Byte"}),value:"byte",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.byteLongDescription",defaultMessage:"Byte fields accept a signed 8-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(k.jsx)(O.EuiCode,null,"-128"),maxValue:Object(k.jsx)(O.EuiCode,null,"127")}}))},double:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleDescription",{defaultMessage:"Double"}),value:"double",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleLongDescription",defaultMessage:"Double fields accept a double-precision 64-bit floating point number, restricted to finite values (IEEE 754)."}))},integer:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerDescription",{defaultMessage:"Integer"}),value:"integer",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerLongDescription",defaultMessage:"Integer fields accept a signed 32-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(k.jsx)(O.EuiCode,null,"-2",Object(k.jsx)("sup",{className:"eui-alignTop"},"31")),maxValue:Object(k.jsx)(O.EuiCode,null,"2",Object(k.jsx)("sup",{className:"eui-alignTop"},"31"),"-1")}}))},long:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longDescription",{defaultMessage:"Long"}),value:"long",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longLongDescription",defaultMessage:"Long fields accept a signed 64-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(k.jsx)(O.EuiCode,null,"-2",Object(k.jsx)("sup",{className:"eui-alignTop"},"63")),maxValue:Object(k.jsx)(O.EuiCode,null,"2",Object(k.jsx)("sup",{className:"eui-alignTop"},"63"),"-1")}}))},float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatDescription",{defaultMessage:"Float"}),value:"float",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatLongDescription",defaultMessage:"Float fields accept a single-precision 32-bit floating point number, restricted to finite values (IEEE 754)."}))},half_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.halfFloatDescription",{defaultMessage:"Half float"}),value:"half_float",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.halfFloatLongDescription",defaultMessage:"Half-float fields accept a half-precision 16-bit floating point number, restricted to finite values (IEEE 754)."}))},scaled_float:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.scaledFloatDescription",{defaultMessage:"Scaled float"}),value:"scaled_float",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.scaledFloatLongDescription",defaultMessage:"Scaled-float fields accept a floating point number that is backed by a {longType} and scaled by a fixed {doubleType} scaling factor. Use this data type to store floating point data into an integer using a scaling factor. This saves disk space, but affects accuracy.",values:{longType:Object(k.jsx)(O.EuiCode,null,"long"),doubleType:Object(k.jsx)(O.EuiCode,null,"double")}}))},short:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shortDescription",{defaultMessage:"Short"}),value:"short",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shortLongDescription",defaultMessage:"Short fields accept a signed 16-bit integer with a minimum value of {minValue} and a maximum value of {maxValue}.",values:{minValue:Object(k.jsx)(O.EuiCode,null,"-32,768"),maxValue:Object(k.jsx)(O.EuiCode,null,"32,767")}}))},date:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateDescription",{defaultMessage:"Date"}),value:"date",documentation:{main:"/date.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateLongDescription",defaultMessage:'Date fields accept strings with formatted dates ("2015/01/01 12:10:30"), long numbers representing milliseconds since the epoch, and integers representing seconds since the epoch. Multiple date formats are allowed. Dates with timezones are converted to UTC.'}))},date_nanos:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosDescription",{defaultMessage:"Date nanoseconds"}),value:"date_nanos",documentation:{main:"/date_nanos.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription",defaultMessage:"Date nanoseconds fields store dates in nanosecond resolution. Aggregations remain in millisecond resolution. To store dates in millisecond resolution, use the {date}.",values:{date:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("date"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateNanosLongDescription.dateTypeLink",{defaultMessage:"date data type"}))}}))},binary:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.binaryDescription",{defaultMessage:"Binary"}),value:"binary",documentation:{main:"/binary.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.binaryLongDescription",defaultMessage:"Binary fields accept a binary value as a Base64-encoded string. By default, binary fields are not stored or searchable."}))},ip:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipDescription",{defaultMessage:"IP"}),value:"ip",documentation:{main:"/ip.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription",defaultMessage:"IP fields accept IPv4 or IPv6 addresses. If you need to store IP ranges in a single field, use the {ipRange}.",values:{ipRange:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("range"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipLongDescription.ipRangeTypeLink",{defaultMessage:"IP range data type"}))}}))},boolean:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.booleanDescription",{defaultMessage:"Boolean"}),value:"boolean",documentation:{main:"/boolean.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.booleanLongDescription",defaultMessage:"Boolean fields accept JSON {true} and {false} values, as well as strings which are interpreted as true or false.",values:{true:Object(k.jsx)(O.EuiCode,null,"true"),false:Object(k.jsx)(O.EuiCode,null,"false")}}))},range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeDescription",{defaultMessage:"Range"}),value:"range",documentation:{main:"/range.html"},subTypes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rangeSubtypeDescription",{defaultMessage:"Range type"}),types:["date_range","double_range","float_range","integer_range","ip_range","long_range"]}},object:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectDescription",{defaultMessage:"Object"}),value:"object",documentation:{main:"/object.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription",defaultMessage:"Object fields can contain children, which are queried as a flattened list. To query child objects independently, use the {nested}.",values:{nested:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("nested"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.objectLongDescription.nestedTypeLink",{defaultMessage:"nested data type"}))}}))},nested:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedDescription",{defaultMessage:"Nested"}),value:"nested",documentation:{main:"/nested.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription",defaultMessage:"Like {objects}, nested fields can contain children. The difference is that you can query their child objects independently.",values:{objects:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("object"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.nestedLongDescription.objectTypeLink",{defaultMessage:"objects"}))}}))},rank_feature:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureDescription",{defaultMessage:"Rank feature"}),value:"rank_feature",documentation:{main:"/rank-feature.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription",defaultMessage:"The rank feature field accepts a number that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(k.jsx)(O.EuiLink,{href:oe.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeatureLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},rank_features:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesDescription",{defaultMessage:"Rank features"}),value:"rank_features",documentation:{main:"/rank-features.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription",defaultMessage:"The rank features field accepts numeric vectors that will boost documents in {rankFeatureQuery}.",values:{rankFeatureQuery:Object(k.jsx)(O.EuiLink,{href:oe.getRankFeatureQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.rankFeaturesLongDescription.queryLink",{defaultMessage:"rank_feature queries"}))}}))},dense_vector:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.denseVectorDescription",{defaultMessage:"Dense vector"}),value:"dense_vector",documentation:{main:"/dense-vector.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.denseVectorLongDescription",defaultMessage:"Dense vector fields store vectors of float values, useful for document scoring."}))},date_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.dateRangeDescription",{defaultMessage:"Date range"}),value:"date_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.dateRangeLongDescription",defaultMessage:"Date range fields accept an unsigned 64-bit integer representing milliseconds since the system epoch."}))},double_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.doubleRangeDescription",{defaultMessage:"Double range"}),value:"double_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.doubleRangeLongDescription",defaultMessage:"Double range fields accept a 64-bit double precision floating point number (IEEE 754 binary64)."}))},float_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.floatRangeDescription",{defaultMessage:"Float range"}),value:"float_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.floatRangeLongDescription",defaultMessage:"Float range fields accept a 32-bit single precision floating point number (IEEE 754 binary32)."}))},integer_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.integerRangeDescription",{defaultMessage:"Integer range"}),value:"integer_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.integerRangeLongDescription",defaultMessage:"Integer range fields accept a signed 32-bit integer."}))},long_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.longRangeDescription",{defaultMessage:"Long range"}),value:"long_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.longRangeLongDescription",defaultMessage:"Long range fields accept a signed 64-bit integer."}))},ip_range:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.ipRangeDescription",{defaultMessage:"IP range"}),value:"ip_range",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.ipRangeLongDescription",defaultMessage:"IP range fields accept an IPv4 or IPV6 address."}))},geo_point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoPointDescription",{defaultMessage:"Geo-point"}),value:"geo_point",documentation:{main:"/geo-point.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.geoPointLongDescription",defaultMessage:"Geo-point fields accept latitude and longitude pairs. Use this data type to search within a bounding box, aggregate documents geographically, and sort documents by distance."}))},geo_shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.geoShapeDescription",{defaultMessage:"Geo-shape"}),value:"geo_shape",documentation:{main:"/geo-shape.html",learnMore:"/geo-shape.html#geoshape-indexing-approach"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription",defaultMessage:"Geo-shapes are indexed by decomposing the shape into a triangular mesh and indexing each triangle as a 7-dimensional point in a BKD tree. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("geo_shape","learnMore"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.fieldDescription.learnMoreLink",{defaultMessage:"Learn more."}))}}))},completion:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterDescription",{defaultMessage:"Completion suggester"}),value:"completion",documentation:{main:"/search-suggesters.html#completion-suggester"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.completionSuggesterLongDescription",defaultMessage:"Completion suggester fields support autocomplete, but require special data structures that occupy memory and build slowly."}))},token_count:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.tokenCountDescription",{defaultMessage:"Token count"}),value:"token_count",documentation:{main:"/token-count.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.tokenCountLongDescription",defaultMessage:"Token count fields accept string values.  These values are analyzed, and the number of tokens in the string are indexed."}))},percolator:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorDescription",{defaultMessage:"Percolator"}),value:"percolator",documentation:{main:"/percolator.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription",defaultMessage:"The percolator data type enables {percolator}.",values:{percolator:Object(k.jsx)(O.EuiLink,{href:oe.getPercolatorQueryLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.percolatorLongDescription.learnMoreLink",{defaultMessage:"percolator queries"}))}}))},histogram:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.histogramDescription",{defaultMessage:"Histogram"}),value:"histogram",documentation:{main:"/histogram.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.histogramLongDescription",defaultMessage:"Histogram fields store pre-aggregated numerical data representing a histogram, and are intended for use with aggregations."}))},join:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.joinDescription",{defaultMessage:"Join"}),value:"join",documentation:{main:"/parent-join.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.joinLongDescription",defaultMessage:"Join fields define parent-child relationships among documents of the same index."}))},alias:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.aliasDescription",{defaultMessage:"Alias"}),value:"alias",documentation:{main:"/alias.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.aliasLongDescription",defaultMessage:"Alias fields accept an alternative name for a field, which you can use in search requests."}))},search_as_you_type:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeDescription",{defaultMessage:"Search-as-you-type"}),value:"search_as_you_type",documentation:{main:"/search-as-you-type.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.searchAsYouTypeLongDescription",defaultMessage:"Search-as-you-type fields break strings into subfields for search suggestions, and will match terms at any position in the string."}))},flattened:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.flattenedDescription",{defaultMessage:"Flattened"}),value:"flattened",documentation:{main:"/flattened.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.flattenedLongDescription",defaultMessage:"Flattened fields map an object as a single field and are useful for indexing objects with a large or unknown number of unique keys. Flattened fields support basic queries only."}))},shape:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.shapeDescription",{defaultMessage:"Shape"}),value:"shape",documentation:{main:"/shape.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.shapeLongDescription",defaultMessage:"Shape fields enable searching of complex shapes, such as rectangles and polygons."}))},point:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.pointDescription",{defaultMessage:"Point"}),value:"point",documentation:{main:"/point.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.pointLongDescription",defaultMessage:"Point fields enable searching of {code} pairs that fall in a 2-dimensional planar coordinate system.",values:{code:Object(k.jsx)(O.EuiCode,null,"x,y")}}))},version:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionDescription",{defaultMessage:"Version"}),value:"version",documentation:{main:"/version.html"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription",defaultMessage:"Version fields are helpful to handle software version values. This field isn’t optimized for heavy wildcard, regex, or fuzzy searches. For these query types, use the {keywordType}.",values:{keywordType:Object(k.jsx)(O.EuiLink,{href:oe.getTypeDocLink("keyword"),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.versionLongDescription.keywordTypeLink",{defaultMessage:"keyword data type"}))}}))},wildcard:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.wildcardDescription",{defaultMessage:"Wildcard"}),value:"wildcard",documentation:{main:"/keyword.html#wildcard-field-type"},description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.wildcardLongDescription",defaultMessage:"Wildcard fields store values optimized for wildcard grep-like queries."}))},other:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dataType.otherDescription",{defaultMessage:"Other"}),value:"other",description:()=>Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dataType.otherLongDescription",defaultMessage:"Specify type parameters in JSON."}))}},_=["alias","binary","boolean","completion","constant_keyword","date","date_nanos","dense_vector","flattened","geo_point","geo_shape","ip","join","keyword","nested","numeric","object","percolator","range","rank_feature","rank_features","search_as_you_type","shape","text","token_count","histogram","wildcard","point","version","other"].reduce(((e,t)=>({...e,[t]:F[t]})),{}),S=Object.entries(_).reduce(((e,[t,a])=>(({}.hasOwnProperty.call(a,"subTypes")&&a.subTypes.types.forEach((a=>{e[a]=t})),e))),{}),C=[...Object.keys(_),...Object.keys(S)],L=["join"],w=[...L,"object","nested","alias"],I=Object.entries(_).map((([e,{label:t}])=>({value:e,label:t}))),D=(e,t)=>({inputDisplay:e,dropdownDisplay:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("strong",null,e),Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},Object(k.jsx)("p",null,t)))}),P=e=>D(v[e].title,v[e].description),N={index_options:[{value:"docs",...P("indexOptions.docs")},{value:"freqs",...P("indexOptions.freqs")},{value:"positions",...P("indexOptions.positions")},{value:"offsets",...P("indexOptions.offsets")}],index_options_flattened:[{value:"docs",...P("indexOptions.docs")},{value:"freqs",...P("indexOptions.freqs")}],index_options_keyword:[{value:"docs",...P("indexOptions.docs")},{value:"freqs",...P("indexOptions.freqs")}],analyzer:[{value:j,...P("analyzer.indexDefault")},{value:h,...P("analyzer.standard")},{value:"simple",...P("analyzer.simple")},{value:"whitespace",...P("analyzer.whitespace")},{value:"stop",...P("analyzer.stop")},{value:"keyword",...P("analyzer.keyword")},{value:"pattern",...P("analyzer.pattern")},{value:"fingerprint",...P("analyzer.fingerprint")},{value:"language",...P("analyzer.language")}],languageAnalyzer:Object.entries(T).map((([e,t])=>({value:e,text:t}))),similarity:[{value:"BM25",...P("similarity.bm25")},{value:"boolean",...P("similarity.boolean")}],term_vector:[{value:"no",...P("termVector.no")},{value:"yes",...P("termVector.yes")},{value:"with_positions",...P("termVector.withPositions")},{value:"with_offsets",...P("termVector.withOffsets")},{value:"with_positions_offsets",...P("termVector.withPositionsOffsets")},{value:"with_positions_payloads",...P("termVector.withPositionsPayloads")},{value:"with_positions_offsets_payloads",...P("termVector.withPositionsOffsetsPayloads")}],orientation:[{value:"ccw",...P("orientation.counterclockwise")},{value:"cw",...P("orientation.clockwise")}]},A=[{label:"epoch_millis"},{label:"epoch_second"},{label:"date_optional_time",strict:!0},{label:"basic_date"},{label:"basic_date_time"},{label:"basic_date_time_no_millis"},{label:"basic_ordinal_date"},{label:"basic_ordinal_date_time"},{label:"basic_ordinal_date_time_no_millis"},{label:"basic_time"},{label:"basic_time_no_millis"},{label:"basic_t_time"},{label:"basic_t_time_no_millis"},{label:"basic_week_date",strict:!0},{label:"basic_week_date_time",strict:!0},{label:"basic_week_date_time_no_millis",strict:!0},{label:"date",strict:!0},{label:"date_hour",strict:!0},{label:"date_hour_minute",strict:!0},{label:"date_hour_minute_second",strict:!0},{label:"date_hour_minute_second_fraction",strict:!0},{label:"date_hour_minute_second_millis",strict:!0},{label:"date_time",strict:!0},{label:"date_time_no_millis",strict:!0},{label:"hour",strict:!0},{label:"hour_minute ",strict:!0},{label:"hour_minute_second",strict:!0},{label:"hour_minute_second_fraction",strict:!0},{label:"hour_minute_second_millis",strict:!0},{label:"ordinal_date",strict:!0},{label:"ordinal_date_time",strict:!0},{label:"ordinal_date_time_no_millis",strict:!0},{label:"time",strict:!0},{label:"time_no_millis",strict:!0},{label:"t_time",strict:!0},{label:"t_time_no_millis",strict:!0},{label:"week_date",strict:!0},{label:"week_date_time",strict:!0},{label:"week_date_time_no_millis",strict:!0},{label:"weekyear",strict:!0},{label:"weekyear_week",strict:!0},{label:"weekyear_week_day",strict:!0},{label:"year",strict:!0},{label:"year_month",strict:!0},{label:"year_month_day",strict:!0}],R=A.filter((e=>e.strict)).map((({label:e})=>({label:`strict_${e}`}))),z=[...A.map((({label:e})=>({label:e}))),...R];var B=a(62),V=a(27),U=a(29),q=a(31),$=a(28),W=a(37),H=a(30);const{toInt:G}=q.fieldFormatters,{emptyField:J,containsCharsField:Y,numberGreaterThanField:K,isJsonField:X}=q.fieldValidators,Z={smallerThanZero:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.smallerZeroErrorMessage",{defaultMessage:"The value must be greater or equal to 0."}),spacesNotAllowed:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.spacesNotAllowedErrorMessage",{defaultMessage:"Spaces are not allowed."}),analyzerIsRequired:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.analyzerIsRequiredErrorMessage",{defaultMessage:"Specify the custom analyzer name or choose a built-in analyzer."})},Q=i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldLabel",{defaultMessage:"Null value"}),ee=J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nullValueIsRequiredErrorMessage",{defaultMessage:"Null value is required."})),te=["true",!0,"false",!1],ae={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexOptionsLabel",{defaultMessage:"Index options"}),helpText:()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.indexOptionsHelpText",defaultMessage:"Information to store in the index. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getIndexOptionsLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.indexOptionsdDocumentationLink",{defaultMessage:"Learn more."}))}}),type:V.FIELD_TYPES.SUPER_SELECT},ie={fieldConfig:{defaultValue:{}},props:{min_segment_size:{fieldConfig:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.minSegmentSizeFieldLabel",{defaultMessage:"Minimum segment size"}),defaultValue:50,formatters:[G]}}},schema:B.record(B.union([B.literal("min"),B.literal("max"),B.literal("min_segment_size")]),B.number)},ne=[{validator:J(Z.analyzerIsRequired)},{validator:Y({chars:" ",message:Z.spacesNotAllowed})}],se={name:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nameFieldLabel",{defaultMessage:"Field name"}),defaultValue:"",validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.nameIsRequiredErrorMessage",{defaultMessage:"Give a name to the field."}))}]}},type:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeFieldLabel",{defaultMessage:"Field type"}),defaultValue:"text",deserializer:e=>"string"==typeof e&&Boolean(e)?[{label:F[e]?F[e].label:e,value:e}]:[{value:""}],serializer:e=>e&&e.length?e[0].value:e,validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.typeIsRequiredErrorMessage",{defaultMessage:"Specify a field type."}))}]},schema:B.string},store:{fieldConfig:{type:V.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:B.boolean},index:{fieldConfig:{type:V.FIELD_TYPES.CHECKBOX,defaultValue:!0},schema:B.boolean},doc_values:{fieldConfig:{defaultValue:!0},schema:B.boolean},doc_values_binary:{fieldConfig:{defaultValue:!1},schema:B.boolean},fielddata:{fieldConfig:{type:V.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:B.boolean},fielddata_frequency_filter:ie,fielddata_frequency_filter_percentage:{...ie,props:{min:{fieldConfig:{defaultValue:.01,serializer:e=>""===e?"":G(e)/100,deserializer:e=>Math.round(100*e)}},max:{fieldConfig:{defaultValue:1,serializer:e=>""===e?"":G(e)/100,deserializer:e=>Math.round(100*e)}}}},fielddata_frequency_filter_absolute:{...ie,props:{min:{fieldConfig:{defaultValue:2,validations:[{validator:K({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[G]}},max:{fieldConfig:{defaultValue:5,validations:[{validator:K({than:1,message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.fieldDataFrequency.numberGreaterThanOneErrorMessage",{defaultMessage:"Value must be greater than one."})})}],formatters:[G]}}}},coerce:{fieldConfig:{defaultValue:!0},schema:B.boolean},coerce_shape:{fieldConfig:{defaultValue:!1},schema:B.boolean},ignore_malformed:{fieldConfig:{defaultValue:!1},schema:B.boolean},null_value:{fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.TEXT,label:Q}},null_value_ip:{fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.TEXT,label:Q,helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.nullValueIpHelpText",{defaultMessage:"Accepts an IP address."})}},null_value_numeric:{fieldConfig:{defaultValue:"",label:Q,formatters:[G],validations:[{validator:ee}]},schema:B.number},null_value_boolean:{fieldConfig:{defaultValue:!1,label:Q,deserializer:e=>te.indexOf(e),serializer:e=>te[e]},schema:B.union([B.literal(!0),B.literal(!1),B.literal("true"),B.literal("false")])},null_value_geo_point:{fieldConfig:{defaultValue:"",label:Q,helpText:()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.geoPointNullValueHelpText",defaultMessage:"Geo-points can be expressed as an object, string, geohash, array or {docsLink} POINT.",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.wellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:ee}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:B.any},null_value_point:{fieldConfig:{defaultValue:"",label:Q,helpText:()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.pointNullValueHelpText",defaultMessage:"Points can be expressed as an object, string, array or {docsLink} POINT.",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getWellKnownTextLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pointWellKnownTextDocumentationLink",{defaultMessage:"Well-Known Text"}))}}),validations:[{validator:ee}],deserializer:e=>""===e?e:JSON.stringify(e),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},schema:B.any},copy_to:{fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.copyToLabel",{defaultMessage:"Group field name"}),validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.copyToIsRequiredErrorMessage",{defaultMessage:"Group field name is required."}))}]},schema:B.string},value:{fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.valueLabel",{defaultMessage:"Value"})},schema:B.string},meta:{fieldConfig:{defaultValue:"",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaLabel",{defaultMessage:"Metadata"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({arbitrary_key:"anything_goes"}))}}),validations:[{validator:X(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorJsonError",{defaultMessage:"Invalid JSON."}),{allowEmptyString:!0})},{validator:({value:e})=>{if("string"!=typeof e||""===e.trim())return;const t=JSON.parse(e),a=Object.values(t).some((e=>"string"!=typeof e));return Array.isArray(t)?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorArraysNotAllowedError",{defaultMessage:"Arrays are not allowed."})}:a?{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.metaFieldEditorOnlyStringValuesAllowedError",{defaultMessage:"Values must be a string."})}:void 0}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{if(""!==e.trim())try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},schema:B.any},max_input_length:{fieldConfig:{defaultValue:50,type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.maxInputLengthLabel",{defaultMessage:"Max input length"}),formatters:[G],validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.maxInputLengthFieldRequiredErrorMessage",{defaultMessage:"Specify a max input length."}))}]},schema:B.number},locale:{fieldConfig:{defaultValue:"ROOT",type:V.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.localeLabel",{defaultMessage:"Locale"}),helpText:()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.parameters.localeHelpText",defaultMessage:"Separate the language, country, and variant, use {hyphen} or {underscore}. A maximum of 2 separators is allowed. Example: {locale}.",values:{locale:Object(k.jsx)(O.EuiCode,null,"en-US"),hyphen:Object(k.jsx)(O.EuiCode,null,"-"),underscore:Object(k.jsx)(O.EuiCode,null,"_")}}),validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.localeFieldRequiredErrorMessage",{defaultMessage:"Specify a locale."}))}]},schema:B.string},orientation:{fieldConfig:{defaultValue:"ccw",type:V.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.orientationLabel",{defaultMessage:"Orientation"})},schema:B.string},boost:{fieldConfig:{defaultValue:1,type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.boostLabel",{defaultMessage:"Boost level"}),formatters:[G],validations:[{validator:({value:e})=>{if(e<0)return{message:Z.smallerThanZero}}}]},schema:B.number},scaling_factor:{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldTitle",{defaultMessage:"Scaling factor"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorFieldDescription",{defaultMessage:"Values will be multiplied by this factor at index time and rounded to the closest long value. High factor values improve accuracy, but also increase space requirements."}),fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.NUMBER,deserializer:e=>""===e?e:+e,formatters:[G],label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorLabel",{defaultMessage:"Scaling factor"}),validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.scalingFactorIsRequiredErrorMessage",{defaultMessage:"A scaling factor is required."}))},{validator:({value:e})=>{if(e<=0)return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.greaterThanZeroErrorMessage",{defaultMessage:"The scaling factor must be greater than 0."})}}}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.scalingFactorHelpText",{defaultMessage:"Value must be greater than 0."})},schema:B.number},dynamic:{fieldConfig:{defaultValue:!0},schema:B.union([B.boolean,B.literal("strict")])},dynamic_toggle:{fieldConfig:{defaultValue:!0}},dynamic_strict:{fieldConfig:{defaultValue:!1,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldTitle",{defaultMessage:"Throw an exception when the object contains an unmapped property"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicStrictParameter.fieldHelpText",{defaultMessage:"By default, unmapped properties will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when an object contains an unmapped property."})}},enabled:{fieldConfig:{defaultValue:!0},schema:B.boolean},format:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatFieldLabel",{defaultMessage:"Format"}),defaultValue:"strict_date_optional_time||epoch_millis",serializer:e=>e.length?e.map((({label:e})=>e)).join("||"):void 0,deserializer:e=>e.split("||").map((e=>({label:e}))),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatHelpText",defaultMessage:"Specify custom formats using {dateSyntax} syntax.",values:{dateSyntax:Object(k.jsx)(O.EuiCode,null,"yyyy/MM/dd")}})},schema:B.string},analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzerFieldLabel",{defaultMessage:"Analyzer"}),defaultValue:j,validations:ne},schema:B.string},search_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchAnalyzerFieldLabel",{defaultMessage:"Search analyzer"}),defaultValue:j,validations:ne},schema:B.string},search_quote_analyzer:{fieldConfig:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchQuoteAnalyzerFieldLabel",{defaultMessage:"Search quote analyzer"}),defaultValue:j,validations:ne},schema:B.string},normalizer:{fieldConfig:{label:"Normalizer",defaultValue:"",type:V.FIELD_TYPES.TEXT,validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.normalizerIsRequiredErrorMessage",{defaultMessage:"Normalizer name is required."}))},{validator:Y({chars:" ",message:Z.spacesNotAllowed})}],helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.normalizerHelpText",{defaultMessage:"The name of a normalizer defined in the index's settings."})},schema:B.string},index_options:{fieldConfig:{...ae,defaultValue:"positions"},schema:B.string},index_options_keyword:{fieldConfig:{...ae,defaultValue:"docs"},schema:B.string},index_options_flattened:{fieldConfig:{...ae,defaultValue:"docs"},schema:B.string},eager_global_ordinals:{fieldConfig:{defaultValue:!1},schema:B.boolean},eager_global_ordinals_join:{fieldConfig:{defaultValue:!0}},index_phrases:{fieldConfig:{defaultValue:!1},schema:B.boolean},positive_score_impact:{fieldConfig:{defaultValue:!0},schema:B.boolean},preserve_separators:{fieldConfig:{defaultValue:!0},schema:B.boolean},preserve_position_increments:{fieldConfig:{defaultValue:!0},schema:B.boolean},ignore_z_value:{fieldConfig:{defaultValue:!0},schema:B.boolean},points_only:{fieldConfig:{defaultValue:!1},schema:B.boolean},norms:{fieldConfig:{defaultValue:!0},schema:B.boolean},norms_keyword:{fieldConfig:{defaultValue:!1},schema:B.boolean},term_vector:{fieldConfig:{type:V.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.termVectorLabel",{defaultMessage:"Set term vector"}),defaultValue:"no"},schema:B.string},path:{fieldConfig:{type:V.FIELD_TYPES.COMBO_BOX,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathLabel",{defaultMessage:"Field path"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.pathHelpText",{defaultMessage:"The absolute path from the root to the target field."}),validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.pathIsRequiredErrorMessage",{defaultMessage:"Select a field to point the alias to."}))}],serializer:e=>0===e.length?"":e[0].id},targetTypesNotAllowed:["object","nested","alias"],schema:B.string},position_increment_gap:{fieldConfig:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.positionIncrementGapLabel",{defaultMessage:"Position increment gap"}),defaultValue:100,formatters:[G],validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.positionIncrementGapIsRequiredErrorMessage",{defaultMessage:"Set a position increment gap value"}))},{validator:({value:e})=>{if(e<0)return{message:Z.smallerThanZero}}}]},schema:B.number},index_prefixes:{fieldConfig:{defaultValue:{}},props:{min_chars:{fieldConfig:{type:V.FIELD_TYPES.NUMBER,defaultValue:2,serializer:e=>""===e?"":G(e)}},max_chars:{fieldConfig:{type:V.FIELD_TYPES.NUMBER,defaultValue:5,serializer:e=>""===e?"":G(e)}}},schema:B.partial({min_chars:B.number,max_chars:B.number})},similarity:{fieldConfig:{defaultValue:"BM25",type:V.FIELD_TYPES.SUPER_SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.similarityLabel",{defaultMessage:"Similarity algorithm"})},schema:B.string},split_queries_on_whitespace:{fieldConfig:{defaultValue:!1},schema:B.boolean},ignore_above:{fieldConfig:{defaultValue:8191,type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldLabel",{defaultMessage:"Character length limit"}),formatters:[G],validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.ignoreAboveIsRequiredErrorMessage",{defaultMessage:"Character length limit is required."}))},{validator:({value:e})=>{if(e<0)return{message:Z.smallerThanZero}}}]},schema:B.number},enable_position_increments:{fieldConfig:{defaultValue:!0},schema:B.boolean},depth_limit:{fieldConfig:{defaultValue:20,type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitFieldLabel",{defaultMessage:"Nested object depth limit"}),formatters:[G],validations:[{validator:({value:e})=>{if(e<0)return{message:Z.smallerThanZero}}}]},schema:B.number},dims:{fieldConfig:{defaultValue:"",type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dimsFieldLabel",{defaultMessage:"Dimensions"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.dimsHelpTextDescription",{defaultMessage:"The number of dimensions in the vector."}),formatters:[G],validations:[{validator:J(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.dimsIsRequiredErrorMessage",{defaultMessage:"Specify a dimension."}))}]},schema:B.string},relations:{fieldConfig:{defaultValue:[]},schema:B.record(B.string,B.union([B.string,B.array(B.string)]))},max_shingle_size:{fieldConfig:{type:V.FIELD_TYPES.SELECT,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.largestShingleSizeFieldLabel",{defaultMessage:"Max shingle size"}),defaultValue:3,formatters:[G]},schema:B.union([B.literal(2),B.literal(3),B.literal(4)])},time_series_metric:{fieldConfig:{defaultValue:null,type:V.FIELD_TYPES.SELECT},schema:B.union([B.literal("gauge"),B.literal("counter"),B.null])},time_series_dimension:{fieldConfig:{type:V.FIELD_TYPES.CHECKBOX,defaultValue:!1},schema:B.boolean}},re="mapper-size",oe=new class documentation_DocumentationService{constructor(){x()(this,"links",void 0),x()(this,"dataStreams",""),x()(this,"esDocsBase",""),x()(this,"indexManagement",""),x()(this,"indexSettings",""),x()(this,"indexTemplates",""),x()(this,"indexV1",""),x()(this,"mapping",""),x()(this,"mappingAnalyzer",""),x()(this,"mappingCoerce",""),x()(this,"mappingCopyTo",""),x()(this,"mappingDocValues",""),x()(this,"mappingDynamic",""),x()(this,"mappingDynamicFields",""),x()(this,"mappingDynamicTemplates",""),x()(this,"mappingEagerGlobalOrdinals",""),x()(this,"mappingEnabled",""),x()(this,"mappingFieldData",""),x()(this,"mappingFieldDataFilter",""),x()(this,"mappingFieldDataTypes",""),x()(this,"mappingFieldDataEnable",""),x()(this,"mappingFormat",""),x()(this,"mappingIgnoreAbove",""),x()(this,"mappingIgnoreMalformed",""),x()(this,"mappingIndex",""),x()(this,"mappingIndexOptions",""),x()(this,"mappingIndexPhrases",""),x()(this,"mappingIndexPrefixes",""),x()(this,"mappingJoinFieldsPerformance",""),x()(this,"mappingMeta",""),x()(this,"mappingMetaFields",""),x()(this,"mappingNormalizer",""),x()(this,"mappingNorms",""),x()(this,"mappingNullValue",""),x()(this,"mappingParameters",""),x()(this,"mappingPositionIncrementGap",""),x()(this,"mappingRankFeatureFields",""),x()(this,"mappingRouting",""),x()(this,"mappingSimilarity",""),x()(this,"mappingSourceFields",""),x()(this,"mappingSourceFieldsDisable",""),x()(this,"mappingStore",""),x()(this,"mappingTermVector",""),x()(this,"mappingTypesRemoval",""),x()(this,"percolate",""),x()(this,"runtimeFields",""),x()(this,"getTypeDocLink",((e,t="main")=>{const a=F[e];if(a&&a.documentation&&a.documentation[t])return`${this.esDocsBase}${a.documentation[t]}`}))}setup(e){const{links:t}=e;this.links=t,this.dataStreams=t.elasticsearch.dataStreams,this.esDocsBase=t.elasticsearch.docsBase,this.indexManagement=t.management.indexManagement,this.indexSettings=t.elasticsearch.indexSettings,this.indexTemplates=t.elasticsearch.indexTemplates,this.indexV1=t.apis.putIndexTemplateV1,this.mapping=t.elasticsearch.mapping,this.mappingAnalyzer=t.elasticsearch.mappingAnalyzer,this.mappingCoerce=t.elasticsearch.mappingCoerce,this.mappingCopyTo=t.elasticsearch.mappingCopyTo,this.mappingDocValues=t.elasticsearch.mappingDocValues,this.mappingDynamic=t.elasticsearch.mappingDynamic,this.mappingDynamicFields=t.elasticsearch.mappingDynamicFields,this.mappingDynamicTemplates=t.elasticsearch.mappingDynamicTemplates,this.mappingEagerGlobalOrdinals=t.elasticsearch.mappingEagerGlobalOrdinals,this.mappingEnabled=t.elasticsearch.mappingEnabled,this.mappingFieldData=t.elasticsearch.mappingFieldData,this.mappingFieldDataTypes=t.elasticsearch.mappingFieldDataTypes,this.mappingFieldDataEnable=t.elasticsearch.mappingFieldDataEnable,this.mappingFieldDataFilter=t.elasticsearch.mappingFieldDataFilter,this.mappingFormat=t.elasticsearch.mappingFormat,this.mappingIgnoreAbove=t.elasticsearch.mappingIgnoreAbove,this.mappingIgnoreMalformed=t.elasticsearch.mappingIgnoreMalformed,this.mappingIndex=t.elasticsearch.mappingIndex,this.mappingIndexOptions=t.elasticsearch.mappingIndexOptions,this.mappingIndexPhrases=t.elasticsearch.mappingIndexPhrases,this.mappingIndexPrefixes=t.elasticsearch.mappingIndexPrefixes,this.mappingJoinFieldsPerformance=t.elasticsearch.mappingJoinFieldsPerformance,this.mappingMeta=t.elasticsearch.mappingMeta,this.mappingMetaFields=t.elasticsearch.mappingMetaFields,this.mappingNormalizer=t.elasticsearch.mappingNormalizer,this.mappingNorms=t.elasticsearch.mappingNorms,this.mappingNullValue=t.elasticsearch.mappingNullValue,this.mappingParameters=t.elasticsearch.mappingParameters,this.mappingPositionIncrementGap=t.elasticsearch.mappingPositionIncrementGap,this.mappingRankFeatureFields=t.elasticsearch.mappingRankFeatureFields,this.mappingRouting=t.elasticsearch.mappingRouting,this.mappingSimilarity=t.elasticsearch.mappingSimilarity,this.mappingSourceFields=t.elasticsearch.mappingSourceFields,this.mappingSourceFieldsDisable=t.elasticsearch.mappingSourceFieldsDisable,this.mappingStore=t.elasticsearch.mappingStore,this.mappingTermVector=t.elasticsearch.mappingTermVector,this.mappingTypesRemoval=t.elasticsearch.mappingTypesRemoval,this.percolate=t.query.percolate,this.runtimeFields=t.runtimeFields.overview}getEsDocsBase(){return this.esDocsBase}getSettingsDocumentationLink(){return this.indexSettings}getMappingDocumentationLink(){return this.mapping}getRoutingLink(){return this.mappingRouting}getDataStreamsDocumentationLink(){return this.dataStreams}getTemplatesDocumentationLink(e=!1){return e?this.indexV1:this.indexTemplates}getIdxMgmtDocumentationLink(){return this.indexManagement}getMappingTypesLink(){return this.mappingFieldDataTypes}getDynamicMappingLink(){return this.mappingDynamicFields}getPercolatorQueryLink(){return this.percolate}getRankFeatureQueryLink(){return this.mappingRankFeatureFields}getMetaFieldLink(){return this.mappingMetaFields}getDynamicTemplatesLink(){return this.mappingDynamicTemplates}getMappingSourceFieldLink(){return this.mappingSourceFields}getDisablingMappingSourceFieldLink(){return this.mappingSourceFieldsDisable}getNullValueLink(){return this.mappingNullValue}getTermVectorLink(){return this.mappingTermVector}getStoreLink(){return this.mappingStore}getSimilarityLink(){return this.mappingSimilarity}getNormsLink(){return this.mappingNorms}getIndexLink(){return this.mappingIndex}getIgnoreMalformedLink(){return this.mappingIgnoreMalformed}getMetaLink(){return this.mappingMeta}getFormatLink(){return this.mappingFormat}getEagerGlobalOrdinalsLink(){return this.mappingEagerGlobalOrdinals}getDocValuesLink(){return this.mappingDocValues}getCopyToLink(){return this.mappingCopyTo}getCoerceLink(){return this.mappingCoerce}getBoostLink(){return this.mappingParameters}getNormalizerLink(){return this.mappingNormalizer}getIgnoreAboveLink(){return this.mappingIgnoreAbove}getFielddataLink(){return this.mappingFieldData}getFielddataFrequencyLink(){return this.mappingFieldDataFilter}getEnablingFielddataLink(){return this.mappingFieldDataEnable}getIndexPhrasesLink(){return this.mappingIndexPhrases}getIndexPrefixesLink(){return this.mappingIndexPrefixes}getPositionIncrementGapLink(){return this.mappingPositionIncrementGap}getAnalyzerLink(){return this.mappingAnalyzer}getDateFormatLink(){return this.mappingFormat}getIndexOptionsLink(){return this.mappingIndexOptions}getAlternativeToMappingTypesLink(){return this.mappingTypesRemoval}getJoinMultiLevelsPerformanceLink(){return this.mappingJoinFieldsPerformance}getDynamicLink(){return this.mappingDynamic}getEnabledLink(){return this.mappingEnabled}getRuntimeFields(){return this.runtimeFields}getWellKnownTextLink(){return"http://docs.opengeospatial.org/is/12-063r5/12-063r5.html"}getRootLocaleLink(){return"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#ROOT"}get docLinks(){if(!this.links)throw new Error("Can't return undefined doc links.");return this.links}};var le=a(32);const ce="TAB_SUMMARY",de="TAB_SETTINGS",ue="TAB_MAPPING",pe="TAB_STATS",me="TAB_EDIT_SETTINGS",ge="policy_edit";var fe=a(38),xe=a(36);const be=new class http_HttpService{constructor(){x()(this,"client",void 0)}setup(e){this.client=e}get httpClient(){return this.client}},je=e=>Object($.sendRequest)(be.httpClient,e),he=e=>Object($.useRequest)(be.httpClient,e);let Me;async function ye(e){return await be.httpClient.get(`${n}/settings/${encodeURIComponent(e)}`)}function Oe(e,t){return he({path:`${n}/index_templates/${encodeURIComponent(e)}`,method:"get",query:{legacy:t}})}async function ve(e,t){const a=await je({path:`${n}/index_templates`,method:"post",body:JSON.stringify(e)}),i=t?"template_clone":"template_create";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}var Te=a(33),Ee=a.n(Te);const ke={kb:1,mb:2,gb:3,tb:4,pb:5},Fe=e=>t=>t[e],_e=e=>t=>+t[e],Se=e=>t=>{const a=t[e];if(!a)return 0;const i=a.match(/(.*)([kmgtp]b)/);if(!i)return 0;const[,n,s]=i;return+n*Math.pow(1024,ke[s])},Ce={name:Fe("name"),status:Fe("status"),health:Fe("health"),primary:_e("primary"),replica:_e("replica"),documents:_e("documents"),size:Se("size"),primary_size:Se("primary_size"),data_stream:Fe("data_stream")};class ui_metric_UiMetricService{constructor(e){x()(this,"appName",void 0),x()(this,"usageCollection",void 0),this.appName=e}setup(e){this.usageCollection=e}trackMetric(e,t){if(this.usageCollection)return this.usageCollection.reportUiCounter(this.appName,e,t)}}const Le=new class notification_NotificationService{constructor(){x()(this,"_toasts",void 0),x()(this,"addToasts",((e,t,a)=>{this._toasts.add({title:e,color:t,text:a})}))}setup(e){this._toasts=e.toasts}get toasts(){return this._toasts}showDangerToast(e,t){this.addToasts(e,"danger",t)}showWarningToast(e,t){this.addToasts(e,"warning",t)}showSuccessToast(e,t){this.addToasts(e,"success",t)}};var we=a(45),Ie=a(39);function De(e){const{version:t,priority:a,indexPatterns:i,template:n,composedOf:s,dataStream:r,_meta:o}=e;return{version:t,priority:a,template:n,index_patterns:i,data_stream:r,composed_of:s,_meta:o}}const Pe=(e,t)=>{var a;return(e=>!{}.hasOwnProperty.call(e,"template"))(e)?e[t]:null===(a=e.template)||void 0===a?void 0:a[t]},Ne=Object(M.createContext)(void 0),Ae=({children:e,value:t})=>Object(k.jsx)(Ne.Provider,{value:t},e),Re=Ne.Consumer,ze=()=>{const e=Object(M.useContext)(Ne);if(!e)throw new Error('"useAppContext" can only be called inside of AppContext.Provider!');return e},Be=()=>ze().services;var Ve=a(35),Ue=a(43),qe=a.n(Ue),$e=a(2);const We=({title:e,error:t,...a})=>{const{cause:i,message:n,statusText:s,attributes:{cause:r}={}}=t,o=null!=r?r:i;return Object(k.jsx)(O.EuiCallOut,qe()({title:e,color:"danger",iconType:"alert"},a),Object(k.jsx)("div",null,n||s),o&&Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)("ul",null,o.map(((e,t)=>Object(k.jsx)("li",{key:t},e))))))},He=()=>Object(k.jsx)("div",{"data-test-subj":"noIndicesMessage"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.noMatch.noIndicesDescription",defaultMessage:"No indices to show"})),Ge=({templatesToDelete:e,callback:t})=>{const[a,s]=Object(M.useState)(!1),r=e.length,o=Boolean(e.find((({name:e})=>e.startsWith("."))));return Object(k.jsx)(O.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteTemplatesConfirmation",title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.modalTitleText",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {# templates}}",values:{numTemplatesToDelete:r}}),onCancel:()=>{s(!1),t()},onConfirm:()=>{(async function(e){const t=je({path:`${n}/delete_index_templates`,method:"post",body:{templates:e}}),a=e.length>1?"template_delete_many":"template_delete";return Me.trackMetric(le.METRIC_TYPE.COUNT,a),t})(e).then((({data:{templatesDeleted:a,errors:n},error:s})=>{const r=a&&a.length;if(r){const n=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted template '{templateName}'",values:{templateName:e[0].name}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# template} other {# templates}}",values:{numSuccesses:a.length}});t({hasDeletedTemplates:r}),Le.showSuccessToast(n)}if(s||n&&n.length){const t=n&&n.length>1||s&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} templates",values:{count:n&&n.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteTemplatesModal.errorNotificationMessageText",{defaultMessage:"Error deleting template '{name}'",values:{name:n&&n[0].name||e[0]}});Le.showDangerToast(t)}}))},cancelButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmButtonLabel",defaultMessage:"Delete {numTemplatesToDelete, plural, one {template} other {templates} }",values:{numTemplatesToDelete:r}}),confirmButtonDisabled:!!o&&!a},Object(k.jsx)(M.Fragment,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.deleteDescription",defaultMessage:"You are about to delete {numTemplatesToDelete, plural, one {this template} other {these templates} }:",values:{numTemplatesToDelete:r}})),Object(k.jsx)("ul",null,e.map((({name:e})=>Object(k.jsx)("li",{key:e},e,e.startsWith(".")?Object(k.jsx)(M.Fragment,null," ",Object(k.jsx)(O.EuiBadge,{iconType:"alert",color:"hollow"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.systemTemplateLabel",defaultMessage:"System template"}))):null)))),o&&Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutTitle",defaultMessage:"Deleting a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"deleteSystemTemplateCallOut"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.proceedWithCautionCallOutDescription",defaultMessage:"System templates are critical for internal operations. If you delete this template, you can’t recover it."})),Object(k.jsx)(O.EuiCheckbox,{id:"confirmDeleteTemplatesCheckbox",label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteTemplatesModal.confirmDeleteCheckboxLabel",defaultMessage:"I understand the consequences of deleting a system template"}),checked:a,onChange:e=>s(e.target.checked)}))))},Je=({aliases:e})=>e&&Object.keys(e).length?Object(k.jsx)("div",{"data-test-subj":"aliasesTabContent"},Object(k.jsx)(O.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.aliasesTab.noAliasesTitle",defaultMessage:"No aliases defined."}),iconType:"pin","data-test-subj":"noAliasesCallout",size:"s"}),Ye=({mappings:e})=>e&&Object.keys(e).length?Object(k.jsx)("div",{"data-test-subj":"mappingsTabContent"},Object(k.jsx)(O.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsTab.noMappingsTitle",defaultMessage:"No mappings defined."}),iconType:"pin","data-test-subj":"noMappingsCallout",size:"s"}),Ke=({settings:e})=>e&&Object.keys(e).length?Object(k.jsx)("div",{"data-test-subj":"settingsTabContent"},Object(k.jsx)(O.EuiCodeBlock,{isCopyable:!0,language:"json"},JSON.stringify(e,null,2))):Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.settingsTab.noIndexSettingsTitle",defaultMessage:"No settings defined."}),iconType:"pin","data-test-subj":"noSettingsCallout",size:"s"}),Xe=({defaultValue:e,onChange:t})=>{const[a,n]=Object(M.useState)((s=null!=e?e:{},Object.keys(s).length?JSON.stringify(s,null,2):"{\n\n}"));var s;const[r,o]=Object(M.useState)(null),l=Object(M.useCallback)((()=>{const e=""===a.trim()||Object(xe.isJSON)(a);return o(e?null:i.i18n.translate("xpack.idxMgmt.validators.string.invalidJSONError",{defaultMessage:"Invalid JSON format."})),e}),[a]);return Object(M.useEffect)((()=>{const e=l();t({isValid:e,validate:async()=>e,getData:()=>{const t=e&&""!==a.trim()?JSON.parse(a):{};return Object.keys(t).length>0?t:void 0}})}),[a,t,l]),{jsonContent:a,setJsonContent:n,error:r}},Ze=y.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:n,setJsonContent:s,error:r}=Xe({defaultValue:e,onChange:t});return Object(k.jsx)("div",{"data-test-subj":"stepAliases"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"stepTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.stepTitle",defaultMessage:"Aliases (optional)"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesDescription",defaultMessage:"Set up aliases to associate with your indices."})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:`${a}/indices-aliases.html`,target:"_blank",iconType:"help"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.docsButtonLabel",defaultMessage:"Index Aliases docs"})))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(O.EuiFormRow,{label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.fieldAliasesLabel",defaultMessage:"Aliases"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepAliases.aliasesEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({my_alias:{}}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(k.jsx)($.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepAliases.fieldAliasesAriaLabel",{defaultMessage:"Aliases code editor"}),value:n,onChange:s,"data-test-subj":"aliasesEditor"})))})),Qe=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=$.Forms.useContent("aliases");return Object(k.jsx)(Ze,{defaultValue:t,onChange:a,esDocsBase:e})};var et=a(99),tt=a.n(et);const at=()=>tt.a.v4(),it=(e,t)=>{const a="text"===(i=e.type)||"keyword"===i||"ip"===i?"fields":"object"===i||"nested"===i?"properties":void 0;var i;const n=!t&&"properties"===a,s=!t&&"fields"===a;return{childFieldsName:a,canHaveChildFields:n,hasChildFields:!t&&n&&Boolean(e[a])&&Object.keys(e[a]).length>0,canHaveMultiFields:s,hasMultiFields:!t&&s&&Boolean(e[a])&&Object.keys(e[a]).length>0,isExpanded:!1}},nt=e=>{const{type:t}=e,a=(e=>e&&F[e]?F[e].label:`${F.other.label}: ${e}`)(t);return a},st=(e,t)=>{var a;if(void 0!==t){var i;if(!se[e].props||!se[e].props[t])throw new Error(`No field config found for prop "${t}" on param "${e}" `);return(null===(i=se[e].props[t])||void 0===i?void 0:i.fieldConfig)||{}}return(null===(a=se[e])||void 0===a?void 0:a.fieldConfig)||{}},rt=(e={})=>{let t=0;const a=(e,i,n,s,r,o=!1,l)=>Object.entries(e).sort((([e],[t])=>e>t?1:e<t?-1:0)).reduce(((e,[c,d])=>{const u=at();s.push(u);const p={name:c,...d};void 0===p.type&&void 0!==p.properties&&(p.type="object");const m=it(p,o),{childFieldsName:g,hasChildFields:f,hasMultiFields:x}=m;if(f||x){const e=m.canHaveChildFields||m.canHaveMultiFields?r+1:r;m.childFields=[],t=Math.max(t,e),a(p[g],i,[...n,c],m.childFields,e,m.canHaveMultiFields,u)}const{properties:b,fields:j,...h}=p,M={id:u,parentId:l,nestedDepth:r,isMultiField:o,path:n.length?[...n,c]:[c],source:h,...m};return e[u]=M,e}),i),i=[],{byId:n,aliases:s}=(e=>{const t={};return Object.entries(e).forEach((([a,i])=>{if("alias"===i.source.type){const n=Object.values(e).find((e=>e.path.join(".")===i.source.path));n&&(i.source.path=n.id,t[n.id]=t[n.id]||[],t[n.id].push(a))}})),{aliases:t,byId:e}})(a(e,{},[],i,0));return{byId:n,aliases:s,rootLevelFields:i,maxNestedDepth:t}},ot=({rootLevelFields:e,byId:t,aliases:a})=>{const i=((e,t)=>{const a={...t};return Object.entries(e).forEach((([e,t])=>{const i=a[e]?a[e].path.join("."):"";t.forEach((e=>{const t=a[e];if(!t)return;const n={...t,source:{...t.source,path:i}};a[e]=n}))})),a})(a,t),n=(e,t={})=>(e.forEach((e=>{const{source:a,childFields:s,childFieldsName:r}=i[e],{name:o,...l}=a,c=l;if(t[o]=c,s)return c[r]={},n(s,c[r])})),t);return n(e)},lt=(e,t)=>{const a=(e,i=[])=>((e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{i.push(e),a(e,i)})),i);return a(e)},ct=(e,t,a=[])=>{const i=t.aliases[e.id]&&Boolean(t.aliases[e.id].length);return i||e.hasChildFields||e.hasMultiFields?(i&&t.aliases[e.id].forEach((e=>{a.push(e)})),e.childFields&&e.childFields.forEach((e=>{t.byId[e]&&ct(t.byId[e],t,a)})),a):a},dt=e=>e.filter((e=>!1===w.includes(e.value))),ut=e=>e.filter((e=>!1===L.includes(e.value))),pt=e=>Object.values(e).reduce(((e,t)=>Math.max(e,t.nestedDepth)),0),mt=(e,t,a)=>e.map((e=>{const i=t[e],n=i.childFields?mt(i.childFields,t,a):void 0;return{label:a(i),children:n}})),gt=(e,t)=>"text"===e&&"keyword"!==t||"keyword"===e&&"text"!==t||"object"===e&&"nested"!==t||"nested"===e&&"object"!==t,ft=(e,t=!0)=>Object.entries(e).reduce(((e,[a,i])=>void 0===i?e:Array.isArray(i)||i instanceof Date||null===i?{...e,[a]:i}:t&&"object"==typeof i?{...e,[a]:ft(i,t)}:{...e,[a]:i}),{}),xt=({children:e,padding:t="normal"})=>Object(k.jsx)("div",{className:"euiCodeBlock euiCodeBlock--fontSmall euiCodeBlock--paddingLarge"},Object(k.jsx)("pre",{className:"euiCodeBlock__pre",style:{padding:"small"===t?"6px 12px":void 0}},Object(k.jsx)("code",{className:"euiCodeBlock__code"},e))),bt=({treeItem:e})=>Object(k.jsx)("li",{className:"esUiTreeItem"},Object(k.jsx)("div",{className:"esUiTreeItem__label"},e.label),e.children&&Object(k.jsx)(jt,{tree:e.children})),jt=({tree:e})=>Object(k.jsx)("ul",{className:"esUiTree"},e.map(((e,t)=>Object(k.jsx)(bt,{key:t,treeItem:e})))),ht=({fields:e})=>Object(k.jsx)(xt,null,Object(k.jsx)(jt,{tree:e})),Mt=({title:e,childFields:t,aliases:a,byId:n,confirmButtonText:s,onCancel:r,onConfirm:o})=>{const l=t&&t.length?mt(t,n,(e=>Object(k.jsx)(y.a.Fragment,null,e.source.name,e.isMultiField&&Object(k.jsx)(y.a.Fragment,null," ",Object(k.jsx)(O.EuiBadge,{color:"hollow"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:F[e.source.type].label}})))))):null;return Object(k.jsx)(O.EuiConfirmModal,{title:e,onCancel:r,onConfirm:o,cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:s},Object(k.jsx)(y.a.Fragment,null,l&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteFieldsDescription",{defaultMessage:"This will also delete the following fields."})),Object(k.jsx)(ht,{fields:l})),a&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.confirmationModal.deleteAliasesDescription",{defaultMessage:"The following aliases will also be deleted."})),Object(k.jsx)("ul",null,a.map((e=>Object(k.jsx)("li",{key:e},Object(k.jsx)(O.EuiCode,null,e))))))))},yt=(e,t)=>{switch(e){case"boost":case"similarity":case"ignore_above":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"normalizer":case"copy_to":case"null_value":return void 0!==t[e];default:return!1}},Ot=(e,t)=>{switch(e){case"copy_to":case"boost":case"meta":case"ignore_malformed":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},vt=(e,t)=>{switch(e){case"boost":case"position_increment_gap":case"similarity":case"meta":case"term_vector":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;case"copy_to":return void 0!==t[e]&&""!==t[e];case"indexPrefixes":{if(void 0===t.index_prefixes)return!1;const e=t.index_prefixes.min_chars,a=st("index_prefixes","min_chars").defaultValue,i=t.index_prefixes.max_chars,n=st("index_prefixes","min_chars").defaultValue;return e!==a||i!==n}case"fielddata":return!0===t.fielddata||void 0!==t.fielddata_frequency_filter;default:return!1}},Tt=y.a.memo((({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,null)),Object(k.jsx)(na,null,Object(k.jsx)(Oa,{field:e,withSearchQuoteAnalyzer:!0}),Object(k.jsx)(Ta,null),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldTitle",{defaultMessage:"Index phrases"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesFieldDescription",{defaultMessage:"Whether to index two-term word combinations into a separate field. Activating this will speed up phrase queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPhrasesDocLinkText",{defaultMessage:"Index phrases documentation"}),href:oe.getIndexPhrasesLink()},formFieldPath:"index_phrases"}),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldTitle",{defaultMessage:"Set index prefixes"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesFieldDescription",{defaultMessage:"Whether to index prefixes of 2 and 5 characters into a separate field. Activating this will speed up prefix queries, but could slow down indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesDocLinkText",{defaultMessage:"Index prefixes documentation"}),href:oe.getIndexPrefixesLink()},defaultToggleValue:vt("indexPrefixes",e.source)},Object(k.jsx)(O.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexPrefixesRangeFieldLabel",{defaultMessage:"Min/max prefix length"}),fullWidth:!0},Object(k.jsx)(V.UseMultiFields,{fields:{min:{path:"index_prefixes.min_chars",config:st("index_prefixes","min_chars")},max:{path:"index_prefixes.max_chars",config:st("index_prefixes","max_chars")}}},(({min:e,max:t})=>{return Object(k.jsx)(O.EuiDualRange,{min:0,max:20,value:[e.value,t.value],onChange:(a=e,i=t,([e,t])=>{a.setValue(e),i.setValue(t)}),showInput:!0,fullWidth:!0});var a,i})))),Object(k.jsx)(Ea,null),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldTitle",{defaultMessage:"Set position increment gap"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapFieldDescription",{defaultMessage:"The number of fake term positions which should be inserted between each element of an array of strings."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionIncrementGapDocLinkText",{defaultMessage:"Position increment gap documentation"}),href:oe.getPositionIncrementGapLink()},defaultToggleValue:vt("position_increment_gap",e.source)},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"index_options"},(e=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(V.UseField,{path:"position_increment_gap",config:st("position_increment_gap"),component:U.RangeField,componentProps:{euiFieldProps:{min:0,max:200,showInput:!0,fullWidth:!0}}}),"positions"!==e.index_options&&"offsets"!==e.index_options&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorTitle",{defaultMessage:"Positions not enabled."}),color:"danger",iconType:"alert"},Object(k.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.positionsErrorMessage",{defaultMessage:'You need to set the index options (under the "Searchable" toggle) to "Positions" or "Offsets" in order to be able to change the position increment gap.'})))))))),Object(k.jsx)(ka,{defaultToggleValue:vt("similarity",e.source)}),Object(k.jsx)(Pa,{field:e,defaultToggleValue:vt("term_vector",e.source)}),Object(k.jsx)(Ha,{field:e,defaultToggleValue:vt("fielddata",e.source)}),Object(k.jsx)(Da,{defaultToggleValue:vt("copy_to",e.source)}),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:vt("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:vt("boost",e.source)}))))),Et=(e,t)=>{switch(e){case"meta":case"boost":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},kt=[{value:0,text:'"true"'},{value:1,text:"true"},{value:2,text:'"false"'},{value:3,text:"false"}],Ft=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,_t=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,St=(e,t)=>{switch(e){case"boost":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Ct=(e,t)=>{switch(e){case"analyzer":case"meta":case"boost":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Lt=(e,t)=>{switch(e){case"meta":case"max_input_length":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},wt=(e,t)=>{switch(e){case"meta":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value;default:return!1}},It=(e,t)=>{switch(e){case"locale":case"format":case"meta":case"boost":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},Dt=({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{hasIndexOptions:!1}),Object(k.jsx)(wa,{defaultValue:e.source.format,defaultToggleValue:It("format",e.source)}),Object(k.jsx)(Ia,null)),Object(k.jsx)(na,null,Object(k.jsx)(Ja,{defaultToggleValue:It("locale",e.source)}),Object(k.jsx)(ma,null),Object(k.jsx)(va,{defaultToggleValue:It("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dateType.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a date value so that it can be indexed and searched."})}),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:It("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:It("boost",e.source)}))),Pt=(e,t)=>{const{defaultValue:a}=st(e);return"orientation"===e?void 0!==t[e]&&t[e]!==a:void 0!==t[e]?t[e]:void 0!==a&&a},Nt=(e,t)=>{switch(e){case"similarity":case"term_vector":case"meta":case"max_shingle_size":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"analyzers":return void 0!==t.search_analyzer&&t.search_analyzer!==t.analyzer;default:return!1}},At=y.a.memo((({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{config:{...st("index_options"),defaultValue:"positions"}})),Object(k.jsx)(na,null,Object(k.jsx)(Oa,{field:e,withSearchQuoteAnalyzer:!0}),Object(k.jsx)(Ka,{defaultToggleValue:Nt("max_shingle_size",e.source)}),Object(k.jsx)(Ea,null),Object(k.jsx)(ka,{defaultToggleValue:Nt("similarity",e.source)}),Object(k.jsx)(Pa,{field:e,defaultToggleValue:Nt("term_vector",e.source)}),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:Nt("meta",e.source)}))))),Rt=(e,t)=>{switch(e){case"boost":case"ignore_above":case"meta":case"similarity":return void 0!==t[e]&&t[e]!==st(e).defaultValue;case"null_value":return void 0!==t.null_value&&""!==t.null_value;default:return!1}},zt=y.a.memo((({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{config:st("index_options_flattened"),indexOptions:N.index_options_flattened})),Object(k.jsx)(na,null,Object(k.jsx)(Ta,null),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitTitle",{defaultMessage:"Customize depth limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.depthLimitDescription",{defaultMessage:"The maximum allowed depth of the flattened object field, in terms of nested inner objects. Defaults to 20."})},Object(k.jsx)(V.UseField,{path:"depth_limit",config:st("depth_limit"),component:U.Field})),Object(k.jsx)(ti,{defaultToggleValue:Rt("ignore_above",e.source)}),Object(k.jsx)(Ga,null),Object(k.jsx)(ka,{defaultToggleValue:Rt("similarity",e.source)}),Object(k.jsx)(ma,null),Object(k.jsx)(va,{defaultToggleValue:Rt("null_value",e.source)}),Object(k.jsx)(ei,{defaultToggleValue:Rt("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:Rt("boost",e.source)}))))),Bt=(e,t)=>{const{defaultValue:a}=st(e);switch(e){case"boost":case"orientation":return void 0!==t[e]&&t[e]!==a;default:return void 0!==t[e]?t[e]:void 0!==a&&a}},Vt={eagerGlobalOrdinalsDescription:i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"The join field uses global ordinals to speed up joins. By default, if the index has changed, global ordinals for the join field will be rebuilt as part of the refresh. This can add significant time to the refresh, however most of the times this is the right trade-off."})},Ut=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,qt=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,$t=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,Wt=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,Ht=(e,t)=>void 0!==t[e]&&t[e]!==st(e).defaultValue,Gt={alias:({field:e,allFields:t})=>Object(k.jsx)(aa,null,Object(k.jsx)(Sa,{field:e,allFields:t})),keyword:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{config:{...st("index_options_keyword")},indexOptions:N.index_options_keyword}),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldTitle",{defaultMessage:"Use normalizer"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerFieldDescription",{defaultMessage:"Process the keyword prior to indexing."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normalizerDocLinkText",{defaultMessage:"Normalizer documentation"}),href:oe.getNormalizerLink()},defaultToggleValue:yt("normalizer",e.source)},Object(k.jsx)(V.UseField,{path:"normalizer",config:st("normalizer"),component:U.Field}))),Object(k.jsx)(na,null,Object(k.jsx)(Ta,null),Object(k.jsx)(ti,{defaultToggleValue:yt("ignore_above",e.source)}),Object(k.jsx)(Ea,{configPath:"norms_keyword"}),Object(k.jsx)(ka,{defaultToggleValue:yt("similarity",e.source)}),Object(k.jsx)(Ga,null),Object(k.jsx)(ma,null),Object(k.jsx)(Da,{defaultToggleValue:yt("copy_to",e.source)}),Object(k.jsx)(va,{defaultToggleValue:yt("null_value",e.source)}),Object(k.jsx)(pa,null),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:yt("boost",e.source)}))),numeric:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"subType"},(e=>{var t,a;return"scaled_float"===(null===(t=e.subType)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.value)?Object(k.jsx)(ia,{title:se.scaling_factor.title,description:se.scaling_factor.description,withToggle:!1},Object(k.jsx)(V.UseField,{path:"scaling_factor",config:st("scaling_factor"),component:U.Field,"data-test-subj":"scalingFactor"})):null})),Object(k.jsx)(ua,{hasIndexOptions:!1}),Object(k.jsx)(Ia,null)),Object(k.jsx)(na,null,Object(k.jsx)(Ca,null),Object(k.jsx)(ma,null),Object(k.jsx)(Da,{defaultToggleValue:Ot("copy_to",e.source)}),Object(k.jsx)(va,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.numeric.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."}),defaultToggleValue:Ot("null_value",e.source)},Object(k.jsx)(V.UseField,{path:"null_value",component:U.NumericField,config:st("null_value_numeric")})),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:Ot("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:Ot("boost",e.source)}))),text:Tt,boolean:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{hasIndexOptions:!1})),Object(k.jsx)(na,null,Object(k.jsx)(ma,null),Object(k.jsx)(va,{defaultToggleValue:Et("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.booleanNullValueFieldDescription",{defaultMessage:"Replace explicit null values with a specific boolean value so that it can be indexed and searched."})},Object(k.jsx)(V.UseField,{path:"null_value",config:st("null_value_boolean"),component:U.SelectField,componentProps:{euiFieldProps:{options:kt,fullWidth:!0}}})),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:Et("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:Et("boost",e.source)}))),binary:({field:e})=>Object(k.jsx)(na,null,Object(k.jsx)(ma,{configPath:"doc_values_binary"}),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:Ft("meta",e.source)})),range:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{hasIndexOptions:!1}),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(k.jsx)(wa,{defaultValue:e.source.format,defaultToggleValue:_t("format",e.source)}):null}))),Object(k.jsx)(na,null,Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"subType"},(t=>{var a,i;return"date_range"===(null===(a=t.subType)||void 0===a||null===(i=a[0])||void 0===i?void 0:i.value)?Object(k.jsx)(Ja,{defaultToggleValue:_t("locale",e.source)}):null})),Object(k.jsx)(Ca,null),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:_t("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:_t("boost",e.source)}))),ip:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ua,{hasIndexOptions:!1})),Object(k.jsx)(na,null,Object(k.jsx)(ma,null),Object(k.jsx)(va,{defaultToggleValue:St("null_value",e.source)},Object(k.jsx)(V.UseField,{path:"null_value",config:st("null_value_ip"),component:U.Field})),Object(k.jsx)(pa,null),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:St("boost",e.source)}))),token_count:({field:e,kibanaVersion:t})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerSectionTitle",{defaultMessage:"Analyzer"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerLinkText",{defaultMessage:"Analyzer documentation"}),href:oe.getAnalyzerLink()},withToggle:!1},Object(k.jsx)(ya,{path:"analyzer",config:{...st("analyzer"),defaultValue:h},defaultValue:e.source.analyzer,allowsIndexDefaultOption:!1})),Object(k.jsx)(ua,{hasIndexOptions:!1})),Object(k.jsx)(na,null,Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldTitle",{defaultMessage:"Enable position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.enablePositionIncrementsFieldDescription",{defaultMessage:"Whether to count position increments."}),formFieldPath:"enable_position_increments"}),Object(k.jsx)(ma,null),Object(k.jsx)(va,{defaultToggleValue:Ct("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.nullValueFieldDescription",{defaultMessage:"Accepts a numeric value of the same type as the field which is substituted for any explicit null values."})},Object(k.jsx)(V.UseField,{path:"null_value",component:U.NumericField,config:st("null_value_numeric")})),Object(k.jsx)(pa,null),Object(k.jsx)(ei,{defaultToggleValue:Ct("meta",e.source)}),t.major<8&&Object(k.jsx)(ga,{defaultToggleValue:Ct("boost",e.source)}))),completion:({field:e})=>Object(k.jsx)(na,null,Object(k.jsx)(Oa,{field:e}),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldTitle",{defaultMessage:"Set max input length"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.maxInputLengthFieldDescription",{defaultMessage:"Limits the length of a single input."}),defaultToggleValue:Lt("max_input_length",e.source)},Object(k.jsx)(V.UseField,{path:"max_input_length",config:st("max_input_length"),component:U.Field})),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldTitle",{defaultMessage:"Preserve separators"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preserveSeparatorsFieldDescription",{defaultMessage:"Preserves the separators."}),formFieldPath:"preserve_separators"}),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldTitle",{defaultMessage:"Preserve position increments"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.completion.preservePositionIncrementsFieldDescription",{defaultMessage:"Enables position increments."}),formFieldPath:"preserve_position_increments"}),Object(k.jsx)(ei,{defaultToggleValue:Lt("meta",e.source)})),geo_point:({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(Ia,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed geo-points are not indexed. If enabled, these documents are indexed, but fields with malformed geo-points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(k.jsx)(na,null,Object(k.jsx)(Ua,null),Object(k.jsx)(va,{defaultToggleValue:wt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoPoint.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a geo-point value so that it can be indexed and searched."})},Object(k.jsx)(V.UseField,{path:"null_value",component:U.TextAreaField,config:st("null_value_geo_point")})),Object(k.jsx)(ei,{defaultToggleValue:wt("meta",e.source)}))),date:Dt,date_nanos:Dt,geo_shape:({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(Ia,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(k.jsx)(na,null,Object(k.jsx)(qa,{defaultToggleValue:Pt("orientation",e.source)}),Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldTitle",{defaultMessage:"Points only"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShape.pointsOnlyFieldDescription",{defaultMessage:"Optimizes geo-shape queries if this field contains only geo-points. Shapes, including multi-point shapes, will be rejected."}),formFieldPath:"points_only"}),Object(k.jsx)(Ua,null),Object(k.jsx)(La,null))),search_as_you_type:At,flattened:zt,shape:({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(Ia,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.shapeType.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed GeoJSON or WKT shapes are not indexed. If enabled, these documents are indexed, but fields with malformed shapes are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(k.jsx)(na,null,Object(k.jsx)(qa,{defaultToggleValue:Bt("orientation",e.source)}),Object(k.jsx)(Ua,null),Object(k.jsx)(La,null))),dense_vector:()=>Object(k.jsx)(aa,null,Object(k.jsx)(V.UseField,{path:"dims",config:st("dims"),component:U.Field})),object:({field:e})=>Object(k.jsx)(aa,null,Object(k.jsx)(oa,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic}),Object(k.jsx)(Ya,null)),other:()=>Object(k.jsx)(aa,null,Object(k.jsx)(Qa,null)),nested:({field:e})=>Object(k.jsx)(aa,null,Object(k.jsx)(oa,{defaultToggleValue:!0===e.source.dynamic||void 0===e.source.dynamic})),join:()=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ra,null)),Object(k.jsx)(na,null,Object(k.jsx)(Ta,{configPath:"eager_global_ordinals_join",description:Vt.eagerGlobalOrdinalsDescription}))),histogram:({field:e})=>Object(k.jsx)(na,null,Object(k.jsx)(Ia,null),Object(k.jsx)(ei,{defaultToggleValue:Ut("meta",e.source)})),constant_keyword:({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldTitle",{defaultMessage:"Set value"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.constantKeyword.valueFieldDescription",{defaultMessage:"The value of this field for all documents in the index. If not specified, defaults to the value specified in the first document indexed."}),defaultToggleValue:qt("value",e.source)},Object(k.jsx)(V.UseField,{path:"value",config:st("value"),component:U.Field}))),Object(k.jsx)(na,null,Object(k.jsx)(ei,{defaultToggleValue:qt("meta",e.source)}))),rank_feature:()=>Object(k.jsx)(aa,null,Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldTitle",{defaultMessage:"Positive score impact"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.rankFeature.positiveScoreImpactFieldDescription",{defaultMessage:"Rank features that correlate negatively with the score should disable this field."}),formFieldPath:"positive_score_impact"})),wildcard:({field:e})=>Object(k.jsx)(na,null,Object(k.jsx)(ti,{defaultToggleValue:$t("ignore_above",e.source)})),point:({field:e})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(aa,null,Object(k.jsx)(Ia,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreMalformedFieldDescription",{defaultMessage:"By default, documents that contain malformed points are not indexed. If enabled, these documents are indexed, but fields with malformed points are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."})})),Object(k.jsx)(na,null,Object(k.jsx)(Ua,{description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.ignoreZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only x and y values will be indexed; the third dimension is ignored."})}),Object(k.jsx)(va,{defaultToggleValue:Wt("null_value",e.source),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.point.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with a point value so that it can be indexed and searched."})},Object(k.jsx)(V.UseField,{path:"null_value",component:U.TextAreaField,config:st("null_value_point")})),Object(k.jsx)(ei,{defaultToggleValue:Wt("meta",e.source)}))),version:({field:e})=>Object(k.jsx)(na,null,Object(k.jsx)(ei,{defaultToggleValue:Ht("meta",e.source)}))},Jt=()=>{const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeLabel",{defaultMessage:"Beta"}),t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldBetaBadgeTooltip",{defaultMessage:"This field type is not GA. Please help us by reporting any bugs."});return Object(k.jsx)(O.EuiBetaBadge,{label:e,tooltipContent:t})},Yt=({children:e,isMultiField:t})=>e||t?Object(k.jsx)("section",null,Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},e,t&&Object(k.jsx)("p",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldIntroductionText",{defaultMessage:"This field is a multi-field. You can use multi-fields to index the same field in different ways."})))):null,Kt=y.a.memo((({defaultValue:e,isRootLevelField:t,isMultiField:a})=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(da,null)),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(Na,{isRootLevelField:t,isMultiField:a})),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"type"},(({type:i})=>{if(void 0===i)return null;const[n]=i;return Object(k.jsx)(Va,{key:n.value,type:n.value,defaultValueType:e.type,isMultiField:a,isRootLevelField:t})}))),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var i,n;const s=((e,t)=>{if(!e)return;const a=F[e];return void 0!==a.subTypes?t?F[t]:void 0:a})(e[0].value,t&&t[0].value),r=null!==(i=null==s||null===(n=s.description)||void 0===n?void 0:n.call(s))&&void 0!==i?i:null;return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"l"}),(null==s?void 0:s.isBeta)&&Object(k.jsx)(Jt,null),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(Yt,{isMultiField:a},r))}))))),Xt=(e,t=18)=>e.length<=t?e:`...${e.substr(-1*t)}`,Zt=({children:e})=>Object(k.jsx)(y.a.Fragment,null,e),Qt=y.a.memo((({form:e,field:t,allFields:a,exitEdit:n,updateField:s,kibanaVersion:r})=>{const{isMultiField:o}=t;return Object(k.jsx)(V.Form,{form:e,FormWrapper:Zt},Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"xs"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)("div",null,Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{"data-test-subj":"flyoutTitle"},o?i.i18n.translate("xpack.idxMgmt.mappingsEditor.editMultiFieldTitle",{defaultMessage:"Edit multi-field '{fieldName}'",values:{fieldName:Xt(t.source.name)}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldTitle",{defaultMessage:"Edit field '{fieldName}'",values:{fieldName:Xt(t.source.name)}}))))),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:t})=>{var a,n;const s=oe.getTypeDocLink(null==t||null===(a=t[0])||void 0===a?void 0:a.value)||oe.getTypeDocLink(null==e||null===(n=e[0])||void 0===n?void 0:n.value);if(!s)return null;const r=F[e[0].value],o=F[null==t?void 0:t[0].value];return Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:s,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editField.typeDocumentation",{defaultMessage:"{type} documentation",values:{type:o?o.label:r.label}})))}))),Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,{grow:!1,"data-test-subj":"fieldPath"},Object(k.jsx)(xt,{padding:"small"},t.path.join(" > "))))),Object(k.jsx)(O.EuiFlyoutBody,null,Object(k.jsx)(Kt,{defaultValue:t.source,isRootLevelField:void 0===t.parentId,isMultiField:o}),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:e,subType:i})=>{const n=((e,t)=>void 0===t?Gt[e]:Gt[t]||Gt[e])(null==e?void 0:e[0].value,null==i?void 0:i[0].value);return n?Object(k.jsx)(n,{key:null!=i?i:e,field:t,allFields:a,isMultiField:o,kibanaVersion:r}):null}))),Object(k.jsx)(O.EuiFlyoutFooter,null,e.isSubmitted&&!e.isValid&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldFlyout.validationErrorTitle",{defaultMessage:"Fix errors in form before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(k.jsx)(O.EuiSpacer,{size:"m"})),Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"flexEnd"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{onClick:n},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldCancelButtonLabel",{defaultMessage:"Cancel"}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{fill:!0,onClick:async()=>{const{isValid:a,data:i}=await e.submit();a&&s({...t,source:i})},type:"submit",disabled:e.isSubmitted&&!e.isValid,"data-test-subj":"editFieldUpdateButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldUpdateButtonLabel",{defaultMessage:"Update"}))))))})),ea={"data-test-subj":"mappingsEditorFieldEdit","aria-labelledby":"mappingsEditorFieldEditTitle",className:"mappingsEditor__editField",maxWidth:720},ta=y.a.memo((({exitEdit:e})=>{const{fields:t,documentFields:a}=wi(),n=Ii(),{updateField:s,modal:r}=(()=>{const[e,t]=Object(M.useState)({isModalOpen:!1}),a=Ii(),{fields:n}=wi(),{byId:s,aliases:r}=n,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.confirmDescription",{defaultMessage:"Confirm type change"});let l="";if(e.field){const{source:t}=e.field;l=i.i18n.translate("xpack.idxMgmt.mappingsEditor.updateField.confirmationModal.title",{defaultMessage:"Confirm change '{fieldName}' type to '{fieldType}'.",values:{fieldName:t.name,fieldType:t.type}})}const c=()=>{t({isModalOpen:!1})};return{updateField:Object(M.useCallback)((e=>{const i=s[e.id];if(e.source.type!==i.source.type){const a=r[e.id]||[],o=ct(e,n),l=a&&Boolean(a.length),c=!se.path.targetTypesNotAllowed.includes(e.source.type);let d,u=[];if(l&&!c?(u=o,d=!0):(d=((t,a)=>{const{hasChildFields:i,hasMultiFields:n}=e;return!(!i&&!n)&&gt(t,a)})(i.source.type,e.source.type),d&&(u=o.filter((e=>!1===a.includes(e))))),d)return void t({isModalOpen:!0,field:e,aliases:Boolean(u.length)?u.map((e=>s[e].path.join(" > "))).sort():void 0})}a({type:"field.edit",value:e.source})}),[a,r,n,s]),modal:{isOpen:e.isModalOpen,props:{childFields:e.field&&e.field.childFields,title:l,aliases:e.aliases,byId:s,confirmButtonText:o,onConfirm:()=>{a({type:"field.edit",value:e.field.source}),c()},onCancel:c}}}})(),{services:{kibanaVersion:o}}=ic(),{status:l,fieldToEdit:c}=a,d="editingField"===l,u=t.byId[c],p=Object(M.useMemo)((()=>({...null==u?void 0:u.source})),[null==u?void 0:u.source]),{form:m}=Object(V.useForm)({defaultValue:p,serializer:ni,deserializer:si,options:{stripEmptyFields:!1},id:"edit-field"}),{subscribe:g}=m;return Object(M.useEffect)((()=>g((e=>{n({type:"fieldForm.update",value:e})})).unsubscribe),[g,n]),d?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(Qt,{form:m,field:u,allFields:t.byId,exitEdit:e,updateField:s,kibanaVersion:o.get()}),r.isOpen?Object(k.jsx)(Mt,r.props):null):null})),aa=({children:e})=>Object(k.jsx)("section",null,Object(k.jsx)(O.EuiSpacer,{size:"l"}),e),ia=y.a.memo((({title:e,description:t,docLink:a,defaultToggleValue:i,formFieldPath:n,children:s,withToggle:r=!0,configPath:o,"data-test-subj":l})=>{const c=Object(V.useFormContext)(),d=!1===r||(void 0!==i?i:void 0!==n&&st(o||n).defaultValue),[u,p]=Object(M.useState)(d),m="function"==typeof s,g=()=>{!0===u&&c.reset({resetValues:!1}),p(!u)},f=()=>{const i=r&&Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__editFieldFormRow__toggle"},void 0===n?Object(k.jsx)(O.EuiSwitch,{label:e,checked:u,onChange:g,"data-test-subj":"formRowToggle",showLabel:!1}):Object(k.jsx)(V.UseField,{path:n,config:{...st(o||n),defaultValue:d}},(t=>Object(k.jsx)(U.ToggleField,{field:t,"data-test-subj":"abc",euiFieldProps:{label:e,showLabel:!1,"data-test-subj":"formRowToggle"}})))),c=Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("h3",null,e)),p=t&&Object(k.jsx)(O.EuiText,{size:"s",color:"subdued",className:"mappingsEditor__editField__formRow__description"},t),f=(c||p)&&Object(k.jsx)("div",{style:{paddingLeft:!1===r?"0":void 0}},Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,null,c),a?Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:a.text},Object(k.jsx)(O.EuiButtonIcon,{href:a.href,target:"_blank",iconType:"help","aria-label":a.text}))):null),p),x=(u&&void 0!==s||m)&&Object(k.jsx)("div",{style:{paddingLeft:!1===r?"0":void 0}},Object(k.jsx)(O.EuiSpacer,{size:"m"}),m?s(u):s);return Object(k.jsx)(O.EuiFlexGroup,{className:"mappingsEditor__editField__formRow","data-test-subj":l},i,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)("div",null,f,x)))};return n?Object(k.jsx)(V.FormDataProvider,{pathsToWatch:n},(e=>(p(Object(Te.get)(e,n)),f()))):f()})),na=({children:e})=>{const[t,a]=Object(M.useState)(!1);return Object(k.jsx)("div",{className:"mappingsEditor__editField__advancedSettings"},Object(k.jsx)(O.EuiHorizontalRule,null),Object(k.jsx)(O.EuiButtonEmpty,{onClick:()=>{a(!t)},flush:"left","data-test-subj":"toggleAdvancedSetting"},t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.hideButtonLabel",{defaultMessage:"Hide advanced settings"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedSettings.showButtonLabel",{defaultMessage:"Show advanced settings"})),Object(k.jsx)("div",{style:{display:t?"block":"none"},"data-test-subj":"advancedSettings"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)("div",null,e)))},sa={defaultValue:[]},ra=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.relationshipsTitle",{defaultMessage:"Relationships"}),withToggle:!1},Object(k.jsx)(V.UseArray,{path:"relations",initialNumberOfItems:0},(({items:e,addItem:t,removeItem:a})=>{const n=[{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentColumnTitle",{defaultMessage:"Parent"}),render:e=>Object(k.jsx)("div",{style:{width:"100%"}},Object(k.jsx)(V.UseField,{path:`${e.path}.parent`,component:U.TextField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.parentFieldAriaLabel",{defaultMessage:"Parent field"})}},readDefaultValueOnForm:!e.isNew}))},{name:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenColumnTitle",{defaultMessage:"Children"}),render:e=>Object(k.jsx)("div",{style:{width:"100%"}},Object(k.jsx)(V.UseField,{path:`${e.path}.children`,config:sa,component:U.ComboBoxField,componentProps:{euiFieldProps:{"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.childrenFieldAriaLabel",{defaultMessage:"Children field"})}},readDefaultValueOnForm:!e.isNew}))},{width:"48px",actions:[{render:({id:e})=>{const t=i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.removeRelationshipTooltipLabel",{defaultMessage:"Remove relationship"});return Object(k.jsx)(O.EuiToolTip,{content:t,delay:"long"},Object(k.jsx)(O.EuiButtonIcon,{"data-test-subj":"removeRelationshipButton","aria-label":t,iconType:"minusInCircle",color:"danger",onClick:()=>a(e)}))}}]}];return Object(k.jsx)(y.a.Fragment,null,e.length>1&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.join.multiLevelsParentJoinWarningTitle",defaultMessage:"Avoid using multiple levels to replicate a relational model. Each relation level increases computation time and memory consumption at query time. For best performance, {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getJoinMultiLevelsPerformanceLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.join.multiLevelsPerformanceDocumentationLink",{defaultMessage:"denormalize your data."}))}})}),Object(k.jsx)(O.EuiSpacer,null)),Object(k.jsx)(O.EuiBasicTable,{items:e,itemId:"id",columns:n,noItemsMessage:i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.relationshipTable.emptyTableMessage",{defaultMessage:"No relationship defined"}),hasActions:!0}),Object(k.jsx)(O.EuiButtonEmpty,{onClick:t,iconType:"plusInCircleFilled","data-test-subj":"addRelationButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.joinType.addRelationshipButtonLabel",{defaultMessage:"Add relationship"})))}))),oa=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldTitle",{defaultMessage:"Dynamic property mapping"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicPropertyMappingParameter.fieldDescription",{defaultMessage:"By default, properties can be added dynamically to objects within a document, just by indexing a document with the object containing the new property."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicDocLinkText",{defaultMessage:"Dynamic documentation"}),href:oe.getDynamicLink()},formFieldPath:"dynamic_toggle",defaultToggleValue:e},(e=>!1===e?Object(k.jsx)(V.UseField,{path:"dynamic_strict",config:st("dynamic_strict"),component:U.CheckBoxField}):null)),{validations:la,...ca}=se.name.fieldConfig,da=()=>{const{fields:{rootLevelFields:e,byId:t},documentFields:{fieldToAddFieldTo:a,fieldToEdit:i}}=wi(),n=i?t[i].source.name:void 0,s=i?t[i].parentId:a,r=Object(M.useCallback)((a=>ri({rootLevelFields:e,byId:t},n,s)(a)),[e,t,n,s]),o=Object(M.useMemo)((()=>({...ca,validations:[...la,{validator:r}]})),[r]);return Object(k.jsx)(V.UseField,{path:"name",config:o,component:U.TextField,componentProps:{euiFieldProps:{"data-test-subj":"nameParameterInput"}}})},ua=({indexOptions:e=N.index_options,hasIndexOptions:t=!0,config:a=st("index_options")})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldTitle",{defaultMessage:"Searchable"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableFieldDescription",{defaultMessage:"Allow the field to be searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexDocLinkText",{defaultMessage:"Searchable documentation"}),href:oe.getIndexLink()},formFieldPath:"index","data-test-subj":"indexParameter"},t?Object(k.jsx)(V.UseField,{path:"index_options",config:a,component:U.Field,componentProps:{euiFieldProps:{options:e}}}):void 0),pa=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldTitle",{defaultMessage:"Store field value outside of _source"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeFieldValueFieldDescription",{defaultMessage:"This can be useful when the _source field is very large and you want to retrieve a few select fields without extracting them from _source."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.storeDocLinkText",{defaultMessage:"Store documentation"}),href:oe.getStoreLink()},formFieldPath:"store"}),ma=({configPath:e="doc_values"})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldTitle",{defaultMessage:"Use doc values"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesFieldDescription",{defaultMessage:"Store each document's value for this field in memory so it can be used for sorting, aggregations, and in scripts."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.docValuesDocLinkText",{defaultMessage:"Doc values documentation"}),href:oe.getDocValuesLink()},formFieldPath:"doc_values",configPath:e}),ga=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldTitle",{defaultMessage:"Set boost level"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostFieldDescription",{defaultMessage:"Boost this field at query time so it counts more toward the relevance score."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.boostDocLinkText",{defaultMessage:"Boost documentation"}),href:oe.getBoostLink()},defaultToggleValue:e,"data-test-subj":"boostParameter"},Object(k.jsx)(V.UseField,{path:"boost",config:st("boost"),component:U.RangeField,componentProps:{euiFieldProps:{min:1,max:20,showInput:!0,fullWidth:!0}}})),fa=Object(M.createContext)(void 0),xa=({children:e})=>{const[t,a]=Object(M.useState)({indexSettings:{}});return Object(k.jsx)(fa.Provider,{value:{value:t,update:a}},e)},ba=()=>{const e=Object(M.useContext)(fa);if(void 0===e)throw new Error("useConfig must be used within a <ConfigProvider />");return e},ja=({onChange:e,mainDefaultValue:t,subDefaultValue:a,config:i,options:n,mapOptionsToSubOptions:s,"data-test-subj":r})=>{const{form:o}=Object(V.useForm)({defaultValue:{main:t,sub:a}}),{subscribe:l}=o;Object(M.useEffect)((()=>l((t=>{const a=t.data.internal,i=a.sub?a.sub:a.main;e(i)})).unsubscribe),[l,e]);const c=Object(M.useCallback)((e=>void 0!==s?s[e]:void 0),[s]),d=Object(M.useCallback)((e=>{const t=c(e);o.setFieldValue("sub",t?t.options[0].value:void 0)}),[o,c]),u=(e,t)=>{const a=(e=>!(!e||!Boolean(e.length))&&!1==={}.hasOwnProperty.call(e[0],"text"))(t);return a?Object(k.jsx)(U.SuperSelectField,{field:e,euiFieldProps:{options:t},"data-test-subj":r}):Object(k.jsx)(U.SelectField,{field:e,euiFieldProps:{options:t,hasNoInitialSelection:!1},"data-test-subj":r})};return Object(k.jsx)(V.Form,{form:o},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"main"},(({main:e})=>{const t=c(e);return Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(V.UseField,{path:"main",config:i,onChange:d},(e=>u(e,n)))),t&&Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(V.UseField,{path:"sub",config:{...i,defaultValue:t.options[0].value,label:t.label}},(e=>u(e,t.options)))))})))},ha=N.analyzer,Ma=N.analyzer.filter((({value:e})=>e!==j)),ya=({path:e,defaultValue:t,label:a,config:n,allowsIndexDefaultOption:s=!0,"data-test-subj":r})=>{const{value:{indexSettings:o}}=ba(),l=(e=>{const t={}.hasOwnProperty.call(e,"index")?e.index:e;if({}.hasOwnProperty.call(t,"analysis")&&{}.hasOwnProperty.call(t.analysis,"analyzer"))try{return Object.keys(t.analysis.analyzer).map((e=>({value:e,text:e})))}catch{return}})(o),c=[...s?ha:Ma],d={language:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.languageAnalyzerLabel",{defaultMessage:"Language"}),options:N.languageAnalyzer}};if(l){const e={value:"custom",...D(i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customTitle",{defaultMessage:"Custom analyzer"}),i.i18n.translate("xpack.idxMgmt.mappingsEditor.formSelect.analyzer.customDescription",{defaultMessage:"Choose one of your custom analyzers."}))};c.push(e),d.custom={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.customAnalyzerLabel",{defaultMessage:"Custom"}),options:l}}const u=void 0===t||c.some((e=>e.value===t));let p,m=t,g=!1;if(!u&&void 0!==d)for(const[e,a]of Object.entries(d))if(a.options.some((e=>e.value===t))){g=!0,m=e,p=t;break}const[f,x]=Object(M.useState)(!u&&!g),[b,j]=Object(M.useState)({main:m,sub:p}),h=n||st("analyzer"),y=void 0!==a?{...h,label:a}:h,v=e=>()=>{f?e.setValue(c[0].value):e.setValue(""),e.reset({resetValue:!1}),j({main:void 0,sub:void 0}),x(!f)};return Object(k.jsx)(V.UseField,{path:e,config:y},(e=>Object(k.jsx)("div",{className:"mappingsEditor__selectWithCustom"},Object(k.jsx)(O.EuiButtonEmpty,{size:"xs",onClick:v(e),className:"mappingsEditor__selectWithCustom__button","data-test-subj":`${r}-toggleCustomButton`},f?i.i18n.translate("xpack.idxMgmt.mappingsEditor.predefinedButtonLabel",{defaultMessage:"Use built-in analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.customButtonLabel",{defaultMessage:"Use custom analyzer"})),f?Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(U.TextField,{field:e,"data-test-subj":`${r}-custom`}))):Object(k.jsx)(ja,{onChange:e.setValue,mainDefaultValue:b.main,subDefaultValue:b.sub,config:y,options:c,mapOptionsToSubOptions:d,"data-test-subj":r}))))},Oa=({field:e,withSearchQuoteAnalyzer:t=!1})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersSectionTitle",{defaultMessage:"Analyzers"}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzersDocLinkText",{defaultMessage:"Analyzers documentation"}),href:oe.getAnalyzerLink()},withToggle:!1,"data-test-subj":"analyzerParameters"},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>{const a=t?i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexSearchAnalyzerFieldLabel",{defaultMessage:"Index and search analyzer"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.indexAnalyzerFieldLabel",{defaultMessage:"Index analyzer"});return Object(k.jsx)(ya,{path:"analyzer",label:a,defaultValue:e.source.analyzer,"data-test-subj":"indexAnalyzer"})})),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(V.UseField,{path:"useSameAnalyzerForSearch",component:U.CheckBoxField,componentProps:{"data-test-subj":"useSameAnalyzerForSearchCheckBox"},config:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.analyzers.useSameAnalyzerIndexAnSearch",{defaultMessage:"Use the same analyzers for index and searching"}),defaultValue:!0}}),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"useSameAnalyzerForSearch"},(({useSameAnalyzerForSearch:t})=>t?null:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(ya,{path:"search_analyzer",defaultValue:e.source.search_analyzer,config:st("search_analyzer"),"data-test-subj":"searchAnalyzer"}),Object(k.jsx)(O.EuiSpacer,{size:"s"})))),t&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(ya,{path:"search_quote_analyzer",defaultValue:e.source.search_quote_analyzer,config:st("search_quote_analyzer"),"data-test-subj":"searchQuoteAnalyzer"}))),va=({defaultToggleValue:e,description:t,children:a})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldTitle",{defaultMessage:"Set null value"}),description:t||i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueFieldDescription",{defaultMessage:"Replace explicit null values with the specified value so that it can be indexed and searched."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.nullValueDocLinkText",{defaultMessage:"Null value documentation"}),href:oe.getNullValueLink()},defaultToggleValue:e},a||Object(k.jsx)(V.UseField,{path:"null_value",config:st("null_value"),component:U.Field})),Ta=({description:e,configPath:t="eager_global_ordinals"})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldTitle",{defaultMessage:"Build global ordinals at index time"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsFieldDescription",{defaultMessage:"By default, global ordinals are built at search time, which optimizes for index speed. You can optimize for search performance by building them at index time instead."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.eagerGlobalOrdinalsDocLinkText",{defaultMessage:"Global ordinals documentation"}),href:oe.getEagerGlobalOrdinalsLink()},formFieldPath:"eager_global_ordinals",configPath:t}),Ea=({configPath:e="norms"})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldTitle",{defaultMessage:"Use norms"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.useNormsFieldDescription",{defaultMessage:"Account for field length when scoring queries. Norms require significant memory and are not necessary for fields that are used solely for filtering or aggregations."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.normsDocLinkText",{defaultMessage:"Norms documentation"}),href:oe.getNormsLink()},formFieldPath:"norms",configPath:e}),ka=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldTitle",{defaultMessage:"Set similarity"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.setSimilarityFieldDescription",{defaultMessage:"The scoring algorithm or similarity to use."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.similarityDocLinkText",{defaultMessage:"Similarity documentation"}),href:oe.getSimilarityLink()},defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"similarity",config:st("similarity"),component:U.Field,componentProps:{euiFieldProps:{options:N.similarity}}})),Fa=se.path.targetTypesNotAllowed,_a=e=>t=>"string"==typeof t&&Boolean(t)?[{id:t,label:e[t].path.join(" > ")}]:[],Sa=({field:e,allFields:t})=>{const a=((e,t)=>Object.entries(e).filter((([e,a])=>!(t&&e===t.id||Fa.includes(a.source.type)))).map((([e,t])=>({id:e,label:t.path.join(" > ")}))).sort(((e,t)=>e.label>t.label?1:e.label<t.label?-1:0)))(t,e),n=Object(M.useMemo)((()=>({...st("path"),deserializer:_a(t)})),[t]);return Object(k.jsx)(V.UseField,{path:"path",config:n},(e=>{const t=e.getErrorsMessages(),n=!!t&&Boolean(t.length);return Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldTitle",{defaultMessage:"Alias target"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.aliasTargetFieldDescription",{defaultMessage:"Select the field you want your alias to point to. You will then be able to use the alias instead of the target field in search requests and select other APIs like field capabilities."}),withToggle:!1},Object(k.jsx)(y.a.Fragment,null,!Boolean(a.length)&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.noFieldsAddedWarningMessage",{defaultMessage:"You need to add at least one field before creating an alias."})}),Object(k.jsx)(O.EuiSpacer,null)),Object(k.jsx)(O.EuiFormRow,{label:e.label,helpText:e.helpText,error:t,isInvalid:n,fullWidth:!0},Object(k.jsx)(O.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.aliasType.pathPlaceholderLabel",{defaultMessage:"Select a field"}),singleSelection:{asPlainText:!0},options:a,selectedOptions:e.value,onChange:t=>e.setValue(t),isClearable:!1,fullWidth:!0}))))}))},Ca=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceFieldTitle",{defaultMessage:"Coerce to number"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDescription",{defaultMessage:"Convert strings to numbers. If this field is an integer, fractions are truncated. If disabled, then documents with imperfectly formatted values are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceDocLinkText",{defaultMessage:"Coerce documentation"}),href:oe.getCoerceLink()},formFieldPath:"coerce"}),La=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeFieldTitle",{defaultMessage:"Coerce to shape"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDescription",{defaultMessage:"If disabled, then documents that contain polygons with unclosed linear rings are rejected."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.coerceShapeDocLinkText",{defaultMessage:"Coerce documentation"}),href:oe.getCoerceLink()},formFieldPath:"coerce",configPath:"coerce_shape"}),wa=({defaultValue:e,defaultToggleValue:t})=>{const a=(void 0!==e?e.split("||").map((e=>({label:e}))):[]).filter((e=>z.includes(e))),[n,s]=Object(M.useState)([...z,...a]);return Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.fieldTitle",{defaultMessage:"Set format"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.formatParameter.fieldDescription",defaultMessage:"The date formats to parse. Most builit-ins use {strict} date formats, where YYYY is the year, MM is the month, and DD is the day. Example: 2020/11/01.",values:{strict:Object(k.jsx)(O.EuiCode,null,"strict")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatDocLinkText",{defaultMessage:"Format documentation"}),href:oe.getFormatLink()},defaultToggleValue:t,"data-test-subj":"formatParameter"},Object(k.jsx)(V.UseField,{path:"format",config:st("format")},(e=>Object(k.jsx)(O.EuiFormRow,{label:e.label,helpText:e.helpText,fullWidth:!0},Object(k.jsx)(O.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.formatParameter.placeholderLabel",{defaultMessage:"Select a format"}),options:n,selectedOptions:e.value,onChange:t=>{e.setValue(t)},onCreateOption:t=>{const a={label:t};e.setValue([...e.value,a]),s([...n,a])},fullWidth:!0,"data-test-subj":"formatInput"})))))},Ia=({description:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedFieldTitle",{defaultMessage:"Ignore malformed data"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredMalformedFieldDescription",{defaultMessage:"By default, documents that contain the wrong data type for a field are not indexed. If enabled, these documents are indexed, but fields with the wrong data type are filtered out. Be careful: if too many documents are indexed this way, queries on the field become meaningless."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreMalformedDocLinkText",{defaultMessage:"Ignore malformed documentation"}),href:oe.getIgnoreMalformedLink()},formFieldPath:"ignore_malformed"}),Da=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldTitle",{defaultMessage:"Copy to group field"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToFieldDescription",{defaultMessage:"Copy the values of multiple fields into a group field. This group field can then be queried as a single field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.copyToDocLinkText",{defaultMessage:"Copy to documentation"}),href:oe.getCopyToLink()},defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"copy_to",config:st("copy_to"),component:U.Field})),Pa=({field:e,defaultToggleValue:t})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldTitle",{defaultMessage:"Set term vector"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldDescription",{defaultMessage:"Store term vectors for an analyzed field."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorDocLinkText",{defaultMessage:"Term vector documentation"}),href:oe.getTermVectorLink()},defaultToggleValue:t},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"term_vector"},(e=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(V.UseField,{path:"term_vector",config:st("term_vector"),component:U.Field,componentProps:{euiFieldProps:{options:N.term_vector,fullWidth:!0}}}),"with_positions_offsets"===e.term_vector&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiCallOut,{size:"s",color:"warning",title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.termVectorFieldWarningMessage",{defaultMessage:'Setting "With positions and offsets" will double the size of a field’s index.'})})))))),Na=({isMultiField:e,isRootLevelField:t,showDocLink:a=!1})=>Object(k.jsx)(V.UseField,{path:"type",config:st("type")},(n=>{const s=n.getErrorsMessages(),r=!!s&&Boolean(s.length);let o=null;if(a&&n.value.length>0){const e=n.value[0].value;o=oe.getTypeDocLink(e)}return Object(k.jsx)(O.EuiFormRow,{label:n.label,error:s,isInvalid:r,helpText:o?Object(k.jsx)(O.EuiText,{size:"xs"},Object(k.jsx)(O.EuiLink,{href:o,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.documentationLinkLabel",{defaultMessage:"{typeName} documentation",values:{typeName:n.value&&n.value[0]?n.value[0].label:""}}))):null},Object(k.jsx)(O.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.typeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:e?dt(I):t?I:ut(I),selectedOptions:n.value,onChange:e=>{0!==e.length&&n.setValue(e)},isClearable:!1,"data-test-subj":"fieldType"}))})),Aa=st("type"),Ra={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeNameFieldLabel",{defaultMessage:"Type Name"}),defaultValue:"",deserializer:Aa.deserializer,serializer:Aa.serializer,validations:[{validator:({value:e})=>{if(""===e[0].value.trim())return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeNameIsRequiredErrorMessage",{defaultMessage:"The type name is required."})}}}]},za=({field:e})=>{var t,a;const{setValue:i}=e,n={...e,value:null!==(t=null===(a=e.value[0])||void 0===a?void 0:a.value)&&void 0!==t?t:""},s=Object(M.useCallback)((e=>{i([{value:e.target.value}])}),[i]);return Object(k.jsx)(U.TextField,{field:n,euiFieldProps:{onChange:s,"data-test-subj":"fieldSubType"}})},Ba=()=>Object(k.jsx)(V.UseField,{path:"subType",config:Ra,component:za}),Va=({type:e,defaultValueType:t,isMultiField:a,isRootLevelField:n})=>{if("other"===e)return Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(Ba,null));const s=F[e];if(void 0===s.subTypes)return null;const r=s.subTypes.types.map((e=>F[e])).map((e=>({value:e.value,label:e.label}))),o=s.subTypes.types.includes(t)?t:s.subTypes.types[0];return Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(V.UseField,{path:"subType",defaultValue:o,config:{...st("type"),label:s.subTypes.label}},(e=>Object(k.jsx)(O.EuiFormRow,{label:e.label},Object(k.jsx)(O.EuiComboBox,{placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.subTypeField.placeholderLabel",{defaultMessage:"Select a type"}),singleSelection:{asPlainText:!0},options:a?dt(r):n?r:ut(r),selectedOptions:e.value,onChange:e.setValue,isClearable:!1,"data-test-subj":"fieldSubType"})))))},Ua=({description:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreZValueFieldTitle",{defaultMessage:"Ignore Z value"}),description:e||i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoredZValueFieldDescription",{defaultMessage:"Three dimension points will be accepted, but only latitude and longitude values will be indexed; the third dimension is ignored."}),formFieldPath:"ignore_z_value"}),qa=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldTitle",{defaultMessage:"Set orientation"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.geoShapeType.orientationFieldDescription",{defaultMessage:"Interpret the vertex order for polygons and multipolygons as either clockwise or counterclockwise (default)."}),defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"orientation",config:st("orientation"),component:U.Field,componentProps:{euiFieldProps:{options:N.orientation,style:{minWidth:300}}}})),$a=({min:e,max:t})=>Object(k.jsx)(O.EuiFormRow,{fullWidth:!0,label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterPercentageFieldLabel",defaultMessage:"Percentage-based frequency range"})},Object(k.jsx)(O.EuiDualRange,{min:0,max:100,value:[e.value,t.value],onChange:([a,i])=>{e.setValue(a),t.setValue(i)},showInput:"inputWithPopover",append:"%"})),Wa=({min:e,max:t})=>{const a=!e.isChangingValue&&e.errors.length>0,n=!e.isChangingValue&&e.errors.length?e.errors[0].message:null,s=!t.isChangingValue&&t.errors.length>0,r=!t.isChangingValue&&t.errors.length?t.errors[0].message:null;return Object(k.jsx)(O.EuiFormRow,{fullWidth:!0,isInvalid:a||s,error:n||r,label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteFieldLabel",defaultMessage:"Absolute frequency range"})},Object(k.jsx)(O.EuiFormControlLayoutDelimited,{startControl:Object(k.jsx)(O.EuiFieldNumber,{value:e.value,onChange:e.onChange,isLoading:e.isValidating,isInvalid:a,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMinAriaLabel",{defaultMessage:"Minimum absolute frequency"})}),endControl:Object(k.jsx)(O.EuiFieldNumber,{value:t.value,onChange:t.onChange,isLoading:t.isValidating,isInvalid:s,fullWidth:!0,"data-test-subj":"input",controlOnly:!0,"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.frequencyFilterAbsoluteMaxAriaLabel",{defaultMessage:"Maximum absolute frequency"})})}))},Ha=({field:e,defaultToggleValue:t})=>{const[a,n]=Object(M.useState)(void 0!==e.source.fielddata_frequency_filter&&e.source.fielddata_frequency_filter.max>1?"absolute":"percentage");function s(e,t=a){return st("percentage"===t?"fielddata_frequency_filter_percentage":"fielddata_frequency_filter_absolute",e)}const r=(e,t)=>()=>{var i,r,o,l;const c="percentage"===a?"absolute":"percentage",d=s("min",c),u=s("max",c);e.setValue(null!==(i=null===(r=d.deserializer)||void 0===r?void 0:r.call(d,d.defaultValue))&&void 0!==i?i:d.defaultValue),t.setValue(null!==(o=null===(l=u.deserializer)||void 0===l?void 0:l.call(u,u.defaultValue))&&void 0!==o?o:u.defaultValue),n(c)};return Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowTitle",{defaultMessage:"Fielddata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFormRowDescription",{defaultMessage:"Whether to use in-memory fielddata for sorting, aggregations, or scripting."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fieldDataDocLinkText",{defaultMessage:"Fielddata documentation"}),href:oe.getFielddataLink()},formFieldPath:"fielddata",defaultToggleValue:t},Object(k.jsx)(V.UseMultiFields,{fields:{min:{path:"fielddata_frequency_filter.min",config:s("min")},max:{path:"fielddata_frequency_filter.max",config:s("max")}}},(({min:e,max:t})=>{const n="percentage"===a?$a:Wa;return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{color:"warning",iconType:"alert",size:"s",title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledWarningTitle",defaultMessage:"Fielddata can consume significant memory. This is particularly likely when loading high-cardinality text fields. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getEnablingFielddataLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataEnabledDocumentationLink",{defaultMessage:"Learn more."}))}})}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiTitle,{size:"xxs"},Object(k.jsx)("h4",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataDocumentFrequencyRangeTitle",{defaultMessage:"Document frequency range"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyMessage",defaultMessage:"This range determines the terms loaded into memory. Frequency is calculated per segment. Exclude small segments based on their size, in number of documents. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getFielddataFrequencyLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.fielddataFrequencyDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(n,{min:e,max:t})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(V.UseField,{path:"fielddata_frequency_filter.min_segment_size",config:st("fielddata_frequency_filter","min_segment_size"),component:U.Field}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiSwitch,{compressed:!0,label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fielddata.useAbsoluteValuesFieldLabel",{defaultMessage:"Use absolute values"}),checked:"absolute"===a,onChange:r(e,t),"data-test-subj":"input"}))})))},Ga=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceFieldTitle",{defaultMessage:"Split queries on whitespace"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.splitQueriesOnWhitespaceDescription",{defaultMessage:"Full text queries will split the input on whitespace when building a query for this field."}),formFieldPath:"split_queries_on_whitespace"}),Ja=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.date.localeFieldTitle",{defaultMessage:"Set locale"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dateType.localeFieldDescription",defaultMessage:"The locale to use when parsing dates. This is useful because months might not have the same name or abbreviation in all languages. Defaults to the {root} locale.",values:{root:Object(k.jsx)(O.EuiLink,{href:oe.getRootLocaleLink(),target:"_blank"},"ROOT")}}),defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"locale",config:st("locale"),component:U.Field})),Ya=()=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.searchableProperties.fieldTitle",{defaultMessage:"Searchable properties"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchableProperties.fieldDescription",defaultMessage:"Allow object properties to be searched. The JSON can still be retrieved from the {source} field even after disabling this setting.",values:{source:Object(k.jsx)(O.EuiCode,null,"_source")}}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.enabledDocLinkText",{defaultMessage:"Enabled documentation"}),href:oe.getEnabledLink()},formFieldPath:"enabled"}),Ka=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldTitle",{defaultMessage:"Set max shingle size"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.maxShingleSizeFieldDescription",{defaultMessage:"The default is three shingle subfields. More subfields enable more specific queries, but increase index size."}),defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"max_shingle_size",component:U.Field,config:st("max_shingle_size"),componentProps:{euiFieldProps:{options:[{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"}]}}})),{isJsonField:Xa}=q.fieldValidators,Za={label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.otherTypeJsonFieldLabel",{defaultMessage:"Type Parameters JSON"}),defaultValue:{},validations:[{validator:Xa(i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonInvalidJSONErrorMessage",{defaultMessage:"Invalid JSON."}))},{validator:({value:e})=>{const t=JSON.parse(e);if(Array.isArray(t))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonArrayNotAllowedErrorMessage",{defaultMessage:"Arrays are not allowed."})}}},{validator:({value:e})=>{if(JSON.parse(e).type)return{code:"ERR_CUSTOM_TYPE_OVERRIDDEN",message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.parameters.validations.otherTypeJsonTypeFieldErrorMessage",{defaultMessage:'Cannot override the "type" field.'})}}}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},Qa=()=>Object(k.jsx)(V.UseField,{path:"otherTypeJson",config:Za,component:U.JsonEditorField}),ei=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterTitle",{defaultMessage:"Set metadata"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDescription",{defaultMessage:"Arbitrary information about the field. Specify as JSON key-value pairs."}),defaultToggleValue:e,docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterDocLinkText",{defaultMessage:"Metadata documentation"}),href:oe.getMetaLink()},"data-test-subj":"metaParameter"},Object(k.jsx)(V.UseField,{path:"meta",config:st("meta"),component:U.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaParameterEditor",height:"300px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaParameterAriaLabel",{defaultMessage:"metadata field data editor"})}}})),ti=({defaultToggleValue:e})=>Object(k.jsx)(ia,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldTitle",{defaultMessage:"Set length limit"}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveFieldDescription",{defaultMessage:"Strings longer than this value will not be indexed. This is useful for protecting against Lucene’s term character-length limit of 8,191 UTF-8 characters."}),docLink:{text:i.i18n.translate("xpack.idxMgmt.mappingsEditor.ignoreAboveDocLinkText",{defaultMessage:"Ignore above documentation"}),href:oe.getIgnoreAboveLink()},defaultToggleValue:e},Object(k.jsx)(V.UseField,{path:"ignore_above",config:st("ignore_above"),component:U.Field})),ai=[e=>{if(void 0===e.relations)return e;const t=e.relations.reduce(((e,t)=>({...e,[t.parent]:1===t.children.length?t.children[0]:t.children})),{});return{...e,relations:t}},e=>{if(void 0===e.dynamic_toggle)return e;const t=!0===e.dynamic_toggle||!0===e.dynamic_strict&&"strict",{dynamic_toggle:a,dynamic_strict:i,...n}=e;return{...n,dynamic:t}}],ii=[e=>{if(void 0===e.relations)return e;const t=e.relations,a=Object.entries(t).map((([e,t])=>({parent:e,children:"string"==typeof t?[t]:t})));return{...e,relations:a}},e=>{if(void 0===e.dynamic)return e;const t=!0===e.dynamic,a="strict"===e.dynamic;return{...e,dynamic_toggle:t,dynamic_strict:a}}],ni=e=>{const{otherTypeJson:t,...a}=e,i=Boolean(t)?{...t,...a}:{...a};return{}.hasOwnProperty.call(i,"subType")&&(i.type=i.subType,delete i.subType),delete i.useSameAnalyzerForSearch,(e=>Object.entries(e).filter((({1:e})=>e!==j)).reduce(((e,[t,a])=>({...e,[t]:a})),{}))((e=>ai.reduce(((e,t)=>t(e)),e))(i))},si=e=>{const t=(e=>{if(!_[e]){const a=null!==(t=S[e])&&void 0!==t?t:"other";if(!a)throw new Error(`Property type "${e}" not recognized and no subType was found for it.`);return{mainType:a,subType:e}}var t;return{mainType:e}})(e.type);if(e.type=t.mainType,e.subType=t.subType,"other"===e.type){const{type:t,subType:a,name:i,...n}=e;e.otherTypeJson=n}else e.useSameAnalyzerForSearch=!1==={}.hasOwnProperty.call(e,"search_analyzer");return(e=>ii.reduce(((e,t)=>t(e)),e))(e)},ri=({rootLevelFields:e,byId:t},a="",n)=>({value:s})=>{if((n?Object.values(t).filter((e=>e.parentId===n)).map((e=>e.source.name)):e.map((e=>t[e].source.name))).filter((e=>e!==a)).includes(s))return{message:i.i18n.translate("xpack.idxMgmt.mappingsEditor.existNamesValidationErrorMessage",{defaultMessage:"There is already a field with this name."})}};var oi=a(105),li=a(102),ci=a(54);const di=[],ui={report:Object(ci.fold)((e=>e.map((e=>{const t=[];let a="";e.context.forEach(((i,n)=>{i.key&&t.push(i.key),n===e.context.length-1&&(a=i.type.name)}));const i=t[t.length-1];return{path:t,message:"Invalid value "+JSON.stringify(e.value)+` supplied to ${i}(${a})`}}))),(()=>di))},pi=[...Object.keys(se),"type","properties","fields"],mi="object",gi=e=>Object.entries(e).reduce(((e,[t,a])=>{var i;return pi.includes(t)&&((e,t)=>{if("type"===e)return!0;if("name"===e)return!1;if("properties"===e||"fields"===e)return Object(Te.isPlainObject)(t);const a=se[e].schema;return!a||Object(ci.isRight)(a.decode(t))})(t,a)?(e.value=null!==(i=e.value)&&void 0!==i?i:{},e.value[t]=a):e.parametersRemoved.push(t),e}),{parametersRemoved:[]}),fi=(e,t=[])=>Object.entries(e).reduce(((e,[a,i])=>{const n=[...t,a].join("."),{value:s,parametersRemoved:r,meta:o}=(e=>{var t,a;if(!Object(Te.isPlainObject)(e))return{parametersRemoved:[]};if("string"!=typeof(a=null!==(t=e.type)&&void 0!==t?t:mi)||!C.includes(a))return{parametersRemoved:[]};const i={type:mi,...e};return{...gi(i),meta:it(i)}})(i);if(void 0===s)e.errors.push({code:"ERR_FIELD",fieldPath:n});else{if(o.hasChildFields||o.hasMultiFields){const i=fi(s[o.childFieldsName],[...t,a]);s[o.childFieldsName]=i.value,i.errors&&(e.errors=[...e.errors,...i.errors])}e.value[a]=s,Boolean(r.length)&&(e.errors=[...e.errors,...r.map((e=>({code:"ERR_PARAMETER",fieldPath:n,paramName:e})))])}return e}),{value:{},errors:[]}),xi=B.exact(B.partial({properties:B.UnknownRecord,runtime:B.UnknownRecord,dynamic:B.union([B.literal(!0),B.literal(!1),B.literal("strict")]),date_detection:B.boolean,numeric_detection:B.boolean,dynamic_date_formats:B.array(B.string),_source:B.exact(B.partial({enabled:B.boolean,includes:B.array(B.string),excludes:B.array(B.string)})),_meta:B.UnknownRecord,_routing:B.interface({required:B.boolean}),dynamic_templates:B.array(B.UnknownRecord),_size:B.interface({enabled:B.boolean})})),bi=Object.keys(xi.type.props),ji=Object.keys(xi.type.props._source.type.props),hi=e=>{const t=new Set;let a={...e};const i=xi.decode(e),n=Object(ci.isLeft)(i),s=Object.keys(e).filter((e=>!1===bi.includes(e))),r=void 0!==e._source?Object.keys(e._source).filter((e=>!1===ji.includes(e))):[];n&&ui.report(i).forEach((e=>{const i=e.path[0];t.add(i),delete a[i]})),s.length>0&&s.forEach((e=>t.add(e))),r.length>0&&(t.add("_source"),delete a._source),a=Object(Te.pick)(a,bi);const o=Object(li.toArray)(oi.ordString)(t).map((e=>({code:"ERR_CONFIG",configName:e}))).sort(((e,t)=>e.configName.localeCompare(t.configName)));return{value:a,errors:o}},Mi=e=>t=>{const a={...t},i=[];return"_size"in a&&!e.includes(re)&&(i.push({code:"ERR_CONFIG",configName:"_size"}),delete a._size),{value:a,errors:i}},yi=e=>e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Oi=(e,t)=>e.metadata.score>t.metadata.score?-1:t.metadata.score>e.metadata.score||null===e.metadata.stringMatch?1:null===t.metadata.stringMatch?-1:e.metadata.matchFieldName&&t.metadata.matchFieldName?e.field.source.name.length-t.field.source.name.length:e.metadata.stringMatch.length===t.metadata.stringMatch.length?e.field.path.length-t.field.path.length:t.metadata.stringMatch.length-e.metadata.stringMatch.length,vi=(e,t)=>{const{term:a,type:i,searchRegexArray:n}=e,s=null!=i?i:a,r=a===t.name,o=a===t.path,l=n[0].exec(t.name),c=!!r||null!==l,d=t.path.startsWith(a),u=t.type.includes(s),p=s===t.type;let m=null;if(o)m=t.path;else if(c)m=r?t.name:l[0];else{const e=n.map((e=>e.exec(t.path))).filter(Boolean).sort(((e,t)=>t[0].length-e[0].length));e.length&&(m=e[0][0])}const g={matchFieldName:c,matchPath:null!==m,matchStartOfPath:d,fullyMatchPath:o,matchType:u,fullyMatchFieldName:r,fullyMatchType:p,stringMatch:m},f=(e=>{let t=0;return e.fullyMatchFieldName&&(t+=15),e.matchFieldName&&(t+=5),e.matchPath&&(t+=15),e.matchStartOfPath&&(t+=5),e.fullyMatchPath&&(t+=5),e.matchType&&(t+=5),e.fullyMatchType&&(t+=5),t})(g),x=((e,t,a)=>{const{term:i}=e,{path:n}=t;let s=Object(k.jsx)("span",null,n);if(a.fullyMatchPath)s=Object(k.jsx)("span",{style:{lineHeight:1.5}},Object(k.jsx)("strong",null,n));else if(a.matchStartOfPath){const e=n.substr(i.length,n.length);s=Object(k.jsx)("span",{style:{lineHeight:1.5}},Object(k.jsx)("strong",null,i),e)}else if(a.matchPath){const{stringMatch:e}=a,t=n.lastIndexOf(e),i=n.substr(0,t),r=n.substr(t+e.length);s=Object(k.jsx)("span",{style:{lineHeight:1.5}},i,Object(k.jsx)("strong",null,e),r)}return s})(e,t,g);return{...g,display:x,score:f}},Ti=(e,t)=>{const a=(e=>{let t,a=e.replace(/\s+/g," ").trim();const i=a.split(" ").map(yi);">"===i[i.length-1]&&(i.pop(),a=i.join(" "));const n=[new RegExp(i.join("([\\._-\\s]|(\\s>\\s))?"),"i")],s=C.includes(i[0]),r=C.includes(i[i.length-1]);return s?t=i[0]:r&&(t=i[i.length-1]),{term:a,terms:i,type:t,searchRegexArray:n}})(e);return""===a.term?[]:Object.values(t).map((e=>({field:e,metadata:vi(a,{name:e.source.name,path:e.path.join(" > "),type:e.source.type})}))).filter((({metadata:e})=>e.score>0)).sort(Oi).map((({field:e,metadata:{display:t}})=>({display:t,field:e})))},Ei=e=>{if(!Object.keys(e).every((e=>bi.includes(e))))return!1;const{properties:t,dynamic_templates:a,runtime:i,...n}=e,{errors:s}=hi(n),r=0===s.length,o=void 0===t||Object(Te.isPlainObject)(t),l=void 0===a||Array.isArray(a),c=void 0===i||Object(Te.isPlainObject)(i);return r&&o&&l&&c},ki=(e,{aliases:t},a)=>{const i={...t};a&&i[a]&&(i[a]=i[a].filter((t=>t!==e.id)));const n=e.source.path;return i[n]||(i[n]=[]),i[n]=[...i[n],e.id],i},Fi=(e,t)=>{let{rootLevelFields:a}=t;const i={...t.byId},{parentId:n}=i[e];if(delete i[e],n){const t=i[n];if(t){const a=t.childFields.filter((t=>t!==e));i[n]={...t,childFields:a,hasChildFields:t.canHaveChildFields&&Boolean(a.length),hasMultiFields:t.canHaveMultiFields&&Boolean(a.length),isExpanded:!(!t.hasChildFields&&!t.hasMultiFields)&&t.isExpanded}}}else a=a.filter((t=>t!==e));let s={...t,rootLevelFields:a,byId:i};if(s.aliases[e]){s=s.aliases[e].reduce(((e,t)=>Fi(t,e)),s);const t={...s.aliases};return delete t[e],{...s,aliases:t}}return s},_i=(e,t)=>{switch(t.type){case"editor.replaceMappings":return{...e,fieldForm:void 0,fields:t.value.fields,configuration:{...e.configuration,data:{internal:t.value.configuration,format:()=>t.value.configuration},defaultValue:t.value.configuration},templates:{...e.templates,data:{internal:t.value.templates,format:()=>t.value.templates},defaultValue:t.value.templates},documentFields:{...e.documentFields,...t.value.documentFields,fieldToAddFieldTo:void 0,fieldToEdit:void 0},runtimeFields:t.value.runtimeFields,runtimeFieldsList:{status:"idle"},search:{term:"",result:[]}};case"configuration.update":{const a={...e,configuration:{...e.configuration,...t.value}};return a.isValid=t.value.isValid,a}case"configuration.save":return{...e,configuration:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"templates.update":{const a={...e,templates:{...e.templates,...t.value}};return a.isValid=t.value.isValid,a}case"templates.save":return{...e,templates:{isValid:!0,defaultValue:t.value,data:{internal:t.value,format:()=>t.value},validate:async()=>!0}};case"fieldForm.update":{const a={...e,fieldForm:t.value};return a.isValid=t.value.isValid,a}case"documentField.createField":return{...e,documentFields:{...e.documentFields,fieldToAddFieldTo:t.value,status:"creatingField"}};case"documentField.editField":return{...e,documentFields:{...e.documentFields,status:"editingField",fieldToEdit:t.value}};case"documentField.changeStatus":const a="idle"===t.value?e.configuration.isValid:e.isValid;return{...e,isValid:a,fieldForm:void 0,documentFields:{...e.documentFields,status:t.value,fieldToAddFieldTo:void 0,fieldToEdit:void 0}};case"documentField.changeEditor":{const a="default"===t.value?rt(e.fieldsJsonEditor.format()):e.fields;return{...e,fields:a,fieldForm:void 0,documentFields:{...e.documentFields,status:"idle",fieldToAddFieldTo:void 0,fieldToEdit:void 0,editor:t.value}}}case"field.add":return((e,t)=>{const a={...t.fields},i=at(),{fieldToAddFieldTo:n}=t.documentFields,s=void 0===n,r=s?void 0:a.byId[n],o=!!r&&r.canHaveMultiFields;a.byId={...a.byId},a.rootLevelFields=s?[...a.rootLevelFields,i]:a.rootLevelFields;const l=r&&(r.canHaveChildFields||r.canHaveMultiFields)?r.nestedDepth+1:0;a.maxNestedDepth=Math.max(a.maxNestedDepth,l);const{name:c}=e,d={id:i,parentId:n,isMultiField:o,source:e,path:r?[...r.path,c]:[c],nestedDepth:l,...it(e,o)};if(a.byId[i]=d,r){const e=r.childFields||[];a.byId[n]={...r,childFields:[...e,i],hasChildFields:r.canHaveChildFields,hasMultiFields:r.canHaveMultiFields,isExpanded:!0}}return"alias"===d.source.type&&(a.aliases=ki(d,a)),{...t,isValid:!0,fields:a}})(t.value,e);case"field.remove":{const a=e.fields.byId[t.value],{id:i,hasChildFields:n,hasMultiFields:s}=a;let r=Fi(i,e.fields);if((n||s)&&lt(a,e.fields.byId).forEach((e=>{r=Fi(e.id,r)})),"alias"===a.source.type&&a.source.path){const e=a.source.path;r.aliases={...r.aliases,[e]:r.aliases[e].filter((e=>e!==i))}}return r.maxNestedDepth=pt(r.byId),{...e,fields:r,documentFields:{...e.documentFields,status:0===r.rootLevelFields.length?"creatingField":"idle"},search:Boolean(e.search.term)?{...e.search,result:Ti(e.search.term,r.byId)}:e.search}}case"field.edit":{let a={...e.fields};const i=e.documentFields.fieldToEdit,n=a.byId[i];let s={...n,source:t.value};"alias"===s.source.type&&(a.aliases=ki(s,a,n.source.path));const r=s.source.name!==n.source.name,o=s.source.type!==n.source.type;if(r){const{updatedFieldPath:e,updatedById:t}=((e,t)=>{const a={...t},i=e.parentId?t[e.parentId].path:[],n=(e,i)=>{const{name:s}=e.source,r=0===i.length?[s]:[...i,s];a[e.id]={...e,path:r},(e.hasChildFields||e.hasMultiFields)&&e.childFields.map((e=>t[e])).forEach((e=>{n(e,[...i,s])}))};return n(e,i),{updatedFieldPath:a[e.id].path,updatedById:a}})(s,a.byId);s.path=e,a.byId=t}if(a.byId[i]=s,o){const e=gt(n.source.type,s.source.type);"alias"===n.source.type&&n.source.path?a.aliases={...a.aliases,[n.source.path]:a.aliases[n.source.path].filter((e=>e!==i))}:se.path.targetTypesNotAllowed.includes(s.source.type)&&a.aliases[i]&&(a.aliases[i].forEach((e=>{a=Fi(e,a)})),delete a.aliases[i]),e&&n.childFields&&lt(n,a.byId).forEach((e=>{a=Fi(e.id,a)})),s={...s,...it(t.value,s.isMultiField),childFields:e?void 0:n.childFields,hasChildFields:!e&&n.hasChildFields,hasMultiFields:!e&&n.hasMultiFields,isExpanded:!e&&n.isExpanded},a.byId[i]=s}return a.maxNestedDepth=pt(a.byId),{...e,isValid:!0,fieldForm:void 0,fields:a,documentFields:{...e.documentFields,fieldToEdit:void 0,status:"idle"},search:Boolean(e.search.term)?{...e.search,result:Ti(e.search.term,a.byId)}:e.search}}case"field.toggleExpand":{const{fieldId:a,isExpanded:i}=t.value,n=e.fields.byId[a],s={...n,isExpanded:void 0===i?!n.isExpanded:i};return{...e,fields:{...e.fields,byId:{...e.fields.byId,[a]:s}}}}case"runtimeFieldsList.createField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"creatingField"}};case"runtimeFieldsList.editField":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"editingField",fieldToEdit:t.value}};case"runtimeField.add":{const a=at(),i={id:a,source:t.value};return{...e,runtimeFields:{...e.runtimeFields,[a]:i},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.edit":{const a=e.runtimeFieldsList.fieldToEdit;return{...e,runtimeFields:{...e.runtimeFields,[a]:t.value},runtimeFieldsList:{...e.runtimeFieldsList,status:"idle"}}}case"runtimeField.remove":{const a=e.runtimeFields[t.value],{id:i}=a,n={...e.runtimeFields};return delete n[i],{...e,runtimeFields:n}}case"runtimeFieldsList.closeRuntimeFieldEditor":return{...e,runtimeFieldsList:{...e.runtimeFieldsList,status:"idle",fieldToEdit:void 0}};case"fieldsJsonEditor.update":{const a={...e,fieldsJsonEditor:{format:()=>t.value.json,isValid:t.value.isValid}};return a.isValid=t.value.isValid,a}case"search:update":return{...e,search:{term:t.value,result:Ti(t.value,e.fields.byId)}};case"validity:update":return{...e,isValid:t.value}}},Si=Object(M.createContext)(void 0),Ci=Object(M.createContext)(void 0),Li=({children:e})=>{const t={isValid:!0,configuration:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},templates:{defaultValue:{},data:{internal:{},format:()=>({})},validate:()=>Promise.resolve(!0)},fields:{byId:{},rootLevelFields:[],aliases:{},maxNestedDepth:0},documentFields:{status:"idle",editor:"default"},runtimeFields:{},runtimeFieldsList:{status:"idle"},fieldsJsonEditor:{format:()=>({}),isValid:!0},search:{term:"",result:[]}},[a,i]=Object(M.useReducer)(_i,t);return Object(k.jsx)(Si.Provider,{value:a},Object(k.jsx)(Ci.Provider,{value:i},e))},wi=()=>{const e=Object(M.useContext)(Si);if(void 0===e)throw new Error("useMappingsState must be used within a <MappingsState>");return e},Ii=()=>{const e=Object(M.useContext)(Ci);if(void 0===e)throw new Error("useDispatch must be used within a <MappingsState>");return e},Di=Object(V.getUseField)({component:U.Field}),Pi=()=>Object(k.jsx)(U.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingTitle",{defaultMessage:"Dynamic mapping"}),description:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicMappingDescription",defaultMessage:"Dynamic mapping allows an index template to interpret unmapped fields. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getDynamicMappingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicMappingDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(Di,{path:"dynamicMapping.enabled",component:U.ToggleField,componentProps:{"data-test-subj":"dynamicMappingsToggle"}}))},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["dynamicMapping.enabled","dynamicMapping.date_detection"]},(e=>{const{dynamicMapping:{enabled:t,date_detection:a}}=e;return void 0===t?null:t?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(Di,{key:"numericDetectionToggle",path:"dynamicMapping.numeric_detection",componentProps:{"data-test-subj":"numericDetection"}}),Object(k.jsx)(Di,{path:"dynamicMapping.date_detection"}),a&&Object(k.jsx)(Di,{path:"dynamicMapping.dynamic_date_formats",componentProps:{euiFieldProps:{options:z,noSuggestions:!1}}})):Object(k.jsx)(Di,{key:"throwErrorsCheckBox",path:"dynamicMapping.throwErrorsForUnmappedFields",component:U.CheckBoxField})}))),Ni=()=>Object(k.jsx)(U.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldTitle",{defaultMessage:"_source field"}),description:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sourceFieldDescription",defaultMessage:"The _source field contains the original JSON document body that was provided at index time. Individual fields can be pruned by defining which ones to include or exclude from the _source field. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getMappingSourceFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(V.UseField,{path:"sourceField.enabled",component:U.ToggleField}))},Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["sourceField.enabled"]},(e=>{const{sourceField:{enabled:t}}=e;return void 0===t?null:t?Object(k.jsx)("div",{"data-test-subj":"sourceField"},Object(k.jsx)(V.UseField,{path:"sourceField.includes"},(({label:e,helpText:t,value:a,setValue:n})=>Object(k.jsx)(O.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(k.jsx)(O.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceIncludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{n(e)},onCreateOption:e=>{const t={label:e};n([...a,t])},fullWidth:!0,"data-test-subj":"includesField"})))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(V.UseField,{path:"sourceField.excludes"},(({label:e,helpText:t,value:a,setValue:n})=>Object(k.jsx)(O.EuiFormRow,{label:e,helpText:t,fullWidth:!0},Object(k.jsx)(O.EuiComboBox,{noSuggestions:!0,placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sourceExcludeField.placeholderLabel",{defaultMessage:"path.to.field.*"}),selectedOptions:a,onChange:e=>{n(e)},onCreateOption:e=>{const t={label:e};n([...a,t])},fullWidth:!0,"data-test-subj":"excludesField"}))))):Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutTitle",{defaultMessage:"Use caution when disabling the _source field"}),iconType:"alert",color:"warning"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1",defaultMessage:"Disabling {source} lowers storage overhead within the index, but this comes at a cost. It also disables important features, such as the ability to reindex or debug queries by viewing the original document.",values:{source:Object(k.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription1.sourceText",{defaultMessage:"_source"}))}})),Object(k.jsx)("p",null,Object(k.jsx)("a",{href:oe.getDisablingMappingSourceFieldLink(),target:"_blank"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2",defaultMessage:"Learn more about alternatives to disabling the {source} field.",values:{source:Object(k.jsx)("code",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.disabledSourceFieldCallOutDescription2.sourceText",{defaultMessage:"_source"}))}}))))}))),Ai=Object(V.getUseField)({component:U.Field}),Ri=()=>Object(k.jsx)(U.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getMetaFieldLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldDocumentionLink",{defaultMessage:"Learn more."}))}}))},Object(k.jsx)(Ai,{path:"metaField",component:U.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"400px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}})),zi=()=>Object(k.jsx)(U.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingTitle",{defaultMessage:"_routing"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.routingDescription",defaultMessage:"A document can be routed to a particular shard in an index. When using custom routing, it is important to provide the routing value whenever indexing a document as otherwise this could lead to a document being indexed on more than one shard. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getRoutingLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.routingDocumentionLink",{defaultMessage:"Learn more."}))}})},Object(k.jsx)(V.UseField,{path:"_routing.required",component:U.ToggleField,componentProps:{"data-test-subj":"routingRequiredToggle"}})),Bi=()=>Object(k.jsx)(U.FormRow,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeTitle",{defaultMessage:"_size"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.sizeDescription",defaultMessage:"The Mapper Size plugin can index the size of the original {_source} field. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.docLinks.plugins.mapperSize,target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.sizeDocumentionLink",{defaultMessage:"Learn more."})),_source:Object(k.jsx)(O.EuiCode,null,"_source")}})},Object(k.jsx)(V.UseField,{path:"_size.enabled",component:U.ToggleField,componentProps:{"data-test-subj":"sizeEnabledToggle"}})),{isJsonField:Vi}=q.fieldValidators,Ui={helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldPathComboBoxHelpText",{defaultMessage:"Accepts a path to the field, including wildcards."}),type:V.FIELD_TYPES.COMBO_BOX,defaultValue:[],serializer:e=>e.map((({label:e})=>e)),deserializer:e=>e.map((e=>({label:e})))},qi={metaField:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorLabel",{defaultMessage:"_meta field data"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:Vi(i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{const t=JSON.parse(e);if(!Object.keys(t).length)return;return t}catch(t){return e}}},sourceField:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sourceFieldLabel",{defaultMessage:"Enable _source field"}),type:V.FIELD_TYPES.TOGGLE,defaultValue:!0},includes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.includeSourceFieldsLabel",{defaultMessage:"Include fields"}),...Ui},excludes:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.excludeSourceFieldsLabel",{defaultMessage:"Exclude fields"}),...Ui}},dynamicMapping:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.enableDynamicMappingsLabel",{defaultMessage:"Enable dynamic mapping"}),type:V.FIELD_TYPES.TOGGLE,defaultValue:!0},throwErrorsForUnmappedFields:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.throwErrorsForUnmappedFieldsLabel",{defaultMessage:"Throw an exception when a document contains an unmapped field"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicMappingStrictHelpText",{defaultMessage:"By default, unmapped fields will be silently ignored when dynamic mapping is disabled. Optionally, you can choose to throw an exception when a document contains an unmapped field."}),type:V.FIELD_TYPES.CHECKBOX,defaultValue:!1},numeric_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldLabel",{defaultMessage:"Map numeric strings as numbers"}),helpText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.numericFieldDescription",{defaultMessage:'For example, "1.0" would be mapped as a float and "1" would be mapped as an integer.'}),type:V.FIELD_TYPES.TOGGLE,defaultValue:!1},date_detection:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dateDetectionFieldLabel",{defaultMessage:"Map date strings as dates"}),type:V.FIELD_TYPES.TOGGLE,defaultValue:!0},dynamic_date_formats:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldLabel",{defaultMessage:"Date formats"}),helpText:()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldHelpText",defaultMessage:"Strings in these formats will be mapped as dates. You can use built-in formats or custom formats. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getDateFormatLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.dynamicDatesFieldDocumentionLink",{defaultMessage:"Learn more."}))}}),type:V.FIELD_TYPES.COMBO_BOX,defaultValue:["strict_date_optional_time","yyyy/MM/dd HH:mm:ss Z||yyyy/MM/dd Z"]}},_routing:{required:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.routingLabel",{defaultMessage:"Require _routing value for CRUD operations"}),defaultValue:!1}},_size:{enabled:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.configuration.sizeLabel",{defaultMessage:"Index the _source field size in bytes"}),defaultValue:!1}}},$i=e=>{const{dynamicMapping:{enabled:t,throwErrorsForUnmappedFields:a,numeric_detection:i,date_detection:n,dynamic_date_formats:s},sourceField:r,metaField:o,_routing:l,_size:c}=e;return{dynamic:!!t||!!a&&"strict",numeric_detection:i,date_detection:n,dynamic_date_formats:s,_source:r,_meta:o,_routing:l,_size:c}},Wi=e=>{const{dynamic:t,numeric_detection:a,date_detection:i,dynamic_date_formats:n,_source:{enabled:s,includes:r,excludes:o}={},_meta:l,_routing:c,_size:d}=e;return{dynamicMapping:{enabled:!0===t||void 0===t,throwErrorsForUnmappedFields:"strict"===t,numeric_detection:a,date_detection:i,dynamic_date_formats:n},sourceField:{enabled:!0===s||void 0===s,includes:r,excludes:o},metaField:null!=l?l:{},_routing:c,_size:d}},Hi=y.a.memo((({value:e,esNodesPlugins:t})=>{const a=Object(M.useRef)(!1),{form:i}=Object(V.useForm)({schema:qi,serializer:$i,deserializer:Wi,defaultValue:e,id:"configurationForm"}),n=Ii(),{subscribe:s,submit:r,reset:o,getFormData:l}=i,c=void 0!==(null==e?void 0:e._size)||t.includes(re);return Object(M.useEffect)((()=>s((({data:e,isValid:t,validate:a})=>{n({type:"configuration.update",value:{data:e,isValid:t,validate:a,submitForm:r}})})).unsubscribe),[n,s,r]),Object(M.useEffect)((()=>{a.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(M.useEffect)((()=>(a.current=!0,()=>{a.current=!1;const e=l();n({type:"configuration.save",value:e})})),[l,n]),Object(k.jsx)(V.Form,{form:i,isInvalid:i.isSubmitted&&!i.isValid,error:i.getErrors(),"data-test-subj":"advancedConfiguration"},Object(k.jsx)(Pi,null),Object(k.jsx)(O.EuiSpacer,{size:"xl"}),Object(k.jsx)(Ri,null),Object(k.jsx)(O.EuiSpacer,{size:"xl"}),Object(k.jsx)(Ni,null),Object(k.jsx)(O.EuiSpacer,{size:"xl"}),Object(k.jsx)(zi,null),c&&Object(k.jsx)(Bi,null))}));var Gi=a(34),Ji=a.n(Gi);const Yi={alias:({allFields:e})=>Object(k.jsx)(Sa,{allFields:e}),token_count:()=>Object(k.jsx)(U.FormRow,{title:Object(k.jsx)("h3",null,i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldTitle",{defaultMessage:"Analyzer"})),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCount.analyzerFieldDescription",{defaultMessage:"The analyzer which should be used to analyze the string value. For best performance, use an analyzer without token filters."})},Object(k.jsx)(ya,{path:"analyzer",label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.tokenCountRequired.analyzerFieldLabel",{defaultMessage:"Index analyzer"}),defaultValue:h,allowsIndexDefaultOption:!1})),scaled_float:()=>Object(k.jsx)(U.FormRow,{title:Object(k.jsx)("h3",null,se.scaling_factor.title),description:se.scaling_factor.description},Object(k.jsx)(V.UseField,{path:"scaling_factor",config:st("scaling_factor"),component:U.Field})),dense_vector:()=>{const{label:e}=st("dims");return Object(k.jsx)(U.FormRow,{title:Object(k.jsx)("h3",null,e),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.denseVector.dimsFieldDescription",{defaultMessage:"Each document’s dense vector is encoded as a binary doc value. Its size in bytes is equal to 4 * dimensions + 4."})},Object(k.jsx)(V.UseField,{path:"dims",config:st("dims"),component:U.Field}))}},Ki=e=>Object(k.jsx)("form",e),Xi=y.a.memo((function({allFields:e,isRootLevelField:t,isMultiField:a,paddingLeft:n,isCancelable:s,maxNestedDepth:r}){const o=Ii(),{form:l}=Object(V.useForm)({serializer:ni,options:{stripEmptyFields:!1}}),{subscribe:c}=l;Object(M.useEffect)((()=>c((e=>{o({type:"fieldForm.update",value:e})})).unsubscribe),[o,c]);const d=()=>{o({type:"documentField.changeStatus",value:"idle"})},u=async(e,t=!1)=>{e&&e.preventDefault();const{isValid:a,data:i}=await l.submit();a&&(l.reset(),o({type:"field.add",value:i}),t&&d())};return Object(k.jsx)(O.EuiOutsideClickDetector,{onOutsideClick:()=>{""===l.getFields().name.value.trim()?!1!==s&&d():u(void 0,!0)}},Object(k.jsx)(V.Form,{form:l,FormWrapper:Ki,onSubmit:u,"data-test-subj":"createFieldForm"},Object(k.jsx)("div",{className:Ji()("mappingsEditor__createFieldWrapper",{"mappingsEditor__createFieldWrapper--toggle":Boolean(r)&&r>0,"mappingsEditor__createFieldWrapper--multiField":a}),style:{paddingLeft:`${a?n-24:n}px`}},Object(k.jsx)("div",{className:"mappingsEditor__createFieldContent"},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",alignItems:"center",justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{className:"mappingsEditor__createFieldContent__formFields"},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(da,null)),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(Na,{isRootLevelField:t,isMultiField:a,showDocLink:!0})),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:"type"},(({type:e})=>{if(void 0===e)return null;const[i]=e;return Object(k.jsx)(Va,{key:i.value,type:i.value,isMultiField:null!=a&&a,isRootLevelField:t})})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",justifyContent:"flexEnd"},!1!==s&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{onClick:d,"data-test-subj":"cancelButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.cancelButtonLabel",{defaultMessage:"Cancel"}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{color:"primary",fill:!0,onClick:u,type:"submit","data-test-subj":"addButton"},a?i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addMultiFieldButtonLabel",{defaultMessage:"Add multi-field"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.createField.addFieldButtonLabel",{defaultMessage:"Add field"})))))),Object(k.jsx)(V.FormDataProvider,{pathsToWatch:["type","subType"]},(({type:t,subType:a})=>{const i=((e,t)=>Yi[t]||Yi[e])(null==t?void 0:t[0].value,null==a?void 0:a[0].value);if(!i)return null;const n=F[null==t?void 0:t[0].value];return Object(k.jsx)("div",{className:"mappingsEditor__createFieldRequiredProps"},n.isBeta?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(Jt,null),Object(k.jsx)(O.EuiSpacer,{size:"m"})):null,Object(k.jsx)(i,{key:null!=a?a:t,allFields:e}))}))))))})),Zi=({children:e})=>{const[t,a]=Object(M.useState)({isModalOpen:!1}),n=Ii(),{fields:s}=wi(),{byId:r}=s,o=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let l;if(t.field){const{isMultiField:e,source:a}=t.field;l=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteField.confirmationModal.title",{defaultMessage:"Remove {fieldType} '{fieldName}'?",values:{fieldType:e?"multi-field":"field",fieldName:a.name}})}const c=()=>{a({isModalOpen:!1})};return Object(k.jsx)(y.a.Fragment,null,e((e=>{const t=ct(e,s).map((e=>r[e].path.join(" > "))).sort(),i=Boolean(t.length);a({isModalOpen:!0,field:e,aliases:i?t:void 0})})),t.isModalOpen&&Object(k.jsx)(Mt,{title:l,childFields:t.field&&t.field.childFields,aliases:t.aliases,byId:r,confirmButtonText:o,onConfirm:()=>{n({type:"field.remove",value:t.field.id}),c()},onCancel:c}))},Qi={addMultiFieldButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addMultiFieldTooltipLabel",{defaultMessage:"Add a multi-field to index the same field in different ways."}),addPropertyButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.addPropertyButtonLabel",{defaultMessage:"Add property"}),editButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),deleteButtonLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"}),fieldIsShadowedLabel:i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldIsShadowedLabel",{defaultMessage:"Field shadowed by a runtime field with the same name."})};function en({field:e,allFields:t,isHighlighted:a,isDimmed:n,isCreateFieldFormVisible:s,areActionButtonsVisible:r,isLastItem:o,isShadowed:l=!1,childFieldsArray:c,maxNestedDepth:d,addField:u,editField:p,toggleExpand:m,treeDepth:g},f){const{source:x,isMultiField:b,canHaveChildFields:j,hasChildFields:h,canHaveMultiFields:M,hasMultiFields:y,isExpanded:v,path:T}=e,E=0===d?12:0,F=24*g-E,_=24*(g+1)+4-E,S=b?!o:M&&v,C=`${T.join("")}Field`;return Object(k.jsx)("li",{className:Ji()("mappingsEditor__fieldsListItem",{"mappingsEditor__fieldsListItem--dottedLine":S}),"data-test-subj":`fieldsListItem ${C}`,ref:f},Object(k.jsx)("div",{style:{paddingLeft:`${F}px`},className:Ji()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":r,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":n})},Object(k.jsx)("div",{className:Ji()("mappingsEditor__fieldsListItem__wrapper",{"mappingsEditor__fieldsListItem__wrapper--indent":0===g&&0===d})},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Ji()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":h||y,"mappingsEditor__fieldsListItem__content--multiField":b,"mappingsEditor__fieldsListItem__content--indent":!h&&!y&&d>g})},(h||y)&&Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__toggle"},Object(k.jsx)(O.EuiButtonIcon,{color:"text",onClick:m,iconType:v?"arrowDown":"arrowRight","data-test-subj":"toggleExpandButton","aria-label":v?i.i18n.translate("xpack.idxMgmt.mappingsEditor.collapseFieldButtonLabel",{defaultMessage:"Collapse field {name}",values:{name:x.name}}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.expandFieldButtonLabel",{defaultMessage:"Expand field {name}",values:{name:x.name}})})),b&&Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__icon"},Object(k.jsx)(O.EuiIcon,{color:"subdued",type:"documents"})),Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":`fieldName ${C}-fieldName`},x.name),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiBadge,{color:"hollow","data-test-subj":`${C}-datatype`,"data-type-value":x.type},b?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:nt(x)}}):nt(x))),l&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:Qi.fieldIsShadowedLabel},Object(k.jsx)(O.EuiBadge,{color:"warning","data-test-subj":"isShadowedIndicator"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.shadowedBadgeLabel",{defaultMessage:"Shadowed"})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},(()=>{if(!r)return null;const{addMultiFieldButtonLabel:t,addPropertyButtonLabel:a,editButtonLabel:i,deleteButtonLabel:n}=Qi;return Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},M&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:t},Object(k.jsx)(O.EuiButtonIcon,{iconType:"documents",onClick:u,"data-test-subj":"addMultiFieldButton","aria-label":t}))),j&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:a},Object(k.jsx)(O.EuiButtonIcon,{iconType:"plusInCircle",onClick:u,"data-test-subj":"addPropertyButton","aria-label":a}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:i},Object(k.jsx)(O.EuiButtonIcon,{iconType:"pencil",onClick:p,"data-test-subj":"editFieldButton","aria-label":i}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Zi,null,(t=>Object(k.jsx)(O.EuiToolTip,{content:n},Object(k.jsx)(O.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))),Boolean(c.length)&&v&&Object(k.jsx)(nn,{fields:c,treeDepth:g+1}),s?Object(k.jsx)(Xi,{allFields:t,isRootLevelField:!1,isMultiField:M,paddingLeft:_,maxNestedDepth:d}):null)}const tn=y.a.memo(Object(M.forwardRef)(en)),an=({fieldId:e,treeDepth:t,isLastItem:a})=>{const i=Ii(),n=Object(M.useRef)(null),{documentFields:{status:s,fieldToAddFieldTo:r,fieldToEdit:o},fields:{byId:l,maxNestedDepth:c,rootLevelFields:d},runtimeFields:u}=wi(),p=Object(M.useCallback)((e=>l[e]),[l]),m=Object.values(u).map((e=>e.source.name)),g=p(e),{childFields:f}=g,x=o===e,b="editingField"===s&&o!==e,j="creatingField"===s&&r===e,h="idle"===s,y=Object(M.useMemo)((()=>void 0!==f?f.map(p):[]),[f,p]),O=d.includes(e)&&m.includes(g.source.name),v=Object(M.useCallback)((()=>{i({type:"documentField.createField",value:e})}),[e,i]),T=Object(M.useCallback)((()=>{i({type:"documentField.editField",value:e})}),[e,i]),E=Object(M.useCallback)((()=>{i({type:"field.toggleExpand",value:{fieldId:e}})}),[e,i]);return Object(k.jsx)(tn,{ref:n,field:g,allFields:l,treeDepth:t,isHighlighted:x,isDimmed:b,isShadowed:O,isCreateFieldFormVisible:j,areActionButtonsVisible:h,isLastItem:a,childFieldsArray:y,maxNestedDepth:c,addField:v,editField:T,toggleExpand:E})},nn=y.a.memo((function({fields:e,treeDepth:t}){return void 0===e?null:Object(k.jsx)("ul",{className:"mappingsEditor__fieldsList","data-test-subj":"fieldsList"},e.map(((a,i)=>Object(k.jsx)(an,{key:a.id,fieldId:a.id,treeDepth:void 0===t?0:t,isLastItem:i===e.length-1}))))})),sn=y.a.memo((({searchValue:e,onSearchChange:t})=>Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.documentFieldsDescription",defaultMessage:"Define the fields for your indexed documents. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getMappingTypesLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFieldsDocumentationLink",{defaultMessage:"Learn more."}))}}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFieldSearch,{style:{minWidth:"350px"},placeholder:i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsPlaceholder",{defaultMessage:"Search fields"}),value:e,onChange:e=>{t("string"==typeof e?e:e.target.value)},"aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.documentFields.searchFieldsAriaLabel",{defaultMessage:"Search mapped fields"})}))))),rn=({defaultValue:e})=>{const t=Ii(),a=Object(M.useRef)(e),i=Object(M.useCallback)((({data:e,isValid:a})=>t({type:"fieldsJsonEditor.update",value:{json:e.format(),isValid:a}})),[t]);return Object(k.jsx)($.JsonEditor,{onUpdate:i,defaultValue:a.current})},on=()=>{const e=Ii(),{fields:{byId:t,rootLevelFields:a},documentFields:{status:n,fieldToAddFieldTo:s}}=wi(),r=Object(M.useCallback)((e=>t[e]),[t]),o=Object(M.useMemo)((()=>a.map(r)),[a,r]),l=Object(M.useCallback)((()=>{e({type:"documentField.createField"})}),[e]);return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(nn,{fields:o}),"creatingField"===n&&void 0===s?Object(k.jsx)(Xi,{isCancelable:o.length>0,allFields:t,isRootLevelField:!0}):null,(()=>{const e="idle"!==n;return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiButtonEmpty,{disabled:e,onClick:l,iconType:"plusInCircleFilled","data-test-subj":"addFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addFieldButtonLabel",{defaultMessage:"Add field"})))})())};var ln=a(107),cn=a.n(ln);const dn=y.a.memo((function({item:{display:e,field:t},areActionButtonsVisible:a,isHighlighted:n,isDimmed:s}){const r=Ii(),{source:o,isMultiField:l,hasChildFields:c,hasMultiFields:d}=t,u=()=>{r({type:"documentField.editField",value:t.id})};return Object(k.jsx)("div",{className:Ji()("mappingsEditor__fieldsListItem"),"data-test-subj":"fieldsListItem"},Object(k.jsx)("div",{className:Ji()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":a,"mappingsEditor__fieldsListItem__field--selected":n,"mappingsEditor__fieldsListItem__field--dim":s})},Object(k.jsx)("div",{className:Ji()("mappingsEditor__fieldsListItem__wrapper")},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:Ji()("mappingsEditor__fieldsListItem__content",{"mappingsEditor__fieldsListItem__content--toggle":c||d,"mappingsEditor__fieldsListItem__content--multiField":l})},Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name"},e),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiBadge,{color:"hollow"},l?i.i18n.translate("xpack.idxMgmt.mappingsEditor.multiFieldBadgeLabel",{defaultMessage:"{dataType} multi-field",values:{dataType:F[o.type].label}}):nt(o))),Object(k.jsx)(O.EuiFlexItem,null,(()=>{if(!a)return null;const e=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editFieldButtonLabel",{defaultMessage:"Edit"}),n=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeFieldButtonLabel",{defaultMessage:"Remove"});return Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:e},Object(k.jsx)(O.EuiButtonIcon,{iconType:"pencil",onClick:u,"data-test-subj":"editFieldButton","aria-label":e}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Zi,null,(e=>Object(k.jsx)(O.EuiToolTip,{content:n},Object(k.jsx)(O.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>e(t),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))))})),un=y.a.memo((({result:e,documentFieldsState:{status:t,fieldToEdit:a},style:i})=>{const n=Ii(),s=Math.min(64*e.length,600);return 0===e.length?Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"search",title:Object(k.jsx)("h3",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPromptTitle",defaultMessage:"No fields match your search"})),actions:Object(k.jsx)(O.EuiButton,{onClick:()=>{n({type:"search:update",value:""})}},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"}))}):Object(k.jsx)(cn.a,{style:{overflowX:"hidden",...i},width:"100%",height:s,itemCount:e.length,itemSize:64,overscanCount:4,renderItem:({index:i,style:n})=>{const s=e[i];return Object(k.jsx)("div",{key:s.field.id,style:n},Object(k.jsx)(dn,{item:s,areActionButtonsVisible:"idle"===t,isDimmed:"editingField"===t&&a!==s.field.id,isHighlighted:"editingField"===t&&a===s.field.id}))}})})),{useGlobalFlyout:pn}=$.GlobalFlyout,mn=y.a.memo((()=>{const{fields:e,search:t,documentFields:a}=wi(),i=Ii(),{addContent:n,removeContent:s}=pn(),{editor:r}=a,o="editingField"===a.status,l=Object(M.useMemo)((()=>{if("json"===r)return ot(e)}),[r,e]),c="json"===r?Object(k.jsx)(rn,{defaultValue:l}):Object(k.jsx)(on,null),d=Object(M.useCallback)((e=>{i({type:"search:update",value:e})}),[i]),u=Object(M.useCallback)((()=>{i({type:"documentField.changeStatus",value:"idle"})}),[i]);Object(M.useEffect)((()=>{o&&n({id:"mappingsEditField",Component:ta,props:{exitEdit:u},flyoutProps:{...ea,onClose:u},cleanUpFunc:u})}),[o,n,e.byId,u]),Object(M.useEffect)((()=>{o||s("mappingsEditField")}),[o,s]),Object(M.useEffect)((()=>()=>{o&&u()}),[o,u]);const p=t.term.trim();return Object(k.jsx)("div",{"data-test-subj":"documentFields"},Object(k.jsx)(sn,{searchValue:t.term,onSearchChange:d}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),""!==p?Object(k.jsx)(un,{result:t.result,documentFieldsState:a}):c)})),gn=({createField:e,runtimeFieldsDocsUri:t})=>Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(k.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptTitle",{defaultMessage:"Start by creating a runtime field"})),body:Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDescription",defaultMessage:"Define a field in the mapping and evaluate it at search time."}),Object(k.jsx)("br",null),Object(k.jsx)(O.EuiLink,{href:t,target:"_blank","data-test-subj":"learnMoreLink",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(k.jsx)(O.EuiButton,{onClick:()=>e(),iconType:"plusInCircle","data-test-subj":"createRuntimeFieldButton",fill:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFields.emptyPromptButtonLabel",{defaultMessage:"Create runtime field"}))}),fn=({children:e})=>{const[t,a]=Object(M.useState)({isModalOpen:!1}),n=Ii(),s=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.removeButtonLabel",{defaultMessage:"Remove"});let r;if(t.field){const{source:e}=t.field;r=i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.title",{defaultMessage:"Remove runtime field '{fieldName}'?",values:{fieldName:e.name}})}const o=()=>{a({isModalOpen:!1})};return Object(k.jsx)(y.a.Fragment,null,e((e=>{a({isModalOpen:!0,field:e})})),t.isModalOpen&&Object(k.jsx)(O.EuiConfirmModal,{title:r,"data-test-subj":"runtimeFieldDeleteConfirmModal",onCancel:o,onConfirm:()=>{n({type:"runtimeField.remove",value:t.field.id}),o()},cancelButtonText:i.i18n.translate("xpack.idxMgmt.mappingsEditor.deleteRuntimeField.confirmationModal.cancelButtonLabel",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:s}))};function xn({field:e,areActionButtonsVisible:t,isHighlighted:a,isDimmed:n,editField:s},r){const{source:o}=e;return Object(k.jsx)("li",{className:"mappingsEditor__fieldsListItem","data-test-subj":"runtimeFieldsListItem"},Object(k.jsx)("div",{className:Ji()("mappingsEditor__fieldsListItem__field",{"mappingsEditor__fieldsListItem__field--enabled":t,"mappingsEditor__fieldsListItem__field--highlighted":a,"mappingsEditor__fieldsListItem__field--dim":n})},Object(k.jsx)("div",{className:"mappingsEditor__fieldsListItem__wrapper mappingsEditor__fieldsListItem__wrapper--indent"},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"mappingsEditor__fieldsListItem__content"},Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"mappingsEditor__fieldsListItem__name","data-test-subj":"fieldName"},o.name),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiBadge,{color:"hollow","data-test-subj":"fieldType","data-type-value":o.type},nt(o))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},(()=>{if(!t)return null;const a=i.i18n.translate("xpack.idxMgmt.mappingsEditor.editRuntimeFieldButtonLabel",{defaultMessage:"Edit"}),n=i.i18n.translate("xpack.idxMgmt.mappingsEditor.removeRuntimeFieldButtonLabel",{defaultMessage:"Remove"});return Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s",className:"mappingsEditor__fieldsListItem__actions"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiToolTip,{content:a},Object(k.jsx)(O.EuiButtonIcon,{iconType:"pencil",onClick:s,"data-test-subj":"editFieldButton","aria-label":a}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(fn,null,(t=>Object(k.jsx)(O.EuiToolTip,{content:n},Object(k.jsx)(O.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:()=>t(e),"data-test-subj":"removeFieldButton","aria-label":n}))))))})())))))}const bn=y.a.memo(xn),jn=({fieldId:e})=>{const t=Ii(),{runtimeFieldsList:{status:a,fieldToEdit:i},runtimeFields:n}=wi(),s=Object(M.useCallback)((e=>n[e]),[n])(e),r=i===e,o="editingField"===a&&i!==e,l="idle"===a,c=Object(M.useCallback)((()=>{t({type:"runtimeFieldsList.editField",value:e})}),[e,t]);return Object(k.jsx)(bn,{field:s,isHighlighted:r,isDimmed:o,areActionButtonsVisible:l,editField:c})},{useGlobalFlyout:hn}=$.GlobalFlyout,Mn=()=>{const e=oe.getRuntimeFields(),{runtimeFields:t,runtimeFieldsList:{status:a,fieldToEdit:n},fields:s}=wi(),r=Ii(),{addContent:o,removeContent:l}=hn(),{value:{docLinks:c}}=ba(),d=Object(M.useCallback)((()=>{r({type:"runtimeFieldsList.createField"})}),[r]),u=Object(M.useCallback)((()=>{r({type:"runtimeFieldsList.closeRuntimeFieldEditor"})}),[r]),p=Object(M.useCallback)((e=>{r(n?{type:"runtimeField.edit",value:{id:n,source:e}}:{type:"runtimeField.add",value:e})}),[r,n]);Object(M.useEffect)((()=>{var e;"creatingField"===a||"editingField"===a?o({id:"runtimeFieldEditor",Component:W.RuntimeFieldEditorFlyoutContent,props:{onSave:p,onCancel:u,defaultValue:n?null===(e=t[n])||void 0===e?void 0:e.source:void 0,docLinks:c,ctx:{namesNotAllowed:Object.values(t).map((e=>e.source.name)),existingConcreteFields:Object.values(s.byId).map((e=>({name:e.source.name,type:e.source.type})))}},flyoutProps:{"data-test-subj":"runtimeFieldEditor","aria-labelledby":"runtimeFieldEditorEditTitle",maxWidth:720,onClose:u},cleanUpFunc:u}):"idle"===a&&l("runtimeFieldEditor")}),[a,n,t,s,c,o,l,p,u]);const m=Object.entries(t),g=0===m.length,f="idle"!==a;return g?Object(k.jsx)(gn,{createField:d,runtimeFieldsDocsUri:e}):Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.runtimeFieldsDescription",defaultMessage:"Define the runtime fields accessible at search time. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:e,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)("ul",null,m.map((([e])=>Object(k.jsx)(jn,{key:e,fieldId:e})))),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiButtonEmpty,{disabled:f,onClick:d,iconType:"plusInCircleFilled","data-test-subj":"createRuntimeFieldButton"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.addRuntimeFieldButtonLabel",{defaultMessage:"Add field"})))},{isJsonField:yn}=q.fieldValidators,On={dynamicTemplates:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorLabel",{defaultMessage:"Dynamic templates data"}),validations:[{validator:yn(i.i18n.translate("xpack.idxMgmt.mappingsEditor.templates.dynamicTemplatesEditorJsonError",{defaultMessage:"The dynamic templates JSON is not valid."}))}]}},vn=e=>{const{dynamicTemplates:t}=e;let a;try{a=JSON.parse(t),Array.isArray(a)||(a=[a])}catch{}return{dynamic_templates:Array.isArray(a)&&a.length>0?a:[]}},Tn=e=>{const{dynamic_templates:t}=e;return{dynamicTemplates:(a=t,Array.isArray(a)?JSON.stringify(a,null,2):"[\n\n]")};var a},En=y.a.memo((({value:e})=>{const t=Object(M.useRef)(!1),{form:a}=Object(V.useForm)({schema:On,serializer:vn,deserializer:Tn,defaultValue:e}),{subscribe:n,getFormData:s,submit:r,reset:o}=a,l=Ii();return Object(M.useEffect)((()=>n((({data:e,isValid:t,validate:a})=>{l({type:"templates.update",value:{data:e,isValid:t,validate:a,submitForm:r}})})).unsubscribe),[n,l,r]),Object(M.useEffect)((()=>{t.current&&o({resetValues:!0,defaultValue:e})}),[e,o]),Object(M.useEffect)((()=>(t.current=!0,()=>{t.current=!1;const e=s();l({type:"templates.save",value:e})})),[s,l]),Object(k.jsx)("div",{"data-test-subj":"dynamicTemplates"},Object(k.jsx)(O.EuiText,{size:"s",color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.dynamicTemplatesDescription",defaultMessage:"Use dynamic templates to define custom mappings that can be applied to dynamically added fields. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getDynamicTemplatesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesDocumentationLink",{defaultMessage:"Learn more."}))}})),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(V.Form,{form:a,isInvalid:a.isSubmitted&&!a.isValid,error:a.getErrors()},Object(k.jsx)(V.UseField,{path:"dynamicTemplates",component:U.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"dynamicTemplatesEditor",height:"600px","aria-label":i.i18n.translate("xpack.idxMgmt.mappingsEditor.dynamicTemplatesEditorAriaLabel",{defaultMessage:"Dynamic templates editor"})}}})))})),kn=()=>Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutTitle",{defaultMessage:"Mapping types detected"}),iconType:"alert",color:"warning","data-test-subj":"mappingTypesDetectedCallout"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDescription",defaultMessage:"The mappings for this template uses types, which have been removed. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getAlternativeToMappingTypesLink(),target:"_blank"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.mappingTypesDetectedCallOutDocumentationLink",{defaultMessage:"Consider these alternatives to mapping types."}))}}))),Fn=y.a.memo((({onChange:e,value:t,docLinks:a,indexSettings:n,esNodesPlugins:s})=>{const{parsedDefaultValue:r,multipleMappingsDeclared:o}=Object(M.useMemo)((()=>{const e=((e={})=>{if(Ei(e))return e;const t=Object.values(e).reduce(((e,t)=>(Ei(t)&&e.push(t),e)),[]);return 0===t.length?null:1===t.length?t[0]:null})(t);if(null===e)return{multipleMappingsDeclared:!0};const{_source:a,_meta:i,_routing:n,_size:s,dynamic:r,properties:o,runtime:l,numeric_detection:c,date_detection:d,dynamic_date_formats:u,dynamic_templates:p}=e;return{parsedDefaultValue:{configuration:{_source:a,_meta:i,_routing:n,_size:s,dynamic:r,numeric_detection:c,date_detection:d,dynamic_date_formats:u},fields:o,templates:{dynamic_templates:p},runtime:l},multipleMappingsDeclared:!1}}),[t]);(({onChange:e,value:t})=>{const a=wi(),i=Ii(),{fields:n,runtime:s}=null!=t?t:{},r=Object(M.useMemo)((()=>rt(n)),[n]),o=Object(M.useMemo)((()=>((e={})=>Object.entries(e).reduce(((e,[t,a])=>{const i=at();return{...e,[i]:{id:i,source:{name:t,...a}}}}),{}))(s)),[s]);Object(M.useEffect)((()=>{const t=void 0!==a.fieldForm&&(void 0===a.fieldForm.data.internal.name||""===a.fieldForm.data.internal.name.trim()),n="creatingField"===a.documentFields.status&&t;e({getData:()=>{const e="json"===a.documentFields.editor?a.fieldsJsonEditor.format():ot(a.fields),t=(e=>Object.values(e).reduce(((e,{source:t})=>{const{name:a,...i}=t;return{...e,[a]:i}}),{}))(a.runtimeFields),i=a.configuration.data.format(),n=a.templates.data.format(),s={...ft({...i,...n})};return e&&Object.keys(e).length>0&&(s.properties=e),t&&Object.keys(t).length>0&&(s.runtime=t),Object.keys(s).length>0?s:void 0},validate:async()=>{const e=[void 0!==a.configuration.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await a.configuration.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0),void 0!==a.templates.submitForm?new Promise((async(e,t)=>{try{const{isValid:t}=await a.templates.submitForm();e(t)}catch(e){t(e)}})):Promise.resolve(!0)];return void 0===a.fieldForm||n||e.push(a.fieldForm.validate()),Promise.all(e).then((e=>{const t=e.every(Boolean)&&a.fieldsJsonEditor.isValid;return i({type:"validity:update",value:t}),t}))},isValid:a.isValid})}),[a,e,i]),Object(M.useEffect)((()=>{void 0!==t&&i({type:"editor.replaceMappings",value:{configuration:t.configuration,templates:t.templates,fields:r,documentFields:{status:0===r.rootLevelFields.length?"creatingField":"idle",editor:"default"},runtimeFields:o}})}),[t,r,i,o])})({onChange:e,value:r});const{update:l}=ba(),c=wi(),[d,u]=Object(M.useState)("fields");Object(M.useEffect)((()=>{o&&e({getData:()=>t,validate:()=>Promise.resolve(!0),isValid:!0})}),[o,e,t]),Object(M.useEffect)((()=>{l({docLinks:a,indexSettings:null!=n?n:{}})}),[l,a,n]);const p=async e=>{if("advanced"===d){const{isValid:e}=await c.configuration.submitForm();if(!e)return}else if("templates"===d){const{isValid:e}=await c.templates.submitForm();if(!e)return}u(e)},m={fields:Object(k.jsx)(mn,null),runtimeFields:Object(k.jsx)(Mn,null),templates:Object(k.jsx)(En,{value:c.templates.defaultValue}),advanced:Object(k.jsx)(Hi,{value:c.configuration.defaultValue,esNodesPlugins:s})};return Object(k.jsx)("div",{"data-test-subj":"mappingsEditor"},o?Object(k.jsx)(kn,null):Object(k.jsx)("div",{className:"mappingsEditor"},Object(k.jsx)(O.EuiTabs,null,Object(k.jsx)(O.EuiTab,{onClick:()=>p("fields"),isSelected:"fields"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.fieldsTabLabel",{defaultMessage:"Mapped fields"})),Object(k.jsx)(O.EuiTab,{onClick:()=>p("runtimeFields"),isSelected:"runtimeFields"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.runtimeFieldsTabLabel",{defaultMessage:"Runtime fields"})),Object(k.jsx)(O.EuiTab,{onClick:()=>p("templates"),isSelected:"templates"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.templatesTabLabel",{defaultMessage:"Dynamic templates"})),Object(k.jsx)(O.EuiTab,{onClick:()=>p("advanced"),isSelected:"advanced"===d,"data-test-subj":"formTab"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.advancedTabLabel",{defaultMessage:"Advanced options"}))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),m[d]))})),_n=({onJson:e,esNodesPlugins:t,children:a})=>{var n,s;const[r,o]=Object(M.useState)({isModalOpen:!1}),[l,c]=Object(M.useState)(1),d=Object(M.useRef)(),u=void 0!==r.json&&void 0!==r.errors?"validationResult":"json",p=((e,t=0)=>({modalTitle:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModalTitle",{defaultMessage:"Load JSON"}),buttons:{confirm:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.loadButtonLabel",{defaultMessage:"Load and overwrite"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.acceptWarningLabel",{defaultMessage:"Continue loading"}),cancel:"json"===e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.cancelButtonLabel",{defaultMessage:"Cancel"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.goBackButtonLabel",{defaultMessage:"Go back"})},editor:{label:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorLabel",{defaultMessage:"Mappings object"})},validationErrors:{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorTitle",defaultMessage:"{totalErrors} {totalErrors, plural, one {invalid option} other {invalid options}} detected in {mappings} object",values:{totalErrors:t,mappings:Object(k.jsx)("code",null,"mappings")}}),description:i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadJsonModal.validationErrorDescription",{defaultMessage:"If you continue loading the object, only valid options will be accepted."})}}))(u,null===(n=r.errors)||void 0===n?void 0:n.length),m=Object(M.useCallback)((e=>{d.current=e}),[]),g=()=>{o({isModalOpen:!1})};return Object(k.jsx)(y.a.Fragment,null,a((()=>{o({isModalOpen:!0})})),r.isModalOpen&&Object(k.jsx)(O.EuiConfirmModal,{title:p.modalTitle,onCancel:()=>{"json"===u?g():o({isModalOpen:!0,json:r.json})},onConfirm:()=>{"json"===u?(()=>{if(void 0===d.current)return e({}),void g();if(d.current.validate()){const a=d.current.data.format(),{value:i,errors:n}=((e={},t=[])=>{if(!Object(Te.isPlainObject)(e))return{value:{}};const{properties:a,dynamic_templates:i,...n}=e,{value:s,errors:r}=[hi,Mi(t)].reduce(((e,t)=>{const{value:a,errors:i}=t(e.value);return{value:a,errors:[...e.errors,...i]}}),{value:n,errors:[]}),{value:o,errors:l}=((e={})=>Object(Te.isPlainObject)(e)?fi(e):{value:{},errors:[]})(a),c=[...r,...l];return{value:{...s,properties:o,dynamic_templates:null!=i?i:[]},errors:c.length?c:void 0}})(a,t);if(n)return void o({isModalOpen:!0,json:{unparsed:a,parsed:i},errors:n});e(i),g()}})():(e(r.json.parsed),g())},cancelButtonText:p.buttons.cancel,confirmButtonText:p.buttons.confirm,maxWidth:600},"json"===u?Object(k.jsx)("div",{className:"application"},Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.jsonEditorHelpText",defaultMessage:"Provide a mappings object, for example, the object assigned to an index {mappings} property. This will overwrite existing mappings, dynamic templates, and options.",values:{mappings:Object(k.jsx)("code",null,"mappings")}})),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)($.JsonEditor,{label:p.editor.label,onUpdate:m,defaultValue:null===(s=r.json)||void 0===s?void 0:s.unparsed,euiCodeEditorProps:{height:"450px"}})):Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:p.validationErrors.title,iconType:"alert",color:"warning"},Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,p.validationErrors.description)),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)("ol",null,r.errors.slice(0,l).map(((e,t)=>Object(k.jsx)("li",{key:t},(e=>{switch(e.code){case"ERR_CONFIG":return Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.configurationMessage",defaultMessage:"The {configName} configuration is invalid.",values:{configName:Object(k.jsx)("code",null,e.configName)}});case"ERR_FIELD":return Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.fieldMessage",defaultMessage:"The {fieldPath} field is invalid.",values:{fieldPath:Object(k.jsx)("code",null,e.fieldPath)}});case"ERR_PARAMETER":return Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.mappingsEditor.loadJsonModal.validationError.parameterMessage",defaultMessage:"The {paramName} parameter on field {fieldPath} is invalid.",values:{paramName:Object(k.jsx)("code",null,e.paramName),fieldPath:Object(k.jsx)("code",null,e.fieldPath)}})}})(e))))),r.errors.length>1&&(()=>{const e=l>1;return Object(k.jsx)(O.EuiButtonEmpty,{onClick:()=>c(e?1:r.errors.length),iconType:e?"arrowUp":"arrowDown"},e?i.i18n.translate("xpack.idxMgmt.mappingsEditor.hideErrorsButtonLabel",{defaultMessage:"Hide errors"}):i.i18n.translate("xpack.idxMgmt.mappingsEditor.showAllErrorsButtonLabel",{defaultMessage:"Show {numErrors} more errors",values:{numErrors:r.errors.length-1}}))})()))))},Sn=({onJson:e,esNodesPlugins:t})=>Object(k.jsx)(_n,{onJson:e,esNodesPlugins:t},(e=>Object(k.jsx)(O.EuiButtonEmpty,{onClick:e,size:"s"},i.i18n.translate("xpack.idxMgmt.mappingsEditor.loadFromJsonButtonLabel",{defaultMessage:"Load JSON"})))),Cn=({children:e})=>Object(k.jsx)(Li,null,Object(k.jsx)(xa,null,e)),Ln=y.a.memo((({defaultValue:e={},onChange:t,indexSettings:a,esDocsBase:i,esNodesPlugins:n})=>{const[s,r]=Object(M.useState)(e),{docLinks:o}=ze(),l=Object(M.useCallback)((({isValid:e,getData:a,validate:i})=>{t({isValid:e,validate:async()=>void 0===e?await i():e,getData:a})}),[t]);return Object(k.jsx)("div",{"data-test-subj":"stepMappings"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"stepTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.stepTitle",defaultMessage:"Mappings (optional)"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.mappingsDescription",defaultMessage:"Define how to store and index documents."})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Sn,{onJson:e=>{r(e)},esNodesPlugins:n})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:`${i}/mapping.html`,target:"_blank",iconType:"help"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepMappings.docsButtonLabel",defaultMessage:"Mapping docs"})))))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(Fn,{value:s,onChange:l,indexSettings:a,docLinks:o,esNodesPlugins:n}),Object(k.jsx)(O.EuiSpacer,{size:"m"}))})),wn=({esDocsBase:e})=>{const{defaultValue:t,updateContent:a,getSingleContentData:i}=$.Forms.useContent("mappings"),{data:s}=he({path:`${n}/nodes/plugins`,method:"get"});return Object(k.jsx)(Ln,{defaultValue:t,onChange:a,indexSettings:i("settings"),esDocsBase:e,esNodesPlugins:null!=s?s:[]})},In=y.a.memo((({defaultValue:e={},onChange:t,esDocsBase:a})=>{const{jsonContent:n,setJsonContent:s,error:r}=Xe({defaultValue:e,onChange:t});return Object(k.jsx)("div",{"data-test-subj":"stepSettings"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"stepTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.stepTitle",defaultMessage:"Index settings (optional)"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsDescription",defaultMessage:"Define the behavior of your indices."})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:`${a}/index-modules.html#index-modules-settings`,target:"_blank",iconType:"help"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.docsButtonLabel",defaultMessage:"Index settings docs"})))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(O.EuiFormRow,{label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsLabel",defaultMessage:"Index settings"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepSettings.settingsEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({number_of_replicas:1}))}}),isInvalid:Boolean(r),error:r,fullWidth:!0},Object(k.jsx)($.EuiCodeEditor,{mode:"json",theme:"textmate",width:"100%",height:"500px",setOptions:{showLineNumbers:!1,tabSize:2},editorProps:{$blockScrolling:1/0},showGutter:!1,minLines:6,"aria-label":i.i18n.translate("xpack.idxMgmt.formWizard.stepSettings.fieldIndexSettingsAriaLabel",{defaultMessage:"Index settings editor"}),value:n,onChange:s,"data-test-subj":"settingsEditor"})))})),Dn=y.a.memo((({esDocsBase:e})=>{const{defaultValue:t,updateContent:a}=$.Forms.useContent("settings");return Object(k.jsx)(In,{defaultValue:t,onChange:a,esDocsBase:e})})),Pn={settings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.indexSettingsTooltipLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.mappingsTooltipLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.templateContentIndicator.aliasesTooltipLabel",{defaultMessage:"Aliases"})},Nn=({mappings:e,settings:t,aliases:a,contentWhenEmpty:i=null})=>{const n=e=>e?"primary":"hollow";return e||t||a?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiToolTip,{content:Pn.mappings},Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiBadge,{color:n(e)},"M")," ")),Object(k.jsx)(O.EuiToolTip,{content:Pn.settings},Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiBadge,{color:n(t)},"S")," ")),Object(k.jsx)(O.EuiToolTip,{content:Pn.aliases},Object(k.jsx)(O.EuiBadge,{color:n(a)},"A"))):i},{stripEmptyFields:An}=q.serializers,Rn=y.a.memo((({template:e,filters:t})=>{const[a,i]=Object(M.useState)("{}"),s=Object(M.useCallback)((async()=>{var a;if(!e||0===Object.keys(e).length)return;const s=De(An(e,{types:["string"]})),{data:r,error:o}=await function(e){return je({path:`${n}/index_templates/simulate`,method:"post",body:JSON.stringify(e)}).then((e=>(Me.trackMetric(le.METRIC_TYPE.COUNT,"template_simulate"),e)))}(s);let l=r;r&&(delete r.overlapping,r.template&&void 0===r.template.mappings&&(r.template.mappings={}),t&&(l=Object.entries(t).reduce(((e,[t,a])=>(a||delete e[t],e)),{...r.template}))),i(JSON.stringify(null!==(a=l)&&void 0!==a?a:o,null,2))}),[e,t]);Object(M.useEffect)((()=>{s()}),[s]);const r="{}"===a,o=Boolean(t);return r&&o?Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.noFilterSelected",defaultMessage:"Select at least one option to preview."}),iconType:"pin",size:"s"}):r?null:Object(k.jsx)(O.EuiCodeBlock,{language:"json",isCopyable:!0,"data-test-subj":"simulateTemplatePreview"},a)})),zn=Object(V.getUseField)({component:U.CheckBoxField}),Bn={"data-test-subj":"simulateTemplateFlyout","aria-labelledby":"simulateTemplateFlyoutTitle"},Vn={filters:{label:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.label",{defaultMessage:"Include:"}),mappings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.mappings",{defaultMessage:"Mappings"}),indexSettings:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.indexSettings",{defaultMessage:"Index settings"}),aliases:i.i18n.translate("xpack.idxMgmt.simulateTemplate.filters.aliases",{defaultMessage:"Aliases"})}},Un=({onClose:e,getTemplate:t,filters:a,onFiltersChange:i})=>{const n=Object(M.useRef)(!1),[s,r]=Object(M.useState)({}),{form:o}=Object(V.useForm)({defaultValue:a}),{subscribe:l}=o;Object(M.useEffect)((()=>{l((e=>{i(e.data.format())}))}),[l,i]);const c=Object(M.useCallback)((async()=>{const e=await t();r(e)}),[t]);return Object(M.useEffect)((()=>{!1===n.current&&c(),n.current=!0}),[c]),Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{id:"componentTemplatesFlyoutTitle","data-test-subj":"title"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.title",defaultMessage:"Preview index template"}))),Object(k.jsx)(O.EuiSpacer,{size:"xs"}),Object(k.jsx)(O.EuiTextColor,{color:"subdued"},Object(k.jsx)(O.EuiText,{size:"s"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices based on the component templates you have selected and any overrides you've added."}))))),Object(k.jsx)(O.EuiFlyoutBody,{"data-test-subj":"content"},Object(k.jsx)(V.Form,{form:o},Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Vn.filters.label),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(zn,{path:"mappings",config:{label:Vn.filters.mappings}})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(zn,{path:"settings",config:{label:Vn.filters.indexSettings}})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(zn,{path:"aliases",config:{label:Vn.filters.aliases}}))),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(V.FormDataProvider,null,(e=>Object(k.jsx)(Rn,{template:s,filters:e}))))),Object(k.jsx)(O.EuiFlyoutFooter,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:e,"data-test-subj":"closeDetailsButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.closeButtonLabel",defaultMessage:"Close"}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{iconType:"refresh",onClick:c,"data-test-subj":"updateSimulationButton",fill:!0},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.simulateTemplate.updateButtonLabel",defaultMessage:"Update"}))))))},qn=({history:e,showCta:t})=>Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.legacyIndexTemplatesDeprecation.title",{defaultMessage:"Legacy index templates are deprecated in favor of composable index templates"}),color:"warning",iconType:"alert","data-test-subj":"legacyIndexTemplateDeprecationWarning"},t&&e&&Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.description",defaultMessage:"{createTemplateButton} or {learnMoreLink}",values:{createTemplateButton:Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"createTemplateButton"},Object(H.reactRouterNavigate)(e,"/create_template")),Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.legacyIndexTemplatesDeprecation.createTemplatesButtonLabel",defaultMessage:"Create composable template"})),learnMoreLink:Object(k.jsx)(O.EuiLink,{href:oe.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.ctaLearnMoreLinkText",{defaultMessage:"learn more."}))}})),!t&&Object(k.jsx)(O.EuiLink,{href:oe.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.legacyIndexTemplatesDeprecation.learnMoreLinkText",{defaultMessage:"Learn more."}))),{emptyField:$n,containsCharsField:Wn,startsWithField:Hn,indexPatternField:Gn,lowerCaseStringField:Jn,isJsonField:Yn}=q.fieldValidators,{toInt:Kn}=q.fieldFormatters,Xn=["\\","/","?",'"',"<",">","|"].join(" "),Zn={type:V.FIELD_TYPES.TEXT,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldNameLabel",{defaultMessage:"Name"}),validations:[{validator:$n(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameRequiredError",{defaultMessage:"A template name is required."}))},{validator:Wn({chars:" ",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameSpacesError",{defaultMessage:"Spaces are not allowed in a template name."})})},{validator:Hn({char:"_",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameUnderscoreError",{defaultMessage:"A template name must not start with an underscore."})})},{validator:Hn({char:".",message:i.i18n.translate("xpack.idxMgmt.templateValidation.templateNamePeriodError",{defaultMessage:"A template name must not start with a period."})})},{validator:Wn({chars:['"',"*","\\",",","?"],message:({charsFound:e})=>i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameInvalidaCharacterError",{defaultMessage:'A template name must not contain the character "{invalidChar}"',values:{invalidChar:e[0]}})})},{validator:Jn(i.i18n.translate("xpack.idxMgmt.templateValidation.templateNameLowerCaseRequiredError",{defaultMessage:"The template name must be in lowercase."}))}]},Qn={...Zn,validations:[]},es={logistics:{name:Zn,indexPatterns:{type:V.FIELD_TYPES.COMBO_BOX,defaultValue:[],label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsLabel",{defaultMessage:"Index patterns"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.fieldIndexPatternsHelpText",defaultMessage:"Spaces and the characters {invalidCharactersList} are not allowed.",values:{invalidCharactersList:Object(k.jsx)("strong",null,Xn)}}),validations:[{validator:$n(i.i18n.translate("xpack.idxMgmt.templateValidation.indexPatternsRequiredError",{defaultMessage:"At least one index pattern is required."}))},{validator:Gn(i.i18n),type:V.VALIDATION_TYPES.ARRAY_ITEM,isBlocking:!1}]},doCreateDataStream:{type:V.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.datastreamLabel",{defaultMessage:"Create data stream"}),defaultValue:!1},order:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldOrderLabel",{defaultMessage:"Order (optional)"}),formatters:[Kn]},priority:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldPriorityLabel",{defaultMessage:"Priority (optional)"}),formatters:[Kn]},version:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.fieldVersionLabel",{defaultMessage:"Version (optional)"}),formatters:[Kn]},_meta:{label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),validations:[{validator:Yn(i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorJsonError",{defaultMessage:"The _meta field JSON is not valid."}),{allowEmptyString:!0})}],deserializer:e=>""===e?e:JSON.stringify(e,null,2),serializer:e=>{try{return JSON.parse(e)}catch(t){return e}}},addMeta:{type:V.FIELD_TYPES.TOGGLE,label:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.addMetadataLabel",{defaultMessage:"Add metadata"})}}},ts=Object(V.getUseField)({component:U.Field}),as=Object(U.getFormRow)({titleTag:"h3"});function is(e){return{...e,addMeta:Boolean(e._meta&&Object.keys(e._meta).length),doCreateDataStream:Boolean(e.dataStream)}}function ns(e={}){return t=>{var a;const{addMeta:i,doCreateDataStream:n,...s}=t;return{...s,dataStream:n?null!==(a=e.dataStream)&&void 0!==a?a:{}:void 0}}}const ss=y.a.memo((({defaultValue:e,isEditing:t=!1,onChange:a,isLegacy:n=!1})=>{const{form:s}=Object(V.useForm)({schema:es.logistics,defaultValue:e,options:{stripEmptyFields:!1},serializer:ns(e),deserializer:is}),{submit:r,isSubmitted:o,isValid:l,getErrors:c,getFormData:d}=s,[{addMeta:u}]=Object(V.useFormData)({form:s,watch:"addMeta"}),p=Object(M.useCallback)((async()=>(await r()).isValid),[r]);Object(M.useEffect)((()=>{a({isValid:l,getData:d,validate:p})}),[a,l,p,d]);const{name:m,indexPatterns:g,createDataStream:f,order:x,priority:b,version:j}=(oe.getEsDocsBase(),{name:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameTitle",{defaultMessage:"Name"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.nameDescription",{defaultMessage:"A unique identifier for this template."}),testSubject:"nameField"},indexPatterns:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsTitle",{defaultMessage:"Index patterns"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.indexPatternsDescription",{defaultMessage:"The index patterns to apply to the template."}),testSubject:"indexPatternsField"},createDataStream:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamTitle",{defaultMessage:"Data stream"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.dataStreamDescription",defaultMessage:"The template creates data streams instead of indices. {docsLink}",values:{docsLink:Object(k.jsx)(O.EuiLink,{href:oe.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.dataStreamDocumentionLink",{defaultMessage:"Learn more."}))}}),testSubject:"dataStreamField"},order:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderTitle",{defaultMessage:"Merge order"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.orderDescription",{defaultMessage:"The merge order when multiple templates match an index."}),testSubject:"orderField"},priority:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityTitle",{defaultMessage:"Priority"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.priorityDescription",{defaultMessage:"Only the highest priority template will be applied."}),testSubject:"priorityField"},version:{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionTitle",{defaultMessage:"Version"}),description:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.versionDescription",{defaultMessage:"A number that identifies the template to external management systems."}),testSubject:"versionField"}});return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:oe.getTemplatesDocumentationLink(n),target:"_blank",iconType:"help"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.docsButtonLabel",defaultMessage:"Index Templates docs"})))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(V.Form,{form:s,isInvalid:o&&!l,error:c(),"data-test-subj":"stepLogistics"},Object(k.jsx)(as,{title:m.title,description:m.description},Object(k.jsx)(ts,{path:"name",componentProps:{"data-test-subj":m.testSubject,euiFieldProps:{disabled:t}},config:t?Qn:Zn})),Object(k.jsx)(as,{title:g.title,description:g.description},Object(k.jsx)(ts,{path:"indexPatterns",componentProps:{"data-test-subj":g.testSubject}})),!0!==n&&Object(k.jsx)(as,{title:f.title,description:f.description},Object(k.jsx)(ts,{path:"doCreateDataStream",componentProps:{"data-test-subj":f.testSubject}})),n&&Object(k.jsx)(as,{title:x.title,description:x.description},Object(k.jsx)(ts,{path:"order",componentProps:{"data-test-subj":x.testSubject}})),!1===n&&Object(k.jsx)(as,{title:b.title,description:b.description},Object(k.jsx)(ts,{path:"priority",componentProps:{"data-test-subj":b.testSubject}})),Object(k.jsx)(as,{title:j.title,description:j.description},Object(k.jsx)(ts,{path:"version",componentProps:{"data-test-subj":j.testSubject}})),!1===n&&Object(k.jsx)(as,{title:i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldTitle",{defaultMessage:"_meta field"}),description:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepLogistics.metaFieldDescription",defaultMessage:"Use the _meta field to store any metadata you want."}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(ts,{path:"addMeta","data-test-subj":"metaToggle"}))},u&&Object(k.jsx)(ts,{path:"_meta",component:U.JsonEditorField,componentProps:{euiCodeEditorProps:{height:"280px","aria-label":i.i18n.translate("xpack.idxMgmt.templateForm.stepLogistics.metaFieldEditorAriaLabel",{defaultMessage:"_meta field data editor"}),"data-test-subj":"metaField"}}}))))})),rs=({isEditing:e,isLegacy:t})=>{const{defaultValue:a,updateContent:i}=$.Forms.useContent("logistics");return Object(k.jsx)(ss,{defaultValue:a,onChange:i,isEditing:e,isLegacy:t})},os=["manage_index_templates"],ls="fleet",cs=Object(M.createContext)(void 0),ds=({children:e,value:t})=>{const{overlays:a,httpClient:n,apiBasePath:s,trackMetric:r,docLinks:o,toasts:l,setBreadcrumbs:c,getUrlForApp:d,executionContext:u}=t,p=(e=>t=>Object($.useRequest)(e,t))(n),m=(e=>t=>Object($.sendRequest)(e,t))(n),g=((e,t,a,i)=>({useLoadComponentTemplates:function(){return e({path:`${a}/component_templates`,method:"get"})},deleteComponentTemplates:function(e){const n=t({path:`${a}/component_templates/${e.map((e=>encodeURIComponent(e))).join(",")}`,method:"delete"});return i(le.METRIC_TYPE.COUNT,e.length>1?"component_template_delete_many":"component_template_delete"),n},useLoadComponentTemplate:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}`,method:"get"})},createComponentTemplate:async function(e){const n=await t({path:`${a}/component_templates`,method:"post",body:JSON.stringify(e)});return i(le.METRIC_TYPE.COUNT,"component_template_create"),n},updateComponentTemplate:async function(e){const{name:n}=e,s=await t({path:`${a}/component_templates/${encodeURIComponent(n)}`,method:"put",body:JSON.stringify(e)});return i(le.METRIC_TYPE.COUNT,"component_template_update"),s},useLoadComponentTemplatesDatastream:function(t){return e({path:`${a}/component_templates/${encodeURIComponent(t)}/datastreams`,method:"get"})},getComponentTemplateDatastreams:async function(e){return t({path:`${a}/component_templates/${encodeURIComponent(e)}/datastreams`,method:"get"})},postDataStreamRollover:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/rollover`,method:"post"})},postDataStreamMappingsFromTemplate:async function(e){return t({path:`${a}/data_streams/${encodeURIComponent(e)}/mappings_from_template`,method:"post"})}}))(p,m,s,r),f=(({links:e})=>({esDocsBase:e.elasticsearch.docsBase,componentTemplates:e.apis.putComponentTemplate,componentTemplatesMetadata:e.apis.putComponentTemplateMetadata}))(o),x=(e=>{const t=[{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.homeLabel",{defaultMessage:"Index Management"}),href:"/"},{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.componentTemplatesLabel",{defaultMessage:"Component templates"}),href:"/component_templates"}];return{setCreateBreadcrumbs:()=>{const a=[...t,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.createComponentTemplateLabel",{defaultMessage:"Create component template"})}];return e(a)},setEditBreadcrumbs:()=>{const a=[...t,{text:i.i18n.translate("xpack.idxMgmt.componentTemplate.breadcrumb.editComponentTemplateLabel",{defaultMessage:"Edit component template"})}];return e(a)}}})(c);return Object(k.jsx)(cs.Provider,{value:{overlays:a,api:g,documentation:f,trackMetric:r,toasts:l,httpClient:n,apiBasePath:s,breadcrumbs:x,getUrlForApp:d,executionContext:u}},e)},us=()=>{const e=Object(M.useContext)(cs);if(!e)throw new Error('"useComponentTemplatesContext" can only be called inside of ComponentTemplatesProvider!');return e},ps=({children:e})=>{const{httpClient:t,apiBasePath:a}=us();return Object(k.jsx)($.AuthorizationProvider,{privilegesEndpoint:`${a}/component_templates/privileges`,httpClient:t},e)},ms=({children:e})=>{const{apiError:t}=Object($.useAuthorizationContext)();return t?Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesErrorMessage",defaultMessage:"Error fetching user privileges from the server."}),error:t}):Object(k.jsx)($.WithPrivileges,{privileges:os.map((e=>`cluster.${e}`))},(({isLoading:t,hasPrivileges:a,privilegesMissing:i})=>t?Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.checkingPrivilegesDescription",defaultMessage:"Checking privileges…"})):a?Object(k.jsx)(y.a.Fragment,null,e):Object(k.jsx)($.NotAuthorizedSection,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeTitle",defaultMessage:"Cluster privileges required"}),message:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deniedPrivilegeDescription",defaultMessage:"To use Component Templates, you must have {privilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {missingPrivileges}.",values:{missingPrivileges:i.cluster.join(", "),privilegesCount:i.cluster.length}})})))},gs=({componentTemplateDetails:e,showCallToAction:t})=>{const{getUrlForApp:a}=us(),{version:i,_meta:n,_kbnMeta:s}=e,{usedBy:r}=s,o=r.length>0;return Object(k.jsx)(y.a.Fragment,null,!o&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseTitle",defaultMessage:"This component template is not in use by any index templates."}),iconType:"pin","data-test-subj":"notInUseCallout",size:"s"},t&&Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.notInUseDescription",defaultMessage:"{createLink} an index template or {editLink} an existing one.",values:{createLink:Object(k.jsx)(O.EuiLink,{href:a("management",{path:"/data/index_management/create_template"})},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.createTemplateLink",defaultMessage:"Create"})),editLink:Object(k.jsx)(O.EuiLink,{href:a("management",{path:"/data/index_management/templates"})},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.updateTemplateLink",defaultMessage:"update"}))}}))),Object(k.jsx)(O.EuiSpacer,null)),Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse","data-test-subj":"summaryTabContent"},o&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"usedByTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.usedByDescriptionListTitle",defaultMessage:"Used by"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,Object(k.jsx)("ul",null,r.map((e=>Object(k.jsx)("li",{key:e},Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("span",null,e)))))))),void 0!==i&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"versionTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,i)),n&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,Object(k.jsx)(O.EuiCodeBlock,{language:"json"},JSON.stringify(n,null,2))))))},fs=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:"settings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:"mappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:"aliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})}],xs=({setActiveTab:e,activeTab:t})=>Object(k.jsx)(O.EuiTabs,null,fs.map((a=>Object(k.jsx)(O.EuiTab,{onClick:()=>{e(a.id)},isSelected:a.id===t,key:a.id,"data-test-subj":`${a.id}Tab`},a.name)))),bs=({actions:e,componentTemplateDetails:t})=>{const[a,n]=Object(M.useState)(!1),s=e.map((({name:e,icon:a,getIsDisabled:i,closePopoverOnClick:s,handleActionClick:r})=>{const o=!!i&&i(t);return{name:e,icon:a,disabled:o,toolTipContent:o?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonDisabledTooltipLabel",defaultMessage:"Template is in use and cannot be deleted"}):null,onClick:()=>{r(),s&&n(!1)},"data-test-subj":"action"}}));return Object(k.jsx)(O.EuiPopover,{id:"manageComponentTemplatePanel",button:Object(k.jsx)(O.EuiButton,{fill:!0,"data-test-subj":"manageComponentTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>n((e=>!e))},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:a,closePopover:()=>n(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(k.jsx)(O.EuiContextMenu,{initialPanelId:0,"data-test-subj":"manageComponentTemplateContextMenu",panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.manageContextMenuPanelTitle",{defaultMessage:"Options"}),items:s}]}))},js={"data-test-subj":"componentTemplateDetails","aria-labelledby":"componentTemplateDetailsFlyoutTitle"},hs=({componentTemplateName:e,onClose:t,actions:a,showSummaryCallToAction:i})=>{const{api:n}=us(),s=Object($.attemptToURIDecode)(e),{data:r,isLoading:o,error:l}=n.useLoadComponentTemplate(s),[c,d]=Object(M.useState)("summary");let u;if(o)u=Object(k.jsx)($.SectionLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading component template…"}));else if(l)u=Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.loadingErrorMessage",defaultMessage:"Error loading component template"}),color:"danger",iconType:"alert","data-test-subj":"sectionError"},Object(k.jsx)("p",null,l.message));else if(r){const{template:{settings:e,mappings:t,aliases:a}}=r,n={summary:Object(k.jsx)(gs,{componentTemplateDetails:r,showCallToAction:i}),settings:Object(k.jsx)(Ke,{settings:e}),mappings:Object(k.jsx)(Ye,{mappings:t}),aliases:Object(k.jsx)(Je,{aliases:a})}[c];u=Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(xs,{activeTab:c,setActiveTab:d}),Object(k.jsx)(O.EuiSpacer,{size:"l"}),n)}return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{id:"componentTemplateDetailsFlyoutTitle","data-test-subj":"title"},s))),null!=r&&r._kbnMeta.isManaged?Object(k.jsx)(O.EuiFlexItem,{grow:!1}," ",Object(k.jsx)(O.EuiBadge,{color:"hollow"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.managedBadgeLabel",defaultMessage:"Managed"}))):null)),Object(k.jsx)(O.EuiFlyoutBody,{"data-test-subj":"content"},u),a&&Object(k.jsx)(O.EuiFlyoutFooter,{"data-test-subj":"footer"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeDetailsButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateDetails.closeButtonLabel",defaultMessage:"Close"}))),r&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(bs,{actions:a,componentTemplateDetails:r})))))},Ms=({history:e})=>{const{documentation:t}=us();return Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyList",title:Object(k.jsx)("h2",{"data-test-subj":"title"},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptTitle",{defaultMessage:"Start by creating a component template"})),body:Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.emptyPromptDescription",defaultMessage:"For example, you can create a component template for index settings that can be reused across index templates."}),Object(k.jsx)("br",null),Object(k.jsx)(O.EuiLink,{href:t.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptDocumentionLink",{defaultMessage:"Learn more."}))),actions:Object(k.jsx)(O.EuiButton,qe()({},Object(H.reactRouterNavigate)(e,"/create_component_template"),{iconType:"plusInCircle",fill:!0}),i.i18n.translate("xpack.idxMgmt.home.componentTemplates.emptyPromptButtonLabel",{defaultMessage:"Create a component template"}))})},ys=({componentTemplates:e,onReloadClick:t,onDeleteClick:a,onEditClick:n,onCloneClick:s,history:r})=>{const{trackMetric:o}=us(),[l,c]=Object(M.useState)([]),d={itemId:"name",isSelectable:!0,"data-test-subj":"componentTemplatesTable",sorting:{sort:{field:"name",direction:"asc"}},selection:{onSelectionChange:c,selectable:({usedBy:e})=>0===e.length,selectableMessage:e=>e?i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.selectionLabel",{defaultMessage:"Select this component template"}):i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.disabledSelectionLabel",{defaultMessage:"Component template is in use and cannot be deleted"})},rowProps:()=>({"data-test-subj":"componentTemplateTableRow"}),search:{toolsLeft:l.length>0?Object(k.jsx)(O.EuiButton,{"data-test-subj":"deleteComponentTemplatexButton",onClick:()=>a(l.map((({name:e})=>e))),color:"danger"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.deleteComponentTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {component template} other {component templates} }",values:{count:l.length}})):void 0,toolsRight:[Object(k.jsx)(O.EuiButton,{key:"reloadButton",iconType:"refresh",color:"success","data-test-subj":"reloadButton",onClick:t},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.reloadButtonLabel",{defaultMessage:"Reload"})),Object(k.jsx)(O.EuiButton,qe()({fill:!0,iconType:"plusInCircle","data-test-subj":"createPipelineButton",key:"createPipelineButton"},Object(H.reactRouterNavigate)(r,"/create_component_template")),i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.createButtonLabel",{defaultMessage:"Create component template"}))],box:{incremental:!0},filters:[{type:"is",field:"isManaged",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isManagedFilterLabel",{defaultMessage:"Managed"})},{type:"field_value_toggle_group",field:"usedBy.length",items:[{value:1,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.inUseFilterOptionLabel",{defaultMessage:"In use"}),operator:"gte"},{value:0,name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.notInUseFilterOptionLabel",{defaultMessage:"Not in use"}),operator:"eq"}]}]},pagination:{initialPageSize:10,pageSizeOptions:[10,20,50]},columns:[{field:"name",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,width:"20%",render:(e,t)=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiLink,qe()({},Object(H.reactRouterNavigate)(r,{pathname:encodeURI(`/component_templates/${encodeURIComponent(e)}`)},(()=>o(le.METRIC_TYPE.CLICK,"component_template_details"))),{"data-test-subj":"templateDetailsLink"}),e),t.isManaged&&Object(k.jsx)(y.a.Fragment,null," ",Object(k.jsx)(O.EuiBadge,{color:"hollow","data-test-subj":"isManagedBadge"},i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.managedBadgeLabel",{defaultMessage:"Managed"}))))},{field:"usedBy",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.isInUseColumnTitle",{defaultMessage:"Usage count"}),sortable:({usedBy:e})=>e.length,render:e=>e.length?e.length:Object(k.jsx)(O.EuiTextColor,{color:"subdued"},Object(k.jsx)("i",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.notInUseCellDescription",defaultMessage:"Not in use"})))},{field:"hasMappings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.mappingsColumnTitle",{defaultMessage:"Mappings"}),truncateText:!0,sortable:!0,render:e=>e?Object(k.jsx)(O.EuiIcon,{type:"check"}):null},{field:"hasSettings",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.settingsColumnTitle",{defaultMessage:"Settings"}),truncateText:!0,sortable:!0,render:e=>e?Object(k.jsx)(O.EuiIcon,{type:"check"}):null},{field:"hasAliases",name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.aliasesColumnTitle",{defaultMessage:"Aliases"}),truncateText:!0,sortable:!0,render:e=>e?Object(k.jsx)(O.EuiIcon,{type:"check"}):null},{name:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesList.table.actionColumnTitle",defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditText",{defaultMessage:"Edit"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionEditDecription",{defaultMessage:"Edit this component template"}),onClick:({name:e})=>n(e),isPrimary:!0,icon:"pencil",type:"icon","data-test-subj":"editComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneText",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.actionCloneDecription",{defaultMessage:"Clone this component template"}),onClick:({name:e})=>s(e),icon:"copy",type:"icon","data-test-subj":"cloneComponentTemplateButton"},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionLabel",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.componentTemplatesList.table.deleteActionDescription",{defaultMessage:"Delete this component template"}),onClick:({name:e})=>a([e]),enabled:({usedBy:e})=>0===e.length,isPrimary:!0,type:"icon",icon:"trash",color:"danger","data-test-subj":"deleteComponentTemplateButton"}]}],items:null!=e?e:[]};return Object(k.jsx)(O.EuiInMemoryTable,d)},Os=({componentTemplatesToDelete:e,callback:t})=>{const{toasts:a,api:n}=us(),s=e.length;return Object(k.jsx)(O.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteComponentTemplatesConfirmation",title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.modalTitleText",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {# component templates}}",values:{numComponentTemplatesToDelete:s}}),onCancel:()=>{t()},onConfirm:()=>{n.deleteComponentTemplates(e).then((({data:{itemsDeleted:n,errors:s},error:r})=>{const o=n&&n.length;if(o){const s=1===n.length?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted component template '{componentTemplateName}'",values:{componentTemplateName:e[0]}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# component template} other {# component templates}}",values:{numSuccesses:n.length}});t({hasDeletedComponentTemplates:o}),a.addSuccess(s)}if(r||null!=s&&s.length){const t=(null==s?void 0:s.length)>1||r&&e.length>1?i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} component templates",values:{count:(null==s?void 0:s.length)||e.length}}):i.i18n.translate("xpack.idxMgmt.home.componentTemplates.deleteModal.errorNotificationMessageText",{defaultMessage:"Error deleting component template '{name}'",values:{name:s&&s[0].name||e[0]}});a.addDanger(t)}}))},cancelButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.confirmButtonLabel",defaultMessage:"Delete {numComponentTemplatesToDelete, plural, one {component template} other {component templates} }",values:{numComponentTemplatesToDelete:s}})},Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.deleteModal.deleteDescription",defaultMessage:"You are about to delete {numComponentTemplatesToDelete, plural, one {this component template} other {these component templates} }:",values:{numComponentTemplatesToDelete:s}})),Object(k.jsx)("ul",null,e.map((e=>Object(k.jsx)("li",{key:e},e))))))};function vs(e){const{services:t}=ic(),a=Object(M.useMemo)((()=>new URLSearchParams(e.location.search).get("redirect_path")),[e.location.search]);return Object(M.useCallback)((i=>{a&&t.application?t.application.navigateToUrl(a):e.push(i)}),[a,t.application,e])}const{useGlobalFlyout:Ts}=$.GlobalFlyout,Es=({componentTemplateName:e,history:t})=>{const{addContent:a,removeContent:n}=Ts(),{api:s,trackMetric:r,documentation:o}=us(),l=vs(t),{data:c,isLoading:d,error:u,resendRequest:p}=s.useLoadComponentTemplates(),[m,g]=Object(M.useState)([]),f=Object(M.useCallback)((()=>l({pathname:"component_templates"})),[l]),x=Object(M.useCallback)((e=>t.push({pathname:encodeURI(`edit_component_template/${encodeURIComponent(e)}`)})),[t]),b=Object(M.useCallback)((e=>t.push({pathname:encodeURI(`create_component_template/${encodeURIComponent(e)}`)})),[t]);if(Object(M.useEffect)((()=>{r(le.METRIC_TYPE.LOADED,"component_template_list_load")}),[r]),Object(M.useEffect)((()=>{if(e){const t=[{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",handleActionClick:()=>x(Object($.attemptToURIDecode)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.cloneActionLabel",{defaultMessage:"Clone"}),icon:"copy",handleActionClick:()=>b(Object($.attemptToURIDecode)(e))},{name:i.i18n.translate("xpack.idxMgmt.componentTemplateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",getIsDisabled:e=>e._kbnMeta.usedBy.length>0,closePopoverOnClick:!0,handleActionClick:()=>{g([Object($.attemptToURIDecode)(e)])}}];a({id:"componentTemplateDetails",Component:hs,props:{onClose:f,componentTemplateName:e,showSummaryCallToAction:!0,actions:t},flyoutProps:{...js,onClose:f}})}}),[e,f,x,b,a,t]),Object(M.useEffect)((()=>{e||n("componentTemplateDetails")}),[e,n]),d)return Object(k.jsx)($.PageLoading,{"data-test-subj":"sectionLoading"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingMessage",defaultMessage:"Loading component templates…"}));let j;return null!=c&&c.length?j=Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.componentTemplatesDescription",defaultMessage:"Use component templates to reuse settings, mappings, and aliases configurations in multiple index templates. {learnMoreLink}",values:{learnMoreLink:Object(k.jsx)(O.EuiLink,{href:o.componentTemplates,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplates.list.learnMoreLinkText",{defaultMessage:"Learn more."}))}})),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(ys,{componentTemplates:c,onReloadClick:p,onDeleteClick:g,onEditClick:x,onCloneClick:b,history:t})):c&&0===c.length?j=Object(k.jsx)(Ms,{history:t}):u&&(j=Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplates.list.loadingErrorMessage",defaultMessage:"Error loading component templates"}),error:u,"data-test-subj":"componentTemplatesLoadError"})),Object(k.jsx)("div",{className:fe.APP_WRAPPER_CLASS,"data-test-subj":"componentTemplateList"},j,(null==m?void 0:m.length)>0?Object(k.jsx)(Os,{callback:e=>{null!=e&&e.hasDeletedComponentTemplates&&(p(),f()),g([])},componentTemplatesToDelete:m}):null)},ks=({match:{params:{componentTemplateName:e}},history:t})=>{const{executionContext:a}=us();return Object(H.useExecutionContext)(a,{type:"application",page:"indexManagementComponentTemplatesTab"}),Object(k.jsx)(ps,null,Object(k.jsx)(ms,null,Object(k.jsx)(Es,{componentTemplateName:e,history:t})))},{emptyField:Fs,containsCharsField:_s,isJsonField:Ss}=q.fieldValidators,{toInt:Cs}=q.fieldFormatters,Ls={name:{defaultValue:void 0,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.nameFieldLabel",{defaultMessage:"Name"}),type:V.FIELD_TYPES.TEXT,validations:[{validator:Fs(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.validation.nameRequiredError",{defaultMessage:"A component template name is required."}))},{validator:_s({chars:" ",message:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.nameSpacesError",{defaultMessage:"Spaces are not allowed in a component template name."})})}]},version:{type:V.FIELD_TYPES.NUMBER,label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.versionFieldLabel",{defaultMessage:"Version (optional)"}),formatters:[Cs]},_meta:{label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaFieldLabel",{defaultMessage:"_meta field data (optional)"}),helpText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaHelpText",defaultMessage:"Use JSON format: {code}",values:{code:Object(k.jsx)(O.EuiCode,null,JSON.stringify({arbitrary_data:"anything_goes"}))}}),serializer:e=>{const t=(e=>{let t;try{t=JSON.parse(e)}catch{t={}}return t})(e);if(Object.keys(t).length)return t},deserializer:e=>Object.keys(e).length?JSON.stringify(e,null,2):"{\n\n}",validations:[{validator:Ss(i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.validation.metaJsonError",{defaultMessage:"The input is not valid."}),{allowEmptyString:!0})}]}},ws=Object(V.getUseField)({component:U.Field}),Is=Object(U.getFormRow)({titleTag:"h3"}),Ds=y.a.memo((({defaultValue:e,isEditing:t,onChange:a})=>{const{form:n}=Object(V.useForm)({schema:Ls,defaultValue:e,options:{stripEmptyFields:!1}}),{isValid:s,submit:r,getFormData:o,subscribe:l}=n,{documentation:c}=us(),[d,u]=Object(M.useState)(Boolean(e._meta&&Object.keys(e._meta).length)),p=Object(M.useCallback)((async()=>(await r()).isValid),[r]);return Object(M.useEffect)((()=>{a({isValid:s,validate:p,getData:o})}),[s,o,p,a]),Object(M.useEffect)((()=>l((({data:e,isValid:t})=>{a({isValid:t,validate:p,getData:e.format})})).unsubscribe),[l,p,a]),Object(k.jsx)(V.Form,{form:n,"data-test-subj":"stepLogistics"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.stepTitle",defaultMessage:"Logistics"})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:c.componentTemplates,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.docsButtonLabel",defaultMessage:"Component Templates docs"})))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(Is,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameTitle",defaultMessage:"Name"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.nameDescription",defaultMessage:"Unique name for this component template."})},Object(k.jsx)(ws,{path:"name",componentProps:{"data-test-subj":"nameField",euiFieldProps:{disabled:t}}})),Object(k.jsx)(Is,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionTitle",defaultMessage:"Version"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.versionDescription",defaultMessage:"Number used by external management systems to identify the component template."})},Object(k.jsx)(ws,{path:"version",componentProps:{"data-test-subj":"versionField"}})),Object(k.jsx)(Is,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaTitle",defaultMessage:"Metadata"}),description:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDescription",defaultMessage:"Arbitrary information about the template, stored in the cluster state. {learnMoreLink}",values:{learnMoreLink:Object(k.jsx)(O.EuiLink,{href:c.componentTemplatesMetadata,target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaDocumentionLink",{defaultMessage:"Learn more."}))}}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiSwitch,{label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepLogistics.metadataDescription",defaultMessage:"Add metadata"}),checked:d,onChange:e=>u(e.target.checked),"data-test-subj":"metaToggle"}))},d&&Object(k.jsx)(ws,{path:"_meta",component:U.JsonEditorField,componentProps:{euiCodeEditorProps:{"data-test-subj":"metaEditor",height:"200px","aria-label":i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepLogistics.metaAriaLabel",{defaultMessage:"_meta field data editor"})}}})))})),Ps=({isEditing:e=!1})=>{const{defaultValue:t,updateContent:a}=$.Forms.useContent("logistics");return Object(k.jsx)(Ds,{defaultValue:t,onChange:a,isEditing:e})},{stripEmptyFields:Ns}=q.serializers,As=e=>e&&Object.entries(e).length>0?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),Rs=y.a.memo((({dataStreams:e,componentTemplate:t})=>{var a;const{name:n}=t,s=function(e){const{version:t,template:a,_meta:i}=e;return{version:t,template:a,_meta:i}}(Ns(t,{types:["string"]})),{template:r,_meta:o,version:l}=s,c=Boolean(null==e?void 0:e.length)&&(null===(a=t._meta)||void 0===a?void 0:a.managed_by)===ls;return Object(k.jsx)("div",{"data-test-subj":"stepReview"},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"title"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:n}}))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(O.EuiTabbedContent,{"data-test-subj":"content",tabs:[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(k.jsx)((()=>Object(k.jsx)("div",{"data-test-subj":"summaryTab"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},void 0!==l&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,l)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,As(null==r?void 0:r.settings)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,As(null==r?void 0:r.mappings)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,As(null==r?void 0:r.aliases)))),c&&e&&Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.datastreamsLabel",defaultMessage:"Mappings will immediately be applied to the following datastreams:"}),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("ul",null,e.map((e=>Object(k.jsx)("li",{key:e},Object(k.jsx)(O.EuiCode,null,e))))))),Object(k.jsx)(O.EuiFlexItem,null,o&&Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,Object(k.jsx)(O.EuiCodeBlock,{language:"json"},JSON.stringify(o,null,2)))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(k.jsx)((()=>{const e=`PUT _component_template/${n||"<componentTemplateName>"}\n${JSON.stringify(s,null,2)}`,t=e.length<6e4?"json":void 0;return Object(k.jsx)("div",{"data-test-subj":"requestTab"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following component template."}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiCodeBlock,{language:t,isCopyable:!0},e),c&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.stepReview.requestTab.datastreamNote",defaultMessage:"Datastreams using that template need to be updated with aditionnal requests."})))))}),null)}]}))})),zs=y.a.memo((({getComponentTemplateData:e,dataStreams:t})=>{const{getData:a}=$.Forms.useMultiContentContext(),i=e(a());return Object(k.jsx)(Rs,{dataStreams:t,componentTemplate:i})})),{stripEmptyFields:Bs}=q.serializers,{FormWizard:Vs,FormWizardStep:Us}=$.Forms,qs={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.componentTemplateForm.steps.summaryStepName",{defaultMessage:"Review"})}},$s=({defaultValue:e={name:"",template:{},_meta:{},_kbnMeta:{usedBy:[],isManaged:!1}},dataStreams:t,isEditing:a,isSaving:i,saveError:n,clearSaveError:s,defaultActiveWizardSection:r,onSave:o,onStepChange:l})=>{const{template:{settings:c,mappings:d,aliases:u},...p}=e,{documentation:m}=us(),g={logistics:p,settings:c,mappings:d,aliases:u},f={save:a?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveButtonLabel",defaultMessage:"Save component template"}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.createButtonLabel",defaultMessage:"Create component template"})},x=n?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateForm.saveTemplateError",defaultMessage:"Unable to create component template"}),color:"danger",iconType:"alert","data-test-subj":"saveComponentTemplateError"},Object(k.jsx)("div",null,n.message||n.statusText)),Object(k.jsx)(O.EuiSpacer,{size:"m"})):null,b=Object(M.useCallback)((e=>t=>(e=>{const t={...e};return void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,t})({...e,name:t.logistics.name,version:t.logistics.version,_meta:t.logistics._meta,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases}})),[]),j=Object(M.useCallback)((async t=>{const a=b(e)(t);o(Bs(a,{types:["string"]})),s()}),[b,e,o,s]),h=Object(M.useMemo)((()=>Math.max(r?Object.keys(qs).indexOf(r):0,0)),[r]);return Object(k.jsx)(Vs,{defaultValue:g,onSave:j,isEditing:a,isSaving:i,apiError:x,texts:f,defaultActiveStep:h,onStepChange:l},Object(k.jsx)(Us,{id:qs.logistics.id,label:qs.logistics.label,isRequired:!0},Object(k.jsx)(Ps,{isEditing:a})),Object(k.jsx)(Us,{id:qs.settings.id,label:qs.settings.label},Object(k.jsx)(Dn,{esDocsBase:m.esDocsBase})),Object(k.jsx)(Us,{id:qs.mappings.id,label:qs.mappings.label},Object(k.jsx)(wn,{esDocsBase:m.esDocsBase})),Object(k.jsx)(Us,{id:qs.aliases.id,label:qs.aliases.label},Object(k.jsx)(Qe,{esDocsBase:m.esDocsBase})),Object(k.jsx)(Us,{id:qs.review.id,label:qs.review.label},Object(k.jsx)(zs,{getComponentTemplateData:b(e),dataStreams:t})))},Ws=({history:e,sourceComponentTemplate:t})=>{const[a,i]=Object(M.useState)(!1),[n,s]=Object(M.useState)(null),{api:r,breadcrumbs:o}=us();return Object(M.useEffect)((()=>{o.setCreateBreadcrumbs()}),[o]),Object(k.jsx)(O.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(k.jsx)(O.EuiPageHeader,{pageTitle:Object(k.jsx)("span",{"data-test-subj":"pageTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.createComponentTemplate.pageTitle",defaultMessage:"Create component template"})),bottomBorder:!0}),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)($s,{defaultValue:t,onSave:async t=>{const{name:a}=t;i(!0),s(null);const{error:n}=await r.createComponentTemplate(t);i(!1),n?s(n):e.push({pathname:encodeURI(`/component_templates/${encodeURIComponent(a)}`)})},isSaving:a,saveError:n,clearSaveError:()=>{s(null)}}))},Hs=({componentTemplatename:e,dataStreams:t,onClose:a,api:i})=>{const[n,s]=Object(M.useState)(),[r,o]=Object(M.useState)(!1),l=Object(M.useCallback)((()=>{!async function(){try{o(!0);for(const e of t)await i.postDataStreamRollover(e);await a()}catch(e){s(e)}finally{o(!1)}}()}),[i,a,t]);return Object(k.jsx)(O.EuiConfirmModal,{"data-test-subj":"mappingDatastreamRolloverModal",isLoading:r,title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.mappingRolloverModalTitle",defaultMessage:"Apply mappings now and rollover?"}),onCancel:a,onConfirm:l,cancelButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.cancelButton",defaultMessage:"Apply on next rollover"}),confirmButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.confirmButtom",defaultMessage:"Apply now and rollover"})},n&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.saveError",defaultMessage:"Unable to apply rollover"}),color:"danger",iconType:"alert","data-test-subj":"applyMappingsRolloverError"},Object(k.jsx)("div",null,n.message)),Object(k.jsx)(O.EuiSpacer,{size:"m"})),Object(k.jsx)(O.EuiText,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateMappingsRollover.modalDescription",defaultMessage:"New mappings for the {templateName} component template require a rollover for the following data streams: {datastreams} You can apply the new mappings to incoming data now and force a rollover, or wait until the next rollover. Rollover timing is defined by your index lifecycle policy. {moreInfoLink}",values:{templateName:Object(k.jsx)(O.EuiCode,null,e),moreInfoLink:Object(k.jsx)(O.EuiLink,{external:!0,href:oe.docLinks.fleet.datastreamsILM},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.moreInfoLink",defaultMessage:"See the documentation for more info."})),datastreams:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)("ul",null,t.map((e=>Object(k.jsx)("li",null,Object(k.jsx)(O.EuiCode,null,e))))),Object(k.jsx)(O.EuiSpacer,{size:"s"}))}})))},Gs=({match:{params:{name:e}},history:t})=>{const{api:a,breadcrumbs:i,overlays:n}=us(),{activeStep:s,updateStep:r}=function(e){return{activeStep:Object(M.useMemo)((()=>{const t=new URLSearchParams(e.location.search);if(t.has("step"))return t.get("step")}),[e.location.search]),updateStep:Object(M.useCallback)((t=>{const a=new URLSearchParams(e.location.search);a.has("step")&&(a.set("step",t),e.push({search:a.toString()}))}),[e])}}(t),o=vs(t),[l,c]=Object(M.useState)(!1),[d,u]=Object(M.useState)(null),p=Object($.attemptToURIDecode)(e),{error:m,data:g,isLoading:f}=a.useLoadComponentTemplate(p),{data:x}=a.useLoadComponentTemplatesDatastream(p),b=Object(M.useMemo)((()=>{var e;return null!==(e=null==x?void 0:x.data_streams)&&void 0!==e?e:[]}),[x]);return Object(M.useEffect)((()=>{i.setEditBreadcrumbs()}),[i]),f?Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"})):m?Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadComponentTemplateError",defaultMessage:"Error loading component template"}),error:m,"data-test-subj":"loadComponentTemplateError"}):Object(k.jsx)(O.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(k.jsx)(O.EuiPageHeader,{pageTitle:Object(k.jsx)("span",{"data-test-subj":"pageTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.editPageTitle",defaultMessage:"Edit component template '{name}'",values:{name:p}})),bottomBorder:!0}),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)($s,{defaultValue:g,dataStreams:b,defaultActiveWizardSection:s,onStepChange:r,onSave:async e=>{var t;c(!0),u(null);const{error:i}=await a.updateComponentTemplate(e);if(c(!1),i)u(i);else{if((null===(t=e._meta)||void 0===t?void 0:t.managed_by)===ls&&b.length){const t=[];for(const e of b)try{const{error:t}=await a.postDataStreamMappingsFromTemplate(e);if(t)throw t}catch(a){t.push(e)}if(t.length){const i=n.openModal(Object(H.toMountPoint)(Object(k.jsx)(Hs,{componentTemplatename:e.name,dataStreams:t,api:a,onClose:()=>{i.close()}})));await i.onClose}}o({pathname:encodeURI(`/component_templates/${encodeURIComponent(e.name)}`)})}},isSaving:l,saveError:d,clearSaveError:()=>{u(null)},isEditing:!0}))},Js=e=>{const{sourceComponentTemplateName:t}=e.match.params,a=Object($.attemptToURIDecode)(t),{toasts:n,api:s}=us(),{error:r,data:o,isLoading:l}=s.useLoadComponentTemplate(a);if(Object(M.useEffect)((()=>{r&&!l&&n.addError({...r,name:""},{title:i.i18n.translate("xpack.idxMgmt.componentTemplateClone.loadComponentTemplateTitle",{defaultMessage:"Error loading component template '{sourceComponentTemplateName}'.",values:{sourceComponentTemplateName:t}})})}),[r,l]),l)return Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplateEdit.loadingDescription",defaultMessage:"Loading component template…"}));{const t=o?{...o,name:`${o.name}-copy`}:void 0;return Object(k.jsx)(Ws,qe()({},e,{sourceComponentTemplate:t}))}},Ys=({anchorPosition:e="upCenter"})=>{const[t,a]=Object(M.useState)(!1);return Object(k.jsx)(O.EuiPopover,{id:"createComponentTemplatePanel",button:Object(k.jsx)(O.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>a((e=>!e))},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesFlyout.manageButtonLabel",defaultMessage:"Create"})),isOpen:t,closePopover:()=>a(!1),panelPaddingSize:"none",anchorPosition:e,repositionOnScroll:!0},Object(k.jsx)(O.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createContextMenuPanelTitle",{defaultMessage:"New component template"}),items:[{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromScratchButtonLabel",{defaultMessage:"From scratch"}),icon:"plusInCircle",onClick:()=>{}},{name:i.i18n.translate("xpack.idxMgmt.componentTemplatesFlyout.createComponentTemplateFromExistingButtonLabel",{defaultMessage:"From existing index template"}),icon:"symlink",onClick:()=>{}}]}]}))};function Ks({onChange:e,filters:t}){const[a,i]=Object(M.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),s=Object(k.jsx)(O.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{i(!a)},isSelected:a,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"filterButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.filterButtonLabel",defaultMessage:"Filter"}));return Object(k.jsx)(O.EuiFilterGroup,{className:"componentTemplates__filterListButton"},Object(k.jsx)(O.EuiPopover,{ownFocus:!0,button:s,isOpen:a,closePopover:()=>{i(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(k.jsx)("div",{className:"euiFilterSelect__items"},Object.entries(t).map((([a,i],n)=>Object(k.jsx)(O.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i="on"===t[a].checked?"off":"on";e({...t,[a]:{...t[a],checked:i}})})(a),"data-test-subj":"filterItem"},i.name))))))}a(108);const Xs=({component:e,onViewDetail:t,actions:a,isSelected:i=!1,dragHandleProps:n})=>{const s=a&&a.length>0,r="function"==typeof i?i(e):i,o=Boolean(n);return Object(k.jsx)("div",{className:Ji()("componentTemplatesListItem",{"componentTemplatesListItem--selected":r}),"data-test-subj":"item"},Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center"},o&&Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)("div",n,Object(k.jsx)(O.EuiIcon,{type:"grab"}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1,"data-test-subj":"name"},Object(k.jsx)(O.EuiLink,{onClick:()=>t(e)},e.name)),Object(k.jsx)(O.EuiFlexItem,{grow:!1,className:"componentTemplatesListItem__contentIndicator"},Object(k.jsx)(Nn,{settings:e.hasSettings,mappings:e.hasMappings,aliases:e.hasAliases})))),s&&!r&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"xs"},a.map(((t,a)=>Object(k.jsx)(O.EuiFlexItem,{key:a},Object(k.jsx)(O.EuiToolTip,{content:t.label},Object(k.jsx)(O.EuiButtonIcon,{iconType:t.icon,onClick:()=>t.handler(e),"data-test-subj":`action-${t.icon}`,"aria-label":t.label})))))))),r&&Object(k.jsx)(O.EuiIcon,{className:"componentTemplatesListItem__checkIcon",type:"check",color:"success"}))},Zs=({components:e,listItemProps:t})=>Object(k.jsx)("div",{"data-test-subj":"componentTemplatesList"},e.map((e=>Object(k.jsx)(Xs,qe()({key:e.name,component:e},t)))));function Qs(e){return e.replace(/[-\[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}a(113);const er={filters:{settings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.indexSettingsLabel",{defaultMessage:"Index settings"}),mappings:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.mappingsLabel",{defaultMessage:"Mappings"}),aliases:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.filters.aliasesLabel",{defaultMessage:"Aliases"})},searchBoxPlaceholder:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.searchBox.placeholder",{defaultMessage:"Search component templates"})},tr=()=>({settings:{name:er.filters.settings,checked:"off"},mappings:{name:er.filters.mappings,checked:"off"},aliases:{name:er.filters.aliases,checked:"off"}}),ar=({isLoading:e,components:t,listItemProps:a})=>{const[i,n]=Object(M.useState)(""),[s,r]=Object(M.useState)(tr),o=Object(M.useMemo)((()=>e?[]:t.filter((e=>{if("on"===s.settings.checked&&!e.hasSettings)return!1;if("on"===s.mappings.checked&&!e.hasMappings)return!1;if("on"===s.aliases.checked&&!e.hasAliases)return!1;if(""===i.trim())return!0;const t=function(e,t){const a=`.*${e.split("").map(Qs).join(".*")}.*`;return new RegExp(a).test(t)}(i,e.name);return t})).sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))),[e,t,i,s]),l=0===o.length&&t.length>0;if(e)return null;return Object(k.jsx)("div",{className:"componentTemplates","data-test-subj":"componentTemplates"},Object(k.jsx)("div",{className:"componentTemplates__header"},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"none"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiFieldSearch,{placeholder:er.searchBoxPlaceholder,value:i,onChange:e=>{n(e.target.value)},"aria-label":er.searchBoxPlaceholder,className:"componentTemplates__searchBox","data-test-subj":"componentTemplateSearchBox"})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Ks,{filters:s,onChange:r})))),Object(k.jsx)("div",{className:Ji()("eui-yScrollWithShadows componentTemplates__listWrapper",{"componentTemplates__listWrapper--is-empty":l})},l?Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"search",title:Object(k.jsx)("h3",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPromptTitle",defaultMessage:"No components match your search"})),actions:Object(k.jsx)(O.EuiButton,{onClick:()=>{n(""),r(tr())}},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.searchResult.emptyPrompt.clearSearchButtonLabel",defaultMessage:"Clear search"})),"data-test-subj":"emptySearchResult"}):Object(k.jsx)(Zs,{components:o,listItemProps:a})))},ir=({components:e,onReorder:t,listItemProps:a})=>Object(k.jsx)(O.EuiDragDropContext,{onDragEnd:({source:a,destination:i})=>{if(a&&i){const n=Object(O.euiDragDropReorder)(e,a.index,i.index);t(n)}}},Object(k.jsx)(O.EuiDroppable,{droppableId:"componentTemplates",spacing:"none"},e.map(((e,t)=>Object(k.jsx)(O.EuiDraggable,{spacing:"none",key:e.name,index:t,draggableId:e.name,customDragHandle:!0},(t=>Object(k.jsx)(Xs,qe()({component:e,dragHandleProps:t.dragHandleProps},a))))))));a(118);const{useGlobalFlyout:nr}=$.GlobalFlyout,sr={icons:{view:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.viewItemIconLabel",{defaultMessage:"View"}),select:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.selectItemIconLabel",{defaultMessage:"Select"}),remove:i.i18n.translate("xpack.idxMgmt.componentTemplatesSelector.removeItemIconLabel",{defaultMessage:"Remove"})}},rr=({onChange:e,defaultValue:t,onComponentsLoaded:a,docUri:i,emptyPrompt:{text:n,showCreateButton:s}={}})=>{const{data:r,isLoading:o,error:l}=us().api.useLoadComponentTemplates(),{addContent:c,removeContent:d}=nr(),[u,p]=Object(M.useState)(null),[m,g]=Object(M.useState)([]),f=Object(M.useRef)(!1),x=Object.keys(m).length>0,b=!!(r&&r.length>0),j=()=>{p(null)};Object(M.useEffect)((()=>{if(r)if(t&&t.length>0&&0===m.length&&!1===f.current){const a=t.map((e=>r.find((t=>t.name===e)))).filter(Boolean);g(a),e(a.map((({name:e})=>e))),f.current=!0}else e(m.map((({name:e})=>e)))}),[t,r,m,e]),Object(M.useEffect)((()=>{o||l||a(null!=r?r:[])}),[o,l,r,a]),Object(M.useEffect)((()=>{u&&c({id:"componentTemplateDetails",Component:hs,props:{onClose:j,componentTemplateName:u},flyoutProps:{...js,onClose:j},cleanUpFunc:()=>{p(null)}})}),[u,c]),Object(M.useEffect)((()=>{u||d("componentTemplateDetails")}),[u,d]);if(o)return Object(k.jsx)($.SectionLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsDescription",defaultMessage:"Loading component templates…"}));if(l)return Object(k.jsx)($.SectionError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.loadingComponentsErrorMessage",defaultMessage:"Error loading components"}),error:l});if(b)return Object(k.jsx)(O.EuiFlexGroup,{className:"componentTemplatesSelector"},Object(k.jsx)(O.EuiFlexItem,{className:Ji()("componentTemplatesSelector__selection",{"componentTemplatesSelector__selection--is-empty":!x}),"data-test-subj":"componentTemplatesSelection"},x?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("div",{className:"componentTemplatesSelector__selection__header"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.selectionHeader.componentsSelectedLabel",defaultMessage:"Components selected: {count}",values:{count:Object(k.jsx)("span",{className:"componentTemplatesSelector__selection__header__count"},m.length)}})),Object(k.jsx)("div",{className:"eui-yScrollWithShadows componentTemplatesSelector__selection__content"},Object(k.jsx)(ir,{components:m,onReorder:e=>{g(e)},listItemProps:{onViewDetail:e=>{p(e.name)},actions:[{label:sr.icons.remove,icon:"minusInCircle",handler:e=>{g((t=>t.filter((({name:t})=>e.name!==t))))}}]}}))):Object(k.jsx)(O.EuiText,{textAlign:"center","data-test-subj":"emptyPrompt"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-1",defaultMessage:"Add component template building blocks to this template."}),Object(k.jsx)("br",null),Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.noComponentSelectedLabel-2",defaultMessage:"Component templates are applied in the order specified."})))),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(ar,{isLoading:o,components:null!=r?r:[],listItemProps:{onViewDetail:e=>{p(e.name)},actions:[{label:sr.icons.select,icon:"plusInCircle",handler:e=>{g((t=>[...t,e]))}}],isSelected:e=>void 0!==m.find((({name:t})=>e.name===t))}})));const h=Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)("p",null,null!=n?n:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptDescription",defaultMessage:"Components templates let you save index settings, mappings and aliases and inherit from them in index templates."}),Object(k.jsx)("br",null),Object(k.jsx)(O.EuiLink,{href:i,target:"_blank",external:!0},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptLearnMoreLinkText",defaultMessage:"Learn more."}))));return Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"managementApp",title:Object(k.jsx)("h2",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.componentTemplatesSelector.emptyPromptTitle",defaultMessage:"You don’t have any components yet"})),body:h,actions:s?Object(k.jsx)(Ys,{anchorPosition:"downCenter"}):void 0,"data-test-subj":"emptyPrompt"})},or={title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.stepTitle",defaultMessage:"Component templates (optional)"}),description:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.componentsDescription",defaultMessage:"Component templates let you save index settings, mappings and aliases and inherit from them in index templates."})},lr=({defaultValue:e,onChange:t,esDocsBase:a})=>{const[i,n]=Object(M.useState)({isLoadingComponents:!0,components:[]}),s=Object(M.useCallback)((e=>{n({isLoadingComponents:!1,components:e})}),[]),r=Object(M.useCallback)((e=>{t({isValid:!0,validate:async()=>!0,getData:()=>e.length>0?e:void 0})}),[t]),o=!0===i.isLoadingComponents||i.components.length>0,l=`${a}/indices-component-template.html`;return Object(k.jsx)("div",{"data-test-subj":"stepComponents"},o?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"stepTitle"},or.title)),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,or.description))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{size:"s",flush:"right",href:l,target:"_blank",iconType:"help"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.formWizard.stepComponents.docsButtonLabel",defaultMessage:"Component templates docs"})))),Object(k.jsx)(O.EuiSpacer,{size:"l"})):null,Object(k.jsx)(rr,{defaultValue:e,onChange:r,onComponentsLoaded:s,docUri:l,emptyPrompt:{text:or.description,showCreateButton:!1}}))},cr=()=>{const{defaultValue:e,updateContent:t}=$.Forms.useContent("components");return Object(k.jsx)(lr,{defaultValue:e,onChange:t,esDocsBase:oe.getEsDocsBase()})},{stripEmptyFields:dr}=q.serializers,ur=()=>Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noneDescriptionText",defaultMessage:"None"}),pr=e=>e&&Object.entries(e).length>0?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.yesDescriptionText",defaultMessage:"Yes"}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.noDescriptionText",defaultMessage:"No"}),mr=({template:e})=>Object(k.jsx)("div",{"data-test-subj":"previewTab"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices. Component templates are applied in the order specified. Explicit mappings, settings, and aliases override the component templates."}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(Rn,{template:e})),gr=y.a.memo((({template:e,navigateToStep:t})=>{const{name:a,indexPatterns:n,version:s,order:r,priority:o,composedOf:l,_meta:c,_kbnMeta:{isLegacy:d}}=e,u=d?function(e){const{version:t,order:a,indexPatterns:i,template:{settings:n,aliases:s,mappings:r}={}}=e;return{version:t,order:a,index_patterns:i,settings:n,aliases:s,mappings:r}}(dr(e,{types:["string"]})):De(dr(e,{types:["string"]})),p=Pe(u,"mappings"),m=Pe(u,"settings"),g=Pe(u,"aliases"),f=n.length,x=Boolean(n.find((e=>"*"===e))),b=[{id:"summary",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.summaryTabTitle",{defaultMessage:"Summary"}),content:Object(k.jsx)((()=>Object(k.jsx)("div",{"data-test-subj":"summaryTab"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsLabel",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:f}})),Object(k.jsx)(O.EuiDescriptionListDescription,null,f>1?Object(k.jsx)(O.EuiText,null,Object(k.jsx)("ul",null,n.map(((e,t)=>Object(k.jsx)("li",{key:`${e}-${t}`},Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("span",null,e))))))):n.toString()),d?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.orderLabel",defaultMessage:"Order"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,r||Object(k.jsx)(ur,null))):Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.priorityLabel",defaultMessage:"Priority"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,o||Object(k.jsx)(ur,null))),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.versionLabel",defaultMessage:"Version"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,s||Object(k.jsx)(ur,null)),!0!==d&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.componentsLabel",defaultMessage:"Component templates"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,l&&l.length>0?l.length>1?Object(k.jsx)(O.EuiText,null,Object(k.jsx)("ul",null,l.map(((e,t)=>Object(k.jsx)("li",{key:`${e}-${t}`},Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("span",null,e))))))):l.toString():Object(k.jsx)(ur,null))))),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.settingsLabel",defaultMessage:"Index settings"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,pr(m)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.mappingLabel",defaultMessage:"Mappings"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,pr(p)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.aliasesLabel",defaultMessage:"Aliases"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,pr(g)),!0!==d&&c&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.metaLabel",defaultMessage:"Metadata"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,Object(k.jsx)(O.EuiCodeBlock,{language:"json"},JSON.stringify(c,null,2))))))))),null)},{id:"request",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.requestTabTitle",{defaultMessage:"Request"}),content:Object(k.jsx)((()=>{const e=`PUT ${d?"_template":"_index_template"}/${a||"<templateName>"}\n${JSON.stringify(u,null,2)}`,t=e.length<6e4?"json":void 0;return Object(k.jsx)("div",{"data-test-subj":"requestTab"},Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.requestTab.descriptionText",defaultMessage:"This request will create the following index template."}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiCodeBlock,{language:t,isCopyable:!0},e))}),null)}];return d||b.splice(1,0,{id:"preview",name:i.i18n.translate("xpack.idxMgmt.templateForm.stepReview.previewTabTitle",{defaultMessage:"Preview"}),content:Object(k.jsx)(mr,{template:e})}),Object(k.jsx)("div",{"data-test-subj":"stepSummary"},Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("h2",{"data-test-subj":"stepTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.stepTitle",defaultMessage:"Review details for '{templateName}'",values:{templateName:a}}))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),x?Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningTitle",defaultMessage:"This template uses a wildcard (*) as an index pattern."}),color:"warning",iconType:"help","data-test-subj":"indexPatternsWarning"},Object(k.jsx)("p",{"data-test-subj":"indexPatternsWarningDescription"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningDescription",defaultMessage:"All new indices that you create will use this template."})," ",Object(k.jsx)(O.EuiLink,{onClick:t.bind(null,"logistics")},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.stepReview.summaryTab.indexPatternsWarningLinkText",defaultMessage:"Edit index patterns."})))),Object(k.jsx)(O.EuiSpacer,{size:"m"})):null,Object(k.jsx)(O.EuiTabbedContent,{"data-test-subj":"summaryTabContent",tabs:b}))})),fr=y.a.memo((({getTemplateData:e})=>{const{navigateToStep:t}=$.Forms.useFormWizardContext(),{getData:a}=$.Forms.useMultiContentContext(),i=e(a());return Object(k.jsx)(gr,{template:i,navigateToStep:t})})),{stripEmptyFields:xr}=q.serializers,{FormWizard:br,FormWizardStep:jr}=$.Forms,{useGlobalFlyout:hr}=$.GlobalFlyout,Mr={logistics:{id:"logistics",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.logisticsStepName",{defaultMessage:"Logistics"})},components:{id:"components",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.componentsStepName",{defaultMessage:"Component templates"})},settings:{id:"settings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.settingsStepName",{defaultMessage:"Index settings"})},mappings:{id:"mappings",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.mappingsStepName",{defaultMessage:"Mappings"})},aliases:{id:"aliases",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.aliasesStepName",{defaultMessage:"Aliases"})},review:{id:"review",label:i.i18n.translate("xpack.idxMgmt.templateForm.steps.summaryStepName",{defaultMessage:"Review template"})}},yr=({title:e,defaultValue:t,isEditing:a,isSaving:i,isLegacy:n=!1,saveError:s,clearSaveError:r,onSave:o,history:l})=>{const[c,d]=Object(M.useState)(null),{addContent:u,closeFlyout:p}=hr(),m=Object(M.useRef)({mappings:!0,settings:!0,aliases:!0}),g=null!=t?t:{name:"",indexPatterns:[],template:{},_kbnMeta:{type:"default",hasDatastream:!1,isLegacy:n}},{template:{settings:f,mappings:x,aliases:b}={},composedOf:j,_kbnMeta:h,...v}=g,T={logistics:v,settings:f,mappings:x,aliases:b,components:g.composedOf},F={save:a?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveButtonLabel",defaultMessage:"Save template"}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.createButtonLabel",defaultMessage:"Create template"})},_=s?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(We,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.saveTemplateError",defaultMessage:"Unable to create template"}),error:s,"data-test-subj":"saveTemplateError"}),Object(k.jsx)(O.EuiSpacer,{size:"m"})):null,S=Object(M.useCallback)((e=>t=>(e=>{const t={...e};return t.template&&(void 0===t.template.settings&&delete t.template.settings,void 0===t.template.mappings&&delete t.template.mappings,void 0===t.template.aliases&&delete t.template.aliases,0===Object.keys(t.template).length&&delete t.template),t})({...t.logistics,_kbnMeta:e._kbnMeta,composedOf:t.components,template:{settings:t.settings,mappings:t.mappings,aliases:t.aliases}})),[]),C=Object(M.useCallback)((e=>{d(e)}),[]),L=Object(M.useCallback)((async e=>{const t=S(g)(e);o(xr(t,{types:["string"]})),r()}),[g,S,o,r]),w=Object(M.useCallback)((async()=>{if(!c)return;if(!await c.validate())return;const e=c.getData();return S(g)(e)}),[S,g,c]),I=Object(M.useCallback)((e=>{m.current=e}),[]),D=()=>{u({id:"simulateTemplate",Component:Un,props:{getTemplate:w,onClose:p,filters:m.current,onFiltersChange:I},flyoutProps:Bn})},P=!0===g._kbnMeta.isLegacy;return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiPageHeader,{pageTitle:Object(k.jsx)("span",{"data-test-subj":"pageTitle"},e),bottomBorder:!0}),Object(k.jsx)(O.EuiSpacer,{size:"m"}),P&&Object(k.jsx)(qn,{history:l,showCta:!0}),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(br,{defaultValue:T,onSave:L,isEditing:a,isSaving:i,apiError:_,texts:F,onChange:C,rightContentNav:e=>n||"logistics"===e||"review"===e?null:Object(k.jsx)(O.EuiButton,{size:"s",onClick:D,"data-test-subj":"previewIndexTemplate"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateForm.previewIndexTemplateButtonLabel",defaultMessage:"Preview index template"}))},Object(k.jsx)(jr,{id:Mr.logistics.id,label:Mr.logistics.label,isRequired:!0},Object(k.jsx)(rs,{isEditing:a,isLegacy:g._kbnMeta.isLegacy})),!P&&Object(k.jsx)(jr,{id:Mr.components.id,label:Mr.components.label},Object(k.jsx)(cr,null)),Object(k.jsx)(jr,{id:Mr.settings.id,label:Mr.settings.label},Object(k.jsx)(Dn,{esDocsBase:oe.getEsDocsBase()})),Object(k.jsx)(jr,{id:Mr.mappings.id,label:Mr.mappings.label},Object(k.jsx)(wn,{esDocsBase:oe.getEsDocsBase()})),Object(k.jsx)(jr,{id:Mr.aliases.id,label:Mr.aliases.label},Object(k.jsx)(Qe,{esDocsBase:oe.getEsDocsBase()})),Object(k.jsx)(jr,{id:Mr.review.id,label:Mr.review.label},Object(k.jsx)(fr,{getTemplateData:S(g)}))))},Or=e=>{switch(e){case"green":return"success";case"yellow":return"warning";case"red":return"danger"}},vr=({health:e})=>Object(k.jsx)(O.EuiHealth,{color:Or(e)},e),Tr=({dataStreams:e,onClose:t})=>{const a=e.length;return Object(k.jsx)(O.EuiConfirmModal,{buttonColor:"danger","data-test-subj":"deleteDataStreamsConfirmation",title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.modalTitleText",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {# data streams}}",values:{dataStreamsCount:a}}),onCancel:()=>t(),onConfirm:()=>{(async function(e){return je({path:`${n}/delete_data_streams`,method:"post",body:{dataStreams:e}})})(e).then((({data:{dataStreamsDeleted:a,errors:n},error:s})=>{const r=a&&a.length;if(r){const n=1===a.length?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteSingleNotificationMessageText",{defaultMessage:"Deleted data stream '{dataStreamName}'",values:{dataStreamName:e[0]}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.successDeleteMultipleNotificationMessageText",{defaultMessage:"Deleted {numSuccesses, plural, one {# data stream} other {# data streams}}",values:{numSuccesses:a.length}});t({hasDeletedDataStreams:r}),Le.showSuccessToast(n)}if(s||n&&n.length){const t=n&&n.length>1||s&&e.length>1?i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.multipleErrorsNotificationMessageText",{defaultMessage:"Error deleting {count} data streams",values:{count:n&&n.length||e.length}}):i.i18n.translate("xpack.idxMgmt.deleteDataStreamsConfirmationModal.errorNotificationMessageText",{defaultMessage:"Error deleting data stream '{name}'",values:{name:n&&n[0].name||e[0]}});Le.showDangerToast(t)}}))},cancelButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.cancelButtonLabel",defaultMessage:"Cancel"}),confirmButtonText:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.confirmButtonLabel",defaultMessage:"Delete {dataStreamsCount, plural, one {data stream} other {data streams} }",values:{dataStreamsCount:a}})},Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningTitle",defaultMessage:"Deleting data streams also deletes indices"}),color:"danger",iconType:"alert"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.warningMessage",defaultMessage:"Data streams are collections of time series indices. Deleting a data stream will also delete its indices."}))),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.deleteDataStreamsConfirmationModal.deleteDescription",defaultMessage:"You are about to delete {dataStreamsCount, plural, one {this data stream} other {these data streams} }:",values:{dataStreamsCount:a}})),Object(k.jsx)("ul",null,e.map((e=>Object(k.jsx)("li",{key:e},e))))))};var Er=a(40),kr=a.n(Er);const Fr=e=>kr()(e).format("MMMM Do, YYYY h:mm:ss A"),_r=e=>{var t,a;return Boolean((null===(t=e._meta)||void 0===t?void 0:t.managed)&&"ingest-manager"===(null===(a=e._meta)||void 0===a?void 0:a.managed_by))},Sr=({dataStream:e})=>{const t=[];return _r(e)&&t.push(Object(k.jsx)(O.EuiBadge,{color:"hollow",key:"managed"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.managedDataStreamBadge",defaultMessage:"Fleet-managed"}))),e.hidden&&t.push(Object(k.jsx)(O.EuiBadge,{color:"hollow",key:"hidden"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.hiddenDataStreamBadge",defaultMessage:"Hidden"}))),t.length>0?Object(k.jsx)(y.a.Fragment,null," ",Object(k.jsx)(O.EuiBadgeGroup,null,t)):null},Cr=({dataStreams:e,reload:t,history:a,filters:n,includeStats:s})=>{const[r,o]=Object(M.useState)([]),[l,c]=Object(M.useState)([]),d=[];d.push({field:"name",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"nameLink"},Object(H.reactRouterNavigate)(a,Object($e.a)(e))),e),Object(k.jsx)(Sr,{dataStream:t}))}),d.push({field:"health",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.healthColumnTitle",{defaultMessage:"Health"}),truncateText:!0,sortable:!0,render:e=>Object(k.jsx)(vr,{health:e}),width:"100px"}),s&&(d.push({field:"maxTimeStamp",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnTitle",{defaultMessage:"Last updated"}),width:"300px",truncateText:!0,sortable:!0,render:e=>e?Fr(e):i.i18n.translate("xpack.idxMgmt.dataStreamList.table.maxTimeStampColumnNoneMessage",{defaultMessage:"Never"})}),d.push({field:"storageSizeBytes",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.storageSizeColumnTitle",{defaultMessage:"Storage size"}),truncateText:!0,sortable:!0,render:(e,t)=>t.storageSize})),d.push({field:"indices",name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.indicesColumnTitle",{defaultMessage:"Indices"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"indicesLink"},Object(H.reactRouterNavigate)(a,Object($e.b)(`data_stream="${t.name}"`,!0))),e.length)}),d.push({name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionColumnTitle",{defaultMessage:"Actions"}),actions:[{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.dataStreamList.table.actionDeleteDescription",{defaultMessage:"Delete this data stream"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e})=>{c([e])},isPrimary:!0,"data-test-subj":"deleteDataStream",available:({privileges:{delete_index:e}})=>e}]});const u={onSelectionChange:o},p={query:n,box:{incremental:!0},toolsLeft:r.length>0&&r.every((e=>e.privileges.delete_index))?Object(k.jsx)(O.EuiButton,{"data-test-subj":"deleteDataStreamsButton",onClick:()=>c(r.map((({name:e})=>e))),color:"danger"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.deleteDataStreamsButtonLabel",defaultMessage:"Delete {count, plural, one {data stream} other {data streams} }",values:{count:r.length}})):void 0,toolsRight:[Object(k.jsx)(O.EuiButton,{color:"success",iconType:"refresh",onClick:t,"data-test-subj":"reloadButton",key:"reloadButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.reloadDataStreamsButtonLabel",defaultMessage:"Reload"}))]};return Object(k.jsx)(y.a.Fragment,null,l&&l.length>0?Object(k.jsx)(Tr,{onClose:e=>{e&&e.hasDeletedDataStreams?t():c([])},dataStreams:l}):null,Object(k.jsx)(O.EuiInMemoryTable,{items:e||[],itemId:"name",columns:d,search:p,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:u,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"dataStreamTable",message:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.table.noDataStreamsMessage",defaultMessage:"No data streams found"}),tableLayout:"auto"}))};var Lr=a(41);const wr=(e,t)=>{const a=ze(),i=void 0===t?null:a.url.locators.get("ILM_LOCATOR_ID");return Object(Lr.useLocatorUrl)(i,{page:e,policyName:t},{},[e,t])},Ir=({details:e})=>{const t=[];let a;return e.forEach(((e,i)=>{const{name:n,toolTip:s,content:r}=e;i%2==0&&(a=[],t.push(Object(k.jsx)(O.EuiFlexGroup,{key:t.length},a))),a.push(Object(k.jsx)(O.EuiFlexItem,{key:n},Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},n),Object(k.jsx)(O.EuiFlexItem,{grow:!1},s&&Object(k.jsx)(O.EuiIconTip,{content:s,position:"top"})))),Object(k.jsx)(O.EuiDescriptionListDescription,null,r)))})),Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},t)},Dr=({dataStreamName:e,onClose:t})=>{const{error:a,data:s,isLoading:r}=he({path:`${n}/data_streams/${encodeURIComponent(e)}`,method:"get"}),[o,l]=Object(M.useState)(!1),c=wr(ge,null==s?void 0:s.ilmPolicyName),{history:d}=ze();let u;if(r)u=Object(k.jsx)($.SectionLoading,null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamDescription",{defaultMessage:"Loading data stream"}));else if(a)u=Object(k.jsx)(We,{title:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.loadingDataStreamErrorMessage",{defaultMessage:"Error loading data stream"}),error:a,"data-test-subj":"sectionError"});else if(s){const{health:t,indices:a,timeStampField:n,generation:r,indexTemplateName:o,ilmPolicyName:l,storageSize:p,maxTimeStamp:m}=s,g=[{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthTitle",{defaultMessage:"Health"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.healthToolTip",{defaultMessage:"The health of the data stream's current backing indices"}),content:Object(k.jsx)(vr,{health:t})},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampTitle",{defaultMessage:"Last updated"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampToolTip",{defaultMessage:"The most recent document to be added to the data stream"}),content:m?Fr(m):Object(k.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.maxTimeStampNoneMessage",{defaultMessage:"Never"}))},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeTitle",{defaultMessage:"Storage size"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.storageSizeToolTip",{defaultMessage:"Total size of all shards in the data stream’s backing indices"}),content:p},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesTitle",{defaultMessage:"Indices"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indicesToolTip",{defaultMessage:"The data stream's current backing indices"}),content:Object(k.jsx)(O.EuiLink,Object(H.reactRouterNavigate)(d,Object($e.b)(`data_stream="${e}"`,!0)),a.length)},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldTitle",{defaultMessage:"Timestamp field"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.timestampFieldToolTip",{defaultMessage:"Timestamp field shared by all documents in the data stream"}),content:n.name},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationTitle",{defaultMessage:"Generation"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.generationToolTip",{defaultMessage:"Cumulative count of backing indices created for the data stream"}),content:r},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateTitle",{defaultMessage:"Index template"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.indexTemplateToolTip",{defaultMessage:"The index template that configured the data stream and configures its backing indices"}),content:Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"indexTemplateLink"},Object(H.reactRouterNavigate)(d,Object($e.d)(o))),o)},{name:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyTitle",{defaultMessage:"Index lifecycle policy"}),toolTip:i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyToolTip",{defaultMessage:"The index lifecycle policy that manages the data stream's data"}),content:l&&c?Object(k.jsx)(O.EuiLink,{"data-test-subj":"ilmPolicyLink",href:c},l):l||Object(k.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.ilmPolicyContentNoneMessage",{defaultMessage:"None"}))}];u=Object(k.jsx)(Ir,{details:g})}return Object(k.jsx)(y.a.Fragment,null,o?Object(k.jsx)(Tr,{onClose:e=>{e&&e.hasDeletedDataStreams?t(!0):l(!1)},dataStreams:[e]}):null,Object(k.jsx)(O.EuiFlyout,{onClose:()=>t(),"data-test-subj":"dataStreamDetailPanel","aria-labelledby":"dataStreamDetailPanelTitle",size:"m",maxWidth:500},Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{id:"dataStreamDetailPanelTitle","data-test-subj":"dataStreamDetailPanelTitle"},e,s&&Object(k.jsx)(Sr,{dataStream:s})))),Object(k.jsx)(O.EuiFlyoutBody,{"data-test-subj":"content"},u),Object(k.jsx)(O.EuiFlyoutFooter,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:()=>t(),"data-test-subj":"closeDetailsButton"},i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.closeButtonLabel",{defaultMessage:"Close"}))),r||a||null==s||!s.privileges.delete_index?null:Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{color:"danger",iconType:"trash",onClick:()=>l(!0),"data-test-subj":"deleteDataStreamButton"},i.i18n.translate("xpack.idxMgmt.dataStreamDetailPanel.deleteButtonLabel",{defaultMessage:"Delete data stream"})))))))};function Pr({onChange:e,filters:t}){const[a,i]=Object(M.useState)(!1),n=Object.values(t).filter((e=>"on"===e.checked)),s=Object(k.jsx)(O.EuiFilterButton,{iconType:"arrowDown",onClick:()=>{i(!a)},isSelected:a,numFilters:Object.keys(t).length,hasActiveFilters:n.length>0,numActiveFilters:n.length,"data-test-subj":"viewButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.viewButtonLabel",defaultMessage:"View"}));return Object(k.jsx)(O.EuiFilterGroup,null,Object(k.jsx)(O.EuiPopover,{ownFocus:!0,button:s,isOpen:a,closePopover:()=>{i(!1)},panelPaddingSize:"none","data-test-subj":"filterList"},Object(k.jsx)("div",{className:"euiFilterSelect__items"},Object.entries(t).map((([a,i],n)=>Object(k.jsx)(O.EuiFilterSelectItem,{checked:i.checked,key:n,onClick:()=>(a=>{const i=t[a].checked;e({...t,[a]:{...t[a],checked:"on"===i?"off":"on"}})})(a),"data-test-subj":"filterItem"},i.name))))))}const Nr=({match:{params:{dataStreamName:e}},location:{search:t},history:a})=>{const{isDeepLink:s,includeHidden:r}=Object($.extractQueryParams)(t),o=Object($.attemptToURIDecode)(e),{core:{getUrlForApp:l,executionContext:c},plugins:{isFleetEnabled:d}}=ze();Object(H.useExecutionContext)(c,{type:"application",page:"indexManagementDataStreamsTab"});const[u,p]=Object(M.useState)(!1),{error:m,isLoading:g,data:f,resendRequest:x}=function({includeStats:e}){return he({path:`${n}/data_streams`,method:"get",query:{includeStats:e}})}({includeStats:u}),[b,j]=Object(M.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewManagedLabel",{defaultMessage:"Fleet-managed data streams"}),checked:"on"},hidden:{name:i.i18n.translate("xpack.idxMgmt.dataStreamList.viewHiddenLabel",{defaultMessage:"Hidden data streams"}),checked:r?"on":"off"}}),h=Object(M.useMemo)((()=>{if(!f)return[];const e=Object.entries(b).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return((e,t)=>e.filter((e=>!e.hidden&&!_r(e)||!(!e.hidden||!t.includes("hidden"))||_r(e)&&t.includes("managed"))))(f,e)}),[f,b]);let y;var v;return g?y=Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsDescription",defaultMessage:"Loading data streams…"})):m?y=Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.loadingDataStreamsErrorMessage",defaultMessage:"Error loading data streams"}),error:m}):Array.isArray(f)&&0===f.length?y=Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"managementApp",title:Object(k.jsx)("h1",{"data-test-subj":"title"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsTitle",defaultMessage:"You don't have any data streams yet"})),body:Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices."})," ",d?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerMessage",defaultMessage:"Get started with data streams in {link}.",values:{link:Object(k.jsx)(O.EuiLink,{"data-test-subj":"dataStreamsEmptyPromptTemplateLink",href:l("fleet")},i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIngestManagerLink",{defaultMessage:"Fleet"}))}}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateMessage",defaultMessage:"Get started with data streams by creating a {link}.",values:{link:Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"dataStreamsEmptyPromptTemplateLink"},Object(H.reactRouterNavigate)(a,{pathname:"/templates"})),i.i18n.translate("xpack.idxMgmt.dataStreamList.emptyPrompt.noDataStreamsCtaIndexTemplateLink",{defaultMessage:"composable index template"}))}})),"data-test-subj":"emptyPrompt"}):(v=((e,t)=>{var a;return!!t&&!(null===(a=e.find((e=>e.name===t)))||void 0===a||!a.hidden)})(f,o),v&&"off"===b.hidden.checked&&j({...b,hidden:{...b.hidden,checked:"on"}}),y=Object(k.jsx)(O.EuiPageContent_Deprecated,{hasShadow:!1,paddingSize:"none","data-test-subj":"dataStreamList"},Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.dataStreamList.dataStreamsDescription",defaultMessage:"Data streams store time-series data across multiple indices. {learnMoreLink}",values:{learnMoreLink:Object(k.jsx)(O.EuiLink,{href:oe.getDataStreamsDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.dataStreamListDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"s"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiSwitch,{label:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchLabel",{defaultMessage:"Include stats"}),checked:u,onChange:e=>p(e.target.checked),"data-test-subj":"includeStatsSwitch"})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiIconTip,{content:i.i18n.translate("xpack.idxMgmt.dataStreamListControls.includeStatsSwitchToolTip",{defaultMessage:"Including stats can increase reload times"}),position:"top"})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Pr,{filters:b,onChange:j}))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(Cr,{filters:s&&void 0!==o?`name="${o}"`:"",dataStreams:h,reload:x,history:a,includeStats:u}))),Object(k.jsx)("div",{className:fe.APP_WRAPPER_CLASS},y,o&&Object(k.jsx)(Dr,{dataStreamName:o,onClose:e=>{a.push(`/${Dl.DataStreams}`),e&&x()}}))},Ar=(e,t,a)=>{const n=[];return a.badges.forEach((({matchIndex:a,label:s,color:r,filterExpression:o})=>{if(a(e)){const e=()=>{t&&o&&t(O.EuiSearchBar.Query.parse(o))},a=i.i18n.translate("xpack.idxMgmt.badgeAriaLabel",{defaultMessage:"{label}. Select to filter on this.",values:{label:s}});n.push(Object(k.jsx)(M.Fragment,{key:s}," ",Object(k.jsx)(O.EuiBadge,{color:r,onClick:e,onClickAriaLabel:a},s)))}})),Object(k.jsx)(M.Fragment,null,n)},Rr=(e,t=[])=>(t.push(e),e.items&&e.items.forEach((e=>{e.panel&&(Rr(e.panel,t),e.panel=e.panel.id)})),t);class index_actions_context_menu_IndexActionsContextMenu extends M.Component{constructor(e){super(e),x()(this,"closeConfirmModal",(()=>{this.setState({renderConfirmModal:null}),this.props.resetSelection&&this.props.resetSelection()})),x()(this,"confirmAction",(e=>{this.setState({isActionConfirmed:e})})),x()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),x()(this,"closePopoverAndExecute",(e=>{this.setState({isPopoverOpen:!1,renderConfirmModal:!1}),e(),this.props.resetSelection&&this.props.resetSelection()})),x()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),x()(this,"forcemergeSegmentsError",(()=>{const{forcemergeSegments:e}=this.state;return!e||e.match(/^([1-9][0-9]*)?$/)?void 0:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.segmentsNumberErrorMessage",{defaultMessage:"The number of segments must be greater than zero."})})),x()(this,"renderForcemergeSegmentsModal",(()=>{const{forcemergeIndices:e,indexNames:t}=this.props,a=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeSegmentsHelpText",{defaultMessage:"Merge the segments in an index until the number is reduced to this or fewer segments. The default is 1."}),n=t.length;return Object(k.jsx)(O.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.modalTitle",{defaultMessage:"Force merge"}),onCancel:this.closeConfirmModal,onConfirm:()=>{this.forcemergeSegmentsError()||this.closePopoverAndExecute((()=>{e(this.state.forcemergeSegments),this.setState({forcemergeSegments:null,showForcemergeSegmentsModal:null})}))},cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.confirmModal.confirmButtonText",{defaultMessage:"Force merge"})},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeDescription",defaultMessage:"You are about to force merge {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:n}})),Object(k.jsx)("ul",null,t.map((e=>Object(k.jsx)("li",{key:e},e)))),Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.proceedWithCautionCallOutTitle",{defaultMessage:"Proceed with caution!"}),color:"warning",iconType:"help"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.forceMerge.forceMergeWarningDescription",defaultMessage:" Don't force-merge indices to which you're still writing, or to which you'll write again in the future. Instead, rely on the automatic background merge process to perform merges as needed to keep the index running smoothly. If you write to a force-merged index then its performance may become much worse. "}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiForm,{isInvalid:!!this.forcemergeSegmentsError(),error:this.forcemergeSegmentsError()},Object(k.jsx)(O.EuiFormRow,{label:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMerge.maximumNumberOfSegmentsFormRowLabel",{defaultMessage:"Maximum number of segments per shard"}),helpText:a},Object(k.jsx)(O.EuiFieldNumber,{onChange:e=>{this.setState({forcemergeSegments:e.target.value})},min:1,name:"maxNumberSegments"}))))})),x()(this,"renderConfirmDeleteModal",(()=>{const{deleteIndices:e,indexNames:t,hasSystemIndex:a,isSystemIndexByName:n}=this.props,{isActionConfirmed:s}=this.state,r=t.length,o=Object(k.jsx)(M.Fragment,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:r}})),Object(k.jsx)("ul",null,t.map((e=>Object(k.jsx)("li",{key:e},e)))),Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteWarningDescription",defaultMessage:"You can't recover a deleted index. Make sure you have appropriate backups."}))),l=Object(k.jsx)(M.Fragment,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.deleteDescription",defaultMessage:"You are about to delete {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:r}})),Object(k.jsx)("ul",null,t.map((e=>Object(k.jsx)("li",{key:e},e,n[e]?Object(k.jsx)(M.Fragment,null," ",Object(k.jsx)(O.EuiBadge,{iconType:"alert",color:"hollow"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.systemIndexLabel",defaultMessage:"System index"}))):"")))),Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Deleting a system index can break Kibana"}),color:"danger",iconType:"alert"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. If you delete a system index, you can't recover it. Make sure you have appropriate backups."})),Object(k.jsx)(O.EuiCheckbox,{id:"confirmDeleteIndicesCheckbox",label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.deleteIndex.checkboxLabel",defaultMessage:"I understand the consequences of deleting a system index"}),checked:s,onChange:e=>this.confirmAction(e.target.checked)})));return Object(k.jsx)(O.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.modalTitle",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:r}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!!a&&!s,cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.confirmButtonText",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:r}})},a?l:o)})),x()(this,"renderConfirmCloseModal",(()=>{const{closeIndices:e,indexNames:t,isSystemIndexByName:a}=this.props,{isActionConfirmed:n}=this.state,s=t.length;return Object(k.jsx)(O.EuiConfirmModal,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.modalTitle",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {# indices} }",values:{selectedIndexCount:s}}),onCancel:()=>{this.confirmAction(!1),this.closeConfirmModal()},onConfirm:()=>this.closePopoverAndExecute(e),buttonColor:"danger",confirmButtonDisabled:!n,cancelButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.confirmModal.confirmButtonText",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:s}})},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.closeDescription",defaultMessage:"You are about to close {selectedIndexCount, plural, one {this index} other {these indices} }:",values:{selectedIndexCount:s}})),Object(k.jsx)("ul",null,t.map((e=>Object(k.jsx)("li",{key:e},e,a[e]?Object(k.jsx)(M.Fragment,null," ",Object(k.jsx)(O.EuiBadge,{iconType:"alert",color:"hollow"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.systemIndexLabel",defaultMessage:"System index"}))):"")))),Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutTitle",{defaultMessage:"Closing a system index can break Kibana"}),color:"danger",iconType:"alert"},Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.proceedWithCautionCallOutDescription",defaultMessage:"System indices are critical for internal operations. You can reopen the index using the Open Index API."})),Object(k.jsx)(O.EuiCheckbox,{id:"confirmCloseIndicesCheckbox",label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexActionsMenu.closeIndex.checkboxLabel",defaultMessage:"I understand the consequences of closing a system index"}),checked:n,onChange:e=>this.confirmAction(e.target.checked)})))})),this.state={isPopoverOpen:!1,renderConfirmModal:null,isActionConfirmed:!1}}panels({services:{extensionsService:e},core:{getUrlForApp:t}}){const{closeIndices:a,openIndices:n,flushIndices:s,refreshIndices:o,clearCacheIndices:l,editIndex:c,showMapping:d,showStats:u,showSettings:p,detailPanel:m,indexNames:g,indexStatusByName:f,performExtensionAction:x,indices:b,reloadIndices:j,unfreezeIndices:h,hasSystemIndex:M}=this.props,y=Object(Te.every)(g,(e=>f[e]===r)),O=Object(Te.every)(b,(e=>e.isFrozen)),v=g.length,T=[];m||1!==v||(T.push({"data-test-subj":"showSettingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexSettingsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(p)}}),T.push({"data-test-subj":"showMappingsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexMappingLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } mapping",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(d)}}),y&&T.push({"data-test-subj":"showStatsIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.showIndexStatsLabel",{defaultMessage:"Show {selectedIndexCount, plural, one {index} other {indices} } stats",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(u)}}),T.push({"data-test-subj":"editIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.editIndexSettingsLabel",{defaultMessage:"Edit {selectedIndexCount, plural, one {index} other {indices} } settings",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(c)}})),y?(T.push({"data-test-subj":"closeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.closeIndexLabel",{defaultMessage:"Close {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{if(M)return this.closePopover(),void this.setState({renderConfirmModal:this.renderConfirmCloseModal});this.closePopoverAndExecute(a)}}),T.push({"data-test-subj":"forcemergeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.forceMergeIndexLabel",{defaultMessage:"Force merge {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderForcemergeSegmentsModal})}}),T.push({"data-test-subj":"refreshIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.refreshIndexLabel",{defaultMessage:"Refresh {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(o)}}),T.push({"data-test-subj":"clearCacheIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.clearIndexCacheLabel",{defaultMessage:"Clear {selectedIndexCount, plural, one {index} other {indices} } cache",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(l)}}),T.push({"data-test-subj":"flushIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.flushIndexLabel",{defaultMessage:"Flush {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(s)}}),O&&T.push({"data-test-subj":"unfreezeIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.unfreezeIndexLabel",{defaultMessage:"Unfreeze {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(h)}})):T.push({"data-test-subj":"openIndexMenuButton",name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.openIndexLabel",{defaultMessage:"Open {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopoverAndExecute(n)}}),T.push({name:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.deleteIndexLabel",{defaultMessage:"Delete {selectedIndexCount, plural, one {index} other {indices} }",values:{selectedIndexCount:v}}),onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:this.renderConfirmDeleteModal})}}),e.actions.forEach((e=>{const a=e({indices:b,reloadIndices:j,getUrlForApp:t});if(a){const{buttonLabel:e,requestMethod:t,successMessage:i,renderConfirmModal:n}=a;t?T.push({name:e,onClick:()=>{this.closePopoverAndExecute((async()=>{await x(t,i)}))}}):T.push({name:e,onClick:()=>{this.closePopover(),this.setState({renderConfirmModal:n})}})}}));const E={id:0,title:i.i18n.translate("xpack.idxMgmt.indexActionsMenu.panelTitle",{defaultMessage:"{selectedIndexCount, plural, one {Index} other {Indices} } options",values:{selectedIndexCount:v}}),items:T};return Rr(E)}render(){return Object(k.jsx)(Re,null,(e=>{const{indexNames:t}=this.props,a=t.length,{iconSide:n="right",anchorPosition:s="rightUp",label:r=i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonLabel",{defaultMessage:"Manage {selectedIndexCount, plural, one {index} other {{selectedIndexCount} indices}}",values:{selectedIndexCount:a}}),iconType:o="arrowDown"}=this.props,l=this.panels(e),c=Object(k.jsx)(O.EuiButton,{"data-test-subj":"indexActionsContextMenuButton",iconSide:n,"aria-label":i.i18n.translate("xpack.idxMgmt.indexActionsMenu.manageButtonAriaLabel",{defaultMessage:"{selectedIndexCount, plural, one {index} other {indices} } options",values:{selectedIndexCount:a}}),onClick:this.onButtonClick,iconType:o,fill:!0},r);return Object(k.jsx)("div",null,this.state.renderConfirmModal?this.state.renderConfirmModal(this.closeConfirmModal):null,Object(k.jsx)(O.EuiPopover,{id:"contextMenuIndices",button:c,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:s,repositionOnScroll:!0},Object(k.jsx)(O.EuiContextMenu,{"data-test-subj":"indexContextMenu",initialPanelId:0,panels:l})))}))}}var zr=a(42);const Br=Object(zr.createAction)("INDEX_MANAGEMENT_CLEAR_CACHE_INDICES_START"),Vr=({indexNames:e})=>async t=>{t(Br({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/clear_cache`,{body:t}),i=e.length>1?"index_clear_cache_many":"index_clear_cache";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.clearCacheIndicesAction.successMessage",{defaultMessage:"Successfully cleared cache: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Ur=Object(zr.createAction)("INDEX_MANAGEMENT_CLEAR_ROW_STATUS"),qr=Object(zr.createAction)("INDEX_MANAGEMENT_CLOSE_INDICES_START"),$r=({indexNames:e})=>async t=>{t(qr({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/close`,{body:t}),i=e.length>1?"index_close_many":"index_close";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.closeIndicesAction.successfullyClosedIndicesMessage",{defaultMessage:"Successfully closed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Wr=Object(zr.createAction)("INDEX_MANAGEMENT_DELETE_INDICES_SUCCESS"),Hr=({indexNames:e})=>async t=>{try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/delete`,{body:t}),i=e.length>1?"index_delete_many":"index_delete";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.deleteIndicesAction.successfullyDeletedIndicesMessage",{defaultMessage:"Successfully deleted: [{indexNames}]",values:{indexNames:e.join(", ")}})),t(Wr({indexNames:e}))},Gr=Object(zr.createAction)("INDEX_MANAGEMENT_FLUSH_INDICES_START"),Jr=({indexNames:e})=>async t=>{t(Gr({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/flush`,{body:t}),i=e.length>1?"index_flush_many":"index_flush";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.flushIndicesAction.successfullyFlushedIndicesMessage",{defaultMessage:"Successfully flushed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Yr=Object(zr.createAction)("INDEX_MANAGEMENT_FORCEMERGE_INDICES_START"),Kr=({indexNames:e,maxNumSegments:t})=>async a=>{a(Yr({indexNames:e}));try{await async function(e,t){const a=JSON.stringify({indices:e,maxNumSegments:t}),i=await be.httpClient.post(`${n}/indices/forcemerge`,{body:a}),s=e.length>1?"index_force_merge_many":"index_force_merge";return Me.trackMetric(le.METRIC_TYPE.COUNT,s),i}(e,t)}catch(t){return Le.showDangerToast(t.message),a(Ur({indexNames:e}))}a(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.forceMergeIndicesAction.successfullyForceMergedIndicesMessage",{defaultMessage:"Successfully force merged: [{indexNames}]",values:{indexNames:e.join(", ")}}))},Xr=Object(zr.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_START"),Zr=Object(zr.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_SUCCESS"),Qr=Object(zr.createAction)("INDEX_MANAGEMENT_LOAD_INDICES_ERROR"),eo=()=>async e=>{let t;e(Xr());try{t=await async function(){const e=await be.httpClient.get(`${n}/indices`);return e.data?e.data:e}()}catch(t){return e(Qr(t))}e(Zr({indices:t}))},to=Object(zr.createAction)("INDEX_MANAGEMENT_LOAD_INDEX_DATA_SUCCESS"),ao=({indexName:e,dataType:t})=>async a=>{let i;try{i=await async function(e,t){switch(e){case ue:return async function(e){return await be.httpClient.get(`${n}/mapping/${encodeURIComponent(e)}`)}(t);case de:return ye(t);case pe:return async function(e){return await be.httpClient.get(`${n}/stats/${encodeURIComponent(e)}`)}(t)}}(t,e)}catch(e){Le.showDangerToast(e.message)}a(to({data:i,indexName:e}))},io=Object(zr.createAction)("INDEX_MANAGEMENT_OPEN_INDICES_START"),no=({indexNames:e})=>async t=>{t(io({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/open`,{body:t}),i=e.length>1?"index_open_many":"index_open";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.openIndicesAction.successfullyOpenedIndicesMessage",{defaultMessage:"Successfully opened: [{indexNames}]",values:{indexNames:e.join(", ")}}))},so=Object(zr.createAction)("INDEX_MANAGEMENT_REFRESH_INDICES_START"),ro=({indexNames:e})=>async t=>{t(so({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/refresh`,{body:t}),i=e.length>1?"index_refresh_many":"index_refresh";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.refreshIndicesAction.successfullyRefreshedIndicesMessage",{defaultMessage:"Successfully refreshed: [{indexNames}]",values:{indexNames:e.join(", ")}}))},oo=Object(zr.createAction)("INDEX_MANAGEMENT_UNFREEZE_INDICES_START"),lo=Object(zr.createAction)("INDEX_MANAGEMENT_RELOAD_INDICES_SUCCESS"),co=(e,t)=>async a=>{let s;try{s=await async function(e,{asSystemRequest:t}={}){const a=JSON.stringify({indexNames:e}),i=await be.httpClient.post(`${n}/indices/reload`,{body:a,asSystemRequest:t});return i.data?i.data:i}(e,t)}catch(e){return 404===e.status||403===e.status?a(eo()):Le.showDangerToast(e.message)}return s&&s.length>0?a(lo({indices:s})):Le.showWarningToast(i.i18n.translate("xpack.idxMgmt.reloadIndicesAction.indicesPageRefreshFailureMessage",{defaultMessage:"Failed to refresh current page of indices."}))},uo=(Object(zr.createAction)("INDEX_MANAGEMENT_APPLY_FILTERS"),Object(zr.createAction)("INDEX_MANAGEMENT_FILTERS_APPLIED"),Object(zr.createAction)("INDEX_MANAGEMENT_FILTER_CHANGED")),po=Object(zr.createAction)("INDEX_MANAGEMENT_PAGE_CHANGED"),mo=Object(zr.createAction)("INDEX_MANAGEMENT_PAGE_SIZE_CHANGED"),go=Object(zr.createAction)("INDEX_MANAGEMENT_SORT_CHANGED"),fo=Object(zr.createAction)("INDEX_MANAGEMENT_TOGGLE_CHANGED"),xo=Object(zr.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_SUCCESS"),bo=Object(zr.createAction)("INDEX_MANAGEMENT_UPDATE_INDEX_SETTINGS_ERROR"),jo=Object(zr.createAction)("INDEX_MANAGEMENT_OPEN_DETAIL_PANEL"),ho=Object(zr.createAction)("INDEX_MANAGEMENT_CLOSE_DETAIL_PANEL");var Mo=a(145),yo=a(53),Oo=a.n(yo);const vo={[p]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.clearingCacheStatusLabel",{defaultMessage:"clearing cache..."}),[s]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closedStatusLabel",{defaultMessage:"closed"}),[o]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.closingStatusLabel",{defaultMessage:"closing..."}),merging:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.mergingStatusLabel",{defaultMessage:"merging..."}),[l]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.openingStatusLabel",{defaultMessage:"opening..."}),[c]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.refreshingStatusLabel",{defaultMessage:"refreshing..."}),[d]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.flushingStatusLabel",{defaultMessage:"flushing..."}),[u]:i.i18n.translate("xpack.idxMgmt.indexStatusLabels.forcingMergeStatusLabel",{defaultMessage:"forcing merge..."})};var To=a(8);const Eo=new(a.n(To).a)(g.a),ko=e=>{var t;return Eo.major<8&&(null!==(t=e.name)&&void 0!==t?t:"").startsWith(".")};var Fo=a(7);const _o=e=>e.detailPanel.data,So=e=>e.detailPanel.error,Co=e=>e.detailPanel.panelType,Lo=e=>!!Co(e),wo=e=>e.detailPanel.indexName,Io=e=>e.indices.byId,Do=e=>e.indices.loading,Po=e=>e.indices.error,No=e=>Object.values(e.indices.byId),Ao=(e,t)=>{const a=Io(e);return t.map((e=>a[e]))},Ro=(e,t)=>Io(e)[t],zo=e=>e.tableState,Bo=(e,t)=>{const a=Io(e),{status:i}=a[t]||{};return i},Vo=(e,t)=>e.reduce(((e,a)=>(e[a]=ko(t[a]),e)),{}),Uo=(e,t)=>e.some((e=>ko(t[e]))),qo=["name"],$o=Object(Mo.createSelector)(Io,(e=>e.indices.allIds),zo,((e,t)=>t.location),((e,t,a,i)=>{let n=t.map((t=>e[t]));n=((e,t)=>{const a=Fo.a.toggles.reduce(((e,t)=>({...e,[t.name]:t})),{}),i=Object.keys(a);return i.length?e.filter((e=>i.some((i=>!a[i].matchIndex(e)||!0===t[i])))):e})(n,a.toggleNameToVisibleMap);const{includeHiddenIndices:s}=yo.parse(i.search),r="true"===s?n:n.filter((e=>!(e=>{var t;return Eo.major<8&&(null!==(t=e.name)&&void 0!==t?t:"").startsWith(".")||!0===e.hidden})(e))),o=a.filter||O.EuiSearchBar.Query.MATCH_ALL;return O.EuiSearchBar.Query.execute(o,r,{defaultFields:qo})})),Wo=Object(Mo.createSelector)($o,(e=>Object.keys(e).length)),Ho=Object(Mo.createSelector)(zo,Wo,(({currentPage:e,pageSize:t},a)=>new O.Pager(a,t,e))),Go=Object(Mo.createSelector)($o,zo,(e=>e.rowStatus),Ho,((e,t,a,i)=>{const n=((e=[],t,a)=>{const i=Object(Te.sortBy)(e,Ce[t]);return a?i:i.reverse()})(e,t.sortField,t.isSortAscending),{firstItemIndex:s,lastItemIndex:r}=i;return n.slice(s,r+1).map((e=>{const t=vo[a[e.name]]||a[e.name]||vo[e.status]||e.status;return{...e,status:t}}))})),Jo=Object(Mo.createSelector)(zo,(({filter:e})=>e)),Yo=Object(Mo.createSelector)(zo,(({isSortAscending:e})=>e)),Ko=Object(Mo.createSelector)(zo,(({sortField:e})=>e)),Xo=Object(we.connect)(((e,t)=>{const a={},{indexNames:i}=t,n=e.indices.byId;return i.forEach((t=>{a[t]=Bo(e,t)})),{indexStatusByName:a,indices:Ao(e,i),isSystemIndexByName:Vo(i,n),hasSystemIndex:Uo(i,n)}}),((e,{indexNames:t})=>({editIndexSettings:()=>{e((({indexName:e})=>async t=>{let a;try{a=await ye(e)}catch(e){return Le.showDangerToast(e.message)}Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.editIndexSettingsAction.successfullySavedSettingsForIndicesMessage",{defaultMessage:"Successfully saved settings for {indexName}",values:{indexName:e}})),t(to({data:a,panelType:"editIndexSettings",indexName:e}))})({indexName:t[0]}))},clearCacheIndices:()=>{e(Vr({indexNames:t}))},closeIndices:()=>{e($r({indexNames:t}))},flushIndices:()=>{e(Jr({indexNames:t}))},openIndices:()=>{e(no({indexNames:t}))},refreshIndices:()=>{e(ro({indexNames:t}))},unfreezeIndices:()=>{e((({indexNames:e})=>async t=>{t(oo({indexNames:e}));try{await async function(e){const t=JSON.stringify({indices:e}),a=await be.httpClient.post(`${n}/indices/unfreeze`,{body:t}),i=e.length>1?"index_unfreeze_many":"index_unfreeze";return Me.trackMetric(le.METRIC_TYPE.COUNT,i),a}(e)}catch(a){return Le.showDangerToast(a.message),t(Ur({indexNames:e}))}t(co(e)),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.unfreezeIndicesAction.successfullyUnfrozeIndicesMessage",{defaultMessage:"Successfully unfroze: [{indexNames}]",values:{indexNames:e.join(", ")}}))})({indexNames:t}))},forcemergeIndices:a=>{e(Kr({indexNames:t,maxNumSegments:a}))},showSettings:()=>{e(jo({indexName:t[0],panelType:de}))},showMapping:()=>{e(jo({indexName:t[0],panelType:ue}))},showStats:()=>{e(jo({indexName:t[0],panelType:pe}))},editIndex:()=>{const a=t?t[0]:null;a&&e(jo({indexName:a,panelType:me}))},deleteIndices:()=>{e(Hr({indexNames:t}))},reloadIndices:()=>{e(co(t))},performExtensionAction:(a,i)=>{e((({requestMethod:e,indexNames:t,successMessage:a})=>async i=>{try{await e(t,be.httpClient)}catch(e){return void Le.showDangerToast(e.message)}i(co(t)),Le.showSuccessToast(a)})({requestMethod:a,successMessage:i,indexNames:t}))}})))(index_actions_context_menu_IndexActionsContextMenu);a(147);class show_json_ShowJson extends y.a.PureComponent{UNSAFE_componentWillMount(){this.props.loadIndexData(this.props)}UNSAFE_componentWillUpdate(e){const{data:t,loadIndexData:a}=e;t||a(e)}render(){const{data:e}=this.props;if(!e)return null;const t=JSON.stringify(e,null,2);return Object(k.jsx)(O.EuiCodeBlock,{language:"json"},t)}}const Zo={loadIndexData:ao,closeDetailPanel:ho},Qo=Object(we.connect)((e=>{const t=wo(e);return{error:So(e),data:_o(e),dataType:Co(e),indexName:t,indexStatus:Bo(e,t)}}),Zo)(show_json_ShowJson);class summary_Summary extends y.a.PureComponent{getAdditionalContent(e,t){const{index:a}=this.props;return e.summaries.map(((e,i)=>Object(k.jsx)(M.Fragment,{key:`summaryExtension-${i}`},Object(k.jsx)(O.EuiHorizontalRule,null),e(a,t))))}buildRows(){const{index:e}=this.props,t={health:i.i18n.translate("xpack.idxMgmt.summary.headers.healthHeader",{defaultMessage:"Health"}),status:i.i18n.translate("xpack.idxMgmt.summary.headers.statusHeader",{defaultMessage:"Status"}),primary:i.i18n.translate("xpack.idxMgmt.summary.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:i.i18n.translate("xpack.idxMgmt.summary.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:i.i18n.translate("xpack.idxMgmt.summary.headers.documentsHeader",{defaultMessage:"Docs count"}),documents_deleted:i.i18n.translate("xpack.idxMgmt.summary.headers.deletedDocumentsHeader",{defaultMessage:"Docs deleted"}),size:i.i18n.translate("xpack.idxMgmt.summary.headers.storageSizeHeader",{defaultMessage:"Storage size"}),primary_size:i.i18n.translate("xpack.idxMgmt.summary.headers.primaryStorageSizeHeader",{defaultMessage:"Primary storage size"}),aliases:i.i18n.translate("xpack.idxMgmt.summary.headers.aliases",{defaultMessage:"Aliases"})},a={left:[],right:[]};return Object.keys(t).forEach(((i,n)=>{const s=e[i];let r=s;"health"===i&&(r=Object(k.jsx)(vr,{health:s})),Array.isArray(r)&&(r=r.join(", "));const o=[Object(k.jsx)(O.EuiDescriptionListTitle,{key:i},Object(k.jsx)("strong",null,t[i])),Object(k.jsx)(O.EuiDescriptionListDescription,{key:i+"_desc"},r)];n%2==0?a.left.push(o):a.right.push(o)})),a}render(){return Object(k.jsx)(Re,null,(({services:e,core:t})=>{const{left:a,right:i}=this.buildRows(),n=this.getAdditionalContent(e.extensionsService,t.getUrlForApp);return Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiTitle,{size:"s"},Object(k.jsx)("h3",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.summary.summaryTitle",defaultMessage:"General"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(O.EuiFlexGroup,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{type:"column"},a)),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{type:"column"},i))),n)}))}}const el=Object(we.connect)((e=>{const t=wo(e);return{indexName:t,index:Ro(e,t)}}))(summary_Summary),tl=["index.creation_date","index.number_of_shards","index.provided_name","index.uuid","index.version.created","index.compound_format","index.data_path","index.format","index.number_of_routing_shards","index.sort.field","index.sort.missing","index.sort.mode","index.sort.order","index.routing_partition_size","index.store.type"],al=["index.number_of_replicas","index.blocks.read_only_allow_delete","index.codec","index.priority","index.query.default_field","index.refresh_interval","index.write.wait_for_active_shards"];var il=a(148),nl=a.n(il);a(149);const sl=e=>e.split(/\s+/),rl=(e,t)=>{const a=[],i={};return function e(n){Ee.a.keys(n).forEach((function(s){a.push(s),!t&&Array.isArray(n[s])?i[a.join(".")]=n[s]:Ee.a.isObject(n[s])?e(n[s]):i[a.join(".")]=n[s],a.pop()}))}(e),i};class edit_settings_json_EditSettingsJson extends y.a.PureComponent{constructor(){super(),x()(this,"commitSettings",(()=>{const{updateIndexSettings:e,indexName:t}=this.props,a=this.editor.getValue(),i=JSON.parse(a);Object.keys(this.originalSettings).forEach((e=>{Ee.a.isEqual(this.originalSettings[e],i[e])&&delete i[e]})),e({indexName:t,settings:i})})),this.state={valid:!0}}transformSettingsForApi(e,t){const{defaults:a,settings:i}=e,n=rl(i),s=rl(a),r={...Ee.a.pick(s,al),...n};return this.settingsKeys=Object.keys(r),tl.forEach((e=>delete r[e])),t&&delete r["index.codec"],r}UNSAFE_componentWillMount(){const{indexName:e}=this.props;this.props.loadIndexData({dataType:de,indexName:e})}componentDidUpdate(){const{data:e,indexStatus:t}=this.props;if(e&&!this.editor){const a="open"===t,i=this.transformSettingsForApi(e,a);this.originalSettings=i;const n=JSON.stringify(i,null,2),s=Object.keys(i),r=(this.editor=((e,t,a=!0,i)=>{const n=nl.a.edit(e);n.$blockScrolling=1/0,n.setValue(t,-1);const s=n.getSession();if(s.setUseWrapMode(!0),s.setMode("ace/mode/json"),i){const e=nl.a.acequire("ace/ext/language_tools"),t=(r=i,{identifierRegexps:[/[a-zA-Z_0-9\.\$\-\u00A2-\uFFFF]/],getCompletions:(e,t,a,i,n)=>{const s=t.getDocument(),o=s.getLine(a.row),l=s.getLine(a.row-1),c=sl(o.slice(0,a.column)),d=sl(o),u=l&&"["===sl(l).slice(-1)[0],[,p=null]=c,[,m=null]=d;if(u||c.length>2)return n(null,[]);const g='"'===p?"":'"',f='""'===m?"":'"';n(null,r.map((e=>({caption:` ${e}`,value:`${g}${e}${f}`}))))}});e.setCompleters([t])}var r;const o={readOnly:a,highlightActiveLine:!1,highlightGutterLine:!1,minLines:20,maxLines:30},l=a?{}:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0};return n.setOptions({...o,...l}),n.setBehavioursEnabled(!a),n})(this.aceDiv,n,!1,s)).getSession();r.on("changeAnnotation",(()=>{const e=""===r.getValue();this.setState({valid:!e&&0===r.getAnnotations().length})}))}}componentWillUnmount(){this.editor&&this.editor.destroy()}errorMessage(){const{error:e}=this.props;return e?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiCallOut,{title:i.i18n.translate("xpack.idxMgmt.editSettingsJSON.saveJSONCalloutErrorTitle",{defaultMessage:"There was an error while trying to save your settings"}),color:"danger",iconType:"alert","data-test-subj":"updateIndexSettingsErrorCallout"},Object(k.jsx)("p",null,e))):null}render(){const{data:e}=this.props;return e?Object(k.jsx)("div",null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiTitle,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONDescription",defaultMessage:"Edit, then save your JSON"})))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{size:"s",fill:!0,"data-test-subj":"updateEditIndexSettingsButton",onClick:this.commitSettings,disabled:!this.state.valid},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.saveJSONButtonLabel",defaultMessage:"Save"})))),this.errorMessage(),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiLink,{href:oe.getSettingsDocumentationLink(),target:"_blank",rel:"noopener"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.editSettingsJSON.settingsReferenceLinkText",defaultMessage:"Settings reference"})),Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)("div",{"data-test-subj":"indexJsonEditor",ref:e=>{this.aceDiv=e}}),Object(k.jsx)(O.EuiSpacer,null)):null}}const ol={loadIndexData:ao,closeDetailPanel:ho,updateIndexSettings:({indexName:e,settings:t})=>async a=>{if(0!==Object.keys(t).length){const{error:i}=await async function(e,t){const a=await je({path:`${n}/settings/${encodeURIComponent(e)}`,method:"put",body:JSON.stringify(t)});return a.error||Me.trackMetric(le.METRIC_TYPE.COUNT,"update_settings"),a}(e,t);if(i)return a(bo({error:i.message}))}a(xo()),a(co([e])),Le.showSuccessToast(i.i18n.translate("xpack.idxMgmt.updateIndexSettingsAction.settingsSuccessUpdateMessage",{defaultMessage:"Successfully updated settings for index {indexName}",values:{indexName:e}}))}},ll=Object(we.connect)((e=>{const t=wo(e);return{error:So(e),data:_o(e),indexName:t,indexStatus:Bo(e,t)}}),ol)(edit_settings_json_EditSettingsJson),cl={[ce]:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSummaryLabel",defaultMessage:"Summary"}),[de]:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabSettingsLabel",defaultMessage:"Settings"}),[ue]:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabMappingLabel",defaultMessage:"Mappings"}),[pe]:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabStatsLabel",defaultMessage:"Stats"}),[me]:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.tabEditSettingsLabel",defaultMessage:"Edit settings"})},dl=[ce,de,ue,pe,me],ul=Object(we.connect)((e=>{const t=wo(e);return{panelType:Co(e),indexName:t,index:Ro(e,t)}}),(e=>({clearCacheIndex:t=>{e(Vr({indexNames:[t]}))},closeIndex:t=>{e($r({indexNames:[t]}))},flushIndex:t=>{e(Jr({indexNames:[t]}))},openIndex:t=>{e(no({indexNames:[t]}))},refreshIndex:t=>{e(ro({indexNames:[t]}))},forcemergeIndex:t=>{e(Kr({indexNames:[t]}))},deleteIndex:t=>{e(Hr({indexNames:[t]}))},closeDetailPanel:()=>e(ho()),openDetailPanel:(t,a)=>e(jo(t,a))})))((({panelType:e,indexName:t,index:a,openDetailPanel:i,closeDetailPanel:n})=>{const{extensionsService:s}=Be();if(!e)return null;let o=null;switch(e){case me:o=Object(k.jsx)(ll,null);break;case ue:case de:case pe:o=Object(k.jsx)(Qo,null);break;default:o=Object(k.jsx)(el,null)}const l=a?Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiFlyoutBody,null,o),Object(k.jsx)(O.EuiFlyoutFooter,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"flexEnd"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Ve.Route,{key:"menu",render:()=>Object(k.jsx)(Xo,{iconSide:"left",indexNames:[t],anchorPosition:"upRight",detailPanel:!0,iconType:"arrowUp",label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.manageContextMenuLabel",defaultMessage:"Manage"})})}))))):Object(k.jsx)(O.EuiFlyoutBody,null,Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexTitle",defaultMessage:"Missing index"}),color:"danger",iconType:"cross"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.detailPanel.missingIndexMessage",defaultMessage:"This index does not exist. It might have been deleted by a running job or another system."})));return Object(k.jsx)(O.EuiFlyout,{"data-test-subj":"indexDetailFlyout",onClose:n,"aria-labelledby":"indexDetailsFlyoutTitle"},Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiTitle,{id:"indexDetailsFlyoutTitle"},Object(k.jsx)("h2",null,t,Ar(a,void 0,s))),a?Object(k.jsx)(O.EuiTabs,null,dl.map(((n,s)=>{const o=n===e;return Object(k.jsx)(O.EuiTab,{onClick:()=>i({panelType:n,indexName:t}),isSelected:o,"data-test-subj":"detailPanelTab"+(o?"Selected":""),disabled:n===pe&&a.status!==r,key:s},cl[n])}))):null),l)})),pl={name:i.i18n.translate("xpack.idxMgmt.indexTable.headers.nameHeader",{defaultMessage:"Name"}),health:i.i18n.translate("xpack.idxMgmt.indexTable.headers.healthHeader",{defaultMessage:"Health"}),status:i.i18n.translate("xpack.idxMgmt.indexTable.headers.statusHeader",{defaultMessage:"Status"}),primary:i.i18n.translate("xpack.idxMgmt.indexTable.headers.primaryHeader",{defaultMessage:"Primaries"}),replica:i.i18n.translate("xpack.idxMgmt.indexTable.headers.replicaHeader",{defaultMessage:"Replicas"}),documents:i.i18n.translate("xpack.idxMgmt.indexTable.headers.documentsHeader",{defaultMessage:"Docs count"}),size:i.i18n.translate("xpack.idxMgmt.indexTable.headers.storageSizeHeader",{defaultMessage:"Storage size"}),data_stream:i.i18n.translate("xpack.idxMgmt.indexTable.headers.dataStreamHeader",{defaultMessage:"Data stream"})};class index_table_IndexTable extends M.Component{static getDerivedStateFromProps(e,t){const{selectedIndicesMap:a}=t,i=e.indices.map((e=>e.name)),n=Object.keys(a).filter((e=>!i.includes(e)));if(n.length){const e={...a};return n.forEach((t=>delete e[t])),{selectedIndicesMap:e}}return null}constructor(e){super(e),x()(this,"onSort",(e=>{const{sortField:t,isSortAscending:a,sortChanged:i}=this.props;i(e,t!==e||!a)})),x()(this,"onFilterChanged",(({query:e,error:t})=>{t?this.setState({filterError:t}):(this.props.filterChanged(e),this.setState({filterError:null}))})),x()(this,"getFilters",(e=>{const{allIndices:t}=this.props;return e.filters.reduce(((e,a)=>[...e,...a(t)]),[])})),x()(this,"toggleAll",(()=>{if(this.areAllItemsSelected())return this.setState({selectedIndicesMap:{}});const{indices:e}=this.props,t={};e.forEach((({name:e})=>{t[e]=!0})),this.setState({selectedIndicesMap:t})})),x()(this,"toggleItem",(e=>{this.setState((({selectedIndicesMap:t})=>{const a={...t};return a[e]?delete a[e]:a[e]=!0,{selectedIndicesMap:a}}))})),x()(this,"isItemSelected",(e=>!!this.state.selectedIndicesMap[e])),x()(this,"areAllItemsSelected",(()=>{const{indices:e}=this.props;return-1===e.findIndex((e=>!this.isItemSelected(e.name)))})),x()(this,"onItemSelectionChanged",(e=>{this.setState({selectedIndices:e})})),this.state={selectedIndicesMap:{}}}componentDidMount(){this.props.loadIndices(),this.interval=setInterval((()=>this.props.reloadIndices(this.props.indices.map((e=>e.name)),{asSystemRequest:!0})),3e4);const{location:e,filterChanged:t}=this.props,{filter:a}=Oo.a.parse(e&&e.search||"");if(a){const e=Object($.attemptToURIDecode)(a);try{t(O.EuiSearchBar.Query.parse(e))}catch(e){this.setState({filterError:e})}}}componentWillUnmount(){this.props.filterChanged(""),clearInterval(this.interval)}readURLParams(){const{location:e}=this.props,{includeHiddenIndices:t}=Oo.a.parse(e&&e.search||"");return{includeHiddenIndices:"true"===t}}setIncludeHiddenParam(e){const{pathname:t,search:a}=this.props.location,i=Oo.a.parse(a);e?i.includeHiddenIndices="true":delete i.includeHiddenIndices,this.props.history.push(t+"?"+Oo.a.stringify(i))}renderFilterError(){const{filterError:e}=this.state;if(e)return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,null),Object(k.jsx)(O.EuiCallOut,{iconType:"faceSad",color:"danger",title:i.i18n.translate("xpack.idxMgmt.indexTable.invalidSearchErrorMessage",{defaultMessage:"Invalid search: {errorMessage}",values:{errorMessage:e.message}})}),Object(k.jsx)(O.EuiSpacer,null))}buildHeader(){const{sortField:e,isSortAscending:t}=this.props;return Object.entries(pl).map((([a,i])=>{const n=e===a;return Object(k.jsx)(O.EuiTableHeaderCell,{key:a,onSort:()=>this.onSort(a),isSorted:n,isSortAscending:t,className:"indTable__header--"+a,"data-test-subj":`indexTableHeaderCell-${a}`},i)}))}buildRowCell(e,t,a,i){const{openDetailPanel:n,filterChanged:s,history:r}=this.props;return"health"===e?Object(k.jsx)(vr,{health:t}):"name"===e?Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiLink,{"data-test-subj":"indexTableIndexNameLink",onClick:()=>{i.uiMetricService.trackMetric(le.METRIC_TYPE.CLICK,"show_details_click"),n(t)}},t),Ar(a,s,i.extensionsService)):"data_stream"===e&&t?Object(k.jsx)(O.EuiLink,qe()({"data-test-subj":"dataStreamLink"},Object(H.reactRouterNavigate)(r,{pathname:Object($e.a)(t),search:"?isDeepLink=true"})),t):t}buildRowCells(e,t){return Object.keys(pl).map((a=>{const{name:i}=e,n=e[a];return"name"===a?Object(k.jsx)("th",{key:`${a}-${i}`,className:"euiTableRowCell",scope:"row","data-test-subj":`indexTableCell-${a}`},Object(k.jsx)("div",{className:`euiTableCellContent indTable__cell--${a}`},Object(k.jsx)("span",{className:"eui-textLeft"},this.buildRowCell(a,n,e,t)))):Object(k.jsx)(O.EuiTableRowCell,{key:`${a}-${i}`,truncateText:!1,"data-test-subj":`indexTableCell-${a}`,className:"indTable__cell--"+a,header:a},this.buildRowCell(a,n,e,t))}))}renderBanners(e){const{allIndices:t=[],filterChanged:a}=this.props;return e.banners.map(((e,i)=>{const n=e(t);if(!n)return null;const{type:s,title:r,message:o,filter:l,filterLabel:c}=n;return Object(k.jsx)(M.Fragment,{key:`bannerExtension${i}`},Object(k.jsx)(O.EuiCallOut,{color:s,size:"m",title:r},Object(k.jsx)(O.EuiText,null,o,l?Object(k.jsx)(O.EuiLink,{onClick:()=>a(l)},c):null)),Object(k.jsx)(O.EuiSpacer,{size:"m"}))}))}buildRows(e){const{indices:t=[],detailPanelIndexName:a}=this.props;return t.map((t=>{const{name:n}=t;return Object(k.jsx)(O.EuiTableRow,{"data-test-subj":"indexTableRow",isSelected:this.isItemSelected(n)||n===a,isSelectable:!0,key:`${n}-row`},Object(k.jsx)(O.EuiTableRowCellCheckbox,{key:`checkbox-${n}`},Object(k.jsx)(O.EuiCheckbox,{type:"inList",id:`checkboxSelectIndex-${n}`,checked:this.isItemSelected(n),onChange:()=>{this.toggleItem(n)},"data-test-subj":"indexTableRowCheckbox","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectIndexAriaLabel",{defaultMessage:"Select this row"})})),this.buildRowCells(t,e))}))}renderPager(){const{pager:e,pageChanged:t,pageSizeChanged:a}=this.props;return Object(k.jsx)(O.EuiTablePagination,{activePage:e.getCurrentPageIndex(),itemsPerPage:e.itemsPerPage,itemsPerPageOptions:[10,50,100],pageCount:e.getTotalPages(),onChangeItemsPerPage:a,onChangePage:t})}renderToggleControl({name:e,label:t}){const{toggleNameToVisibleMap:a,toggleChanged:i}=this.props;return Object(k.jsx)(O.EuiFlexItem,{key:e,grow:!1},Object(k.jsx)(O.EuiSwitch,{id:`checkboxToggles-${e}`,"data-test-subj":`checkboxToggles-${e}`,checked:a[e],onChange:t=>i(e,t.target.checked),label:t}))}render(){const{filter:e,indices:t,loadIndices:a,indicesLoading:n,indicesError:s,allIndices:r,pager:o}=this.props,{includeHiddenIndices:l}=this.readURLParams();if(n||s){const e=()=>n?Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTable.loadingIndicesDescription",defaultMessage:"Loading indices…"})):s?403===s.status?Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.pageErrorForbidden.title",defaultMessage:"You do not have permissions to use Index Management"})}):Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTable.serverErrorTitle",defaultMessage:"Error loading indices"}),error:s.body}):void 0;return Object(k.jsx)(O.EuiPageContent_Deprecated,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},e())}const{selectedIndicesMap:c}=this.state,d=Object.keys(c).length>0;return Object(k.jsx)(Re,null,(({services:u})=>{const{extensionsService:p}=u;return Object(k.jsx)(O.EuiPageContent_Deprecated,{hasShadow:!1,paddingSize:"none"},Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!0},Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDescription",defaultMessage:"Update your Elasticsearch indices individually or in bulk. {learnMoreLink}",values:{learnMoreLink:Object(k.jsx)(O.EuiLink,{href:oe.getIdxMgmtDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.indexTableDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},n&&0===r.length||s?null:Object(k.jsx)(O.EuiFlexGroup,null,p.toggles.map((e=>this.renderToggleControl(e))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiSwitch,{id:"checkboxShowHiddenIndices","data-test-subj":"indexTableIncludeHiddenIndicesToggle",checked:l,onChange:e=>this.setIncludeHiddenParam(e.target.checked),label:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTable.hiddenIndicesSwitchLabel",defaultMessage:"Include hidden indices"})}))))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),this.renderBanners(p),Object(k.jsx)(O.EuiFlexGroup,{gutterSize:"l",alignItems:"center"},d?Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Ve.Route,{key:"menu",render:()=>Object(k.jsx)(Xo,{indexNames:Object.keys(c),resetSelection:()=>{this.setState({selectedIndicesMap:{}})}})})):null,n&&0===r.length||s?null:Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiSearchBar,{filters:this.getFilters(p).length>0?this.getFilters(p):null,defaultQuery:e,query:e,box:{incremental:!0,placeholder:i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchInputPlaceholder",{defaultMessage:"Search"})},"aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.systemIndicesSearchIndicesAriaLabel",{defaultMessage:"Search indices"}),"data-test-subj":"indexTableFilterInput",onChange:this.onFilterChanged})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{isLoading:n,color:"success",onClick:()=>{a()},iconType:"refresh","data-test-subj":"reloadIndicesButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTable.reloadIndicesButton",defaultMessage:"Reload indices"}))))),this.renderFilterError(),Object(k.jsx)(O.EuiSpacer,{size:"m"}),t.length>0?Object(k.jsx)("div",{style:{maxWidth:"100%",overflow:"auto"}},Object(k.jsx)(O.EuiTable,{className:"indTable","data-test-subj":"indexTable"},Object(k.jsx)(O.EuiScreenReaderOnly,null,Object(k.jsx)("caption",{role:"status","aria-relevant":"text","aria-live":"polite"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTable.captionText",defaultMessage:"Below is the indices table containing {count, plural, one {# row} other {# rows}} out of {total}.",values:{count:t.length,total:o.totalItems}}))),Object(k.jsx)(O.EuiTableHeader,null,Object(k.jsx)(O.EuiTableHeaderCellCheckbox,null,Object(k.jsx)(O.EuiCheckbox,{id:"selectAllIndexes",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":i.i18n.translate("xpack.idxMgmt.indexTable.selectAllIndicesAriaLabel",{defaultMessage:"Select all rows"})})),this.buildHeader()),Object(k.jsx)(O.EuiTableBody,null,this.buildRows(u)))):Object(k.jsx)(He,null),Object(k.jsx)(O.EuiSpacer,{size:"m"}),t.length>0?this.renderPager():null)}))}}const ml=Object(Ve.withRouter)(Object(we.connect)(((e,t)=>({allIndices:No(e),isDetailPanelOpen:Lo(e),detailPanelIndexName:wo(e),indices:Go(e,t),pager:Ho(e,t),filter:Jo(e),sortField:Ko(e),isSortAscending:Yo(e),indicesLoading:Do(e),indicesError:Po(e),toggleNameToVisibleMap:zo(e).toggleNameToVisibleMap})),(e=>({filterChanged:t=>{e(uo({filter:t}))},pageChanged:t=>{e(po({pageNumber:t}))},pageSizeChanged:t=>{e(mo({pageSize:t}))},sortChanged:(t,a)=>{e(go({sortField:t,isSortAscending:a}))},toggleChanged:(t,a)=>{e(fo({toggleName:t,toggleValue:a}))},openDetailPanel:t=>{e(jo({indexName:t}))},closeDetailPanel:()=>{e(ho())},loadIndices:()=>{e(eo())},reloadIndices:(t,a)=>{e(co(t,a))}})))(index_table_IndexTable)),gl=({history:e})=>{const{core:{executionContext:t}}=ze();return Object(H.useExecutionContext)(t,{type:"application",page:"indexManagementIndicesTab"}),Object(k.jsx)("div",{className:`${fe.APP_WRAPPER_CLASS} im-snapshotTestSubject`,"data-test-subj":"indicesList"},Object(k.jsx)(ml,{history:e}),Object(k.jsx)(ul,null))},fl=e=>{const{legacy:t}=Object(yo.parse)(e.search.substring(1));return!(!Boolean(t)||"string"!=typeof t)&&"true"===t},xl={managed:i.i18n.translate("xpack.idxMgmt.templateBadgeType.managed",{defaultMessage:"Managed"}),cloudManaged:i.i18n.translate("xpack.idxMgmt.templateBadgeType.cloudManaged",{defaultMessage:"Cloud-managed"}),system:i.i18n.translate("xpack.idxMgmt.templateBadgeType.system",{defaultMessage:"System"})},bl=({templateType:e})=>"default"===e?null:Object(k.jsx)(O.EuiBadge,{color:"hollow","data-test-subj":"templateTypeBadge"},xl[e]),jl=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:s})=>{const{uiMetricService:r}=Be(),[o,l]=Object(M.useState)([]),[c,d]=Object(M.useState)([]),u=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.table.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiLink,qe()({},Object(H.reactRouterNavigate)(s,Object($e.d)(e),(()=>r.trackMetric(le.METRIC_TYPE.CLICK,m))),{"data-test-subj":"templateDetailsLink"}),e)," ",Object(k.jsx)(bl,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.table.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(k.jsx)("strong",null,e.join(", "))},{field:"composedOf",name:i.i18n.translate("xpack.idxMgmt.templateList.table.componentsColumnTitle",{defaultMessage:"Components"}),truncateText:!0,sortable:!0,render:(e=[])=>Object(k.jsx)("span",null,e.join(", "))},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.dataStreamColumnTitle",{defaultMessage:"Data stream"}),truncateText:!0,render:e=>e._kbnMeta.hasDatastream?Object(k.jsx)(O.EuiIcon,{type:"check"}):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(k.jsx)(Nn,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(k.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.table.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{d([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],p={onSelectionChange:l,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.table.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},g={box:{incremental:!0},toolsLeft:o.length>0?Object(k.jsx)(O.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>d(o.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:o.length}})):void 0,toolsRight:[Object(k.jsx)(O.EuiButton,qe()({iconType:"plusInCircle","data-test-subj":"createTemplateButton",key:"createTemplateButton",fill:!0},Object(H.reactRouterNavigate)(s,"/create_template")),Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.createTemplatesButtonLabel",defaultMessage:"Create template"}))]};return Object(k.jsx)(M.Fragment,null,c&&c.length>0?Object(k.jsx)(Ge,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),s.push("templates")),d([])},templatesToDelete:c}):null,Object(k.jsx)(O.EuiInMemoryTable,{items:e||[],itemId:"name",columns:u,search:g,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:p,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"templateTable",message:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.noIndexTemplatesMessage",defaultMessage:"No index templates found"})}))},hl={yes:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.yesDescriptionText",{defaultMessage:"Yes"}),no:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noDescriptionText",{defaultMessage:"No"}),none:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTab.noneDescriptionText",{defaultMessage:"None"})},Ml=({templateDetails:e})=>{const{version:t,priority:a,composedOf:i,order:n,indexPatterns:s=[],ilmPolicy:r,_meta:o,_kbnMeta:{isLegacy:l,hasDatastream:c}}=e,d=s.length,u=wr(ge,null==r?void 0:r.name);return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlexGroup,{"data-test-subj":"summaryTab"},Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.indexPatternsDescriptionListTitle",defaultMessage:"Index {numIndexPatterns, plural, one {pattern} other {patterns}}",values:{numIndexPatterns:d}})),Object(k.jsx)(O.EuiDescriptionListDescription,null,d>1?Object(k.jsx)(O.EuiText,null,Object(k.jsx)("ul",null,s.map(((e,t)=>Object(k.jsx)("li",{key:`${e}-${t}`},Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("span",null,e))))))):s.toString()),!0!==l?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.priorityDescriptionListTitle",defaultMessage:"Priority"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,a||0===a?a:hl.none)):Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.orderDescriptionListTitle",defaultMessage:"Order"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,n||0===n?n:hl.none)),!0!==l&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"componentsTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.componentsDescriptionListTitle",defaultMessage:"Component templates"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,i&&i.length>0?Object(k.jsx)("ul",null,i.map((e=>Object(k.jsx)("li",{key:e},Object(k.jsx)(O.EuiTitle,{size:"xs"},Object(k.jsx)("span",null,e)))))):hl.none)))),Object(k.jsx)(O.EuiFlexItem,null,Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},l&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.ilmPolicyDescriptionListTitle",defaultMessage:"ILM policy"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,null!=r&&r.name&&u?Object(k.jsx)(O.EuiLink,{href:u},r.name):(null==r?void 0:r.name)||hl.none)),!0!==l&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.dataStreamDescriptionListTitle",defaultMessage:"Data stream"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,c?hl.yes:hl.no)),Object(k.jsx)(O.EuiDescriptionListTitle,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.versionDescriptionListTitle",defaultMessage:"Version"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,t||0===t?t:hl.none)))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(O.EuiDescriptionList,{textStyle:"reverse"},!0!==l&&o&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiDescriptionListTitle,{"data-test-subj":"metaTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.summaryTab.metaDescriptionListTitle",defaultMessage:"Metadata"})),Object(k.jsx)(O.EuiDescriptionListDescription,null,Object(k.jsx)(O.EuiCodeBlock,{language:"json"},JSON.stringify(o,null,2))))))},yl=({templateDetails:e})=>Object(k.jsx)("div",{"data-test-subj":"previewTabContent"},Object(k.jsx)(O.EuiText,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.previewTab.descriptionText",defaultMessage:"This is the final template that will be applied to matching indices."}))),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(Rn,{template:e})),Ol="summary",vl="mappings",Tl="aliases",El="settings",kl="preview",Fl=[{id:Ol,name:i.i18n.translate("xpack.idxMgmt.templateDetails.summaryTabTitle",{defaultMessage:"Summary"})},{id:El,name:i.i18n.translate("xpack.idxMgmt.templateDetails.settingsTabTitle",{defaultMessage:"Settings"})},{id:vl,name:i.i18n.translate("xpack.idxMgmt.templateDetails.mappingsTabTitle",{defaultMessage:"Mappings"})},{id:Tl,name:i.i18n.translate("xpack.idxMgmt.templateDetails.aliasesTabTitle",{defaultMessage:"Aliases"})},{id:kl,name:i.i18n.translate("xpack.idxMgmt.templateDetails.previewTabTitle",{defaultMessage:"Preview"})}],_l={[Ol]:"template_details_summary_tab",[El]:"template_details_settings_tab",[vl]:"template_details_mappings_tab",[Tl]:"template_details_aliases_tab",[kl]:"template_details_preview_tab"},Sl=({template:{name:e,isLegacy:t},onClose:a,editTemplate:n,cloneTemplate:s,reload:r})=>{const{uiMetricService:o}=Be(),{error:l,data:c,isLoading:d}=Oe(e,t),u="cloudManaged"===(null==c?void 0:c._kbnMeta.type),[p,m]=Object(M.useState)([]),[g,f]=Object(M.useState)(Ol),[x,b]=Object(M.useState)(!1);return Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlyoutHeader,null,Object(k.jsx)(O.EuiTitle,{size:"m"},Object(k.jsx)("h2",{id:"templateDetailsFlyoutTitle","data-test-subj":"title"},e,c&&Object(k.jsx)(y.a.Fragment,null," ",Object(k.jsx)(bl,{templateType:c._kbnMeta.type}))))),Object(k.jsx)(O.EuiFlyoutBody,{"data-test-subj":"content"},(()=>{if(d)return Object(k.jsx)($.SectionLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(l)return Object(k.jsx)(We,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:l,"data-test-subj":"sectionError"});if(c){const{template:{settings:e,mappings:a,aliases:i}={}}=c,n={[Ol]:Object(k.jsx)(Ml,{templateDetails:c}),[El]:Object(k.jsx)(Ke,{settings:e}),[vl]:Object(k.jsx)(Ye,{mappings:a}),[Tl]:Object(k.jsx)(Je,{aliases:i}),[kl]:Object(k.jsx)(yl,{templateDetails:c})}[g],s=u&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoTitle",defaultMessage:"Editing a cloud-managed template is not permitted."}),color:"primary",size:"s"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.cloudManagedTemplateInfoDescription",defaultMessage:"Cloud-managed templates are critical for internal operations."})),Object(k.jsx)(O.EuiSpacer,{size:"m"}));return Object(k.jsx)(y.a.Fragment,null,s,Object(k.jsx)(O.EuiTabs,null,Fl.filter((e=>!t||e.id!==kl)).map((e=>Object(k.jsx)(O.EuiTab,{onClick:()=>{o.trackMetric(le.METRIC_TYPE.CLICK,_l[e.id]),f(e.id)},isSelected:e.id===g,key:e.id,"data-test-subj":"tab"},e.name)))),Object(k.jsx)(O.EuiSpacer,{size:"l"}),n)}})()),Object(k.jsx)(O.EuiFlyoutFooter,null,Object(k.jsx)(O.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:a,"data-test-subj":"closeDetailsButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.closeButtonLabel",defaultMessage:"Close"}))),c&&Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiPopover,{id:"manageTemplatePanel",button:Object(k.jsx)(O.EuiButton,{fill:!0,"data-test-subj":"manageTemplateButton",iconType:"arrowDown",iconSide:"right",onClick:()=>b((e=>!e))},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateDetails.manageButtonLabel",defaultMessage:"Manage"})),isOpen:x,closePopover:()=>b(!1),panelPaddingSize:"none",anchorPosition:"rightUp",repositionOnScroll:!0},Object(k.jsx)(O.EuiContextMenu,{initialPanelId:0,panels:[{id:0,title:i.i18n.translate("xpack.idxMgmt.templateDetails.manageContextMenuPanelTitle",{defaultMessage:"Template options"}),items:[{name:i.i18n.translate("xpack.idxMgmt.templateDetails.editButtonLabel",{defaultMessage:"Edit"}),icon:"pencil",onClick:()=>n(e,t),disabled:u},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.cloneButtonLabel",{defaultMessage:"Clone"}),icon:"copy",onClick:()=>s(e,t)},{name:i.i18n.translate("xpack.idxMgmt.templateDetails.deleteButtonLabel",{defaultMessage:"Delete"}),icon:"trash",onClick:()=>m([{name:e,isLegacy:t}]),disabled:u}]}]}))))),p&&p.length>0?Object(k.jsx)(Ge,{callback:e=>{e&&e.hasDeletedTemplates?r():m([]),a()},templatesToDelete:p}):null)},Cl=e=>Object(k.jsx)(O.EuiFlyout,{onClose:e.onClose,"data-test-subj":"templateDetails","aria-labelledby":"templateDetailsFlyoutTitle"},Object(k.jsx)(Sl,e)),Ll=({templates:e,reload:t,editTemplate:a,cloneTemplate:n,history:s})=>{const{uiMetricService:r}=Be(),[o,l]=Object(M.useState)([]),[c,d]=Object(M.useState)([]),u=[{field:"name",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.nameColumnTitle",{defaultMessage:"Name"}),truncateText:!0,sortable:!0,render:(e,t)=>Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiLink,qe()({},Object(H.reactRouterNavigate)(s,Object($e.d)(e,Boolean(t._kbnMeta.isLegacy)),(()=>r.trackMetric(le.METRIC_TYPE.CLICK,m))),{"data-test-subj":"templateDetailsLink"}),e)," ",Object(k.jsx)(bl,{templateType:t._kbnMeta.type}))},{field:"indexPatterns",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.indexPatternsColumnTitle",{defaultMessage:"Index patterns"}),truncateText:!0,sortable:!0,render:e=>Object(k.jsx)("strong",null,e.join(", "))},{field:"ilmPolicy",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnTitle",{defaultMessage:"ILM policy"}),truncateText:!0,sortable:!0,render:e=>e&&e.name?Object(k.jsx)("span",{title:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.ilmPolicyColumnDescription",{defaultMessage:"'{policyName}' index lifecycle policy",values:{policyName:e.name}})},e.name):null},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.contentColumnTitle",{defaultMessage:"Content"}),width:"120px",render:e=>Object(k.jsx)(Nn,{mappings:e.hasMappings,settings:e.hasSettings,aliases:e.hasAliases,contentWhenEmpty:Object(k.jsx)("em",null,i.i18n.translate("xpack.idxMgmt.templateList.table.noneDescriptionText",{defaultMessage:"None"}))})},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionColumnTitle",{defaultMessage:"Actions"}),width:"120px",actions:[{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditText",{defaultMessage:"Edit"}),isPrimary:!0,description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionEditDecription",{defaultMessage:"Edit this template"}),icon:"pencil",type:"icon",onClick:({name:e})=>{a(e,!0)},enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e},{type:"icon",name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneTitle",{defaultMessage:"Clone"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionCloneDescription",{defaultMessage:"Clone this template"}),icon:"copy",onClick:({name:e})=>{n(e,!0)}},{name:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteText",{defaultMessage:"Delete"}),description:i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.actionDeleteDecription",{defaultMessage:"Delete this template"}),icon:"trash",color:"danger",type:"icon",onClick:({name:e,_kbnMeta:{isLegacy:t}})=>{d([{name:e,isLegacy:t}])},isPrimary:!0,enabled:({_kbnMeta:{type:e}})=>"cloudManaged"!==e}]}],p={onSelectionChange:l,selectable:({_kbnMeta:{type:e}})=>"cloudManaged"!==e,selectableMessage:e=>e?"":i.i18n.translate("xpack.idxMgmt.templateList.legacyTable.deleteCloudManagedTemplateTooltip",{defaultMessage:"You cannot delete a cloud-managed template."})},g={box:{incremental:!0},toolsLeft:o.length>0?Object(k.jsx)(O.EuiButton,{"data-test-subj":"deleteTemplatesButton",onClick:()=>d(o.map((({name:e,_kbnMeta:{isLegacy:t}})=>({name:e,isLegacy:t})))),color:"danger"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.deleteTemplatesButtonLabel",defaultMessage:"Delete {count, plural, one {template} other {templates} }",values:{count:o.length}})):void 0,toolsRight:[Object(k.jsx)(O.EuiButton,qe()({iconType:"plusInCircle","data-test-subj":"createLegacyTemplateButton",key:"createTemplateButton"},Object(H.reactRouterNavigate)(s,{pathname:"/create_template",search:"legacy=true"})),Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.createLegacyTemplatesButtonLabel",defaultMessage:"Create legacy template"}))]};return Object(k.jsx)(M.Fragment,null,c&&c.length>0?Object(k.jsx)(Ge,{callback:e=>{e&&e.hasDeletedTemplates&&(t(),s.push("templates")),d([])},templatesToDelete:c}):null,Object(k.jsx)(O.EuiInMemoryTable,{items:e||[],itemId:"name",columns:u,search:g,sorting:{sort:{field:"name",direction:"asc"}},isSelectable:!0,selection:p,pagination:{initialPageSize:20,pageSizeOptions:[10,20,50]},rowProps:()=>({"data-test-subj":"row"}),cellProps:()=>({"data-test-subj":"cell"}),"data-test-subj":"legacyTemplateTable",message:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.legacyTable.noLegacyIndexTemplatesMessage",defaultMessage:"No legacy index templates found"})}))};function wl(e,t){return e.filter((e=>"default"===e._kbnMeta.type||t.includes(e._kbnMeta.type)))}const Il=({match:{params:{templateName:e}},location:t,history:a})=>{const{uiMetricService:s}=Be(),{core:{executionContext:r}}=ze(),{error:o,isLoading:l,data:c,resendRequest:d}=he({path:`${n}/index_templates`,method:"get"});Object(H.useExecutionContext)(r,{type:"application",page:"indexManagementIndexTemplatesTab"});const[u,p]=Object(M.useState)({managed:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewManagedTemplateLabel",{defaultMessage:"Managed templates"}),checked:"on"},cloudManaged:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewCloudManagedTemplateLabel",{defaultMessage:"Cloud-managed templates"}),checked:"off"},system:{name:i.i18n.translate("xpack.idxMgmt.indexTemplatesList.viewSystemTemplateLabel",{defaultMessage:"System templates"}),checked:"off"}}),m=Object(M.useMemo)((()=>{if(!c)return{templates:[],legacyTemplates:[]};const e=Object.entries(u).filter((([e,t])=>"on"===t.checked)).map((([e])=>e));return{templates:wl(c.templates,e),legacyTemplates:wl(c.legacyTemplates,e)}}),[c,u]),g=Boolean(e)?{name:Object($.attemptToURIDecode)(e),isLegacy:fl(t)}:null,f=null!==g,x=c&&(c.legacyTemplates.length>0||c.templates.length>0),b=(e,t)=>{a.push(Object($e.e)(e,t))},j=(e,t)=>{a.push(Object($e.c)(e,t))};let h;return Object(M.useEffect)((()=>{s.trackMetric(le.METRIC_TYPE.LOADED,"template_list_load")}),[s]),h=l?Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesDescription",defaultMessage:"Loading templates…"})):o?Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.loadingIndexTemplatesErrorMessage",defaultMessage:"Error loading templates"}),error:o}):x?Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiFlexGroup,{alignItems:"center",gutterSize:"s",style:{flexGrow:0}},Object(k.jsx)(O.EuiFlexItem,{grow:!0},Object(k.jsx)(O.EuiText,{color:"subdued"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesDescription",defaultMessage:"Use composable index templates to automatically apply settings, mappings, and aliases to indices. {learnMoreLink}",values:{learnMoreLink:Object(k.jsx)(O.EuiLink,{href:oe.getTemplatesDocumentationLink(),target:"_blank",external:!0},i.i18n.translate("xpack.idxMgmt.home.indexTemplatesDescription.learnMoreLinkText",{defaultMessage:"Learn more."}))}}))),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(Pr,{filters:u,onChange:p})),Object(k.jsx)(O.EuiFlexItem,{grow:!1},Object(k.jsx)(O.EuiButton,{color:"success",iconType:"refresh",onClick:d,"data-test-subj":"reloadButton",key:"reloadButton"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateList.table.reloadTemplatesButtonLabel",defaultMessage:"Reload"})))),Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(jl,{templates:m.templates,reload:d,editTemplate:b,cloneTemplate:j,history:a})),m.legacyTemplates.length>0&&Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiSpacer,{size:"xl"}),Object(k.jsx)(O.EuiTitle,{size:"s"},Object(k.jsx)("h1",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.legacyIndexTemplatesTitle",defaultMessage:"Legacy index templates"}))),Object(k.jsx)(O.EuiSpacer,{size:"s"}),Object(k.jsx)(qn,null),Object(k.jsx)(O.EuiSpacer,{size:"m"}),Object(k.jsx)(Ll,{templates:m.legacyTemplates,reload:d,editTemplate:b,cloneTemplate:j,history:a})),f&&Object(k.jsx)(Cl,{template:g,onClose:()=>{a.push(Object($e.f)())},editTemplate:b,cloneTemplate:j,reload:d})):Object(k.jsx)(O.EuiEmptyPrompt,{iconType:"managementApp",title:Object(k.jsx)("h1",{"data-test-subj":"title"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesTitle",defaultMessage:"Create your first index template"})),body:Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)("p",null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.noIndexTemplatesDescription",defaultMessage:"An index template automatically applies settings, mappings, and aliases to new indices."}))),actions:Object(k.jsx)(O.EuiButton,qe()({},Object(H.reactRouterNavigate)(a,"/create_template"),{fill:!0,iconType:"plusInCircle"}),Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.indexTemplatesList.emptyPrompt.createTemplatesButtonLabel",defaultMessage:"Create template"})),"data-test-subj":"emptyPrompt"}),Object(k.jsx)("div",{"data-test-subj":"templateList",className:fe.APP_WRAPPER_CLASS},h)};let Dl;!function(e){e.Indices="indices",e.DataStreams="data_streams",e.IndexTemplates="templates",e.ComponentTemplates="component_templates"}(Dl||(Dl={}));const Pl=[Dl.Indices,Dl.DataStreams,Dl.IndexTemplates,Dl.ComponentTemplates],Nl=({match:{params:{section:e}},history:t})=>{const a=[{id:Dl.Indices,name:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.indicesTabTitle",defaultMessage:"Indices"})},{id:Dl.DataStreams,name:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.dataStreamsTabTitle",defaultMessage:"Data Streams"})},{id:Dl.IndexTemplates,name:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.indexTemplatesTabTitle",defaultMessage:"Index Templates"})},{id:Dl.ComponentTemplates,name:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.componentTemplatesTabTitle",defaultMessage:"Component Templates"})}];return Object(M.useEffect)((()=>{b.setBreadcrumbs("home")}),[]),Object(k.jsx)(y.a.Fragment,null,Object(k.jsx)(O.EuiPageHeader,{"data-test-subj":"indexManagementHeaderContent",pageTitle:Object(k.jsx)("span",{"data-test-subj":"appTitle"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.appTitle",defaultMessage:"Index Management"})),bottomBorder:!0,rightSideItems:[Object(k.jsx)(O.EuiButtonEmpty,{href:oe.getIdxMgmtDocumentationLink(),target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.home.idxMgmtDocsLinkText",defaultMessage:"Index Management docs"}))],tabs:a.map((a=>({onClick:()=>{return e=a.id,void t.push(`/${e}`);var e},isSelected:a.id===e,key:a.id,"data-test-subj":`${a.id}Tab`,label:a.name})))}),Object(k.jsx)(O.EuiSpacer,{size:"l"}),Object(k.jsx)(Ve.Switch,null,Object(k.jsx)(Ve.Route,{exact:!0,path:[`/${Dl.DataStreams}`,`/${Dl.DataStreams}/:dataStreamName?`],component:Nr}),Object(k.jsx)(Ve.Route,{exact:!0,path:`/${Dl.Indices}`,component:gl}),Object(k.jsx)(Ve.Route,{exact:!0,path:[`/${Dl.IndexTemplates}`,`/${Dl.IndexTemplates}/:templateName?`],component:Il}),Object(k.jsx)(Ve.Route,{exact:!0,path:[`/${Dl.ComponentTemplates}`,`/${Dl.ComponentTemplates}/:componentTemplateName?`],component:ks})))},Al=({history:e})=>{const[t,a]=Object(M.useState)(!1),[i,n]=Object(M.useState)(null),s=Object(yo.parse)(Object(Ve.useLocation)().search.substring(1)),r=Boolean(s.legacy);return Object(M.useEffect)((()=>{b.setBreadcrumbs("templateCreate")}),[]),Object(k.jsx)(O.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(k.jsx)(yr,{title:r?Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createLegacyTemplatePageTitle",defaultMessage:"Create legacy template"}):Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.createTemplatePageTitle",defaultMessage:"Create template"}),onSave:async t=>{const{name:i}=t;a(!0),n(null);const{error:s}=await ve(t);a(!1),s?n(s):e.push(Object($e.d)(i,t._kbnMeta.isLegacy))},isSaving:t,saveError:i,clearSaveError:()=>{n(null)},isLegacy:r,history:e}))},Rl=({match:{params:{name:e}},location:t,history:a})=>{const i=Object($.attemptToURIDecode)(e),n=fl(t),[s,r]=Object(M.useState)(!1),[o,l]=Object(M.useState)(null),{error:c,data:d,isLoading:u}=Oe(i,n);if(Object(M.useEffect)((()=>{b.setBreadcrumbs("templateClone")}),[]),u)return Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneDescription",defaultMessage:"Loading template to clone…"}));if(c)return Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateCreate.loadingTemplateToCloneErrorMessage",defaultMessage:"Error loading template to clone"}),error:c,"data-test-subj":"sectionError"});const p={...d,name:`${i}-copy`};return Object(k.jsx)(O.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(k.jsx)(yr,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.createTemplate.cloneTemplatePageTitle",defaultMessage:"Clone template '{name}'",values:{name:i}}),defaultValue:p,onSave:async e=>{r(!0),l(null);const{error:t}=await ve(e,!0),{name:i}=e;r(!1),t?l(t):a.push(Object($e.d)(i,e._kbnMeta.isLegacy))},isSaving:s,saveError:o,clearSaveError:()=>{l(null)},isLegacy:n,history:a}))},zl=({match:{params:{name:e}},location:t,history:a})=>{const s=Object($.attemptToURIDecode)(e),r=fl(t),[o,l]=Object(M.useState)(!1),[c,d]=Object(M.useState)(null),{error:u,data:p,isLoading:m}=Oe(s,r);let g;if(Object(M.useEffect)((()=>{b.setBreadcrumbs("templateEdit")}),[]),m)return Object(k.jsx)($.PageLoading,null,Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateDescription",defaultMessage:"Loading template…"}));if(u)return Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.loadingIndexTemplateErrorMessage",defaultMessage:"Error loading template"}),error:u,"data-test-subj":"sectionError"});if(p){const{name:e,_kbnMeta:{type:t}}=p;if(g=e&&e.startsWith("."),"cloudManaged"===t)return Object(k.jsx)($.PageError,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.managedTemplateWarningTitle",defaultMessage:"Editing a managed template is not permitted"}),error:{message:i.i18n.translate("xpack.idxMgmt.templateEdit.managedTemplateWarningDescription",{defaultMessage:"Managed templates are critical for internal operations."})},"data-test-subj":"systemTemplateEditCallout"})}return Object(k.jsx)(O.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},g&&Object(k.jsx)(M.Fragment,null,Object(k.jsx)(O.EuiCallOut,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningTitle",defaultMessage:"Editing a system template can break Kibana"}),color:"danger",iconType:"alert","data-test-subj":"systemTemplateEditCallout"},Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.templateEdit.systemTemplateWarningDescription",defaultMessage:"System templates are critical for internal operations."})),Object(k.jsx)(O.EuiSpacer,{size:"l"})),Object(k.jsx)(yr,{title:Object(k.jsx)(E.FormattedMessage,{id:"xpack.idxMgmt.editTemplate.editTemplatePageTitle",defaultMessage:"Edit template '{name}'",values:{name:s}}),defaultValue:p,onSave:async e=>{l(!0),d(null);const{error:t}=await async function(e){const{name:t}=e,a=await je({path:`${n}/index_templates/${encodeURIComponent(t)}`,method:"put",body:JSON.stringify(e)});return Me.trackMetric(le.METRIC_TYPE.COUNT,"template_update"),a}(e);l(!1),t?d(t):a.push(Object($e.d)(s,e._kbnMeta.isLegacy))},isSaving:o,saveError:c,clearSaveError:()=>{d(null)},isEditing:!0,isLegacy:r,history:a}))},Bl=({history:e})=>{const{core:t,services:a}=ze();return Object(M.useEffect)((()=>a.uiMetricService.trackMetric(le.METRIC_TYPE.LOADED,"app_load")),[a.uiMetricService]),Object(H.useExecutionContext)(t.executionContext,{type:"application",page:"indexManagement"}),Object(k.jsx)(Ve.Router,{history:e},Object(k.jsx)(Vl,null))},Vl=()=>Object(k.jsx)(Ve.Switch,null,Object(k.jsx)(Ve.Route,{exact:!0,path:"/create_template",component:Al}),Object(k.jsx)(Ve.Route,{exact:!0,path:"/clone_template/:name*",component:Rl}),Object(k.jsx)(Ve.Route,{exact:!0,path:"/edit_template/:name*",component:zl}),Object(k.jsx)(Ve.Route,{exact:!0,path:"/create_component_template",component:Ws}),Object(k.jsx)(Ve.Route,{exact:!0,path:"/create_component_template/:sourceComponentTemplateName",component:Js}),Object(k.jsx)(Ve.Route,{exact:!0,path:"/edit_component_template/:name*",component:Gs}),Object(k.jsx)(Ve.Route,{path:`/:section(${Pl.join("|")})`,component:Nl}),Object(k.jsx)(Ve.Redirect,{from:"/",to:"/indices"}));var Ul=a(61),ql=a(151),$l=a.n(ql);const Wl={filter:"",pageSize:10,currentPage:0,sortField:"index.name",isSortAscending:!0},Hl=Object(zr.handleActions)({[uo](e,t){const{filter:a}=t.payload;return{...e,filter:a,currentPage:0}},[fo](e,t){const{toggleName:a,toggleValue:i}=t.payload,n={...e.toggleNameToVisibleMap};return n[a]=i,{...e,toggleNameToVisibleMap:n}},[go](e,t){const{sortField:a,isSortAscending:i}=t.payload;return{...e,sortField:a,isSortAscending:i}},[po](e,t){const{pageNumber:a}=t.payload;return{...e,currentPage:a}},[mo](e,t){const{pageSize:a}=t.payload;return{...e,pageSize:a}}},Wl),Gl={},Jl=e=>Object(zr.handleActions)({[Wr](e,t){const{indexNames:a}=t.payload,{indexName:i}=e;return a.includes(i)?{}:e},[jo](t,a){const{panelType:i,indexName:n,title:s}=a.payload,r={[ce]:"detail_panel_summary_tab",[de]:"detail_panel_settings_tab",[ue]:"detail_panel_mapping_tab",[pe]:"detail_panel_stats_tab",[me]:"detail_panel_edit_settings_tab"};return r[i]&&e.trackMetric(le.METRIC_TYPE.COUNT,r[i]),{panelType:i||t.panelType||ce,indexName:n,title:s}},[ho]:()=>({}),[to](e,t){const{data:a}=t.payload;return{...e,data:a}},[bo](e,t){const{error:a}=t.payload;return{...e,error:a}},[xo]:()=>({})},Gl),Yl=Object(zr.handleActions)({[Wr](e,t){const{indexNames:a}=t.payload,i={};return Object.values(e).forEach((e=>{a.includes(e.name)||(i[e.name]=e)})),i},[Zr](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),i},[lo](e,t){const{indices:a}=t.payload,i={};return a.forEach((e=>{i[e.name]=e})),{...e,...i}}},{}),Kl=Object(zr.handleActions)({[Wr](e,t){const{indexNames:a}=t.payload,i=[];return e.forEach((e=>{a.includes(e)||i.push(e)})),i},[Zr](e,t){const{indices:a}=t.payload;return a.map((e=>e.name))},[lo]:e=>e},[]),Xl=Object(zr.handleActions)({[Xr]:()=>!0,[Zr]:()=>!1,[Qr]:()=>!1},!0),Zl=Object(zr.handleActions)({[Qr]:(e,t)=>({...t.payload})},!1),Ql=Object(Ul.combineReducers)({loading:Xl,error:Zl,byId:Yl,allIds:Kl}),ec=Object(zr.handleActions)({[Ur](e,t){const{indexNames:a}=t.payload,i={...e};return a.forEach((e=>{delete i[e]})),i},[qr](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=o})),{...e,...i}},[io](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=l})),{...e,...i}},[so](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=c})),{...e,...i}},[Gr](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=d})),{...e,...i}},[Yr](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=u})),{...e,...i}},[Br](e,t){const{indexNames:a}=t.payload,i={};return a.forEach((e=>{i[e]=p})),{...e,...i}},[lo](e,t){const{indices:a}=t.payload,i=a.reduce(((e,t)=>(e[t.name]=t,e)),{}),n={...e};for(const t in e)e[t]===o&&i[t].status===s&&delete n[t],e[t]===l&&i[t].status===r&&delete n[t],e[t]===c&&i[t].status===r&&delete n[t],e[t]===c&&i[t].status===s&&delete n[t],e[t]===d&&i[t].status===r&&delete n[t],e[t]===d&&i[t].status===s&&delete n[t],e[t]===u&&i[t].status===r&&delete n[t],e[t]===u&&i[t].status===s&&delete n[t],e[t]===p&&i[t].status===r&&delete n[t],e[t]===p&&i[t].status===s&&delete n[t];return n}},{});function tc(e){const t={};e.extensionsService.toggles.forEach((e=>{t[e.name]=!1}));const a={tableState:{...Wl,toggleNameToVisibleMap:t}},i=[Object(Ul.applyMiddleware)($l.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&i.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(Ul.createStore)((({uiMetricService:e})=>Object(Ul.combineReducers)({indices:Ql,rowStatus:ec,tableState:Hl,detailPanel:Jl(e)}))(e),a,Object(Ul.compose)(...i))}const{GlobalFlyoutProvider:ac}=$.GlobalFlyout,ic=()=>Object(H.useKibana)();async function nc(e,t,a,s,r,o){const{element:l,setBreadcrumbs:c,history:d,theme$:u}=a,[p,m]=await e.getStartServices(),{docLinks:f,fatalErrors:x,application:j,chrome:{docTitle:h},uiSettings:M,executionContext:y}=p,{url:O}=m.share;h.change(g.b.getI18nName(i.i18n)),b.setup(c),oe.setup(f);const{uiMetricService:v}=function({usageCollection:e,coreSetup:t}){const{http:a,notifications:i}=t;be.setup(a),Le.setup(i);const n=new ui_metric_UiMetricService("index_management");return Me=n,n.setup(e),{uiMetricService:n}}({usageCollection:t,coreSetup:e}),T=((e,{core:t,dependencies:a})=>{if(!e)return()=>{};const{i18n:i,docLinks:s,notifications:r,application:o,executionContext:l,overlays:c}=t,{Context:d}=i,{services:u,history:p,setBreadcrumbs:m,uiSettings:g,kibanaVersion:f,theme$:x}=a,{Provider:b}=Object(H.createKibanaReactContext)({application:o,uiSettings:g,kibanaVersion:{get:()=>f}}),j={httpClient:u.httpService.httpClient,overlays:c,apiBasePath:n,trackMetric:u.uiMetricService.trackMetric.bind(u.uiMetricService),docLinks:s,toasts:r.toasts,setBreadcrumbs:m,getUrlForApp:o.getUrlForApp,executionContext:l};return Object(Ie.render)(Object(k.jsx)(d,null,Object(k.jsx)(H.KibanaThemeProvider,{theme$:x},Object(k.jsx)(b,null,Object(k.jsx)(we.Provider,{store:tc(u)},Object(k.jsx)(Ae,{value:a},Object(k.jsx)(Cn,null,Object(k.jsx)(ds,{value:j},Object(k.jsx)(ac,null,Object(k.jsx)(Bl,{history:p}))))))))),e),()=>{Object(Ie.unmountComponentAtNode)(e)}})(l,{core:p,dependencies:{core:{fatalErrors:x,getUrlForApp:j.getUrlForApp,executionContext:y,application:j},plugins:{usageCollection:t,isFleetEnabled:r},services:{httpService:be,notificationService:Le,uiMetricService:v,extensionsService:s},history:d,setBreadcrumbs:c,uiSettings:M,url:O,docLinks:f,kibanaVersion:o,theme$:u}});return()=>{h.reset(),T()}}}])]);