/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.savedObjectsTagging_bundle_jsonpfunction=window.savedObjectsTagging_bundle_jsonpfunction||[]).push([[4],{28:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return r}));var s=a(1),o=a(13);const n=()=>"#"+String(Math.floor(16777215*Math.random()).toString(16)).padStart(6,"0"),c=e=>{const t={valid:!0,warnings:[],errors:{}};return t.errors.name=Object(o.g)(e.name),t.errors.color=Object(o.e)(e.color),t.errors.description=Object(o.f)(e.description),Object.values(t.errors).forEach((e=>{e&&(t.valid=!1)})),t},r=()=>{const e=Object(s.useRef)(!0);return Object(s.useEffect)((()=>()=>{e.current=!1}),[]),Object(s.useCallback)((t=>{e.current&&t&&t()}),[])}},31:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var s=a(1),o=a(2),n=a(5),c=a(10),r=a(13),i=a(17),l=a(28),d=a(0);const u=({onClose:e,onSubmit:t,validation:a,setField:u,tag:j,mode:b})=>{const g=Object(o.htmlIdGenerator)()(),m=Object(l.b)(),[O,x]=Object(s.useState)(!1),p=Object(s.useMemo)((()=>j),[]),M=Object(s.useMemo)((()=>j.name!==p.name||j.color!==p.color||j.description!==p.description),[p,j]),f=Object(s.useMemo)((()=>u("name")),[u]),v=Object(s.useMemo)((()=>u("color")),[u]),E=Object(s.useMemo)((()=>u("description")),[u]),F=Object(s.useMemo)((()=>"edit"===b),[b]),w=Object(s.useMemo)((()=>({...j,name:j.name||"tag",color:Object(r.e)(j.color)?"#000000":j.color})),[j]),C=Object(s.useCallback)((async()=>{x(!0),await t(),m((()=>{x(!1)}))}),[m,t]);return Object(d.jsx)(o.EuiModal,{onClose:e,initialFocus:"[name=name]",style:{minWidth:"600px"}},Object(d.jsx)(o.EuiModalHeader,null,Object(d.jsx)(o.EuiModalHeaderTitle,null,F?Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.editModal.title",defaultMessage:"Edit '{name}' tag",values:{name:p.name}}):Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.createModal.title",defaultMessage:"Create tag"}))),Object(d.jsx)(o.EuiModalBody,null,Object(d.jsx)(o.EuiForm,{"data-test-subj":"tagModalForm",component:"form"},Object(d.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},Object(d.jsx)(o.EuiFlexItem,{grow:3},Object(d.jsx)(o.EuiFormRow,{"data-test-subj":"createModalRow-name",fullWidth:!0,label:n.i18n.translate("xpack.savedObjectsTagging.tagAttributeLabels.name",{defaultMessage:"Name"}),isInvalid:!!a.errors.name,error:a.errors.name},Object(d.jsx)(o.EuiFieldText,{name:"name",fullWidth:!0,maxLength:r.c,value:j.name,onChange:e=>f(e.target.value),"data-test-subj":"createModalField-name"}))),Object(d.jsx)(o.EuiFlexItem,{grow:2},Object(d.jsx)(o.EuiFormRow,{"data-test-subj":"createModalRow-color",fullWidth:!0,label:n.i18n.translate("xpack.savedObjectsTagging.tagAttributeLabels.color",{defaultMessage:"Color"}),isInvalid:!!a.errors.color,error:a.errors.color,labelAppend:Object(d.jsx)(o.EuiButtonEmpty,{onClick:()=>v(Object(l.a)()),size:"xs",style:{height:"18px",fontSize:"0.75rem"},"aria-label":n.i18n.translate("xpack.savedObjectsTagging.management.createModal.color.randomizeAriaLabel",{defaultMessage:"Randomize tag color"})},Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.createModal.color.randomize",defaultMessage:"Randomize"}))},Object(d.jsx)(o.EuiColorPicker,{color:j.color,fullWidth:!0,onChange:e=>v(e),format:"hex","data-test-subj":"createModalField-color"})))),Object(d.jsx)(o.EuiSpacer,{size:"s"}),Object(d.jsx)(o.EuiFormRow,{"data-test-subj":"createModalRow-description",fullWidth:!0,label:n.i18n.translate("xpack.savedObjectsTagging.tagAttributeLabels.description",{defaultMessage:"Description"}),labelAppend:Object(d.jsx)(o.EuiText,{size:"xs",color:"subdued",id:g},Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.optionalFieldText",defaultMessage:"Optional"})),isInvalid:!!a.errors.description,error:a.errors.description},Object(d.jsx)(o.EuiTextArea,{name:"description",value:j.description,maxLength:r.b,onChange:e=>E(e.target.value),"data-test-subj":"createModalField-description",resize:"none",fullWidth:!0,compressed:!0,"aria-describedby":g})))),Object(d.jsx)(o.EuiModalFooter,null,Object(d.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",alignItems:"baseline"},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiText,{size:"xs",color:"subdued"},Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.tagPreviewText",defaultMessage:"Preview"}))),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(i.a,{tag:w})))),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"baseline"},Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiButtonEmpty,{onClick:e,"data-test-subj":"createModalCancelButton"},Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.createModal.closeButtonText",defaultMessage:"Cancel"}))),Object(d.jsx)(o.EuiFlexItem,{grow:!1},Object(d.jsx)(o.EuiButton,{iconType:F?"save":"tag",color:"primary",fill:!0,"data-test-subj":"createModalConfirmButton",onClick:C,isDisabled:O||F&&!M},F?Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.createModal.updateTagButtonLabel",defaultMessage:"Save changes"}):Object(d.jsx)(c.FormattedMessage,{id:"xpack.savedObjectsTagging.management.createModal.createTagButtonLabel",defaultMessage:"Create tag"}))))))))}},45:function(e,t,a){"use strict";a.r(t),a.d(t,"EditTagModal",(function(){return l}));var s=a(1),o=a(11),n=a(31),c=a(28),r=a(0);const i={valid:!0,warnings:[],errors:{}},l=({tag:e,onSave:t,onClose:a,tagClient:l})=>{const[d,u]=Object(s.useState)(i),[j,b]=Object(s.useState)((e=>{const{id:t,...a}=e;return a})(e)),g=Object(s.useCallback)((e=>t=>{b((a=>({...a,[e]:t})))}),[]),m=Object(s.useCallback)((async()=>{const a=Object(c.c)(j);if(u(a),a.valid)try{const a=await l.update(e.id,j);t(a)}catch(e){Object(o.c)(e.body)&&u(e.body.attributes)}}),[j,l,t,e]);return Object(r.jsx)(n.a,{onClose:a,onSubmit:m,mode:"edit",tag:j,setField:g,validation:d})}}}]);