/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[0,7,9,11,15,16,17],{101:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a(0),n=a(42),r=a(10);function l(){const[e,t]=Object(i.useState)({all:!1,read:!1,create:!1,update:!1,delete:!1,push:!1}),a=Object(n.a)().services.application.capabilities,l=Object(n.a)().services.cases.helpers.getUICapabilities(a[r.casesFeatureId]);return Object(i.useEffect)((()=>{t({all:l.all,create:l.create,read:l.read,update:l.update,delete:l.delete,push:l.push})}),[l.all,l.create,l.read,l.update,l.delete,l.push]),e}},103:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a(0);const n=Object(i.createContext)({})},106:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"a",(function(){return f}));var i=a(0),n=a.n(i),r=a(5),l=a(53),o=a.n(l),s=a(1),u=a(6),c=a(88),d=a(11);const p=(e,t={})=>o.a.parse(e,t);function f({seriesId:e,series:t}){var a,i;const{firstSeries:l,setSeries:o,reportType:f}=Object(c.f)(),b=Object(u.useUiSetting)("dateFormat"),m=null===(a=t.time)||void 0===a?void 0:a.from,g=null===(i=t.time)||void 0===i?void 0:i.to,{from:y,to:h}=l.time,v=p(null!=m?m:y),E=p(null!=g?g:h,{roundUp:!0}),w=()=>{const e=p(y);return p(h,{roundUp:!0}).diff(e,"millisecond")};return n.a.createElement(r.EuiDatePickerRange,{fullWidth:!0,isCustom:!0,startDateControl:n.a.createElement(r.EuiDatePicker,{fullWidth:!0,selected:v,onChange:a=>{if(f===d.n.KPI){const i=w(),n=a.toISOString(),r=a.add(i,"millisecond").toISOString();o(e,{...t,time:{from:n,to:r}})}else{const i=a.toISOString();o(e,{...t,time:{from:i,to:g}})}},startDate:v,endDate:E,isInvalid:v>E,"aria-label":s.i18n.translate("xpack.observability.expView.dateRanger.startDate",{defaultMessage:"Start date"}),dateFormat:b.replace("ss.SSS","ss"),showTimeSelect:!0,popoverPlacement:"rightCenter"}),endDateControl:n.a.createElement(r.EuiDatePicker,{fullWidth:!0,showIcon:!1,selected:E,onChange:a=>{if(f===d.n.KPI){const i=w(),n=a.toISOString(),r=a.subtract(i,"millisecond").toISOString();o(e,{...t,time:{from:r,to:n}})}else{const i=a.toISOString();o(e,{...t,time:{from:m,to:i}})}},startDate:v,endDate:E,isInvalid:v>E,"aria-label":s.i18n.translate("xpack.observability.expView.dateRanger.endDate",{defaultMessage:"End date"}),dateFormat:b.replace("ss.SSS","ss"),showTimeSelect:!0,popoverPlacement:"rightCenter"})})}},108:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var i=a(13),n=a(0),r=a(119),l=a.n(r),o=a(37),s=a(7);const u=({sourceField:e,dataViewTitle:t,query:a="",filters:r,time:u,label:c,keepHistory:d,cardinalityField:p})=>{const[f,b]=Object(n.useState)(a),[m,g]=Object(n.useState)([]),{from:y,to:h}=null!=u?u:{};l()((()=>{b(a)}),350,[a]),Object(n.useEffect)((()=>{a||b(a)}),[a]);const v=((e,t)=>{if(!t)return"";let a="";return a=e===s.o?`*.${t.toLowerCase()}.*`:t[0].toLowerCase()===t[0]?`(${t}|${Object(i.capitalize)(t)}).*`:`(${t}|${t.toLowerCase()}).*`,a})(e,a),{data:E,loading:w}=Object(o.b)(Object(o.a)({index:t,body:{query:{bool:{filter:[...null!=r?r:[],...y&&h?[{range:{"@timestamp":{gte:y,lte:h}}}]:[]]}},size:0,aggs:{values:{terms:{field:e,size:50,...a?{include:v}:{}},...p?{aggs:{count:{cardinality:{field:p}}}}:{}}}}}),[f,y,h,JSON.stringify(r),t,e],{name:`get${c.replace(/\s/g,"")}ValuesList`});return Object(n.useEffect)((()=>{var e,t;const a=null==E||null===(e=E.aggregations)||void 0===e?void 0:e.values.buckets,n=null!==(t=null==a?void 0:a.map((({key:e,doc_count:t,count:a})=>a?{count:a.value,label:String(e)}:{count:t,label:String(e)})))&&void 0!==t?t:[];g(d?e=>((e,t)=>Object(i.uniqBy)([...e,...t],"label"))(n,e):n)}),[E,d,w,a]),{values:m,loading:w}}},109:function(e,t,a){"use strict";a.r(t),a.d(t,"FieldValueSelection",(function(){return p}));var i=a(17),n=a.n(i),r=a(0),l=a.n(r),o=a(5),s=a(1),u=a(13);const c=a(45).euiStyled.div`
  border-radius: ${({theme:e})=>e.eui.euiBorderRadius};
  background: ${({theme:e})=>e.eui.euiColorLightShade};
  padding: 0 ${({theme:e})=>e.eui.euiSizeXS};
`,d=(e,t,a,i)=>{const n={};return null==e||e.forEach((({label:e,count:t})=>{n[e]=t})),Object.entries(n).map((([e,n])=>({label:e,append:i?l.a.createElement(c,null,l.a.createElement(o.EuiText,{size:"xs"},n)):null,...null!=t&&t.includes(e)?{checked:"on"}:{},...null!=a&&a.includes(e)?{checked:"off"}:{}})))};function p({fullWidth:e,label:t,loading:a,query:i,setQuery:n,button:c,width:p,forceOpen:g,setForceOpen:y,anchorPosition:h,singleSelection:v,asFilterButton:E,showCount:w=!0,values:x=[],selectedValue:C,excludedValue:S,allowExclusions:O=!0,compressed:k=!0,useLogicalAND:F,showLogicalConditionSwitch:T=!1,onChange:j}){const{euiTheme:I}=Object(o.useEuiTheme)(),[M,V]=Object(r.useState)((()=>d(x,C,S,w))),[A,D]=Object(r.useState)(!1),[P,L]=Object(r.useState)(F);Object(r.useEffect)((()=>{L(F)}),[F]),Object(r.useEffect)((()=>{V(d(x,C,S,w))}),[x,C,w,S]);const _=()=>{D(!A)},z=l.a.createElement(o.EuiButton,{style:p?{width:p}:{},size:"m",color:"text",iconType:"arrowDown",iconSide:"right",onClick:_,"data-test-subj":"fieldValueSelectionBtn",fullWidth:e},t),R=(C||[]).length+(S||[]).length,N=l.a.createElement(o.EuiFilterButton,{"aria-label":s.i18n.translate("xpack.observability.filterButton.label",{defaultMessage:"expands filter group for {label} filter",values:{label:t}}),hasActiveFilters:R>0,iconType:"arrowDown",numActiveFilters:R,numFilters:M.length,onClick:_},t),B=()=>{const e=(null!=M?M:[]).filter((e=>"on"===(null==e?void 0:e.checked))).map((({label:e})=>e)),t=(null!=M?M:[]).filter((e=>"off"===(null==e?void 0:e.checked))).map((({label:e})=>e)),a=(null!=C?C:[]).length>0||(null!=S?S:[]).length>0;return Object(u.isEqual)(null!=C?C:[],e)&&Object(u.isEqual)(null!=S?S:[],t)&&!(P!==F&&a)};return l.a.createElement(f,null,l.a.createElement(o.EuiPopover,{id:"popover",panelPaddingSize:"none",button:c||(E?N:z),isOpen:A||g,closePopover:()=>{D(!1),null==y||y(!1)},anchorPosition:h,style:{width:"100%"}},l.a.createElement(o.EuiSelectable,{searchable:!0,singleSelection:v,searchProps:{placeholder:s.i18n.translate("xpack.observability.fieldValueSelection.placeholder",{defaultMessage:"Filter {label}",values:{label:t}}),compressed:k,onInput:e=>{n(e.target.value)},"data-test-subj":"suggestionInputField"},listProps:{onFocusBadge:!1},options:M,onChange:e=>{V(e)},allowExclusions:O,isLoading:a&&!i&&0===M.length},((e,n)=>l.a.createElement("div",{style:{width:240}},l.a.createElement(o.EuiPopoverTitle,{paddingSize:"s"},n),e,a&&i&&l.a.createElement(o.EuiText,{className:"eui-textCenter",color:"subdued"},s.i18n.translate("xpack.observability.fieldValueSelection.loading",{defaultMessage:"Loading"})," ",l.a.createElement(o.EuiLoadingSpinner,{size:"m"})),l.a.createElement(o.EuiPopoverFooter,{paddingSize:"s"},T&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.EuiSpacer,{size:"xs"}),l.a.createElement(b,null,l.a.createElement(m,{label:s.i18n.translate("xpack.observability.fieldValueSelection.logicalAnd",{defaultMessage:"Use logical AND"}),"data-test-subj":"tagsLogicalOperatorSwitch",checked:Boolean(P),compressed:!0,onChange:e=>{L(e.target.checked)},$_css:I.size.s,$_css2:I.colors.subduedText})),l.a.createElement(o.EuiSpacer,{size:"m"})),l.a.createElement(o.EuiButton,{"aria-label":s.i18n.translate("xpack.observability.fieldValueSelection.apply.label",{defaultMessage:"Apply the selected filters for {label}",values:{label:t}}),fill:!0,fullWidth:!0,size:"s",isDisabled:B(),onClick:()=>{const e=M.filter((e=>"on"===(null==e?void 0:e.checked))),t=M.filter((e=>"off"===(null==e?void 0:e.checked)));T?j(Object(u.map)(e,"label"),Object(u.map)(t,"label"),P):j(Object(u.map)(e,"label"),Object(u.map)(t,"label")),D(!1),null==y||y(!1)}},s.i18n.translate("xpack.observability.fieldValueSelection.apply",{defaultMessage:"Apply"}))))))))}t.default=p;const f=n.a.div.withConfig({displayName:"Wrapper",componentId:"sc-o6ohvj-0"})(["&&&{div.euiPopover__anchor{width:100%;.euiButton{width:100%;}}}"]);var b=n()("div").withConfig({displayName:"_StyledDiv",componentId:"sc-o6ohvj-1"})({display:"flex",justifyContent:"flex-end"}),m=n()(o.EuiSwitch).withConfig({displayName:"_StyledEuiSwitch",componentId:"sc-o6ohvj-2"})((e=>({flexDirection:"row-reverse",gap:e.$_css,color:e.$_css2})))},110:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"c",(function(){return g})),a.d(t,"a",(function(){return lens_attributes_LensAttributes}));var i=a(16),n=a.n(i),r=a(1),l=a(13),o=a(75),s=a(85);const u=e=>1===e.length?`${e.join(" or ")}`:`(${e.join(" or ")})`;function c(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}var d=a(11),p=a(106);function f({label:e,layerId:t,dataView:a,columnFilter:i,lensFormulaHelper:n,formula:r}){var l;const o=`y-axis-column-${t}`;let s=null!=r?r:"count() / overall_sum(count())";i&&(s=null!=r?r:`count(kql='${i}') / overall_sum(count(kql='${i}'))`);const{columns:u}=null!==(l=null==n?void 0:n.insertOrReplaceFormulaColumn(o,{formula:s,label:e,format:{id:"percent",params:{decimals:0}}},{columns:{},columnOrder:[]},a))&&void 0!==l?l:{columns:{}},{[o]:c,...d}=u;return{main:u[o],supportingColumns:d}}function b(e){return`indexpattern-datasource-layer-${e}`}function m(e){return{sourceField:e,dataType:"number",isBucketed:!1,scale:"ratio"}}const g=(e,t)=>{var a;const i=null!==(a=e.metricOptions)&&void 0!==a?a:[];if(t&&i){const e=i.find((e=>"items"in e?e.id===t:e.field===t||e.id===t));if(e&&"items"in e){const a=e.items.find((e=>e.id===t||e.field===t));return a?{...null!=a?a:{},fieldName:t,columnLabel:null==a?void 0:a.label,columnField:null==a?void 0:a.field}:e.items}return{...null!=e?e:{},fieldName:t,columnLabel:null==e?void 0:e.label,columnField:null==e?void 0:e.field}}return{fieldName:t}};class lens_attributes_LensAttributes{constructor(e,t,a){n()(this,"layers",void 0),n()(this,"visualization",void 0),n()(this,"layerConfigs",[]),n()(this,"isMultiSeries",void 0),n()(this,"seriesReferenceLines",void 0),n()(this,"globalFilter",void 0),n()(this,"reportType",void 0),n()(this,"lensFormulaHelper",void 0),this.layers={},this.seriesReferenceLines={},this.reportType=t,this.lensFormulaHelper=a,this.isMultiSeries=e.length>1,e.forEach((({seriesConfig:e,operationType:a})=>{a&&t!==d.n.SINGLE_METRIC&&e.yAxisColumns.forEach((e=>{void 0!==typeof e.operationType&&(e.operationType=a)}))})),this.layerConfigs=e,this.globalFilter=this.getGlobalFilter(this.isMultiSeries),t!==d.n.SINGLE_METRIC&&(this.layers=this.getLayers(),this.visualization=this.getXyState())}getGlobalFilter(e){if(e)return;const t=this.layerConfigs[0].seriesConfig.query?` and ${this.layerConfigs[0].seriesConfig.query.query}`:"";return{query:`${this.getLayerFilters(this.layerConfigs[0],this.layerConfigs.length)}${t}`,language:"kuery"}}getBreakdownColumn({sourceField:e,layerId:t,layerConfig:a,alphabeticOrder:i,size:n=10}){var r,l;const{dataView:o,seriesConfig:s,selectedMetricField:u}=a,c=o.getFieldByName(e),{metricOptions:p}=s,{sourceField:f}=s.yAxisColumns[0],b=null!==(r=s.labels)&&void 0!==r?r:{},m=Boolean(p&&(null===(l=p.find((e=>e.id===u)))||void 0===l?void 0:l.formula))||f===d.l;let g={type:"column",columnId:`y-axis-column-${t}-0`};return m?g={type:"custom"}:i&&(g={type:"alphabetical",fallback:!0}),{sourceField:e,label:b[e],dataType:null==c?void 0:c.type,operationType:"terms",scale:"ordinal",isBucketed:!0,params:{orderBy:g,size:n,orderDirection:"desc",otherBucket:!0,missingBucket:!1,...m?{orderAgg:{label:"Count of records",dataType:"number",operationType:"count",isBucketed:!1,scale:"ratio",sourceField:"___records___"}}:{}}}}getNumberRangeColumn(e,t,a){var i;return{sourceField:e,label:null!==(i=t.labels[e])&&void 0!==i?i:a,dataType:"number",operationType:"range",isBucketed:!0,scale:"interval",params:{type:"histogram",ranges:[{from:0,to:1e3,label:""}],maxBars:"auto"}}}getFiltersColumn({label:e,paramFilters:t}){return{label:null!=e?e:"Filters",dataType:"string",operationType:"filters",scale:"ordinal",isBucketed:!0,params:{filters:t}}}getNumberColumn({seriesConfig:e,label:t,sourceField:a,columnType:i,columnFilter:n,operationType:r}){if("operation"===i||r){if(r&&["median","average","sum","min","max","unique_count"].includes(r))return this.getNumberOperationColumn({sourceField:a,operationType:r,label:t,seriesConfig:e,columnFilter:n});if("last_value"===r)return this.getLastValueOperationColumn({sourceField:a,operationType:r,label:t,seriesConfig:e,columnFilter:n});if(null!=r&&r.includes("th"))return this.getPercentileNumberColumn(a,r,e,t)}return this.getNumberRangeColumn(a,e,t)}getLastValueOperationColumn({sourceField:e,label:t,seriesConfig:a,operationType:i,columnFilter:n}){return{...m(e),operationType:i,label:t||a.labels[e],filter:n,params:{sortField:"@timestamp",showArrayValues:!1}}}getNumberOperationColumn({sourceField:e,label:t,seriesConfig:a,operationType:i,columnFilter:n}){return{...m(e),label:null!=t?t:r.i18n.translate("xpack.observability.expView.columns.operation.label",{defaultMessage:"{operationType} of {sourceField}",values:{sourceField:a.labels[e],operationType:Object(l.capitalize)(i)}}),filter:n,operationType:i,params:"unique_count"===i?{emptyAsNull:!0}:{}}}getPercentileBreakdowns(e,t,a){const i=e.seriesConfig.yAxisColumns,{sourceField:n,label:r}=i[0],l={};for(let i=1;i<d.j.length;i++)l[`y-axis-column-${i}`]={...this.getColumnBasedOnType({sourceField:n,operationType:d.j[i],label:r,layerConfig:e,layerId:t,colIndex:i}),filter:{query:a||"",language:"kuery"}};return l}getPercentileNumberColumn(e,t,a,i){var n,l;return{...m(e),label:null!=i?i:r.i18n.translate("xpack.observability.expView.columns.label",{defaultMessage:"{percentileValue} percentile of {sourceField}",values:{sourceField:null===(n=a.labels[e])||void 0===n?void 0:n.toLowerCase(),percentileValue:t}}),operationType:"percentile",params:(l=t,{percentile:Number(l.split("th")[0])}),customLabel:!0}}getDateHistogramColumn(e){return{sourceField:e,dataType:"date",isBucketed:!0,label:"@timestamp",operationType:"date_histogram",params:{interval:"auto"},scale:"interval"}}getTermsColumn(e,t){return{operationType:"terms",sourceField:e,label:"Top values of "+t||!1,dataType:"string",isBucketed:!0,scale:"ordinal",params:{size:10,orderBy:{type:"alphabetical",fallback:!1},orderDirection:"desc"}}}getXAxis(e,t){const{xAxisColumn:a}=e.seriesConfig;if(!a.sourceField)return[a];if((null==a?void 0:a.sourceField)===d.p)return this.getBreakdownColumn({layerId:t,layerConfig:e,sourceField:e.breakdown||e.seriesConfig.breakdownFields[0]});if(a.sourceField===d.m){const{paramFilters:t}=this.getFieldMeta(a.sourceField,e);if(t)return this.getFiltersColumn({paramFilters:t})}return this.getColumnBasedOnType({layerConfig:e,layerId:t,label:a.label,sourceField:a.sourceField})}getColumnBasedOnType({sourceField:e,label:t,layerConfig:a,operationType:i,colIndex:n,layerId:r,metricOption:l}){const{breakdown:o,seriesConfig:s}=a,u=this.getFieldMeta(e,a,l),{formula:c,fieldMeta:p,columnType:b,fieldName:m,columnLabel:g,timeScale:y,columnFilters:h,showPercentileAnnotations:v}=u;if(b===d.d)return f({layerId:r,formula:c,label:null!=g?g:t,dataView:a.dataView,lensFormulaHelper:this.lensFormulaHelper}).main;v&&this.addThresholdLayer(m,r,a);const{type:E}=null!=p?p:{};return b===d.o?this.getTermsColumn(m,t||g):m===d.k||b===d.c?this.getRecordsColumn(t||g,void 0!==n?null==h?void 0:h[n]:void 0,y):"date"===E?this.getDateHistogramColumn(m):"number"===E&&o===d.i?{...this.getPercentileNumberColumn(m,i||d.j[0],s,t||g),filter:void 0!==n?null==h?void 0:h[n]:void 0}:"number"===E?this.getNumberColumn({sourceField:m,columnType:b,columnFilter:null==h?void 0:h[0],operationType:i,label:t||g,seriesConfig:a.seriesConfig}):"unique_count"===i||"string"===E?this.getNumberOperationColumn({sourceField:m,operationType:"unique_count",label:t||g,seriesConfig:a.seriesConfig,columnFilter:null==h?void 0:h[0]}):this.getDateHistogramColumn(m)}getCustomFieldName({sourceField:e,layerConfig:t}){return g(t.seriesConfig,e)}getFieldMeta(e,t,a){if(e===d.m){var i;const n=a?{...a,columnLabel:a.label,columnField:a.field,fieldName:a.field}:g(t.seriesConfig,t.selectedMetricField);if(Array.isArray(n))return{fieldName:e,items:n};const{palette:r,fieldName:l,columnType:o,columnLabel:s,columnFilters:u,timeScale:c,paramFilters:d,showPercentileAnnotations:p,formula:f}=n;return{formula:f,palette:r,fieldMeta:t.dataView.getFieldByName(l),fieldName:l,columnType:o,columnLabel:s,columnFilters:u,timeScale:c,paramFilters:d,showPercentileAnnotations:null!==(i=t.showPercentileAnnotations)&&void 0!==i?i:p}}return{fieldMeta:t.dataView.getFieldByName(e),fieldName:e}}getMainYAxis(e,t,a){const{breakdown:i}=e,{sourceField:n,operationType:r,label:l,timeScale:o}=e.seriesConfig.yAxisColumns[0];let s=e.name||l;if(e.seriesConfig.reportType===d.n.CORE_WEB_VITAL&&(s=l),n===d.l)return[f({label:s,layerId:t,columnFilter:a,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).main];if(n===d.k||!n)return[this.getRecordsColumn(s,void 0,o)];const u=this.getFieldMeta(n,e);if("items"in u){const{items:a}=u;return null==a?void 0:a.map(((a,i)=>this.getColumnBasedOnType({layerConfig:e,layerId:t,label:a.label,sourceField:d.m,metricOption:a,operationType:r})))}return[this.getColumnBasedOnType({sourceField:n,label:s,layerConfig:e,colIndex:0,operationType:i===d.i?d.j[0]:r,layerId:t})]}getChildYAxises(e,t,a,i){const{breakdown:n}=e,r={},l=e.seriesConfig.yAxisColumns,{sourceField:o,label:s}=l[0];if(o===d.l&&t&&!i)return f({label:s,layerId:t,columnFilter:a,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).supportingColumns;if(o&&!i){const{columnLabel:a,formula:i,columnType:n}=this.getFieldMeta(o,e);if(n===d.d)return f({label:a,layerId:t,formula:i,dataView:e.dataView,lensFormulaHelper:this.lensFormulaHelper}).supportingColumns}if(1===l.length&&n===d.i)return this.getPercentileBreakdowns(e,t,a);if(1===l.length)return r;for(let a=1;a<l.length;a++){const{sourceField:i,operationType:n,label:o}=l[a];r[`y-axis-column-${a}`]=this.getColumnBasedOnType({sourceField:i,operationType:n,label:o,layerConfig:e,colIndex:a,layerId:t})}return r}getRecordsColumn(e,t,a){return{dataType:"number",isBucketed:!1,label:e||"Count of records",operationType:"count",scale:"ratio",sourceField:d.k,filter:t,...a?{timeScale:a}:{}}}getLayerFilters(e,t){const{filters:a,time:i,seriesConfig:{baseFilters:n,reportType:r}}=e;let l="";r!==d.n.KPI&&t>1&&i&&(l+=`@timestamp >= ${i.from} and @timestamp <= ${i.to}`),null==n||n.forEach((e=>{var t,a,i;const n=e;if(null!==(t=n.query)&&void 0!==t&&t.match_phrase){const e=Object.keys(n.query.match_phrase)[0],t=`${e}: ${n.query.match_phrase[e]}`;l.length>0?l+=` and ${t}`:l+=t}if(null!==(a=n.query)&&void 0!==a&&null!==(i=a.bool)&&void 0!==i&&i.should){var r;const e=[];let t="";null===(r=n.query)||void 0===r||r.bool.should.forEach((a=>{a.match_phrase&&(t=Object.keys(a.match_phrase)[0],e.push(a.match_phrase[t]))}));const a=`${t}: (${e.join(" or ")})`;l.length>0?l+=` and ${a}`:l+=a}const s=e;if(Object(o.isExistsFilter)(s)){var u;const e=`${null===(u=s.query.exists)||void 0===u?void 0:u.field} : *`;l.length>0?l+=` and ${e}`:l+=e}}));const s=(e=>{let t="";return e.forEach((({field:e,values:a,notValues:i,wildcards:n,notWildcards:r})=>{const l=null==a?void 0:a.map((e=>`"${c(e)}"`)),o=null==i?void 0:i.map((e=>`"${c(e)}"`)),s=null==n?void 0:n.map((e=>`*${e}*`)),d=null==r?void 0:r.map((e=>`*${e}*`));l&&(null==l?void 0:l.length)>0&&(t.length>0&&(t+=" and "),t+=`${e}: ${u(l)}`),o&&(null==o?void 0:o.length)>0&&(t.length>0&&(t+=" and "),t+=`not (${e}: ${u(o)})`),s&&(null==s?void 0:s.length)>0&&(t.length>0&&(t+=" and "),t+=`(${e}: ${u(s)})`),d&&(null==d?void 0:d.length)>0&&(t.length>0&&(t+=" and "),t+=`(${e}: ${u(d)})`)})),t})(null!=a?a:[]);return l?s?`${s} and ${l}`:l:s}getTimeShift(e,t,a){if(0===a||e.seriesConfig.reportType!==d.n.KPI||!t.time)return null;const{time:{from:i}}=e,{time:{from:n}}=t,r=Object(p.b)(i),l=Object(p.b)(n),o=r&&l?Math.abs(r.diff(l,"days")):0;if(o>1)return o+"d";const s=r&&l?Math.abs(null==r?void 0:r.diff(l,"hours")):0;return 0===s?null:s+"h"}getLayers(){const e={},t=this.layerConfigs;return t.forEach(((a,i)=>{const{breakdown:n,seriesConfig:r}=a,l=`layer${i}`,o=this.getLayerFilters(a,t.length),s=this.getTimeShift(this.layerConfigs[0],a,i),u=this.getMainYAxis(a,l,o),{sourceField:c}=r.xAxisColumn,p=Boolean(n&&c!==d.p&&n!==d.i);e[l]=this.getDataLayer({layerId:l,layerConfig:a,mainYAxises:u,columnFilter:o,timeShift:s,hasBreakdownColumn:p})})),Object.entries(this.seriesReferenceLines).forEach((([t,{layerData:a}])=>{e[t]=a})),e}getDataLayer({hasBreakdownColumn:e,layerId:t,layerConfig:a,columnFilter:i,mainYAxises:n,timeShift:r}){const l={};null==n||n.forEach(((e,a)=>{var n,o,s;let u=i||(null===(n=e.filter)||void 0===n?void 0:n.query);i&&null!==(o=e.filter)&&void 0!==o&&o.query&&(u=`${i} and ${e.filter.query}`);const c=r?`${e.label}(${r})`:e.label;l[`y-axis-column-${t}-${a}`]={...e,label:c,filter:{query:null!==(s=u)&&void 0!==s?s:"",language:"kuery"},...r?{timeShift:r}:{}}}));const{breakdown:o}=a,s=e?this.getBreakdownColumn({layerId:t,sourceField:o,layerConfig:a}):null,u={[`x-axis-column-${t}`]:this.getXAxis(a,t)};return{columnOrder:[...e?[`breakdown-column-${t}`]:[],...Object.keys(u),...Object.keys(l),...Object.keys(this.getChildYAxises(a,t,i))],columns:{...u,...l,...e?{[`breakdown-column-${t}`]:s}:{},...this.getChildYAxises(a,t,i)},incompleteColumns:{}}}getXyState(){return{legend:{isVisible:!0,showSingleSeries:!0,position:"right",legendSize:s.LegendSize.AUTO,shouldTruncate:!1},valueLabels:"hide",fittingFunction:"Linear",curveType:"CURVE_MONOTONE_X",axisTitlesVisibilitySettings:{x:!1,yLeft:!this.isMultiSeries,yRight:!this.isMultiSeries},tickLabelsVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},gridlinesVisibilitySettings:{x:!1,yLeft:!0,yRight:!0},preferredSeriesType:"line",layers:this.getDataLayers(),...this.layerConfigs[0].seriesConfig.yTitle?{yTitle:this.layerConfigs[0].seriesConfig.yTitle}:{}}}getDataLayers(){const e=this.layerConfigs.map(((e,t)=>{var a,i,n,r;const{sourceField:l}=e.seriesConfig.yAxisColumns[0];let o=e.seriesConfig.palette;if(l){const t=this.getFieldMeta(l,e);t.palette&&(o=t.palette)}const s=`layer${t}`,u=this.getLayerFilters(e,this.layerConfigs.length);return{accessors:[...(null!==(a=this.getMainYAxis(e,s,u))&&void 0!==a?a:[]).map(((e,t)=>`y-axis-column-${s}-${t}`)),...Object.keys(this.getChildYAxises(e,`layer${t}`,void 0,!0))],layerId:`layer${t}`,layerType:"data",seriesType:e.seriesType||e.seriesConfig.defaultSeriesType,palette:null!==(i=o)&&void 0!==i?i:e.seriesConfig.palette,yConfig:e.seriesConfig.yConfig||[{forAccessor:`y-axis-column-layer${t}-0`,color:e.color,axisMode:(null===(n=e.dataView.fieldFormatMap[e.selectedMetricField])||void 0===n?void 0:n.id)===(null===(r=this.layerConfigs[0].dataView.fieldFormatMap[this.layerConfigs[0].selectedMetricField])||void 0===r?void 0:r.id)?"left":"right"}],xAccessor:`x-axis-column-layer${t}`,...e.breakdown&&e.breakdown!==d.i&&e.seriesConfig.xAxisColumn.sourceField!==d.p?{splitAccessor:`breakdown-column-layer${t}`}:{},...this.layerConfigs[0].seriesConfig.yTitle?{yTitle:this.layerConfigs[0].seriesConfig.yTitle}:{}}})),t=[];return Object.entries(this.seriesReferenceLines).forEach((([e,{layerState:a}])=>{t.push(a[0])})),[...e,...t]}addThresholdLayer(e,t,{seriesConfig:a,dataView:i}){const n=`${t}-reference-lines`,r=this.getThresholdColumns(e,n,a),l={columnOrder:Object.keys(r),columns:r,incompleteColumns:{}},o=this.getThresholdLayer(e,n,a);this.seriesReferenceLines[n]={layerData:l,layerState:o,dataView:i}}getThresholdLayer(e,t,a){const i=this.getThresholdColumns(e,t,a);return[{layerId:t,accessors:Object.keys(i),layerType:"referenceLine",yConfig:Object.keys(i).map((e=>({axisMode:"bottom",color:"#6092C0",forAccessor:e,lineStyle:"solid",lineWidth:2,textVisibility:!0})))}]}getThresholdColumns(e,t,a){const i={};return["50th","75th","90th","95th","99th"].forEach((n=>{i[`${n}-percentile-reference-line-${t}`]={...this.getPercentileNumberColumn(e,n,a),label:n}})),i}getReferences(){const e=Array.from(new Set([...this.layerConfigs.map((({dataView:e})=>e.id))])),t={},a=Object.entries(this.seriesReferenceLines).map((([e,{dataView:a}])=>(t[a.id]=a.toSpec(!1),{id:a.id,name:b(e),type:"index-pattern"}))),i=[...e.map((e=>({id:e,name:"indexpattern-datasource-current-indexpattern",type:"index-pattern"}))),...this.layerConfigs.map((({dataView:e},a)=>(t[e.id]=e.toSpec(!1),{id:e.id,name:b(`layer${a}`),type:"index-pattern"}))),...a];return Object.entries(this.seriesReferenceLines).map((([e,{dataView:t}])=>({id:t.id,name:b(e),type:"index-pattern"}))),{internalReferences:i,adHocDataViews:t}}getJSON(e="lnsXY",t){const a=this.globalFilter||this.layerConfigs[0].seriesConfig.query,{internalReferences:i,adHocDataViews:n}=this.getReferences();return{title:"Prefilled from exploratory view app",description:t?`Last refreshed at ${new Date(t).toISOString()}`:"",visualizationType:e,references:[],state:{internalReferences:i,adHocDataViews:n,datasourceStates:{formBased:{layers:this.layers}},visualization:this.visualization,query:a||{query:"",language:"kuery"},filters:[]}}}}},111:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var i,n=a(0),r=a.n(n),l=a(76),o=(i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},i(e,t)},function(e,t){function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),s="html",u="svg",c=function(e,t){var a,i,n,r={};if(e===s)n=document.createElement("div");else{if(e!==u)throw new Error('Invalid element type "'+e+'" for createPortalNode: must be "html" or "svg".');n=document.createElementNS("http://www.w3.org/2000/svg","g")}if(t&&"object"==typeof t)for(var l=0,o=Object.entries(t.attributes);l<o.length;l++){var c=o[l],d=c[0],p=c[1];n.setAttribute(d,p)}var f={element:n,elementType:e,setPortalProps:function(e){r=e},getInitialPortalProps:function(){return r},mount:function(t,n){if(n!==i){if(f.unmount(),t!==a&&!function(e,t){if(t===s)return e instanceof HTMLElement;if(t===u)return e instanceof SVGElement;throw new Error('Unrecognized element type "'+t+'" for validateElementType.')}(t,e))throw new Error('Invalid element type for portal: "'+e+'" portalNodes must be used with '+e+" elements, but OutPortal is within <"+t.tagName+">.");t.replaceChild(f.element,n),a=t,i=n}},unmount:function(e){e&&e!==i||a&&i&&(a.replaceChild(i,f.element),a=void 0,i=void 0)}};return f},d=function(e){function t(t){var a=e.call(this,t)||this;return a.addPropsChannel=function(){Object.assign(a.props.node,{setPortalProps:function(e){a.setState({nodeProps:e})}})},a.state={nodeProps:a.props.node.getInitialPortalProps()},a}return o(t,e),t.prototype.componentDidMount=function(){this.addPropsChannel()},t.prototype.componentDidUpdate=function(){this.addPropsChannel()},t.prototype.render=function(){var e=this,t=this.props,a=t.children,i=t.node;return l.createPortal(n.Children.map(a,(function(t){return n.isValidElement(t)?n.cloneElement(t,e.state.nodeProps):t})),i.element)},t}(n.PureComponent),p=function(e){function t(t){var a=e.call(this,t)||this;return a.placeholderNode=n.createRef(),a.passPropsThroughPortal(),a}return o(t,e),t.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},t.prototype.componentDidMount=function(){var e=this.props.node;this.currentPortalNode=e;var t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentDidUpdate=function(){var e=this.props.node;this.currentPortalNode&&e!==this.currentPortalNode&&(this.currentPortalNode.unmount(this.placeholderNode.current),this.currentPortalNode=e);var t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentWillUnmount=function(){this.props.node.unmount(this.placeholderNode.current)},t.prototype.render=function(){return n.createElement("div",{ref:this.placeholderNode})},t}(n.PureComponent),f=c.bind(null,s),b=(c.bind(null,u),a(6));function m({children:e,setHeaderActionMenu:t,theme$:a}){const i=Object(n.useMemo)((()=>f()),[]);return Object(n.useEffect)((()=>(t((e=>Object(b.toMountPoint)(r.a.createElement(p,{node:i}),{theme$:a})(e))),()=>{i.unmount(),t(void 0)})),[i,t,a]),r.a.createElement(d,{node:i},e)}},112:function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return m}));var i=a(13),n=a(0),r=a.n(n),l=a(18),o=a(78),s=a(6),u=a(28),c=a(19),d=a(93);const p=["apm","uptime","logs","infrastructure","alerts"],f=Object(n.createContext)({}),b=["apm","synthetics","infra_logs","infra_metrics","ux","alert"];function m({children:e}){const{http:t}=Object(s.useKibana)().services,[a,m]=Object(n.useState)(""),{absoluteStart:g,absoluteEnd:y}=Object(d.a)(),[h,v]=Object(n.useState)({}),E=Object(l.useRouteMatch)("/exploratory-view");Object(n.useEffect)((()=>{E||Object(o.asyncForEach)(b,(async e=>{var t,a,i,n,r;try{const l=({hasData:t,indices:a,serviceName:i})=>{v((n=>({...n,[e]:{hasData:t,...i?{serviceName:i}:{},...a?{indices:a}:{},status:c.a.SUCCESS}})))};switch(e){case"ux":const o={absoluteTime:{start:g,end:y}},s=await(null===(t=Object(u.a)(e))||void 0===t?void 0:t.hasData(o));l({hasData:null==s?void 0:s.hasData,indices:null==s?void 0:s.indices,serviceName:null==s?void 0:s.serviceName});break;case"synthetics":const c=await(null===(a=Object(u.a)(e))||void 0===a?void 0:a.hasData());l({hasData:null==c?void 0:c.hasData,indices:null==c?void 0:c.indices});break;case"apm":const d=await(null===(i=Object(u.a)(e))||void 0===i?void 0:i.hasData());l({hasData:null==d?void 0:d.hasData,indices:null==d?void 0:d.indices});break;case"infra_logs":const p=await(null===(n=Object(u.a)(e))||void 0===n?void 0:n.hasData());l({hasData:null==p?void 0:p.hasData,indices:null==p?void 0:p.indices});break;case"infra_metrics":const f=await(null===(r=Object(u.a)(e))||void 0===r?void 0:r.hasData());l({hasData:null==f?void 0:f.hasData,indices:null==f?void 0:f.indices})}}catch(t){v((t=>({...t,[e]:{hasData:void 0,status:c.a.FAILURE}})))}}))}),[E]),Object(n.useEffect)((()=>{!async function(){try{const e=await async function({http:e}){try{const{data:t=[]}=await e.get("/api/alerts/_find",{query:{page:1,per_page:20}})||{};return t.filter((({consumer:e})=>p.includes(e)))}catch(e){throw console.error("Error while fetching alerts",e),e}}({http:t});v((t=>({...t,alert:{hasData:e.length>0,status:c.a.SUCCESS}})))}catch(e){v((e=>({...e,alert:{hasData:void 0,status:c.a.FAILURE}})))}}()}),[a,t]);const w=b.every((e=>{var t;const a=null===(t=h[e])||void 0===t?void 0:t.status;return void 0!==a&&a!==c.a.LOADING})),x=Object.keys(h).some((e=>{var t;return!0===(null===(t=h[e])||void 0===t?void 0:t.hasData)}));return r.a.createElement(f.Provider,{value:{hasDataMap:h,hasAnyData:Object(i.isEmpty)(h)?void 0:x,isAllRequestsComplete:w,forceUpdate:a,onRefreshTimeRange:()=>{m(Object(i.uniqueId)())}},children:e})}},118:function(e,t,a){"use strict";a.d(t,"a",(function(){return SingleMetricLensAttributes}));var i=a(16),n=a.n(i),r=a(11),l=a(110);class SingleMetricLensAttributes extends l.a{constructor(e,t,a){super(e,t,a),n()(this,"columnId",void 0),n()(this,"metricStateOptions",void 0),this.layers={},this.reportType=t,this.layerConfigs=e,this.isMultiSeries=e.length>1,this.columnId="layer-0-column-1",this.globalFilter=this.getGlobalFilter(this.isMultiSeries);const i=this.getSingleMetricLayer();this.layers={layer0:i},this.visualization=this.getMetricState()}getSingleMetricLayer(){const{seriesConfig:e,selectedMetricField:t,operationType:a,dataView:i}=this.layerConfigs[0],n=Object(l.c)(e,t);if(!Array.isArray(n)){const{columnFilter:o,columnField:s,columnLabel:u,columnType:c,formula:d,metricStateOptions:p,format:f}=n;if(this.metricStateOptions=p,c===r.d&&d)return this.getFormulaLayer({formula:d,label:u,dataView:i,format:f,filter:o});const b=t.startsWith("Records")||t.startsWith("records")?"Records":s||t;return(null==a?void 0:a.includes("th"))?this.getPercentileLayer({sourceField:b,operationType:a,seriesConfig:e,columnLabel:u,columnFilter:o}):{columns:{[this.columnId]:{...Object(l.b)(b),label:null!=u?u:"",operationType:b===r.k?"count":a||"median",filter:o,params:{emptyAsNull:!0}}},columnOrder:[this.columnId],incompleteColumns:{}}}}getFormulaLayer({formula:e,label:t,dataView:a,format:i,filter:n}){var r;return null===(r=this.lensFormulaHelper)||void 0===r?void 0:r.insertOrReplaceFormulaColumn(this.columnId,{formula:e,label:t,filter:n,format:"percent"!==i&&i?void 0:{id:"percent",params:{decimals:1}}},{columns:{},columnOrder:[]},a)}getPercentileLayer({sourceField:e,operationType:t,seriesConfig:a,columnLabel:i,columnFilter:n}){return{columns:{[this.columnId]:{...this.getPercentileNumberColumn(e,t,a),label:null!=i?i:"",filter:n}},columnOrder:[this.columnId],incompleteColumns:{}}}getMetricState(){var e;return{accessor:this.columnId,layerId:"layer0",layerType:"data",...null!==(e=this.metricStateOptions)&&void 0!==e?e:{},size:"s"}}}},119:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(47),n=a(0),r=i.__importDefault(a(120));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var i=r.default(e,t),l=i[0],o=i[1],s=i[2];return n.useEffect(s,a),[l,o]}},120:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(0);t.default=function(e,t){void 0===t&&(t=0);var a=i.useRef(!1),n=i.useRef(),r=i.useRef(e),l=i.useCallback((function(){return a.current}),[]),o=i.useCallback((function(){a.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout((function(){a.current=!0,r.current()}),t)}),[t]),s=i.useCallback((function(){a.current=null,n.current&&clearTimeout(n.current)}),[]);return i.useEffect((function(){r.current=e}),[e]),i.useEffect((function(){return o(),s}),[t]),[l,s,o]}},121:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return c}));var i=a(11),n=a(2),r=a(3),l=a(92);const o="summary.up",s="summary.down",u=e=>!!e&&[r.j,r.i,r.d,r.f,r.n,r.h].includes(e);function c({dataView:e}){return{reportType:i.n.KPI,defaultSeriesType:"bar_stacked",seriesTypes:[],xAxisColumn:{sourceField:"@timestamp"},yAxisColumns:[{sourceField:i.m,operationType:"median"}],hasOperationType:!0,filterFields:["observer.geo.name","monitor.type","tags","url.full"],breakdownFields:["observer.geo.name","monitor.type","monitor.name",r.o,i.i],baseFilters:[],definitionFields:[{field:"monitor.name",nested:r.o,singleSelection:!0},{field:"url.full",filters:Object(l.a)("summary.up",e)}],metricOptions:[{label:n.H,field:r.a,id:r.a,columnType:i.h},{label:"Monitor availability",id:"monitor_availability",columnType:i.d,formula:"1- (count(kql='summary.down > 0') / count(kql='summary: *'))"},{label:"Monitor Errors",id:"state.id",field:"state.id",columnType:i.h,columnFilters:[{language:"kuery",query:'summary: * and summary.down > 0 and and monitor.status: "down"'}]},{label:"Monitor Complete",id:"state.up",field:"state.up",columnType:i.h,columnFilters:[{language:"kuery",query:'summary: * and summary.down: 0 and monitor.status: "up"'}]},{field:o,id:o,label:n.jb,columnType:i.h,palette:{type:"palette",name:"status"}},{field:s,id:s,label:n.q,columnType:i.h,palette:{type:"palette",name:"status"}},{label:n.db,field:r.n,id:r.n,columnType:i.h,columnFilters:[p]},{label:n.B,field:r.j,id:r.j,columnType:i.h,columnFilters:d(r.j)},{label:n.t,field:r.i,id:r.i,columnType:i.h,columnFilters:d(r.i)},{label:n.l,field:r.f,id:r.f,columnType:i.h,columnFilters:d(r.f)},{label:n.S,field:r.h,id:r.h,columnType:i.h,columnFilters:d(r.h)},{label:n.h,field:r.d,id:r.d,columnType:i.h,columnFilters:d(r.d)},{label:n.M,id:"network_timings",columnType:i.h,items:r.b.map((e=>{var t;return{label:null!==(t=i.e[e])&&void 0!==t?t:e,field:e,id:e,columnType:i.h,columnFilters:d(e,"journey/network_info")}}))}],labels:{...i.e,[o]:n.jb,[s]:n.q}}}const d=(e,t="step/metrics")=>[{language:"kuery",query:`synthetics.type: ${t} and ${e}: * and ${e} > 0`}],p={language:"kuery",query:"synthetics.type: step/end"}},122:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),n=a(63).isClient?window:null,r=function(e){return!!e.addEventListener},l=function(e){return!!e.on};t.default=function(e,t,a,o){void 0===a&&(a=n),i.useEffect((function(){if(t&&a)return r(a)?a.addEventListener(e,t,o):l(a)&&a.on(e,t,o),function(){r(a)?a.removeEventListener(e,t,o):l(a)&&a.off(e,t,o)}}),[e,t,a,JSON.stringify(o)])}},128:function(e,t,a){"use strict";a.r(t),a.d(t,"FieldValueSuggestions",(function(){return b}));var i=a(0),n=a.n(i),r=a(108),l=a(109),o=a(13),s=a(5),u=a(1),c=a(17);const d=(e,t)=>{const a=Array.from(new Set(t&&(null!=e?e:[]).length>0?["ALL_VALUES",...null!=e?e:[]]:e));return(null!=a?a:[]).map((e=>({label:e})))};function p({label:e,selectedValue:t,loading:a,values:r,setQuery:l,usePrependLabel:c=!0,compressed:p=!0,required:b=!0,singleSelection:m=!1,allowAllValuesSelection:g,onChange:y}){const[h,v]=Object(i.useState)((()=>{var e;return d(Object(o.union)(null!==(e=null==r?void 0:r.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),g)}));Object(i.useEffect)((()=>{var e;v(d(Object(o.union)(null!==(e=null==r?void 0:r.map((({label:e})=>e)))&&void 0!==e?e:[],null!=t?t:[]),g))}),[g,t,r]);const E=n.a.createElement(s.EuiComboBox,{fullWidth:!0,singleSelection:!!m&&{asPlainText:!0},compressed:p,placeholder:u.i18n.translate("xpack.observability.fieldValueSelection.placeholder.search",{defaultMessage:"Search {label}",values:{label:e}}),isLoading:a,onSearchChange:e=>{l(e)},options:h,selectedOptions:h.filter((e=>null==t?void 0:t.includes(e.label))),onChange:e=>{y(e.map((({label:e})=>e)))},isInvalid:b&&Object(o.isEmpty)(t)});return c?n.a.createElement(f,null,n.a.createElement(s.EuiFormControlLayout,{fullWidth:!0,prepend:e,compressed:!0},E)):n.a.createElement(s.EuiFormRow,{label:e,display:"center",fullWidth:!0},E)}const f=a.n(c).a.div.withConfig({displayName:"ComboWrapper",componentId:"sc-1ajik3y-0"})(["&&&{.euiFormControlLayout{height:auto;.euiFormControlLayout__prepend{margin:auto;}.euiComboBoxPill{max-width:250px;}.euiComboBox__inputWrap{border-radius:0;}}}"]);function b({fullWidth:e,sourceField:t,label:a,dataViewTitle:o,selectedValue:s,excludedValue:u,filters:c,button:d,time:f,width:b,forceOpen:m,setForceOpen:g,anchorPosition:y,singleSelection:h,compressed:v,asFilterButton:E,usePrependLabel:w,allowAllValuesSelection:x,required:C,allowExclusions:S=!0,cardinalityField:O,inspector:k,asCombobox:F=!0,keepHistory:T=!0,showLogicalConditionSwitch:j,useLogicalAND:I,onChange:M}){const[V,A]=Object(i.useState)(""),{values:D,loading:P}=Object(r.a)({dataViewTitle:o,query:V,sourceField:t,filters:c,time:f,inspector:k,cardinalityField:O,keepHistory:T,label:a}),L=F?p:l.FieldValueSelection;return n.a.createElement(L,{fullWidth:e,singleSelection:h,values:D,label:a,onChange:M,query:V,setQuery:A,loading:P,selectedValue:s,excludedValue:u,button:d,forceOpen:m,setForceOpen:g,anchorPosition:y,width:b,compressed:v,asFilterButton:E,usePrependLabel:w,allowExclusions:S,allowAllValuesSelection:!h&&x,required:C,showLogicalConditionSwitch:j,useLogicalAND:I})}t.default=b},129:function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return v}));var i=a(0),n=a(13),r=a(140),l=a(6),o=a(15),s=a(9),u=a(110),c=a(88),d=a(141),p=a(91),f=a(31),b=a(11),m=a(44),g=a(118);const y=e=>Object.entries(null!=e?e:{}).map((([e,t])=>({field:e,values:Array.isArray(t)?t:[t]}))).filter((({values:e})=>!e.includes(s.a)));function h(e,t,a,i,r){const l=[];return e.forEach(((e,o)=>{const s=null==i?void 0:i[null==e?void 0:e.dataType];if(s&&!Object(n.isEmpty)(e.reportDefinitions)&&!e.hidden&&e.selectedMetricField){var u,c,p;const i=Object(d.a)({reportType:t,dataView:s,dataType:e.dataType,reportConfigMap:r}),n=(null!==(u=e.filters)&&void 0!==u?u:[]).concat(y(e.reportDefinitions),y(e.textReportDefinitions)),f=`euiColorVis${o}`;l.push({filters:n,dataView:s,seriesConfig:i,time:e.time,name:e.name,breakdown:e.breakdown===b.f?void 0:e.breakdown,seriesType:e.seriesType,operationType:e.operationType,reportDefinitions:null!==(c=e.reportDefinitions)&&void 0!==c?c:{},selectedMetricField:e.selectedMetricField,color:null!==(p=e.color)&&void 0!==p?p:a.eui[f],showPercentileAnnotations:e.showPercentileAnnotations})}})),l}const v=()=>{const{storage:e,allSeries:t,lastRefresh:a,reportType:s}=Object(c.f)(),{dataViews:d}=Object(p.b)(),{reportConfigMap:b}=Object(m.b)(),y=Object(f.a)(),v=(()=>{const{services:{lens:e}}=Object(l.useKibana)(),{data:t}=Object(o.useFetcher)((async()=>e.stateHelperApi()),[e]);return Object(i.useMemo)((()=>{if(t)return t.formula}),[t])})();return Object(i.useMemo)((()=>{var t;const i=Object(c.d)(null!==(t=e.get(c.c))&&void 0!==t?t:[]),l=e.get(c.e);if(Object(n.isEmpty)(d)||Object(n.isEmpty)(i)||!l||!v)return null;const o=h(i,l,y,d,b);return o.length<1?null:"single-metric"===l?new g.a(o,l,v).getJSON("lnsLegacyMetric",a):"heatmap"===l?new r.a(o,l,v).getJSON("lnsHeatmap",a):new u.a(o,l,v).getJSON("lnsXY",a)}),[d,s,e,y,a,t,v])}},139:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var i=a(27);const n=(e,t,a)=>{l(e,t,a),s(e,t,a),o(e)},r=(e,t,a)=>{u(e,t,a)},l=(e,t,a)=>{const n=(e=>{const t=new Map;return e.forEach((e=>{const a=t.get(e.dataType),i=(e.filters||[]).map((e=>e.field));a?a.push(...i):t.set(e.dataType,[...i])})),t})(t);[...n.keys()].forEach((t=>{(n.get(t)||[]).forEach((n=>{e({app:"observability-overview",metricType:i.a.COUNT,metric:`exploratory_view__filters__filter_${n}`}),e({app:"observability-overview",metricType:i.a.COUNT,metric:`exploratory_view__filters__report_type_${a}__data_type_${t}__filter_${n}`})}))}))},o=e=>{e({app:"observability-overview",metricType:i.a.COUNT,metric:"exploratory_view_apply_changes"})},s=(e,t,a)=>{t.map((e=>({dataType:e.dataType,metricType:e.selectedMetricField}))).forEach((({dataType:t,metricType:n})=>{a&&t&&n&&e({app:"observability-overview",metricType:i.a.COUNT,metric:`exploratory_view__report_type_${a}__data_type_${t}__metric_type_${n}`})}))},u=(e,t,a)=>{const i=(n=(a-t)/1e3)<0||isNaN(n)?null:n>=60?"60+":n>=30?"30-60":n>=20?"20-30":n>=10?"10-20":n>=5?"5-10":"0-5";var n;i&&c(e,i)},c=(e,t)=>{e({app:"observability-overview",metricType:i.a.COUNT,metric:`exploratory_view__chart_loading_in_seconds_${t}`})}},140:function(e,t,a){"use strict";a.d(t,"a",(function(){return HeatMapLensAttributes}));var i=a(16),n=a.n(i),r=a(5),l=a(118);class HeatMapLensAttributes extends l.a{constructor(e,t,a){super(e,t,a),n()(this,"xColumnId",void 0),n()(this,"layerId",void 0),n()(this,"breakDownColumnId",void 0),this.xColumnId="layer-0-column-x-1",this.breakDownColumnId="layer-0-breakdown-column",this.layerId="layer0";const i=this.getSingleMetricLayer();i.columns[this.xColumnId]=this.getDateHistogramColumn("@timestamp");let r=[this.xColumnId];const l=e[0];l.breakdown&&(r=[this.breakDownColumnId,...r],i.columns[this.breakDownColumnId]=this.getBreakdownColumn({layerConfig:l,sourceField:l.breakdown,layerId:this.layerId,alphabeticOrder:!0})),i.columnOrder=[...r,...i.columnOrder],this.layers={layer0:i},this.visualization=this.getHeatmapState()}getHeatmapState(){const e=Object(r.euiPaletteNegative)(5),t=this.layerConfigs[0];return{shape:"heatmap",layerId:this.layerId,layerType:"data",legend:{isVisible:!0,position:"right",type:"heatmap_legend"},gridConfig:{type:"heatmap_grid",isCellLabelVisible:!1,isYAxisLabelVisible:!0,isXAxisLabelVisible:!0,isYAxisTitleVisible:!1,isXAxisTitleVisible:!1,xTitle:""},valueAccessor:this.columnId,xAccessor:this.xColumnId,yAccessor:t.breakdown?this.breakDownColumnId:void 0,palette:{type:"palette",name:"negative",params:{name:"negative",continuity:"above",reverse:!1,stops:e.map(((e,t)=>({color:e,stop:0===t?1:20*t}))),rangeMin:0},accessor:this.columnId}}}}},141:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i=({reportType:e,dataType:t,dataView:a,reportConfigMap:i})=>{var n;let r;if(null===(n=i[t])||void 0===n||n.some((t=>{const i=t({dataView:a});return i.reportType===e&&(r=i),i.reportType===e})),!r)throw new Error(`No report config provided for dataType: ${t} and reportType: ${e}`);return r}},142:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u}));var i=a(0),n=a.n(i),r=a(1),l=a(5),o=a(88);function s({seriesId:e,series:t,defaultOperationType:a}){const{setSeries:i}=Object(o.f)(),r=null==t?void 0:t.operationType;return n.a.createElement(u,{onChange:a=>{i(e,{...t,operationType:a})},operationType:r||a})}function u({operationType:e,onChange:t}){const a=[{value:"min",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.min",{defaultMessage:"Min"})},{value:"max",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.max",{defaultMessage:"Max"})},{value:"average",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.average",{defaultMessage:"Average"})},{value:"median",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.median",{defaultMessage:"Median"})},{value:"sum",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.sum",{defaultMessage:"Sum"})},{value:"last_value",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.lastValue",{defaultMessage:"Last value"})},{value:"unique_count",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.uniqueCount",{defaultMessage:"Unique count"})},{value:"25th",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.25thPercentile",{defaultMessage:"25th Percentile"})},{value:"75th",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.75thPercentile",{defaultMessage:"75th Percentile"})},{value:"90th",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.90thPercentile",{defaultMessage:"90th Percentile"})},{value:"95th",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.95thPercentile",{defaultMessage:"95th Percentile"})},{value:"99th",inputDisplay:r.i18n.translate("xpack.observability.expView.operationType.99thPercentile",{defaultMessage:"99th Percentile"})}];return n.a.createElement(l.EuiSuperSelect,{fullWidth:!0,"data-test-subj":"operationTypeSelect",valueOfSelected:e,options:a,onChange:t})}},143:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(14),n=a(171),r=a(172),l=a(173),o=a(174);function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=s(i),c=s(n),d=s(r),p=s(l),f=s(o);function b(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var m={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:b,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:b,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}},g=function(e){function t(t){var a;return a=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,c.default(a)}return d.default(t,e),t}(p.default(Error)),y=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function h(e,t){var a,i=e.pop();return t.push(i.f.apply(i,(a=[]).concat.apply(a,t.splice(-i.argCount)))),i.precedence}function v(e){return e.split("").reverse().join("")}var E=/--[\S]*/g;function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}var x=["Top","Right","Bottom","Left"];function C(e,t){if(!e)return t.toLowerCase();var a=e.split("-");if(a.length>1)return a.splice(1,0,t),a.reduce((function(e,t){return""+e+w(t)}));var i=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===i?""+e+t:i}function S(e,t){for(var a={},i=0;i<t.length;i+=1)(t[i]||0===t[i])&&(a[C(e,x[i])]=t[i]);return a}function O(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var n=a[0],r=a[1],l=void 0===r?n:r,o=a[2],s=void 0===o?n:o,u=a[3],c=void 0===u?l:u,d=[n,l,s,c];return S(e,d)}function k(e,t){return e.substr(-t.length)===t}var F=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function T(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var a=e.match(F);return t?(console.warn("stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit."),a?[parseFloat(e),a[2]]:[e,void 0]):a?parseFloat(e):e}var j=function(e){return function(t,a){void 0===a&&(a="16px");var i=t,n=a;if("string"==typeof t){if(!k(t,"px"))throw new g(69,e,t);i=T(t)}if("string"==typeof a){if(!k(a,"px"))throw new g(70,e,a);n=T(a)}if("string"==typeof i)throw new g(71,t,e);if("string"==typeof n)throw new g(72,a,e);return""+i/n+e}},I=j("em"),M=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function V(e){if("string"!=typeof e)return[e,""];var t=e.match(M);return t?[parseFloat(e),t[2]]:[e,void 0]}var A={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4},D=j("rem");function P(e,t,a,i){void 0===a&&(a="320px"),void 0===i&&(i="1200px");var n=V(e),r=n[0],l=n[1],o=V(t),s=o[0],u=o[1],c=V(a),d=c[0],p=c[1],f=V(i),b=f[0],m=f[1];if("number"!=typeof d||"number"!=typeof b||!p||!m||p!==m)throw new g(47);if("number"!=typeof r||"number"!=typeof s||l!==u)throw new g(48);if(l!==p||u!==m)throw new g(75);var y=(r-s)/(d-b);return"calc("+(s-y*b).toFixed(2)+(l||"")+" + "+(100*y).toFixed(2)+"vw)"}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var _,z,R=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,N={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function B(e,t){return t?' format("'+N[e]+'")':""}function $(e,t,a,i){var n=[];return t&&n.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&n.push(function(e,t,a){return function(e){return!!e.replace(/\s+/g," ").match(R)}(e)?'url("'+e+'")'+B(t[0],a):t.map((function(t){return'url("'+e+"."+t+'")'+B(t,a)})).join(", ")}(e,a,i)),n.join(", ")}function W(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function q(e){for(var t="",a=arguments.length,i=new Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];for(var r=0;r<e.length;r+=1)if(t+=e[r],r===i.length-1&&i[r]){var l=i.filter((function(e){return!!e}));l.length>1?(t=t.slice(0,-1),t+=", "+i[r]):1===l.length&&(t+=""+i[r])}else i[r]&&(t+=i[r]+" ");return t.trim()}var U={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"},H=function(e,t,a){var i=""+a[0]+(a[1]||""),n=""+a[0]/2+(a[1]||""),r=""+t[0]+(t[1]||""),l=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+n+" "+r+" "+n;case"topLeft":return i+" "+r+" 0 0";case"left":return l+" "+i+" "+l+" 0";case"bottomLeft":return i+" 0 0 "+r;case"bottom":return r+" "+n+" 0 "+n;case"bottomRight":return"0 0 "+i+" "+r;case"right":return l+" 0 "+l+" "+i;default:return"0 "+i+" "+r+" 0"}};function G(e){return Math.round(255*e)}function K(e,t,a){return G(e)+","+G(t)+","+G(a)}function Q(e,t,a,i){if(void 0===i&&(i=K),0===t)return i(a,a,a);var n=(e%360+360)%360/60,r=(1-Math.abs(2*a-1))*t,l=r*(1-Math.abs(n%2-1)),o=0,s=0,u=0;n>=0&&n<1?(o=r,s=l):n>=1&&n<2?(o=l,s=r):n>=2&&n<3?(s=r,u=l):n>=3&&n<4?(s=l,u=r):n>=4&&n<5?(o=l,u=r):n>=5&&n<6&&(o=r,u=l);var c=a-r/2;return i(o+c,s+c,u+c)}var Y={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},J=/^#[a-fA-F0-9]{6}$/,X=/^#[a-fA-F0-9]{8}$/,Z=/^#[a-fA-F0-9]{3}$/,ee=/^#[a-fA-F0-9]{4}$/,te=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,ae=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,ie=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,ne=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function re(e){if("string"!=typeof e)throw new g(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Y[t]?"#"+Y[t]:e}(e);if(t.match(J))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(X)){var a=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:a}}if(t.match(Z))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(ee)){var i=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:i}}var n=te.exec(t);if(n)return{red:parseInt(""+n[1],10),green:parseInt(""+n[2],10),blue:parseInt(""+n[3],10)};var r=ae.exec(t.substring(0,50));if(r)return{red:parseInt(""+r[1],10),green:parseInt(""+r[2],10),blue:parseInt(""+r[3],10),alpha:parseFloat(""+r[4])};var l=ie.exec(t);if(l){var o="rgb("+Q(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",s=te.exec(o);if(!s)throw new g(4,t,o);return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10)}}var u=ne.exec(t.substring(0,50));if(u){var c="rgb("+Q(parseInt(""+u[1],10),parseInt(""+u[2],10)/100,parseInt(""+u[3],10)/100)+")",d=te.exec(c);if(!d)throw new g(4,t,c);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+u[4])}}throw new g(5)}function le(e){return function(e){var t,a=e.red/255,i=e.green/255,n=e.blue/255,r=Math.max(a,i,n),l=Math.min(a,i,n),o=(r+l)/2;if(r===l)return void 0!==e.alpha?{hue:0,saturation:0,lightness:o,alpha:e.alpha}:{hue:0,saturation:0,lightness:o};var s=r-l,u=o>.5?s/(2-r-l):s/(r+l);switch(r){case a:t=(i-n)/s+(i<n?6:0);break;case i:t=(n-a)/s+2;break;default:t=(a-i)/s+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:u,lightness:o,alpha:e.alpha}:{hue:t,saturation:u,lightness:o}}(re(e))}var oe=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function se(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function ue(e){return se(Math.round(255*e))}function ce(e,t,a){return oe("#"+ue(e)+ue(t)+ue(a))}function de(e,t,a){return Q(e,t,a,ce)}function pe(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return de(e,t,a);if("object"==typeof e&&void 0===t&&void 0===a)return de(e.hue,e.saturation,e.lightness);throw new g(1)}function fe(e,t,a,i){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof i)return i>=1?de(e,t,a):"rgba("+Q(e,t,a)+","+i+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===i)return e.alpha>=1?de(e.hue,e.saturation,e.lightness):"rgba("+Q(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new g(2)}function be(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return oe("#"+se(e)+se(t)+se(a));if("object"==typeof e&&void 0===t&&void 0===a)return oe("#"+se(e.red)+se(e.green)+se(e.blue));throw new g(6)}function me(e,t,a,i){if("string"==typeof e&&"number"==typeof t){var n=re(e);return"rgba("+n.red+","+n.green+","+n.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof i)return i>=1?be(e,t,a):"rgba("+e+","+t+","+a+","+i+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===i)return e.alpha>=1?be(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new g(7)}function ge(e){if("object"!=typeof e)throw new g(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return me(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return be(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return fe(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return pe(e);throw new g(8)}function ye(e,t,a){return function(){var i=a.concat(Array.prototype.slice.call(arguments));return i.length>=t?e.apply(this,i):ye(e,t,i)}}function he(e){return ye(e,e.length,[])}function ve(e,t){if("transparent"===t)return t;var a=le(t);return ge(u.default({},a,{hue:a.hue+parseFloat(e)}))}var Ee=he(ve);function we(e,t,a){return Math.max(e,Math.min(t,a))}function xe(e,t){if("transparent"===t)return t;var a=le(t);return ge(u.default({},a,{lightness:we(0,1,a.lightness-parseFloat(e))}))}var Ce=he(xe);function Se(e,t){if("transparent"===t)return t;var a=le(t);return ge(u.default({},a,{saturation:we(0,1,a.saturation-parseFloat(e))}))}var Oe=he(Se);function ke(e){if("transparent"===e)return 0;var t=re(e),a=Object.keys(t).map((function(e){var a=t[e]/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)})),i=a[0],n=a[1],r=a[2];return parseFloat((.2126*i+.7152*n+.0722*r).toFixed(3))}function Fe(e,t){var a=ke(e),i=ke(t);return parseFloat((a>i?(a+.05)/(i+.05):(i+.05)/(a+.05)).toFixed(2))}function Te(e,t){if("transparent"===t)return t;var a=le(t);return ge(u.default({},a,{lightness:we(0,1,a.lightness+parseFloat(e))}))}var je=he(Te);function Ie(e,t,a){if("transparent"===t)return a;if("transparent"===a)return t;if(0===e)return a;var i=re(t),n=u.default({},i,{alpha:"number"==typeof i.alpha?i.alpha:1}),r=re(a),l=u.default({},r,{alpha:"number"==typeof r.alpha?r.alpha:1}),o=n.alpha-l.alpha,s=2*parseFloat(e)-1,c=((s*o==-1?s:s+o)/(1+s*o)+1)/2,d=1-c;return me({red:Math.floor(n.red*c+l.red*d),green:Math.floor(n.green*c+l.green*d),blue:Math.floor(n.blue*c+l.blue*d),alpha:n.alpha*(parseFloat(e)/1)+l.alpha*(1-parseFloat(e)/1)})}var Me=he(Ie);function Ve(e,t){if("transparent"===t)return t;var a=re(t),i="number"==typeof a.alpha?a.alpha:1;return me(u.default({},a,{alpha:we(0,1,(100*i+100*parseFloat(e))/100)}))}var Ae=he(Ve),De="#000",Pe="#fff";function Le(e,t){if("transparent"===t)return t;var a=le(t);return ge(u.default({},a,{saturation:we(0,1,a.saturation+parseFloat(e))}))}var _e=he(Le);function ze(e,t){return"transparent"===t?t:ge(u.default({},le(t),{hue:parseFloat(e)}))}var Re=he(ze);function Ne(e,t){return"transparent"===t?t:ge(u.default({},le(t),{lightness:parseFloat(e)}))}var Be=he(Ne);function $e(e,t){return"transparent"===t?t:ge(u.default({},le(t),{saturation:parseFloat(e)}))}var We=he($e);function qe(e,t){return"transparent"===t?t:Me(parseFloat(e),"rgb(0, 0, 0)",t)}var Ue=he(qe);function He(e,t){return"transparent"===t?t:Me(parseFloat(e),"rgb(255, 255, 255)",t)}var Ge=he(He);function Ke(e,t){if("transparent"===t)return t;var a=re(t),i="number"==typeof a.alpha?a.alpha:1;return me(u.default({},a,{alpha:we(0,1,+(100*i-100*parseFloat(e)).toFixed(2)/100)}))}var Qe=he(Ke),Ye=["top","right","bottom","left"];function Je(e,t){return e(t?":"+t:"")}function Xe(e,t,a){if(!t)throw new g(67);if(0===e.length)return Je(t,null);for(var i=[],n=0;n<e.length;n+=1){if(a&&a.indexOf(e[n])<0)throw new g(68);i.push(Je(t,e[n]))}return i.join(",")}var Ze=[void 0,null,"active","focus","hover"];function et(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var tt=["absolute","fixed","relative","static","sticky"],at=[void 0,null,"active","focus","hover"];function it(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=Ee,t.animation=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var i=Array.isArray(t[0]);if(!i&&t.length>8)throw new g(64);var n=t.map((function(e){if(i&&!Array.isArray(e)||!i&&Array.isArray(e))throw new g(65);if(Array.isArray(e)&&e.length>8)throw new g(66);return Array.isArray(e)?e.join(" "):e})).join(", ");return{animation:n}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{background:t.join(", ")}},t.between=P,t.border=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var n;return"string"==typeof e&&Ye.indexOf(e)>=0?((n={})["border"+w(e)+"Width"]=a[0],n["border"+w(e)+"Style"]=a[1],n["border"+w(e)+"Color"]=a[2],n):(a.unshift(e),{borderWidth:a[0],borderStyle:a[1],borderColor:a[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var a,i,n=w(e);if(!t&&0!==t)throw new g(62);if("Top"===n||"Bottom"===n)return(a={})["border"+n+"RightRadius"]=t,a["border"+n+"LeftRadius"]=t,a;if("Left"===n||"Right"===n)return(i={})["borderTop"+n+"Radius"]=t,i["borderBottom"+n+"Radius"]=t,i;throw new g(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Xe(t,et,Ze)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=le(e);return ge(u.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(E)){if(t)return e;throw new g(73)}var a;if("undefined"!=typeof document&&null!==document.documentElement&&(a=getComputedStyle(document.documentElement).getPropertyValue(e)),a)return a.trim();throw new g(74)},t.darken=Ce,t.desaturate=Oe,t.directionalProperty=O,t.ellipsis=function(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},t.em=I,t.fluidRange=function(e,t,a){if(void 0===t&&(t="320px"),void 0===a&&(a="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new g(49);if(Array.isArray(e)){for(var i,n={},r={},l=function(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return L(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(i=l()).done;){var o,s,c=i.value;if(!c.prop||!c.fromSize||!c.toSize)throw new g(50);r[c.prop]=c.fromSize,n["@media (min-width: "+t+")"]=u.default({},n["@media (min-width: "+t+")"],((o={})[c.prop]=P(c.fromSize,c.toSize,t,a),o)),n["@media (min-width: "+a+")"]=u.default({},n["@media (min-width: "+a+")"],((s={})[c.prop]=c.toSize,s))}return u.default({},r,n)}var d,p,f;if(!e.prop||!e.fromSize||!e.toSize)throw new g(51);return(f={})[e.prop]=e.fromSize,f["@media (min-width: "+t+")"]=((d={})[e.prop]=P(e.fromSize,e.toSize,t,a),d),f["@media (min-width: "+a+")"]=((p={})[e.prop]=e.toSize,p),f},t.fontFace=function(e){var t=e.fontFamily,a=e.fontFilePath,i=e.fontStretch,n=e.fontStyle,r=e.fontVariant,l=e.fontWeight,o=e.fileFormats,s=void 0===o?["eot","woff2","woff","ttf","svg"]:o,u=e.formatHint,c=void 0!==u&&u,d=e.localFonts,p=e.unicodeRange,f=e.fontDisplay,b=e.fontVariationSettings,m=e.fontFeatureSettings;if(!t)throw new g(55);if(!a&&!d)throw new g(52);if(d&&!Array.isArray(d))throw new g(53);if(!Array.isArray(s))throw new g(54);var y={"@font-face":{fontFamily:t,src:$(a,d,s,c),unicodeRange:p,fontStretch:i,fontStyle:n,fontVariant:r,fontWeight:l,fontDisplay:f,fontVariationSettings:b,fontFeatureSettings:m}};return JSON.parse(JSON.stringify(y))},t.getContrast=Fe,t.getLuminance=ke,t.getValueAndUnit=V,t.grayscale=function(e){return"transparent"===e?e:ge(u.default({},le(e),{saturation:0}))},t.hiDPI=W,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=pe,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?fe({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):pe({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new g(45)},t.hsla=fe,t.invert=function(e){if("transparent"===e)return e;var t=re(e);return ge(u.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=je,t.linearGradient=function(e){var t=e.colorStops,a=e.fallback,i=e.toDirection,n=void 0===i?"":i;if(!t||t.length<2)throw new g(56);return{backgroundColor:a||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:q(_||(_=f.default(["linear-gradient(","",")"])),n,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var a=v(e),i=a.match(y);if(i&&!i.every((function(e){return e===i[0]})))throw new g(41);return""+function(e,t){var a,i=function(e){var t={};return t.symbols=e?u.default({},m.symbols,e.symbols):u.default({},m.symbols),t}(t),n=[i.symbols["("].prefix],r=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(i.symbols).map((function(e){return i.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var o=!1;do{var s=(a=l.exec(e))||[")",void 0],c=s[0],d=s[1],p=i.symbols[c],f=p&&!p.prefix&&!p.func,b=!p||!p.postfix&&!p.infix;if(d||(o?b:f))throw new g(37,a?a.index:e.length,e);if(o){var y=p.postfix||p.infix;do{var v=n[n.length-1];if((y.precedence-v.precedence||v.rightToLeft)>0)break}while(h(n,r));o="postfix"===y.notation,")"!==y.symbol&&(n.push(y),o&&h(n,r))}else if(p){if(n.push(p.prefix||p.func),p.func&&(!(a=l.exec(e))||"("!==a[0]))throw new g(38,a?a.index:e.length,e)}else r.push(+c),o=!0}while(a&&n.length);if(n.length)throw new g(39,a?a.index:e.length,e);if(a)throw new g(40,a?a.index:e.length,e);return r.pop()}(v(a.replace(y,"")),t)+(i?v(i[0]):"")},t.meetsContrastGuidelines=function(e,t){var a=Fe(e,t);return{AA:a>=4.5,AALarge:a>=3,AAA:a>=7,AAALarge:a>=4.5}},t.mix=Me,t.modularScale=function(e,t,a){if(void 0===t&&(t="1em"),void 0===a&&(a=1.333),"number"!=typeof e)throw new g(42);if("string"==typeof a&&!A[a])throw new g(43);var i="string"==typeof t?V(t):[t,""],n=i[0],r=i[1],l="string"==typeof a?A[a]:a;if("string"==typeof n)throw new g(44,t);return""+n*Math.pow(l,e)+(r||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=Ae,t.padding=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["padding"].concat(t))},t.parseToHsl=le,t.parseToRgb=re,t.position=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];return tt.indexOf(e)>=0&&e?u.default({},O.apply(void 0,[""].concat(a)),{position:e}):O.apply(void 0,["",e].concat(a))},t.radialGradient=function(e){var t=e.colorStops,a=e.extent,i=void 0===a?"":a,n=e.fallback,r=e.position,l=void 0===r?"":r,o=e.shape,s=void 0===o?"":o;if(!t||t.length<2)throw new g(57);return{backgroundColor:n||t[0].split(" ")[0],backgroundImage:q(z||(z=f.default(["radial-gradient(","","","",")"])),l,s,i,t.join(", "))}},t.readableColor=function(e,t,a,i){void 0===t&&(t=De),void 0===a&&(a=Pe),void 0===i&&(i=!0);var n=ke(e)>.179,r=n?t:a;return!i||Fe(e,r)>=4.5?r:n?De:Pe},t.rem=D,t.retinaImage=function(e,t,a,i,n){var r;if(void 0===a&&(a="png"),void 0===n&&(n="_2x"),!e)throw new g(58);var l=a.replace(/^\./,""),o=i?i+"."+l:""+e+n+"."+l;return(r={backgroundImage:"url("+e+"."+l+")"})[W()]=u.default({backgroundImage:"url("+o+")"},t?{backgroundSize:t}:{}),r},t.rgb=be,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?me({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):be({red:e.red,green:e.green,blue:e.blue});throw new g(46)},t.rgba=me,t.saturate=_e,t.setHue=Re,t.setLightness=Be,t.setSaturation=We,t.shade=Ue,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=T,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Xe(t,it,at)},t.timingFunctions=function(e){return U[e]},t.tint=Ge,t.toColorString=ge,t.transitions=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(Array.isArray(t[0])&&2===t.length){var i=t[1];if("string"!=typeof i)throw new g(61);var n=t[0].map((function(e){return e+" "+i})).join(", ");return{transition:n}}return{transition:t.join(", ")}},t.transparentize=Qe,t.triangle=function(e){var t=e.pointingDirection,a=e.height,i=e.width,n=e.foregroundColor,r=e.backgroundColor,l=void 0===r?"transparent":r,o=V(i),s=V(a);if(isNaN(s[0])||isNaN(o[0]))throw new g(60);return u.default({width:"0",height:"0",borderColor:l},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new g(59)}}(t,n),{borderStyle:"solid",borderWidth:H(t,s,o)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},144:function(e,t,a){"use strict";a.r(t),a.d(t,"buildFilterLabel",(function(){return u})),a.d(t,"FilterValueLabel",(function(){return c}));var i=a(0),n=a.n(i),r=a(72),l=a(75),o=a(80),s=a(6);function u({field:e,value:t,label:a,dataView:i,negate:n}){const r=i.getFieldByName(e),o=t instanceof Array&&t.length>1?Object(l.buildPhrasesFilter)(r,t,i):Object(l.buildPhraseFilter)(r,t,i);return o.meta.type=t instanceof Array&&t.length>1?"phrases":"phrase",o.meta.value=t,o.meta.key=a,o.meta.alias=null,o.meta.negate=n,o.meta.disabled=!1,o}function c({label:e,field:t,value:a,negate:i,dataView:l,invertFilter:c,removeFilter:d,allowExclusion:p=!0}){const f=Object(r.injectI18n)(o.FilterItem),b=u({field:t,value:a,label:e,dataView:l,negate:i}),{services:{uiSettings:m}}=Object(s.useKibana)();return l?n.a.createElement(f,{indexPatterns:[l],id:`${t}-${a}-${i}`,filter:b,onRemove:()=>{d(t,a,!1)},onUpdate:e=>{e.meta.negate!==i&&c({field:t,value:a,negate:i})},uiSettings:m,hiddenPanelOptions:[...p?[]:["negateFilter"],"pinFilter","editFilter","disableFilter"]}):null}t.default=c},156:function(e,t,a){"use strict";a.r(t),a.d(t,"formatOptions",(function(){return p})),a.d(t,"SelectableUrlList",(function(){return f}));var i=a(0),n=a.n(i),r=a(5),l=a(1),o=a(122),s=a.n(o),u=a(73),c=a.n(u);const d={filterByUrl:l.i18n.translate("xpack.observability.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>l.i18n.translate("xpack.observability.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:l.i18n.translate("xpack.observability.filters.topPages",{defaultMessage:"Top pages"}),select:l.i18n.translate("xpack.observability.filters.select",{defaultMessage:"Select"}),url:l.i18n.translate("xpack.observability.filters.url",{defaultMessage:"Url"}),loadingResults:l.i18n.translate("xpack.observability.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:l.i18n.translate("xpack.observability.filters.url.noResults",{defaultMessage:"No results available"})},p=e=>e.map((e=>({title:e.label,...e,className:c()("euiSelectableTemplateSitewide__listItem",e.className)})));function f({data:e,loading:t,onInputChange:a,onSelectionChange:o,onSelectionApply:u,searchValue:c,popoverIsOpen:f,setPopoverIsOpen:b,initialValue:m,renderOption:g,rowHeight:y,hasChanged:h}){var v,E;const[w,x]=Object(i.useState)(null),C=Object(i.useRef)(null),S=p(null!==(v=e.items)&&void 0!==v?v:[]),O=()=>{b(!1)};s()("keydown",(e=>{"enter"===e.key.toLowerCase()&&(u(),b(!1))}),w),s()("escape",(()=>b(!1)),w);const k=n.a.createElement(r.EuiSelectableMessage,{style:{minHeight:300}},n.a.createElement(r.EuiLoadingSpinner,{size:"l"}),n.a.createElement("br",null),n.a.createElement("p",null,d.loadingResults)),F=n.a.createElement(r.EuiSelectableMessage,{style:{minHeight:300}},n.a.createElement("p",null,d.noResults)),T=c?d.getSearchResultsLabel(null!==(E=null==e?void 0:e.total)&&void 0!==E?E:0):d.topPages;function j(){return n.a.createElement(r.EuiPopoverTitle,{paddingSize:"s"},n.a.createElement(r.EuiFlexGroup,{ref:C,gutterSize:"xs"},n.a.createElement(r.EuiFlexItem,{style:{justifyContent:"center"}},t?n.a.createElement(r.EuiLoadingSpinner,null):T),n.a.createElement(r.EuiFlexItem,{grow:!1},n.a.createElement(r.EuiButtonIcon,{color:"text",onClick:()=>O(),"aria-label":l.i18n.translate("xpack.observability.search.url.close",{defaultMessage:"Close"}),iconType:"cross"}))))}return n.a.createElement(r.EuiSelectable,{searchable:!0,onChange:o,options:c!==(null==w?void 0:w.value)?[]:S,renderOption:g,singleSelection:!1,searchProps:{value:c,isClearable:!0,onClick:e=>{b(!0),w&&w.focus()},onInput:e=>{a(e.target.value),b(!0)},inputRef:x,placeholder:d.filterByUrl,"aria-label":d.filterByUrl},listProps:{rowHeight:y,showIcons:!0,onFocusBadge:!1},loadingMessage:k,emptyMessage:F,noMatchesMessage:F,allowExclusions:!0,isPreFiltered:c!==(null==w?void 0:w.value)},((e,t)=>{var a;return n.a.createElement(r.EuiPopover,{panelPaddingSize:"none",isOpen:f,display:"block",button:t,closePopover:O,style:{minWidth:400},anchorPosition:"downLeft",ownFocus:!1},n.a.createElement("div",{style:{width:null!==(a=null==w?void 0:w.getBoundingClientRect().width)&&void 0!==a?a:600,maxWidth:"100%"}},n.a.createElement(j,null),e,n.a.createElement(r.EuiPopoverFooter,{paddingSize:"s"},n.a.createElement(r.EuiFlexGroup,{style:{justifyContent:"flex-end"}},n.a.createElement(r.EuiFlexItem,{grow:!1},n.a.createElement(r.EuiButton,{fill:!0,size:"s",onClick:()=>{u(),O()},isDisabled:!h()},l.i18n.translate("xpack.observability.apply.label",{defaultMessage:"Apply"})))))))}))}t.default=f},157:function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var i=a(5),n=a(1),r=a(0),l=a.n(r),o=a(6),s=a(20),u=a(101),c=a(42),d=a(10);var p=a(106);function f({appId:e,autoOpen:t,lensAttributes:a,owner:f=d.observabilityFeatureId,setAutoOpen:m,timeRange:g}){var y,h;const v=Object(o.useKibana)().services,E=Object(u.a)(),{cases:w,application:{getUrlForApp:x},theme:C}=v,S=Object(r.useCallback)((t=>Object(o.toMountPoint)(l.a.createElement(b,{linkUrl:x(null!=e?e:d.observabilityAppId,{deepLinkId:s.CasesDeepLinkId.cases,path:Object(s.generateCaseViewPath)({detailName:t.id})})}),{theme$:null==C?void 0:C.theme$})),[e,x,null==C?void 0:C.theme$]),O=Object(p.b)(g.from),k=Object(p.b)(g.to,{roundUp:!0}),{onCaseClicked:F,isCasesOpen:T,setIsCasesOpen:j,isSaving:I}=(({lensAttributes:e,getToastText:t,timeRange:a,appId:i,owner:l=d.observabilityFeatureId})=>{const[o,u]=Object(r.useState)(!1),[p,f]=Object(r.useState)(!1),{http:b,application:{navigateToApp:m},notifications:{toasts:g},storage:y}=Object(c.a)().services,h=Object(r.useCallback)((r=>{r&&e?(f(!1),u(!0),async function(e,t,a,i,n){const r=`/api/cases/${null==t?void 0:t.id}/comments`,l={attributes:a,timeRange:i},o={comment:`!{lens${JSON.stringify(l)}}`,type:"user",owner:null!=n?n:d.observabilityFeatureId};return e.post(r,{body:JSON.stringify(o)})}(b,r,e,a,l).then((()=>{u(!1),g.addSuccess({title:n.i18n.translate("xpack.observability.expView.heading.addToCase.notification",{defaultMessage:"Successfully added visualization to the case: {caseTitle}",values:{caseTitle:r.title}}),text:t(r)},{toastLifeTimeMs:1e4})}),(e=>{g.addError(e,{title:n.i18n.translate("xpack.observability.expView.heading.addToCase.notification.error",{defaultMessage:"Failed to add visualization to the selected case."})})}))):(null==y||y.set(s.DRAFT_COMMENT_STORAGE_ID,{commentId:"description",comment:`!{lens${JSON.stringify({timeRange:a,attributes:e})}}`,position:"",caseTitle:"",caseTags:""}),m(null!=i?i:d.observabilityFeatureId,{deepLinkId:s.CasesDeepLinkId.casesCreate,openInNewTab:!0}))}),[i,t,b,e,m,l,y,a,g]);return{onCaseClicked:h,isSaving:o,isCasesOpen:p,setIsCasesOpen:f}})({lensAttributes:a,getToastText:S,timeRange:{from:null!==(y=null==O?void 0:O.toISOString())&&void 0!==y?y:"",to:null!==(h=null==k?void 0:k.toISOString())&&void 0!==h?h:""},appId:e,owner:f}),M={permissions:E,onRowClick:F,owner:[f],onClose:()=>{j(!1)}};return Object(r.useEffect)((()=>{t&&j(!0)}),[t,j]),Object(r.useEffect)((()=>{T||null==m||m(!1)}),[T,m]),l.a.createElement(l.a.Fragment,null,void 0===t&&l.a.createElement(i.EuiButtonEmpty,{size:"s",isLoading:I,isDisabled:null===a,onClick:()=>{a&&j(!0)}},n.i18n.translate("xpack.observability.expView.heading.addToCase",{defaultMessage:"Add to case"})),T&&a&&w.ui.getAllCasesSelectorModal(M))}function b({linkUrl:e}){return l.a.createElement(i.EuiFlexGroup,{justifyContent:"center"},l.a.createElement(i.EuiFlexItem,null,l.a.createElement(i.EuiLink,{href:e,target:"_blank"},n.i18n.translate("xpack.observability.expView.heading.addToCase.notification.viewCase",{defaultMessage:"View case"}))))}},171:function(e,t,a){e.exports=a(43)(4)},172:function(e,t,a){e.exports=a(43)(2742)},173:function(e,t,a){e.exports=a(43)(2753)},174:function(e,t,a){e.exports=a(43)(2749)},207:function(e,t,a){"use strict";a.r(t),a.d(t,"ExploratoryViewPage",(function(){return ma})),a.d(t,"DataTypes",(function(){return fa.a}));var i=a(0),n=a.n(i),r=a(1),l=a(18),o=a(6),s=a(23),u=a(14),c=a.n(u),d=a(17),p=a.n(d),f=a(5),b=a(88),m=a(129),g=a(91),y=a(143),h=a(45),v=a(141),E=a(44);const w="SELECT_REPORT_TYPE",x={reportType:w,label:r.i18n.translate("xpack.observability.expView.reportType.selectLabel",{defaultMessage:"Select report type"})};function C({prepend:e}){const{setReportType:t,reportType:a,allSeries:i}=Object(b.f)(),{reportTypes:r}=Object(E.b)(),l=[x,...r].filter((({reportType:e})=>!a||e!==w)).map((({reportType:e,label:t})=>({value:e,inputDisplay:e===w?t:n.a.createElement("strong",null,t),dropdownDisplay:t})));return n.a.createElement(f.EuiSuperSelect,{"aria-labelledby":"report-type-label",options:l,valueOfSelected:null!=a?a:w,onChange:e=>{t(e)},style:{minWidth:200},isInvalid:!a&&i.length>0,disabled:i.length>0,prepend:e})}var S=a(13);function O(e){const t=(a=e,Object(S.pickBy)(a,(e=>void 0!==e)));var a;return Object.entries(t).forEach((([e,a])=>{"object"==typeof a&&(t[e]=O(a))})),t}function k({onApply:e}){var t,a;const{allSeries:i,storage:l,applyChanges:o,reportType:s}=Object(b.f)(),u=Object(b.d)(null!==(t=l.get(b.c))&&void 0!==t?t:[]),c=null!==(a=l.get(b.e))&&void 0!==a?a:"";let d=i.length===u.length&&s===c;return d&&(d=!i.some(((e,t)=>!Object(S.isEqual)(O(e),O(u[t]))))),n.a.createElement(f.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButton,{onClick:()=>o(e),isDisabled:d,fill:!0,"data-test-subj":"seriesChangesApplyButton"},r.i18n.translate("xpack.observability.expView.seriesBuilder.apply",{defaultMessage:"Apply changes"}))))}var F=a(42),T=a(92),j=a(11);function I({seriesId:e,series:t,seriesConfig:a,onEditClick:r}){const{setSeries:l,removeSeries:o,allSeries:s}=Object(b.f)(),[u,c]=Object(i.useState)(!1),{href:d}=(({series:e,seriesConfig:t})=>{var a;const n=Object(F.a)().services,{application:{navigateToUrl:r}}=n,{dataViews:l}=Object(g.b)(),o=null===(a=n.discover)||void 0===a?void 0:a.locator,[s,u]=Object(i.useState)("");Object(i.useEffect)((()=>{const a=null==l?void 0:l[e.dataType];if(a){var i,n;const r=null!==(i=e.reportDefinitions)&&void 0!==i?i:{},l=(null!==(n=e.filters)&&void 0!==n?n:[]).concat(Object(m.a)(r)),s=Object(T.e)({dataView:a,urlFilters:l,initFilters:null==t?void 0:t.baseFilters}),c=e.selectedMetricField;c&&c!==j.k&&c!==j.l&&s.push(Object(T.a)(c,a)[0]),(async()=>{if(!o)return;const e=await o.getUrl({filters:s,indexPatternId:null==a?void 0:a.id});u(e)})()}}),[l,e.dataType,e.filters,e.reportDefinitions,e.selectedMetricField,null==t?void 0:t.baseFilters,o]);const c=Object(i.useCallback)((e=>{if(s)return e.preventDefault(),r(s)}),[s,r]);return{href:s,onClick:c}})({series:t,seriesConfig:a}),{dataViews:p}=Object(g.b)(),y=null==p?void 0:p[t.dataType],h=0===e&&s.length>1,v=Object(i.useCallback)((()=>{c(!1)}),[c]),E=Object(i.useCallback)((()=>{o(e),v()}),[o,e,v]),w=Object(i.useCallback)((()=>{c(!u)}),[c,u]),x=n.a.createElement(f.EuiButtonIcon,{iconType:"boxesHorizontal",onClick:w,color:"text","aria-label":z});return n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"flexEnd",responsive:!1},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiToolTip,{content:M},n.a.createElement(f.EuiButtonIcon,{iconType:"pencil",color:"text","aria-label":M,size:"s",onClick:r,"data-test-subj":`editSeries${e}`}))),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiPopover,{button:x,isOpen:u,closePopover:v,panelPaddingSize:"none",anchorPosition:"downLeft"},n.a.createElement(f.EuiContextMenuPanel,{"aria-label":R,items:[n.a.createElement(f.EuiContextMenuItem,{key:"viewSampleDocuments",icon:"discoverApp",href:d,"aria-label":_,disabled:!t.dataType||!t.selectedMetricField||!y,target:"_blank"},_),n.a.createElement(f.EuiContextMenuItem,{key:"hideSeries",icon:t.hidden?"eye":"eyeClosed",onClick:()=>{t.hidden?l(e,{...t,hidden:void 0}):l(e,{...t,hidden:!0}),v()},"aria-label":t.hidden?A:V},t.hidden?A:V),n.a.createElement(f.EuiContextMenuItem,{key:"copySeries",icon:"copy",onClick:()=>{let e=`${t.name}-copy`;s.find((({name:t})=>t===e))&&(e+=s.length),l(s.length,{...t,name:e,breakdown:void 0}),v()},"aria-label":D},D),n.a.createElement(f.EuiContextMenuItem,{key:"deleteSeries",icon:"trash",onClick:E,"aria-label":P,disabled:h,toolTipContent:h?L:""},P)]}))))}const M=r.i18n.translate("xpack.observability.seriesEditor.edit",{defaultMessage:"Edit series"}),V=r.i18n.translate("xpack.observability.seriesEditor.hide",{defaultMessage:"Hide series"}),A=r.i18n.translate("xpack.observability.seriesEditor.show",{defaultMessage:"Show series"}),D=r.i18n.translate("xpack.observability.seriesEditor.clone",{defaultMessage:"Duplicate series"}),P=r.i18n.translate("xpack.observability.expView.seriesEditor.removeSeries",{defaultMessage:"Remove series"}),L=r.i18n.translate("xpack.observability.expView.seriesEditor.removeSeriesDisabled",{defaultMessage:"Main series cannot be removed. Please remove all series below before you can remove this."}),_=r.i18n.translate("xpack.observability.seriesEditor.sampleDocuments",{defaultMessage:"View transaction in Discover"}),z=r.i18n.translate("xpack.observability.seriesEditor.popoverButtonLabel",{defaultMessage:"View series actions"}),R=r.i18n.translate("xpack.observability.seriesEditor.actionsAriaContextLabel",{defaultMessage:"Series actions list"});var N=a(31);function B({seriesId:e,series:t}){var a;const r=Object(N.a)(),{setSeries:l}=Object(b.f)(),[o,s]=Object(i.useState)(!1),u=null!==(a=t.color)&&void 0!==a?a:r.eui[`euiColorVis${e}`],c=n.a.createElement(f.EuiToolTip,{content:W},n.a.createElement(f.EuiButtonEmpty,{size:"s",onClick:()=>s((e=>!e)),flush:"both"},n.a.createElement(f.EuiIcon,{type:"stopFilled",size:"l",color:u})));return n.a.createElement(f.EuiPopover,{button:c,isOpen:o,closePopover:()=>s(!1)},n.a.createElement(f.EuiFormRow,{label:$},n.a.createElement(f.EuiColorPicker,{onChange:a=>{l(e,{...t,color:a})},color:u})))}const $=r.i18n.translate("xpack.observability.overview.exploratoryView.pickColor",{defaultMessage:"Pick a color"}),W=r.i18n.translate("xpack.observability.overview.exploratoryView.editSeriesColor",{defaultMessage:"Edit color for series"});var q=a(15);const U=r.i18n.translate("xpack.observability.expView.chartTypes.label",{defaultMessage:"Chart type"});function H({seriesId:e,series:t,defaultChartType:a}){var i;const{setSeries:r}=Object(b.f)(),l=null!==(i=null==t?void 0:t.seriesType)&&void 0!==i?i:a;return n.a.createElement(G,{onChange:a=>{r(e,{...t,seriesType:a})},value:l,excludeChartTypes:["bar_percentage_stacked"],includeChartTypes:["bar","bar_horizontal","line","area","bar_stacked","area_stacked","bar_horizontal_percentage_stacked"],label:U})}function G({onChange:e,value:t,includeChartTypes:a,excludeChartTypes:i}){var r;const{services:{lens:l}}=Object(o.useKibana)(),{data:s=[],loading:u}=Object(q.useFetcher)((()=>l.getXyVisTypes()),[l]);let c=s;(null!=i?i:[]).length>0&&(c=c.filter((({id:e})=>!(null!=i&&i.includes(e))))),(null!=a?a:[]).length>0&&(c=c.filter((({id:e})=>null==a?void 0:a.includes(e))));const d=(null!==(r=c)&&void 0!==r?r:[]).map((({id:e,fullLabel:t,label:a,icon:i})=>{const r=n.a.createElement(f.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiIcon,{type:i})),n.a.createElement(f.EuiFlexItem,null,t||a));return{value:e,inputDisplay:r,dropdownDisplay:r}}));return n.a.createElement(f.EuiFormRow,{label:U,style:{minWidth:280}},n.a.createElement(f.EuiSuperSelect,{fullWidth:!0,valueOfSelected:t,isLoading:u,options:d,onChange:e}))}function K({seriesId:e,series:t,seriesConfig:a}){var r,l,s;const u=null!==(r=null==t?void 0:t.seriesType)&&void 0!==r?r:a.defaultSeriesType,{services:{lens:c}}=Object(o.useKibana)(),{data:d=[]}=Object(q.useFetcher)((()=>c.getXyVisTypes()),[c]),p=null===(l=(null!=d?d:[]).find((({id:e})=>e===u)))||void 0===l?void 0:l.icon,[b,m]=Object(i.useState)(!1);return n.a.createElement(f.EuiPopover,{isOpen:b,closePopover:()=>m(!1),button:n.a.createElement(f.EuiToolTip,{content:Q},n.a.createElement(f.EuiButtonEmpty,{size:"s","aria-label":Y,onClick:()=>m((e=>!e)),flush:"both"},p&&n.a.createElement(f.EuiIcon,{type:null===(s=(null!=d?d:[]).find((({id:e})=>e===u)))||void 0===s?void 0:s.icon,size:"l"})))},n.a.createElement(H,{seriesId:e,series:t,defaultChartType:a.defaultSeriesType}))}const Q=r.i18n.translate("xpack.observability.expView.seriesEditor.editChartSeriesLabel",{defaultMessage:"Edit chart type for series"}),Y=r.i18n.translate("xpack.observability.expView.chartTypes.label",{defaultMessage:"Chart type"});function J({seriesId:e,series:t,seriesConfig:a}){return a?n.a.createElement(f.EuiFlexGroup,{gutterSize:"s",responsive:!1},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(K,{seriesId:e,series:t,seriesConfig:a})),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(B,{seriesId:e,series:t}))):null}function X({seriesId:e,series:t}){const{setSeries:a,reportType:r}=Object(b.f)(),[l,o]=Object(i.useState)(!1),s=Object(i.useCallback)((e=>{null==e||e.focus()}),[]),{dataTypes:u,reportConfigMap:c}=Object(E.b)(),d=u.filter((({id:e})=>{var t;return null===(t=c[e])||void 0===t?void 0:t.find((e=>e({}).reportType===r))})).map((({id:e,label:t})=>({value:e,inputDisplay:t}))),p=u.find((e=>e.id===t.dataType));return n.a.createElement(n.a.Fragment,null,!t.dataType&&n.a.createElement(f.EuiPopover,{button:n.a.createElement(f.EuiButton,{iconType:"plusInCircle",onClick:()=>o((e=>!e)),fill:!0,size:"s",buttonRef:s},Z),isOpen:l,closePopover:()=>o((e=>!e))},n.a.createElement(f.EuiListGroup,null,d.map((i=>n.a.createElement(f.EuiListGroupItem,{key:i.value,onClick:()=>{return n=i.value,void("SELECT_DATA_TYPE"!==String(n)&&a(e,{dataType:n,time:t.time,name:`${n}-series-${e+1}`}));var n},label:i.inputDisplay}))))),t.dataType&&n.a.createElement(f.EuiToolTip,{position:"top",content:ee},n.a.createElement(f.EuiBadge,null,null==p?void 0:p.label)))}const Z=r.i18n.translate("xpack.observability.overview.exploratoryView.selectDataType",{defaultMessage:"Select data type"}),ee=r.i18n.translate("xpack.observability.overview.exploratoryView.selectDataTypeTooltip",{defaultMessage:"Data type cannot be edited."});function te({seriesConfig:e,series:t}){var a;const{loading:i}=Object(g.b)();if(!e)return null;const{dataType:l,reportDefinitions:o,selectedMetricField:s}=t,{definitionFields:u,labels:c}=e,d=(!l||Object(S.isEmpty)(o)||!s)&&!i,p=Object(S.isEmpty)(o)?r.i18n.translate("xpack.observability.overview.exploratoryView.missingReportDefinition",{defaultMessage:"Missing {reportDefinition}",values:{reportDefinition:null==c?void 0:c["string"==typeof u[0]?u[0]:null===(a=u[0])||void 0===a?void 0:a.field]}}):"";let b=s?p:ae;return l||(b=ie),d?n.a.createElement(f.EuiBadge,{color:"warning"},b):null}const ae=r.i18n.translate("xpack.observability.overview.exploratoryView.missingReportMetric",{defaultMessage:"Missing report metric"}),ie=r.i18n.translate("xpack.observability.overview.exploratoryView.missingDataType",{defaultMessage:"Missing data type"});var ne=a(9),re=a(128);function le({singleSelection:e,keepHistory:t,series:a,field:r,seriesConfig:l,onChange:o,filters:s}){var u;const{dataView:c}=Object(g.b)(a.dataType),d="string"==typeof r?r:r.field,{reportDefinitions:p={}}=a,{labels:f,baseFilters:b,definitionFields:m}=l,y=Object(i.useMemo)((()=>{const e=[];return(null!=b?b:[]).concat(null!=s?s:[]).forEach((t=>{t.query&&e.push(t.query);const a=t;a.query.exists&&e.push({exists:a.query.exists})})),Object(S.isEmpty)(p)||m.forEach((t=>{const a="string"==typeof t?t:t.field;if(c&&null!=p&&p[a]&&a!==d){const t=null==p?void 0:p[a];if(!t.includes(ne.a)){const i=Object(T.c)(a,t,c)[0];i.query&&e.push(i.query)}}})),e}),[JSON.stringify(p),JSON.stringify(b)]);return c?n.a.createElement(re.default,{label:null!==(u=f[d])&&void 0!==u?u:d,sourceField:d,dataViewTitle:c.title,selectedValue:null==p?void 0:p[d],onChange:e=>o(d,e),filters:y,time:a.time,fullWidth:!0,asCombobox:!0,allowExclusions:!1,allowAllValuesSelection:!0,usePrependLabel:!1,compressed:!1,required:Object(S.isEmpty)(p),singleSelection:e,keepHistory:t}):null}function oe({series:e,field:t,seriesConfig:a,onChange:i}){var l;const{textReportDefinitions:o={}}=e,{labels:s}=a,u=null!==(l=s[t])&&void 0!==l?l:t;return n.a.createElement(f.EuiFormRow,{label:u},n.a.createElement(f.EuiFieldText,{placeholder:r.i18n.translate("xpack.observability.textDefinitionField.placeholder.search",{defaultMessage:"Search {label}",values:{label:u}}),value:null==o?void 0:o[t],onChange:e=>i(t,e.target.value),compressed:!1}))}var se=a(121),ue=a(3);function ce({seriesId:e,series:t,seriesConfig:a}){const{setSeries:i}=Object(b.f)(),{reportDefinitions:r={},textReportDefinitions:l={}}=t,{definitionFields:o,textDefinitionFields:s}=a,u=(a,n)=>{null!=n&&n[0]?i(e,{...t,reportDefinitions:{...r,[a]:n}}):(delete r[a],i(e,{...t,reportDefinitions:{...r}}))},c=(a,n)=>{Object(S.isEmpty)(n)?(delete l[a],i(e,{...t,textReportDefinitions:{...l}})):i(e,{...t,textReportDefinitions:{...l,[a]:n}})};return n.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},o.map((l=>{var o;const s="string"==typeof l?l:l.field,c="string"!=typeof l&&l.singleSelection,d="string"!=typeof l&&l.nested,p="string"!=typeof l?l.filters:void 0,b=!Object(se.b)(t.selectedMetricField),m=d===ue.o&&b;let g;return m&&d&&(null===(o=r[d])||void 0===o?void 0:o.length)>0&&i(e,{...t,reportDefinitions:{...r,[d]:[]}}),d&&(e=>{var a;return!Object(S.isEmpty)(null===(a=t.reportDefinitions)||void 0===a?void 0:a[e])})(s)&&!m&&(g=n.a.createElement(f.EuiFlexItem,{key:d,grow:1},n.a.createElement(le,{seriesId:e,series:t,seriesConfig:a,field:d,onChange:u,keepHistory:!1,singleSelection:c}))),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexItem,{key:s,grow:1},n.a.createElement(le,{seriesId:e,series:t,seriesConfig:a,field:s,onChange:u,singleSelection:c,filters:p})),g)})),null==s?void 0:s.map((i=>n.a.createElement(f.EuiFlexItem,{key:i,grow:1},n.a.createElement(oe,{seriesId:e,series:t,seriesConfig:a,field:i,onChange:c})))))}var de=a(142),pe=a(110),fe=a(75),be=a(108);function me({field:e,series:t,baseFilters:a,label:i},n){var r;const{dataViews:l}=Object(g.b)(t.dataType),o=[];return null==a||a.forEach((e=>{e.query&&o.push(e.query),Object(fe.isExistsFilter)(e)&&o.push({exists:e.query.exists})})),Object(be.a)({query:n,label:null!=i?i:e,sourceField:e,time:t.time,keepHistory:!0,filters:o,dataViewTitle:null===(r=l[t.dataType])||void 0===r?void 0:r.title})}const ge=({seriesId:e,series:t})=>{var a;const{setSeries:i}=Object(b.f)(),n=null!==(a=t.filters)&&void 0!==a?a:[],r=({field:a,values:r,notValues:l,wildcards:o,notWildcards:s})=>{var u;const c=null!==(u=n.find((({field:e})=>a===e)))&&void 0!==u?u:{field:a};c.notValues=l.length>0?l:void 0,c.values=r.length>0?r:void 0,c.wildcards=o,c.notWildcards=s;const d=n.filter((({field:e})=>e!==a));Object(S.concat)(r,l,o,s).length>0?i(e,{...t,filters:[...d,c]}):i(e,{...t,filters:d})},l=({field:e,value:t,negate:a,wildcards:i})=>{var l,o,s;const u=null!==(l=n.find((({field:t})=>e===t)))&&void 0!==l?l:{field:e},c=null!==(o=u.notValues)&&void 0!==o?o:[],d=null!==(s=u.values)&&void 0!==s?s:[],p=c.filter((e=>t instanceof Array?!t.includes(e):e!==t)),f=d.filter((e=>t instanceof Array?!t.includes(e):e!==t));a?t instanceof Array?p.push(...t):p.push(t):t instanceof Array?f.push(...t):f.push(t),r({field:e,values:f,notValues:p,wildcards:i})};return{invertFilter:({field:e,value:t,negate:a})=>{l({field:e,value:t,negate:!a})},setFilter:({field:a,value:r,negate:o,wildcards:s})=>{n.find((({field:e})=>a===e))?l({field:a,value:r,negate:o,wildcards:s}):(({field:a,value:r,negate:l})=>{const o={field:a};l?o.notValues=r instanceof Array?r:[r]:o.values=r instanceof Array?r:[r],0===n.length?i(e,{...t,filters:[o]}):i(e,{...t,filters:[o,...n.filter((e=>e.field!==a))]})})({field:a,value:r,negate:o,wildcards:s})},removeFilter:({field:a,value:r,negate:l,isWildcard:o})=>{const s=n.map((e=>{if(e.field===a){if(l){var t;if(o){var i;const t=null===(i=e.notWildcards)||void 0===i?void 0:i.filter((e=>r instanceof Array?!r.includes(e):e!==r));return{...e,notWildcards:t}}const a=null===(t=e.notValues)||void 0===t?void 0:t.filter((e=>r instanceof Array?!r.includes(e):e!==r));return{...e,notValues:a}}{var n;if(o){var s;const t=null===(s=e.wildcards)||void 0===s?void 0:s.filter((e=>r instanceof Array?!r.includes(e):e!==r));return{...e,wildcards:t}}const t=null===(n=e.values)||void 0===n?void 0:n.filter((e=>r instanceof Array?!r.includes(e):e!==r));return{...e,values:t}}}return e})).filter((({values:e=[],notValues:t=[],wildcards:a=[],notWildcards:i=[]})=>e.length>0||t.length>0||a.length>0||i.length>0));i(e,{...t,filters:s})},replaceFilter:r,setFiltersWildcard:({field:a,wildcards:l})=>{let o=n.find((({field:e})=>a===e));var s,u;o?r({field:a,values:null!==(s=o.values)&&void 0!==s?s:[],notValues:null!==(u=o.notValues)&&void 0!==u?u:[],wildcards:l}):(o={field:a,wildcards:l},0===n.length?i(e,{...t,filters:[o]}):i(e,{...t,filters:[o,...n.filter((e=>e.field!==a))]}))}}};function ye({isNestedOpen:e,setIsNestedOpen:t,value:a,field:l,negate:o,seriesId:s,series:u,nestedField:c,allSelectedValues:d}){var p;const{dataViews:f}=Object(g.b)(u.dataType),{setFilter:b,removeFilter:m}=ge({seriesId:s,series:u}),y=(null!=d?d:[]).includes(a),h=n.a.createElement(he,{hasActiveFilters:y,color:o?"danger":"primary",onClick:()=>{y?m({field:l,value:a,negate:o}):b({field:l,value:a,negate:o}),t(y?{value:"",negate:o}:{value:a,negate:o})}},o?r.i18n.translate("xpack.observability.expView.filterValueButton.negate",{defaultMessage:"Not {value}",values:{value:a}}):a),v=(null==e?void 0:e.value)===a&&e.negate===o,E=Object(i.useMemo)((()=>[{term:{[l]:a}}]),[l,a]);return c&&v?n.a.createElement(re.default,{button:h,label:"Version",sourceField:c,onChange:e=>{(null!=e?e:[]).forEach((e=>{b({field:c,value:e})})),t({value:"",negate:o})},filters:E,forceOpen:v,anchorPosition:"rightCenter",time:u.time,asCombobox:!1,dataViewTitle:null===(p=f[u.dataType])||void 0===p?void 0:p.title}):h}const he=Object(h.euiStyled)(f.EuiFilterButton)`
  background-color: rgba(${e=>{const t=e.hasActiveFilters?"danger"===e.color?Object(f.hexToRgb)(e.theme.eui.euiColorDanger):Object(f.hexToRgb)(e.theme.eui.euiColorPrimary):"initial";return`${t[0]}, ${t[1]}, ${t[2]}, 0.1`}});
`;function ve({field:e,values:t,query:a,setQuery:r,label:l,loading:o,isNegated:s,nestedField:u,series:d,seriesId:p}){var b;const[m,g]=Object(i.useState)({value:"",negate:!1}),y=Object(S.map)(t,"label").filter((e=>e.toLowerCase().includes(a.toLowerCase()))),h=(null!==(b=null==d?void 0:d.filters)&&void 0!==b?b:[]).find((({field:t})=>e===t)),v={field:e,nestedField:u,seriesId:p,series:d,isNestedOpen:m,setIsNestedOpen:g};return n.a.createElement(Ce,null,n.a.createElement(f.EuiFieldSearch,{fullWidth:!0,isLoading:o,value:a,onChange:e=>{r(e.target.value)},placeholder:we(l)}),n.a.createElement(f.EuiSpacer,{size:"s"}),n.a.createElement(xe,null,o&&n.a.createElement("div",{className:"eui-textCenter"},n.a.createElement(f.EuiProgress,{size:"xs",color:"primary",position:"absolute",style:{top:"initial"}})),0===y.length&&!o&&n.a.createElement(f.EuiText,{className:"eui-textCenter"},Ee),y.map((e=>n.a.createElement(i.Fragment,{key:e},n.a.createElement(f.EuiFilterGroup,{fullWidth:!0,color:"primary"},!1!==s&&n.a.createElement(ye,c()({},v,{value:e,negate:!0,allSelectedValues:null==h?void 0:h.notValues})),n.a.createElement(ye,c()({},v,{value:e,negate:!1,allSelectedValues:null==h?void 0:h.values}))),n.a.createElement(f.EuiSpacer,{size:"s"}))))))}const Ee=r.i18n.translate("xpack.observability.filters.expanded.noFilter",{defaultMessage:"No filters found."}),we=e=>r.i18n.translate("xpack.observability.filters.expanded.search",{defaultMessage:"Search for {label}",values:{label:e}}),xe=h.euiStyled.div`
  height: 370px;
  overflow-y: auto;
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(y.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }
`,Ce=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-dqgr2v-0"})(["width:400px;"]);function Se(e){const[t,a]=Object(i.useState)(!1),[r,l]=Object(i.useState)(""),{values:o,loading:s}=me(e,r);return n.a.createElement(f.EuiPopover,{button:n.a.createElement(f.EuiFilterButton,{onClick:()=>a((e=>!e)),iconType:"arrowDown"},e.label),isOpen:t,closePopover:()=>a(!1)},n.a.createElement(ve,c()({},e,{setQuery:l,query:r,values:o,loading:s})))}var Oe=a(51),ke=a(144);function Fe({label:e,seriesId:t,series:a,field:i,value:r,negate:l,dataView:o,removeFilter:s,definitionFilter:u}){const{invertFilter:c}=ge({seriesId:t,series:a});return o?n.a.createElement(ke.FilterValueLabel,{dataView:o,removeFilter:s,invertFilter:e=>{u||c(e)},field:i,value:r,negate:l,label:e}):null}function Te({seriesId:e,series:t,seriesConfig:a}){var l,o;const{setSeries:s}=Object(b.f)(),{labels:u}=a,d=null!==(l=t.filters)&&void 0!==l?l:[],{removeFilter:p,replaceFilter:m}=ge({seriesId:e,series:t}),{dataView:y}=Object(g.b)(t.dataType);if(0===d.length||!y)return null;const h={seriesId:e,series:t,dataView:y};return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,{wrap:!0,gutterSize:"xs",alignItems:"center"},d.map((({field:e,values:t=[],notValues:a=[],wildcards:l=[],notWildcards:o=[]})=>{var s,d,b,g;return n.a.createElement(i.Fragment,{key:e},t.length>0&&n.a.createElement(f.EuiFlexItem,{grow:!1,style:{maxWidth:300}},n.a.createElement(Fe,c()({field:e,label:null!==(s=u[e])&&void 0!==s?s:e,value:null!=t?t:[],removeFilter:()=>{m({field:e,values:[],notValues:a,wildcards:l,notWildcards:o})},negate:!1},h))),a.length>0&&n.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},n.a.createElement(Fe,c()({field:e,label:null!==(d=u[e])&&void 0!==d?d:e,value:null!=a?a:[],negate:!0,removeFilter:()=>{m({field:e,notValues:[],values:t,wildcards:l,notWildcards:o})}},h))),l.length>0&&n.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},n.a.createElement(Fe,c()({field:e,label:r.i18n.translate("xpack.observability.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(b=u[e])&&void 0!==b?b:e}}),value:null!=l?l:[],negate:!1,removeFilter:()=>{null==l||l.forEach((t=>{p({field:e,value:t,negate:!1,isWildcard:!0})}))}},h))),o.length>0&&n.a.createElement(f.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},n.a.createElement(Fe,c()({field:e,label:r.i18n.translate("xpack.observability.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(g=u[e])&&void 0!==g?g:e}}),value:null!=o?o:[],negate:!1,removeFilter:()=>{null==o||o.forEach((t=>{p({field:e,value:t,negate:!0,isWildcard:!0})}))}},h))))})),(null!==(o=t.filters)&&void 0!==o?o:[]).length>0&&n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButtonEmpty,{flush:"left",iconType:"cross",onClick:()=>{s(e,{...t,filters:void 0})},size:"xs"},r.i18n.translate("xpack.observability.expView.seriesEditor.clearFilter",{defaultMessage:"Clear filters"})))),n.a.createElement(f.EuiSpacer,{size:"s"}))}function je(e){const{series:t}=e,[a,r]=Object(i.useState)(""),{dataView:l}=Object(g.b)(t.dataType),o=null==l?void 0:l.fields.filter((e=>e.name.startsWith("labels."))),[s,u]=Object(i.useState)(!1),d=n.a.createElement(f.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{u(!s)}},Ie),[p,b]=Object(i.useState)(""),{values:m,loading:y}=me({...e,field:p},a),h=(null!=o?o:[]).map((e=>({label:e.name,searchableLabel:e.name,append:n.a.createElement(f.EuiIcon,{type:"arrowRight"}),showIcons:!1})));return h.unshift({label:Me,isGroupLabel:!0}),n.a.createElement(f.EuiPopover,{button:d,closePopover:()=>{u(!1),b("")},isOpen:s},p?n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiPopoverTitle,null,n.a.createElement(f.EuiButtonEmpty,{iconType:"arrowLeft",iconSide:"left",onClick:()=>b("")},Ve)),n.a.createElement(ve,c()({},e,{label:p,values:m,query:a,setQuery:r,loading:y,field:p}))):n.a.createElement(f.EuiSelectable,{searchable:!0,options:h,onChange:e=>{var t;const a=e.find((e=>"on"===e.checked));b(null!==(t=null==a?void 0:a.label)&&void 0!==t?t:"")},listProps:{onFocusBadge:!1},height:450},((e,t)=>n.a.createElement("div",{style:{width:400}},t,e))))}const Ie=r.i18n.translate("xpack.observability.filters.expanded.labels.label",{defaultMessage:"Labels"}),Me=r.i18n.translate("xpack.observability.filters.expanded.labels.fields",{defaultMessage:"Label fields"}),Ve=r.i18n.translate("xpack.observability.filters.expanded.labels.backTo",{defaultMessage:"Back to labels"});var Ae=a(156),De=a(7);const Pe=e=>{const t=e.filter((({isWildcard:e})=>!e)),a=e.filter((({isWildcard:e})=>e));return{includedItems:Object(S.map)(t.filter((e=>"on"===e.checked)),"label"),excludedItems:Object(S.map)(t.filter((e=>"off"===e.checked)),"label"),includedWildcards:Object(S.map)(a.filter((e=>"on"===e.checked)),"title"),excludedWildcards:Object(S.map)(a.filter((e=>"off"===e.checked)),"title")}},Le=e=>r.i18n.translate("xpack.observability.urlFilter.wildcard",{defaultMessage:"Use wildcard *{wildcard}*",values:{wildcard:e}});function _e({series:e,seriesConfig:t,seriesId:a}){const[r,l]=Object(i.useState)(!1),[o,s]=Object(i.useState)(""),[u,c]=Object(i.useState)([]),{values:d,loading:p}=(({series:e,query:t,seriesId:a,seriesConfig:i})=>{const{values:n,loading:r}=me({series:e,seriesId:a,field:De.o,baseFilters:i.baseFilters,label:i.labels[De.o]},t);return{values:n,loading:r}})({query:o,series:e,seriesConfig:t,seriesId:a});Object(i.useEffect)((()=>{var t;const a=Le(o),i=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.o)),{wildcards:n=[],notWildcards:r=[],values:l=[],notValues:s=[]}=null!=i?i:{field:De.o};c((e=>{const{includedItems:t,excludedItems:i}=Pe(e),u=(null!=d?d:[]).map((e=>t.includes(e.label)||n.includes(e.label)||l.includes(e.label)?{...e,checked:"on",title:e.label}:i.includes(e.label)||r.includes(e.label)||s.includes(e.label)?{...e,checked:"off",title:e.label,...e}:{...e,title:e.label,checked:void 0}));n.forEach((e=>{u.unshift({title:e,label:Le(e),isWildcard:!0,checked:"on"})})),r.forEach((e=>{u.unshift({title:e,label:Le(e),isWildcard:!0,checked:"off"})}));let c=e.find((({isNewWildcard:e})=>e));return o?(c||(c={title:o,label:a,isNewWildcard:!0,isWildcard:!0},u.unshift(c)),[{...c,label:a,title:o},...u]):u}))}),[d,p,o]),Object(i.useEffect)((()=>{var t;const a=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.o)),{wildcards:i=[],notWildcards:n=[],values:r=[],notValues:l=[]}=null!=a?a:{field:De.o};c((e=>(null!=e?e:[]).map((e=>r.includes(e.label)||i.includes(e.title)?{...e,checked:"on"}:l.includes(e.label)||n.includes(e.title)?{...e,checked:"off"}:{...e,checked:void 0}))))}),[e]);const{replaceFilter:f}=ge({seriesId:a,series:e});return n.a.createElement(Ae.SelectableUrlList,{loading:Boolean(p),onInputChange:e=>s(e),data:{items:u,total:u.length},onSelectionChange:e=>{c(e)},searchValue:o,popoverIsOpen:r,setPopoverIsOpen:l,onSelectionApply:()=>{const{includedItems:e,excludedItems:t,includedWildcards:a,excludedWildcards:i}=Pe(u);f({field:De.o,values:e,notValues:t,wildcards:a,notWildcards:i}),s(""),l(!1)},hasChanged:()=>{var t;const{includedItems:a,excludedItems:i,includedWildcards:n,excludedWildcards:r}=Pe(u),l=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===De.o)),{wildcards:o=[],notWildcards:s=[],values:c=[],notValues:d=[]}=null!=l?l:{field:De.o};return!(Object(S.isEqual)(a.sort(),c.sort())&&Object(S.isEqual)(i.sort(),d.sort())&&Object(S.isEqual)(o.sort(),n.sort())&&Object(S.isEqual)(s.sort(),r.sort()))}})}function ze({series:e,seriesConfig:t,seriesId:a}){const r=t.filterFields.filter((e=>e!==De.o)).map((e=>{var a,i,n,r,l;return"string"==typeof e?{label:null!==(n=null!==(r=null===(l=t.labels)||void 0===l?void 0:l[e])&&void 0!==r?r:Oe.e[e])&&void 0!==n?n:e,field:e}:{field:e.field,nestedField:e.nested,isNegated:e.isNegated,label:(null!==(a=null===(i=t.labels)||void 0===i?void 0:i[e.field])&&void 0!==a?a:Oe.e[e.field])||e.field}})),l=Object(i.useMemo)((()=>t.filterFields.some((e=>"string"==typeof e?e===De.o:void 0!==e.field&&e.field===De.o))),[t]);return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},l?n.a.createElement(f.EuiFlexItem,null,n.a.createElement(_e,{series:e,seriesId:a,seriesConfig:t})):null,n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiFilterGroup,null,r.map((i=>i.field===Oe.g?n.a.createElement(je,c()({series:e,key:i.label,seriesId:a,baseFilters:t.baseFilters},i)):n.a.createElement(Se,c()({series:e,key:i.label,seriesId:a,baseFilters:t.baseFilters},i))))))),n.a.createElement(f.EuiSpacer,{size:"s"}),n.a.createElement(Te,{seriesId:a,series:e,seriesConfig:t}))}var Re=a(106),Ne=a(94),Be=a(39);function $e({series:e,seriesId:t}){var a,i;const{onRefreshTimeRange:r}=Object(Ne.a)(),l=Object(o.useUiSetting)(Be.UI_SETTINGS.TIMEPICKER_QUICK_RANGES).map((({from:e,to:t,display:a})=>({start:e,end:t,label:a}))),{setSeries:s,reportType:u,allSeries:c}=Object(b.f)();function d({start:a,end:i}){null==r||r(),u===j.n.KPI?c.forEach(((e,t)=>{s(t,{...e,time:{from:a,to:i}})})):s(t,{...e,time:{from:a,to:i}})}return n.a.createElement(f.EuiSuperDatePicker,{start:null==e||null===(a=e.time)||void 0===a?void 0:a.from,end:null==e||null===(i=e.time)||void 0===i?void 0:i.to,onTimeChange:d,commonlyUsedRanges:l,onRefresh:d,showUpdateButton:!1})}const We=r.i18n.translate("xpack.observability..synthetics.addDataButtonLabel",{defaultMessage:"Add synthetics data"}),qe=r.i18n.translate("xpack.observability.mobile.addDataButtonLabel",{defaultMessage:"Add Mobile data"}),Ue=r.i18n.translate("xpack.observability.ux.addDataButtonLabel",{defaultMessage:"Add UX data"}),He={mobile:function(){var e,t;const a=Object(F.a)();return n.a.createElement(f.EuiHeaderLink,{"aria-label":r.i18n.translate("xpack.observability.page_header.addMobileDataLink.label",{defaultMessage:"Navigate to a tutorial about adding mobile APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/apm"),color:"primary",iconType:"indexOpen"},qe)},ux:function(){var e,t;const a=Object(F.a)();return n.a.createElement(f.EuiHeaderLink,{"aria-label":r.i18n.translate("xpack.observability.page_header.addUXDataLink.label",{defaultMessage:"Navigate to a tutorial about adding user experience APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/apm"),color:"primary",iconType:"indexOpen"},Ue)},synthetics:function(){var e,t;const a=Object(F.a)();return n.a.createElement(f.EuiHeaderLink,{"aria-label":r.i18n.translate("xpack.observability.page_header.addUptimeDataLink.label",{defaultMessage:"Navigate to a tutorial about adding Uptime data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/uptimeMonitors"),color:"primary",iconType:"indexOpen"},We)},apm:null,infra_logs:null,infra_metrics:null};function Ge({seriesId:e,series:t}){const{reportType:a}=Object(b.f)(),{hasAppData:i}=Object(g.b)();if(!t.dataType)return null;const l=He[t.dataType];return!1===i[t.dataType]&&null!==l?n.a.createElement(f.EuiFlexGroup,{alignItems:"center"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement("strong",null,r.i18n.translate("xpack.observability.overview.exploratoryView.noDataAvailable",{defaultMessage:"No {dataType} data available.",values:{dataType:t.dataType}}))),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(l,null))):n.a.createElement(Ke,null,0===e||a!==j.n.KPI?n.a.createElement($e,{seriesId:e,series:t}):n.a.createElement(Re.a,{seriesId:e,series:t}))}const Ke=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-6ndrp0-0"})(["width:100%;.euiSuperDatePicker__flexWrapper{width:100%;> .euiFlexItem{margin-right:0;}}"]);function Qe({seriesConfig:e,seriesId:t,series:a}){const{setSeries:r,allSeries:l}=Object(b.f)(),o=l.findIndex((e=>Boolean(e.breakdown))),s=-1!==o&&!(o===t),u=a.breakdown,c="no_breakdown";if(Object(i.useEffect)((()=>{Object(se.b)(a.selectedMetricField)||u!==ue.o||r(t,{...a,breakdown:void 0})})),!e)return null;const d=e.xAxisColumn.sourceField===j.p,p=a.selectedMetricField===j.k,m=e.breakdownFields.map((t=>{var a;return{id:t,label:null!==(a=e.labels[t])&&void 0!==a?a:t}}));d||m.push({id:c,label:Ye});const g=m.map((({id:e,label:t})=>e!==ue.o||Object(se.b)(a.selectedMetricField)?{inputDisplay:t,value:e,dropdownDisplay:t}:{inputDisplay:t,value:e,dropdownDisplay:n.a.createElement(f.EuiToolTip,{content:Xe},n.a.createElement(n.a.Fragment,null,t)),disabled:!0})).filter((({value:e})=>!(e===j.i&&p)));let y=u||(d?g[0].value:c);function h(){return n.a.createElement(f.EuiSuperSelect,{options:g,valueOfSelected:y,onChange:e=>{var i;r(t,(i=e)===c?{...a,breakdown:void 0}:{...a,breakdown:u===i?void 0:i})},"data-test-subj":"seriesBreakdown",disabled:s})}return null!=u&&u.startsWith("labels.")&&(y=j.f),n.a.createElement(Ze,null,s?n.a.createElement(f.EuiToolTip,{content:Je,position:"top"},n.a.createElement(h,null)):n.a.createElement(h,null))}const Ye=r.i18n.translate("xpack.observability.exp.breakDownFilter.noBreakdown",{defaultMessage:"No breakdown"}),Je=r.i18n.translate("xpack.observability.exp.breakDownFilter.warning",{defaultMessage:"Breakdowns can be applied to only one series at a time."}),Xe=r.i18n.translate("xpack.observability.exp.breakDownFilter.unavailable",{defaultMessage:"Step name breakdown is not available for monitor duration metric. Use step duration metric to breakdown by step name."}),Ze=p.a.span.withConfig({displayName:"Wrapper",componentId:"sc-125bdxf-0"})([".euiToolTipAnchor{width:100%;}"]);function et({series:e,seriesId:t}){const{dataView:a}=Object(g.b)(e.dataType),i=null==a?void 0:a.fields.filter((e=>e.name.startsWith("labels."))),{setSeries:r}=Object(b.f)(),{breakdown:l}=e;if(l!==j.f&&!(null==l?void 0:l.startsWith("labels.")))return null;const o=null==i?void 0:i.map((e=>({label:e.name,value:e.name})));return n.a.createElement(f.EuiFlexItem,{grow:!1,style:{minWidth:200}},n.a.createElement(f.EuiComboBox,{selectedOptions:null==o?void 0:o.filter((e=>e.label===l)),options:o,placeholder:tt,onChange:a=>{var i,n;r(t,{...e,breakdown:null!==(i=null==a||null===(n=a[0])||void 0===n?void 0:n.label)&&void 0!==i?i:j.f})},singleSelection:{asPlainText:!0},isInvalid:e.breakdown===j.f}))}const tt=r.i18n.translate("xpack.observability.expView.seriesBuilder.labelField",{defaultMessage:"Choose label field"});function at(e){const{seriesConfig:t,series:a,seriesId:i}=e;if(!t)return null;const{selectedMetricField:r}=null!=a?a:{},{hasOperationType:l,yAxisColumns:o}=t,s=function(e,t){const a=Object(pe.c)(e,t);if(!Array.isArray(a))return null==a?void 0:a.columnType}(t,r),u=a.breakdown===j.i;return n.a.createElement("div",{style:{width:"100%"}},n.a.createElement(f.EuiFlexGroup,{gutterSize:"xs",wrap:!0},n.a.createElement(f.EuiFlexItem,{grow:1},n.a.createElement(f.EuiFormRow,{label:lt,fullWidth:!0},n.a.createElement(Ge,e))),n.a.createElement(f.EuiFlexItem,{grow:2},n.a.createElement(ce,{seriesConfig:t,seriesId:i,series:a}))),n.a.createElement(f.EuiHorizontalRule,null),n.a.createElement(f.EuiFormRow,{label:nt,fullWidth:!0},n.a.createElement(ze,{seriesConfig:t,seriesId:i,series:a})),n.a.createElement(f.EuiFlexGroup,{gutterSize:"s"},n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiFormRow,{label:it},n.a.createElement(f.EuiFlexGroup,{gutterSize:"xs"},n.a.createElement(f.EuiFlexItem,{style:{minWidth:200}},n.a.createElement(Qe,e)),n.a.createElement(et,e)))),(l||"operation"===s&&!u)&&n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiFormRow,{label:rt},n.a.createElement(de.b,c()({},e,{defaultOperationType:o[0].operationType}))))))}const it=r.i18n.translate("xpack.observability.expView.seriesBuilder.breakdownBy",{defaultMessage:"Breakdown by"}),nt=r.i18n.translate("xpack.observability.expView.seriesBuilder.selectFilters",{defaultMessage:"Filters"}),rt=r.i18n.translate("xpack.observability.expView.seriesBuilder.operation",{defaultMessage:"Operation"}),lt=r.i18n.translate("xpack.observability.expView.seriesBuilder.date",{defaultMessage:"Date"}),ot=p()(f.EuiText).withConfig({displayName:"StyledText",componentId:"sc-7zp12x-0"})(["&.euiText.euiText--constrainedWidth{max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"]);function st({series:e,seriesId:t}){const{setSeries:a}=Object(b.f)(),[l,o]=Object(i.useState)(e.name),[s,u]=Object(i.useState)(!1),c=Object(i.useRef)(null),d=Object(i.useRef)(null),p=()=>{l!==e.name&&a(t,{...e,name:l})};return Object(i.useEffect)((()=>{o(e.name)}),[e.name]),Object(i.useEffect)((()=>{s&&c.current&&c.current.focus()}),[s,c]),n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},s?n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiOutsideClickDetector,{onOutsideClick:e=>{e.target!==d.current&&(u(!1),p())}},n.a.createElement(f.EuiFieldText,{value:l,onChange:e=>{o(e.target.value)},onBlur:p,onKeyDown:e=>{"Enter"===e.key&&(u(!1),p())},fullWidth:!0,inputRef:c,"aria-label":r.i18n.translate("xpack.observability.expView.seriesEditor.seriesName",{defaultMessage:"Series name"}),"data-test-subj":"exploratoryViewSeriesNameInput"}))):n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(ot,{grow:!1},l)),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButtonIcon,{onClick:()=>u(!s),iconType:"pencil","aria-label":r.i18n.translate("xpack.observability.expView.seriesEditor.editName",{defaultMessage:"Edit name"}),color:"text",buttonRef:d})))}var ut=a(72);function ct({seriesId:e,series:t,seriesConfig:a}){var r,l,o;const{setSeries:s}=Object(b.f)(),[u,c]=Object(i.useState)(!1),d=null==a?void 0:a.metricOptions,{dataViews:p,dataViewErrors:m,loading:y}=Object(g.b)(),h=a=>{s(e,{...t,selectedMetricField:a})},v=Object(i.useCallback)((e=>{null==e||e.focus()}),[]);if(!t.dataType)return null;const E=null==p?void 0:p[t.dataType],w=null==m?void 0:m[t.dataType],x=(null!=d?d:[]).map((({label:e,field:t,id:a})=>{let i=!1;return t!==j.k&&t!==j.l&&t&&(i=!Boolean(null==E?void 0:E.getFieldByName(t))),{disabled:i,value:t||a,dropdownDisplay:i?n.a.createElement(f.EuiToolTip,{content:n.a.createElement(ut.FormattedMessage,{id:"xpack.observability.expView.seriesEditor.selectReportMetric.noFieldData",defaultMessage:"No data available for field {field}.",values:{field:n.a.createElement("strong",null,t)}})},n.a.createElement("span",null,e)):e,inputDisplay:e}}));var C,S;return!w||E||y?E||y?n.a.createElement(n.a.Fragment,null,!t.selectedMetricField&&n.a.createElement(f.EuiPopover,{button:n.a.createElement(f.EuiButton,{iconType:"plusInCircle",onClick:()=>c((e=>!e)),fill:!0,size:"s",isLoading:!E&&y,buttonRef:v},dt),isOpen:u,closePopover:()=>c((e=>!e))},n.a.createElement(f.EuiListGroup,null,x.map((e=>n.a.createElement(f.EuiListGroupItem,{key:e.value,onClick:()=>h(e.value),label:e.dropdownDisplay,isDisabled:e.disabled}))))),t.selectedMetricField&&(E?n.a.createElement(f.EuiToolTip,{position:"top",content:mt},n.a.createElement(f.EuiBadge,{iconType:"cross",iconSide:"right",iconOnClick:()=>h(void 0),iconOnClickAriaLabel:pt},null!==(r=null==a||null===(l=a.metricOptions)||void 0===l||null===(o=l.find((e=>e.id===t.selectedMetricField||e.field===t.selectedMetricField)))||void 0===o?void 0:o.label)&&void 0!==r?r:t.selectedMetricField)):n.a.createElement(f.EuiLoadingSpinner,null))):n.a.createElement(f.EuiText,null,ft):n.a.createElement(f.EuiText,{color:"danger",className:"eui-textNoWrap"},"Forbidden"===(null===(C=w.body)||void 0===C?void 0:C.error)||"DataViewInsufficientAccessError"===w.name?bt:null===(S=w.body)||void 0===S?void 0:S.message)}const dt=r.i18n.translate("xpack.observability.expView.seriesEditor.selectReportMetric",{defaultMessage:"Select report metric"}),pt=r.i18n.translate("xpack.observability.expView.seriesEditor.removeReportMetric",{defaultMessage:"Remove report metric"}),ft=r.i18n.translate("xpack.observability.expView.seriesEditor.noData",{defaultMessage:"No data available"}),bt=r.i18n.translate("xpack.observability.expView.seriesEditor.noPermissions",{defaultMessage:"Unable to create Data View. You don't have the required permission, please contact your admin."}),mt=r.i18n.translate("xpack.observability.expView.seriesEditor.reportMetricTooltip",{defaultMessage:"Report metric"}),gt=p()(f.EuiAccordion).withConfig({displayName:"StyledAccordion",componentId:"sc-fdabah-0"})([".euiAccordion__button{width:auto;flex-grow:0;}.euiAccordion__optionalAction{flex-grow:1;flex-shrink:1;}.euiAccordion__childWrapper{overflow:visible;}"]);function yt({item:e,isExpanded:t,toggleExpanded:a}){const{id:r}=e,l={...e,seriesId:r},[o,s]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{t&&s(!0)}),[t]),n.a.createElement(f.EuiPanel,{hasBorder:!0,"data-test-subj":"exploratoryViewSeriesPanel0",paddingSize:"s"},n.a.createElement(gt,{id:`exploratoryViewSeriesAccordion${r}`,forceState:t?"open":"closed","aria-label":ht,onToggle:a,arrowDisplay:l.series.dataType?void 0:"none",extraAction:n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!0},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(J,l)),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(st,l)))),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(X,l)),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(ct,l)),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(te,l)))),n.a.createElement(f.EuiFlexItem,null,n.a.createElement(I,c()({},l,{onEditClick:t?void 0:a}))))},n.a.createElement(f.EuiSpacer,{size:"s"}),n.a.createElement(f.EuiPanel,{color:"subdued"},o&&n.a.createElement(at,l))))}const ht=r.i18n.translate("xpack.observability.expView.seriesBuilder.accordion.label",{defaultMessage:"Toggle series information"}),vt=({dataViews:e,allSeries:t,reportType:a,reportConfigMap:i})=>t.map(((t,n)=>({id:n,series:t,seriesConfig:(t=>{if(null!=e&&e[t])return Object(v.a)({dataType:t,reportType:a,reportConfigMap:i,dataView:e[t]})})(t.dataType)}))),Et=n.a.memo((function(){const[e,t]=Object(i.useState)([]),{getSeries:a,allSeries:r,reportType:l}=Object(b.f)(),{loading:o,dataViews:s}=Object(g.b)(),{reportConfigMap:u,setIsEditMode:c}=Object(E.b)(),[d,p]=Object(i.useState)({}),[{prevCount:m,curCount:y},h]=Object(i.useState)({curCount:r.length});return Object(i.useEffect)((()=>{null==c||c(Object.keys(d).length>0)}),[d,c]),Object(i.useEffect)((()=>{h((e=>({prevCount:e.curCount,curCount:r.length}))),void 0!==m&&!isNaN(m)&&m<y&&p({})}),[r.length,y,m]),Object(i.useEffect)((()=>{const e={};t((t=>{const a=vt({reportType:l,allSeries:r,dataViews:s,reportConfigMap:u});return a.forEach((({series:a,id:i})=>{const n=t.find((({id:e})=>e===i));n&&a.selectedMetricField&&n.series.selectedMetricField!==a.selectedMetricField&&(e[i]=!0)})),[...a]})),p((t=>({...t,...e})))}),[r,a,s,o,u,l]),n.a.createElement(wt,null,n.a.createElement(xt,null),n.a.createElement(Ct,{gutterSize:"none"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(Tt,{"aria-label":Ft,id:"report-type-label",isDisabled:!0},n.a.createElement(C,{prepend:kt}))),n.a.createElement(f.EuiFlexItem,null,n.a.createElement(k,{onApply:()=>p({})}))),n.a.createElement(St,null,e.map(((t,a)=>n.a.createElement("div",{key:t.id},n.a.createElement(yt,{item:t,toggleExpanded:()=>(e=>{const t={...d};t[e.id]?delete t[e.id]:t[e.id]=!0,p(t)})(t),isExpanded:d[t.id]}),a+1!==e.length&&n.a.createElement(f.EuiSpacer,{size:"s"}))))))})),wt=h.euiStyled.div`
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(y.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }

  &&& {
    .euiTableRow-isExpandedRow .euiTableRowCell {
      border-top: none;
      background-color: #FFFFFF;
      border-bottom: 2px solid #d3dae6;
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
    }

    .isExpanded {
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
      .euiTableRowCell {
        border-bottom: none;
      }
    }
    .isIncomplete .euiTableRowCell {
      background-color: rgba(254, 197, 20, 0.1);
    }
  }
`,xt=h.euiStyled.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 56px;
  background-color: ${({theme:e})=>e.eui.euiPageBackgroundColor};
  border-bottom: 1px solid ${({theme:e})=>e.eui.euiColorLightShade};
  z-index: 90;
`,Ct=Object(h.euiStyled)(f.EuiFlexGroup)`
  position: sticky;
  top: 0;
  z-index: 100;
  padding: 0;
`,St=h.euiStyled.div`
  margin: ${({theme:e})=>e.eui.euiSizeM} 0;
`,Ot=r.i18n.translate("xpack.observability.expView.seriesBuilder.loadingView",{defaultMessage:"Loading view ..."}),kt=(r.i18n.translate("xpack.observability.expView.seriesBuilder.selectReportType",{defaultMessage:"No report type selected"}),r.i18n.translate("xpack.observability.expView.seriesBuilder.reportType",{defaultMessage:"Report type"})),Ft=r.i18n.translate("xpack.observability.expView.seriesBuilder.reportType.aria",{defaultMessage:"This select allows you to choose the type of report you wish to create"});var Tt=p()(f.EuiFormRow).withConfig({displayName:"_StyledEuiFormRow",componentId:"sc-1l6fn79-0"})({alignItems:"center"});function jt(){const[e,t]=Object(i.useState)([]),a=Object(i.useRef)(null),{getSeries:l,allSeries:o,setSeries:s,reportType:u}=Object(b.f)(),{loading:c,dataViews:d}=Object(g.b)(),{reportConfigMap:p}=Object(E.b)();Object(i.useEffect)((()=>{t(vt({allSeries:o,dataViews:d,reportType:u,reportConfigMap:p}))}),[o,l,d,c,p,u]);const m=!u||(u===j.n.CORE_WEB_VITAL||u===j.n.DEVICE_DISTRIBUTION||u===j.n.SINGLE_METRIC)&&o.length>0;return n.a.createElement(f.EuiToolTip,{content:u?m?r.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries.limitation",{defaultMessage:"You can only add one series of this report type."}):"":r.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries.selectReportType",{defaultMessage:"Please select report type before you can add series."})},n.a.createElement(f.EuiButton,{onClick:()=>(()=>{const t=null==o?void 0:o[0],i={name:`${b.a}-${e.length+1}`};null!=a&&a.current&&a.current.blur();const n=o.length;s(n,"data-distribution"===u?{...i,time:(null==t?void 0:t.time)||j.a}:t?i:{...i,time:j.a})})(),isDisabled:m,iconType:"plusInCircle",size:"s",buttonRef:a},r.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries",{defaultMessage:"Add series"})))}function It({seriesBuilderRef:e}){return n.a.createElement("div",{ref:e},n.a.createElement(Et,null),n.a.createElement(jt,null))}var Mt=a(27);const Vt=()=>{const{storage:e,reportType:t,lastRefresh:a,firstSeries:n}=Object(b.f)();return Object(i.useMemo)((()=>{var a;const i=Object(b.d)(null!==(a=e.get(b.c))&&void 0!==a?a:[]),n=null==i?void 0:i[0];return n?((e,t,a)=>{let i="",n="";return e===j.n.KPI?null==a?void 0:a.time:(t.forEach((e=>{if(e.dataType&&e.selectedMetricField&&e.time){const t=Object(Re.b)(e.time.from),a=Object(Re.b)(e.time.to,{roundUp:!0});(!i||a>Object(Re.b)(i,{roundUp:!0}))&&(i=e.time.to),(!n||t<Object(Re.b)(n))&&(n=e.time.from)}})),{to:i,from:n})})(t,i,n):void 0}),[t,e,a,n])};var At=a(139);function Dt(e){const{lensAttributes:t,setChartTimeRangeContext:a}=e,{services:{lens:l,notifications:s}}=Object(o.useKibana)(),u=null==l?void 0:l.EmbeddableComponent,c=null==l?void 0:l.SaveModalComponent,{firstSeries:d,setSeries:p,reportType:f,lastRefresh:m}=Object(b.f)(),[g,y]=Object(i.useState)(!1),h=Vt(),v=Object(Mt.d)(),E=Object(i.useCallback)((e=>{var t,i;const n=Date.now();null==a||a({lastUpdated:n,to:null===(t=Object(Re.b)((null==h?void 0:h.to)||""))||void 0===t?void 0:t.valueOf(),from:null===(i=Object(Re.b)((null==h?void 0:h.from)||""))||void 0===i?void 0:i.valueOf()}),e||Object(At.b)(v,m,n)}),[a,h,m,v]),w=Object(i.useCallback)((({range:e})=>{"data-distribution"!==f&&d?p(0,{...d,time:{from:new Date(e[0]).toISOString(),to:new Date(e[1]).toISOString()}}):null==s||s.toasts.add(r.i18n.translate("xpack.observability.exploratoryView.noBrusing",{defaultMessage:"Zoom by brush selection is only available on time series charts."}))}),[f,p,d,null==s?void 0:s.toasts]);return h&&t?n.a.createElement(Pt,null,n.a.createElement(u,{id:"exploratoryView",timeRange:h,attributes:t,onLoad:E,onBrushEnd:w,executionContext:{type:"observability_exploratory_view"}}),g&&t&&n.a.createElement(c,{initialInput:t,onClose:()=>y(!1),onSave:()=>{}})):null}const Pt=p.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-hgoyq0-0"})(["height:100%;.embPanel__optionsMenuPopover{visibility:collapse;}&&&:hover{.embPanel__optionsMenuPopover{visibility:visible;}}&& .embPanel--editing{border-style:initial !important;:hover{box-shadow:none;}}.embPanel__title{display:none;}&&& > div{height:100%;}"]);function Lt({loading:e,series:t,reportType:a}){const{dataType:i,reportDefinitions:l}=null!=t?t:{};let o=Rt;return i?a?Object(S.isEmpty)(l)&&(o=Nt):o=Bt:o=$t,t||(o=r.i18n.translate("xpack.observability.expView.seriesEditor.notFound",{defaultMessage:"No series found. Please add a series."})),n.a.createElement(_t,null,e&&n.a.createElement(f.EuiProgress,{size:"xs",color:"accent",position:"absolute",style:{top:"initial"}}),n.a.createElement(f.EuiSpacer,null),n.a.createElement(zt,{justifyContent:"center",alignItems:"center"},n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiText,null,e?Ot:o))))}const _t=p.a.div.withConfig({displayName:"Wrapper",componentId:"sc-174xx6x-0"})(["text-align:center;position:relative;"]),zt=p()(f.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-174xx6x-1"})(["height:100%;"]),Rt=r.i18n.translate("xpack.observability.expView.seriesBuilder.emptyview",{defaultMessage:"Nothing to display."}),Nt=r.i18n.translate("xpack.observability.expView.seriesBuilder.emptyReportDefinition",{defaultMessage:"Select a report definition to create a visualization."}),Bt=r.i18n.translate("xpack.observability.expView.seriesBuilder.selectReportType.empty",{defaultMessage:"Select a report type to create a visualization."}),$t=r.i18n.translate("xpack.observability.expView.reportType.selectDataType",{defaultMessage:"Select a data type to create a visualization."});function Wt({lensAttributes:e}){const[t,a]=Object(i.useState)(!1),{reportType:r,allSeries:l}=Object(b.f)(),o=n.a.createElement(f.EuiButtonEmpty,{size:"s",isDisabled:null===e,onClick:()=>{a(!t)}},Ut);return n.a.createElement(f.EuiPopover,{button:o,isOpen:t,closePopover:()=>a(!1)},n.a.createElement(f.EuiPopoverTitle,null,qt),n.a.createElement(f.EuiCodeBlock,{language:"jsx",fontSize:"m",paddingSize:"m",isCopyable:!0,style:{width:500}},`const { observability } = useKibana<>().services;\n\nconst { ExploratoryViewEmbeddable } = observability;\n\n<ExploratoryViewEmbeddable\n        customHeight={'300px'}\n        reportType="${r}"\n        attributes={${JSON.stringify(l,null,2)}}\n />\n        `))}const qt=r.i18n.translate("xpack.observability.expView.heading.embedTitle",{defaultMessage:"Embed Exploratory view (Dev only feature)"}),Ut=r.i18n.translate("xpack.observability.expView.heading.embed",{defaultMessage:"Embed <></>"});var Ht=a(157);function Gt({timeRange:e,lensAttributes:t}){const a=Object(o.useKibana)().services,{lens:l,isDev:s}=a,[u,c]=Object(i.useState)(!1),d=l.SaveModalComponent;return n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,style:{paddingRight:20}},s&&n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(Wt,{lensAttributes:t})),e&&n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(Ht.a,{lensAttributes:t,timeRange:e})),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButton,{iconType:"lensApp",fullWidth:!1,isDisabled:!l.canUseEditor()||null===t,size:"s",onClick:()=>{t&&l.navigateToPrefilledEditor({id:"",timeRange:e,attributes:t},{openInNewTab:!0})}},r.i18n.translate("xpack.observability.expView.heading.openInLens",{defaultMessage:"Open in Lens"}))),n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButton,{fill:!0,iconType:"save",fullWidth:!1,isDisabled:!l.canUseEditor()||null===t,onClick:()=>{t&&c(!0)},size:"s"},r.i18n.translate("xpack.observability.expView.heading.saveLensVisualization",{defaultMessage:"Save"})))),u&&t&&n.a.createElement(d,{initialInput:t,onClose:()=>c(!1),onSave:()=>{}}))}var Kt=a(111);function Qt(e){const{setHeaderActionMenu:t,theme$:a}=Object(E.b)();return n.a.createElement(Kt.default,{setHeaderActionMenu:t,theme$:a},n.a.createElement(Gt,e))}function Yt({saveAttributes:e}){const{services:{lens:t}}=Object(o.useKibana)(),a=Object(i.useRef)(null),r=Object(i.useRef)(null),[l,s]=Object(i.useState)("100vh"),{isEditMode:u}=Object(E.b)(),[d,p]=Object(i.useState)(null),{loadDataView:y,loading:h}=Object(g.b)(),{firstSeries:v,allSeries:w,lastRefresh:x,reportType:C,setChartTimeRangeContext:S}=Object(b.f)(),O=Object(m.c)(),k=Vt();Object(i.useEffect)((()=>{w.forEach((e=>{y({dataType:e.dataType})}))}),[w,y]),Object(i.useEffect)((()=>{p(O),e&&e(O)}),[JSON.stringify(null!=O?O:{}),x]),Object(i.useEffect)((()=>{(()=>{if(null!=a&&a.current&&r.current){const e=r.current.getBoundingClientRect().top;s(`calc(100vh - ${e+40}px)`)}})()}));const F=Object(i.useRef)(),[T,j]=Object(i.useState)(""),I=e=>{j((t=>e===t?"":e))},M=e=>{I(e),F.current&&F.current(e,"seriesPanel"===e?"right":"left")};return t?n.a.createElement(n.a.Fragment,null,n.a.createElement(Qt,{timeRange:k,lensAttributes:d}),n.a.createElement(Jt,{ref:r,height:l},n.a.createElement(Xt,{direction:"vertical",onToggleCollapsed:I},((e,t,{togglePanel:i})=>(F.current=(e,t)=>null==i?void 0:i(e,{direction:t}),n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},n.a.createElement(f.EuiFlexItem,{grow:!1},n.a.createElement(f.EuiButtonEmpty,c()({size:"xs"},"chartPanel"===T?{iconType:"arrowRight"}:{iconType:"arrowDown"},{onClick:()=>M("chartPanel")}),"chartPanel"===T?aa:ta))),n.a.createElement(e,{initialSize:u?40:60,minSize:"30%",mode:"collapsible",id:"chartPanel",paddingSize:"s"},d?n.a.createElement(Dt,{setChartTimeRangeContext:S,lensAttributes:d}):n.a.createElement(Lt,{series:v,loading:h,reportType:C})),n.a.createElement(e,{initialSize:u?60:40,minSize:"10%",mode:"main",id:"seriesPanel",color:"subdued",className:"paddingTopSmall"},n.a.createElement(It,{seriesBuilderRef:a,onSeriesPanelCollapse:M})))))),"seriesPanel"===T&&n.a.createElement(Zt,{onClick:()=>M("seriesPanel"),iconType:"arrowUp"},ea))):n.a.createElement(f.EuiTitle,null,n.a.createElement("h2",null,ia))}const Jt=p.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-1r2o5cy-0"})(["min-height:400px;height:",";&&& > div{height:100%;}"],(e=>e.height)),Xt=p()(f.EuiResizableContainer).withConfig({displayName:"ResizableContainer",componentId:"sc-1r2o5cy-1"})(["height:100%;&&& .paddingTopSmall{padding-top:8px;}#chartPanel{> .euiPanel{padding-bottom:0;padding-top:0;}.expExpressionRenderer__expression{padding-bottom:0 !important;padding-top:0 !important;}}"]),Zt=p()(f.EuiButtonEmpty).withConfig({displayName:"ShowPreview",componentId:"sc-1r2o5cy-2"})(["position:absolute;bottom:34px;"]),ea=r.i18n.translate("xpack.observability.overview.exploratoryView.preview",{defaultMessage:"Preview"}),ta=r.i18n.translate("xpack.observability.overview.exploratoryView.hideChart",{defaultMessage:"Hide chart"}),aa=r.i18n.translate("xpack.observability.overview.exploratoryView.showChart",{defaultMessage:"Show chart"}),ia=r.i18n.translate("xpack.observability.overview.exploratoryView.lensDisabled",{defaultMessage:"Lens app is not available, please enable Lens to use exploratory view."});var na=a(46),ra=a(90),la=a(22),oa=a.n(la);function sa(e){const t="lll",a=oa()(e.from).format(t),i=oa()(e.to).format(t),r=oa()(e.lastUpdated).format(t);return n.a.createElement(n.a.Fragment,null,e.lastUpdated&&n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,null,n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiText,{size:"xs"},n.a.createElement(ut.FormattedMessage,{id:"xpack.observability.expView.seriesBuilder.creationTime",defaultMessage:"Chart created"}))),n.a.createElement(f.EuiFlexItem,{grow:2},n.a.createElement(f.EuiText,{size:"xs"},r))),n.a.createElement(f.EuiSpacer,{size:"xs"})),e.to&&e.from&&n.a.createElement(n.a.Fragment,null,n.a.createElement(f.EuiFlexGroup,{alignItems:"center"},n.a.createElement(f.EuiFlexItem,null,n.a.createElement(f.EuiText,{size:"xs"},n.a.createElement(ut.FormattedMessage,{id:"xpack.observability.expView.seriesBuilder.creationContext",defaultMessage:"Displaying from"}))),n.a.createElement(f.EuiFlexItem,{grow:2},n.a.createElement(f.EuiText,{size:"xs"},a," → ",i)))))}function ua({chartTimeRange:e}){const{lastUpdated:t}=e||{},[a,r]=Object(i.useState)((()=>Date.now()));if(Object(i.useEffect)((()=>{const e=setInterval((()=>{r(Date.now())}),5e3);return()=>{clearInterval(e)}}),[]),Object(i.useEffect)((()=>{r(Date.now())}),[t]),!t)return null;const l=oa()().diff(oa()(t),"minute")>5,o=oa()().diff(oa()(t),"minute")>10;return n.a.createElement(f.EuiText,{color:o?"danger":l?"warning":"subdued",size:"s"},n.a.createElement(ca,{as:f.EuiToolTip,position:"top",content:n.a.createElement(sa,e)},n.a.createElement(f.EuiIcon,{type:"iInCircle"}))," ",n.a.createElement(ut.FormattedMessage,{id:"xpack.observability.expView.lastUpdated.label",defaultMessage:"Last Updated: {updatedDate}",values:{updatedDate:oa()(t).from(a)}}))}const ca=p.a.div.withConfig({displayName:"StyledToolTipWrapper",componentId:"sc-yw5uw0-0"})(["min-width:30vw;"]);function da(){const{setLastRefresh:e,chartTimeRangeContext:t}=Object(b.f)();return n.a.createElement(f.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},n.a.createElement(f.EuiFlexItem,{style:{textAlign:"right",minWidth:280}},n.a.createElement(ua,{chartTimeRange:t})),n.a.createElement(f.EuiFlexItem,{style:{textAlign:"right"}},n.a.createElement(f.EuiButton,{iconType:"refresh",onClick:()=>e(Date.now())},pa)))}const pa=r.i18n.translate("xpack.observability.overview.exploratoryView.refresh",{defaultMessage:"Refresh"});var fa=a(38);const ba=r.i18n.translate("xpack.observability.expView.heading.label",{defaultMessage:"Explore data"});function ma({app:e,saveAttributes:t,useSessionStorage:a=!1}){Object(q.useTrackPageview)({app:"observability-overview",path:"exploratory-view"}),Object(q.useTrackPageview)({app:"observability-overview",path:"exploratory-view",delay:15e3}),Object(na.a)([{text:r.i18n.translate("xpack.observability.overview.exploratoryView",{defaultMessage:"Explore data"})}],e);const{ObservabilityPageTemplate:i}=Object(ra.a)(),{services:{uiSettings:u,notifications:c}}=Object(o.useKibana)(),d=Object(l.useHistory)(),p=a?Object(s.createSessionStorageStateStorage)():Object(s.createKbnUrlStateStorage)({history:d,useHash:u.get("state:storeInSessionStorage"),...Object(s.withNotifyOnErrors)(c.toasts)});return n.a.createElement(b.b,{storage:p},n.a.createElement(i,{pageHeader:{pageTitle:ba,rightSideItems:[n.a.createElement(da,null)]}},n.a.createElement(g.a,null,n.a.createElement(Yt,{saveAttributes:t}))))}t.default=ma},88:function(e,t,a){"use strict";a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return p})),a.d(t,"f",(function(){return f})),a.d(t,"a",(function(){return b}));var i=a(0),n=a.n(i),r=a(27),l=a(30),o=(a(9),a(139));const s=Object(i.createContext)({});function u(e){return(null!=e?e:[]).map((e=>function(e){const{dt:t,op:a,st:i,bd:n,ft:r,time:l,rdf:o,mt:s,h:u,n:c,c:d,spa:p,...f}=e;return{operationType:a,seriesType:i,breakdown:n,filters:r,time:l,reportDefinitions:o,dataType:t,selectedMetricField:s,hidden:u,name:c,color:d,showPercentileAnnotations:p,...f}}(e)))}const c="sr",d="reportType";function p({children:e,storage:t}){const[a,p]=Object(i.useState)((()=>{var e;return u(null!==(e=t.get(c))&&void 0!==e?e:[])})),[f,b]=Object(i.useState)((()=>Date.now())),[m,g]=Object(i.useState)(),[y,h]=Object(i.useState)((()=>{var e;return null!==(e=t.get(d))&&void 0!==e?e:""})),[v,E]=Object(i.useState)(),w=Object(r.d)();Object(i.useEffect)((()=>{const e=null==a?void 0:a[0];E(e)}),[a,t]);const x=Object(i.useCallback)(((e,t)=>{p((a=>{const i=a.findIndex((e=>e.breakdown)),n=a.map(((a,n)=>n===e?{...t,breakdown:i===e||-1===i?t.breakdown:void 0}:a));return a.length===e?[...n,t]:[...n]}))}),[]),C=Object(i.useCallback)((e=>{p((t=>t.filter(((t,a)=>a!==e))))}),[]),S=Object(i.useCallback)((e=>a[e]),[a]),O={applyChanges:Object(i.useCallback)((e=>{const i=a.map((e=>Object(l.a)(e)));t.set(d,y),t.set(c,i),b(Date.now()),Object(o.a)(w,a,y),e&&e()}),[a,t,w,y]),storage:t,getSeries:S,setSeries:x,removeSeries:C,allSeries:a,lastRefresh:f,setLastRefresh:b,setReportType:h,reportType:y,chartTimeRangeContext:m,setChartTimeRangeContext:g,firstSeries:v};return n.a.createElement(s.Provider,{value:O},e)}function f(){return Object(i.useContext)(s)}const b="new-series"},90:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(0),n=a(103);function r(){return Object(i.useContext)(n.a)}},91:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return c}));var i=a(0),n=a.n(i),r=a(6),l=a(86),o=a(55);const s=Object(i.createContext)({});function u({children:e}){const[t,a]=Object(i.useState)({}),[u,c]=Object(i.useState)({}),[d,p]=Object(i.useState)({}),[f,b]=Object(i.useState)({}),{services:{dataViews:m}}=Object(r.useKibana)(),g=Object(i.useCallback)((async({dataType:e})=>{if(void 0===f[e]&&!t[e]){a((t=>({...t,[e]:!0})));try{const{indices:t,hasData:i}=await Object(o.b)(e);if(b((t=>({...t,[e]:i}))),i&&t){const a=new o.a(m,!0),i=await a.getDataView(e,t);c((t=>({...t,[e]:i})))}a((t=>({...t,[e]:!1})))}catch(t){(t instanceof l.DataViewInsufficientAccessError||"Forbidden"===t.body)&&p((a=>({...a,[e]:t}))),a((t=>({...t,[e]:!1})))}}}),[m,f,t]);return n.a.createElement(s.Provider,{value:{hasAppData:f,dataViews:u,loadDataView:g,dataViewErrors:d,loading:!!Object.values(t).find((e=>e))}},e)}const c=e=>{const{loading:t,hasAppData:a,loadDataView:n,dataViews:r,dataViewErrors:l}=Object(i.useContext)(s);return!e||null!=r&&r[e]||t||n({dataType:e}),Object(i.useMemo)((()=>({hasAppData:a,loading:t,dataViews:r,dataViewErrors:l,dataView:e?null==r?void 0:r[e]:void 0,hasData:e?null==a?void 0:a[e]:void 0,loadDataView:n})),[e,a,l,r,n,t])}},92:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"e",(function(){return p}));var i=a(56),n=a.n(i),r=a(75),l=a(30);function o({reportType:e,allSeries:t}){const a=t.map((e=>Object(l.a)(e)));return`/exploratory-view/#?reportType=${e}&sr=${Object(l.c)(n.a.encode(a))}`}function s(e,t,a){const i=null==a?void 0:a.fields.find((t=>t.name===e));return i&&a?[Object(r.buildPhraseFilter)(i,t,a)]:[]}function u(e,t,a){return(null==a?void 0:a.fields.find((t=>t.name===e)))&&a?t.map((t=>Object(r.buildQueryFilter)({query_string:{fields:[e],query:`*${t}*`}},a.id,""))):[]}function c(e,t,a){const i=null==a?void 0:a.fields.find((t=>t.name===e));return i&&a?1===t.length?[Object(r.buildPhraseFilter)(i,t[0],a)]:[Object(r.buildPhrasesFilter)(i,t,a)]:[]}function d(e,t){const a=null==t?void 0:t.fields.find((t=>t.name===e));return a&&t?[Object(r.buildExistsFilter)(a,t)]:[]}function p({urlFilters:e,initFilters:t,dataView:a}){const i=t?[...t]:[];return e.forEach((({field:e,values:t=[],notValues:n=[],wildcards:r=[],notWildcards:l=([]=[])})=>{if(t.length>0){const n=c(e,t,a);i.push(...n)}if(n.length>0){const t=c(e,n,a)[0];t.meta.negate=!0,i.push(t)}if(r.length>0){const t=u(e,r,a);i.push(...t)}if(l.length>0){const t=u(e,l,a)[0];t.meta.negate=!0,i.push(t)}})),i}},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(0),n=a(48);function r(){return Object(i.useContext)(n.a)}},94:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a(0),n=a(112);function r(){return Object(i.useContext)(n.a)}}}]);