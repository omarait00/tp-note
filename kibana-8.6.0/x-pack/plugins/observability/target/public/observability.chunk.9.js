/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[9],{122:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(0),n=l(63).isClient?window:null,i=function(e){return!!e.addEventListener},s=function(e){return!!e.on};t.default=function(e,t,l,r){void 0===l&&(l=n),a.useEffect((function(){if(t&&l)return i(l)?l.addEventListener(e,t,r):s(l)&&l.on(e,t,r),function(){i(l)?l.removeEventListener(e,t,r):s(l)&&l.off(e,t,r)}}),[e,t,l,JSON.stringify(r)])}},156:function(e,t,l){"use strict";l.r(t),l.d(t,"formatOptions",(function(){return p})),l.d(t,"SelectableUrlList",(function(){return f}));var a=l(0),n=l.n(a),i=l(5),s=l(1),r=l(122),o=l.n(r),u=l(73),c=l.n(u);const d={filterByUrl:s.i18n.translate("xpack.observability.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>s.i18n.translate("xpack.observability.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:s.i18n.translate("xpack.observability.filters.topPages",{defaultMessage:"Top pages"}),select:s.i18n.translate("xpack.observability.filters.select",{defaultMessage:"Select"}),url:s.i18n.translate("xpack.observability.filters.url",{defaultMessage:"Url"}),loadingResults:s.i18n.translate("xpack.observability.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:s.i18n.translate("xpack.observability.filters.url.noResults",{defaultMessage:"No results available"})},p=e=>e.map((e=>({title:e.label,...e,className:c()("euiSelectableTemplateSitewide__listItem",e.className)})));function f({data:e,loading:t,onInputChange:l,onSelectionChange:r,onSelectionApply:u,searchValue:c,popoverIsOpen:f,setPopoverIsOpen:g,initialValue:b,renderOption:v,rowHeight:E,hasChanged:m}){var y,h;const[S,w]=Object(a.useState)(null),x=Object(a.useRef)(null),M=p(null!==(y=e.items)&&void 0!==y?y:[]),k=()=>{g(!1)};o()("keydown",(e=>{"enter"===e.key.toLowerCase()&&(u(),g(!1))}),S),o()("escape",(()=>g(!1)),S);const C=n.a.createElement(i.EuiSelectableMessage,{style:{minHeight:300}},n.a.createElement(i.EuiLoadingSpinner,{size:"l"}),n.a.createElement("br",null),n.a.createElement("p",null,d.loadingResults)),P=n.a.createElement(i.EuiSelectableMessage,{style:{minHeight:300}},n.a.createElement("p",null,d.noResults)),R=c?d.getSearchResultsLabel(null!==(h=null==e?void 0:e.total)&&void 0!==h?h:0):d.topPages;function L(){return n.a.createElement(i.EuiPopoverTitle,{paddingSize:"s"},n.a.createElement(i.EuiFlexGroup,{ref:x,gutterSize:"xs"},n.a.createElement(i.EuiFlexItem,{style:{justifyContent:"center"}},t?n.a.createElement(i.EuiLoadingSpinner,null):R),n.a.createElement(i.EuiFlexItem,{grow:!1},n.a.createElement(i.EuiButtonIcon,{color:"text",onClick:()=>k(),"aria-label":s.i18n.translate("xpack.observability.search.url.close",{defaultMessage:"Close"}),iconType:"cross"}))))}return n.a.createElement(i.EuiSelectable,{searchable:!0,onChange:r,options:c!==(null==S?void 0:S.value)?[]:M,renderOption:v,singleSelection:!1,searchProps:{value:c,isClearable:!0,onClick:e=>{g(!0),S&&S.focus()},onInput:e=>{l(e.target.value),g(!0)},inputRef:w,placeholder:d.filterByUrl,"aria-label":d.filterByUrl},listProps:{rowHeight:E,showIcons:!0,onFocusBadge:!1},loadingMessage:C,emptyMessage:P,noMatchesMessage:P,allowExclusions:!0,isPreFiltered:c!==(null==S?void 0:S.value)},((e,t)=>{var l;return n.a.createElement(i.EuiPopover,{panelPaddingSize:"none",isOpen:f,display:"block",button:t,closePopover:k,style:{minWidth:400},anchorPosition:"downLeft",ownFocus:!1},n.a.createElement("div",{style:{width:null!==(l=null==S?void 0:S.getBoundingClientRect().width)&&void 0!==l?l:600,maxWidth:"100%"}},n.a.createElement(L,null),e,n.a.createElement(i.EuiPopoverFooter,{paddingSize:"s"},n.a.createElement(i.EuiFlexGroup,{style:{justifyContent:"flex-end"}},n.a.createElement(i.EuiFlexItem,{grow:!1},n.a.createElement(i.EuiButton,{fill:!0,size:"s",onClick:()=>{u(),k()},isDisabled:!m()},s.i18n.translate("xpack.observability.apply.label",{defaultMessage:"Apply"})))))))}))}t.default=f}}]);