/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.timelines_bundle_jsonpfunction=window.timelines_bundle_jsonpfunction||[]).push([[10],{123:function(e,t,l){"use strict";l.r(t),l.d(t,"AlertBulkActionsComponent",(function(){return v})),l.d(t,"StatefulAlertBulkActions",(function(){return h})),l.d(t,"default",(function(){return h}));var s=l(0),n=l.n(s),c=l(44),a=l(14),o=l(3),i=l(104),r=l.n(i),u=l(23),d=l.n(u),b=l(18),A=l(9),m=l(8);const k=(e,t)=>m.i18n.translate("xpack.timelines.toolbar.bulkActions.selectedAlertsTitle",{values:{selectedAlertsFormatted:e,selectedAlerts:t},defaultMessage:"Selected {selectedAlertsFormatted} {selectedAlerts, plural, =1 {alert} other {alerts}}"}),S=m.i18n.translate("xpack.timelines.toolbar.bulkActions.clearSelectionTitle",{defaultMessage:"Clear selection"}),p=d.a.div.withConfig({displayName:"BulkActionsContainer",componentId:"sc-104vlhl-0"})(["display:inline-block;position:relative;"]);p.displayName="BulkActionsContainer";const C=({selectedCount:e,totalItems:t,showClearSelection:l,onSelectAll:c,onClearSelection:a,bulkActionItems:i})=>{const[u,d]=Object(s.useState)(!1),[C]=Object(b.useUiSetting$)(A.a),j=Object(s.useMemo)((()=>r()(t).format(C)),[C,t]),O=Object(s.useMemo)((()=>r()(e).format(C)),[C,e]),v=Object(s.useCallback)((()=>{d((e=>!e))}),[d]),E=Object(s.useCallback)((()=>{d(!1)}),[d]),h=Object(s.useCallback)((()=>{u&&d(!1)}),[u]),f=Object(s.useCallback)((()=>{l?a():c()}),[a,c,l]),I=Object(s.useMemo)((()=>l?k(j,t):k(O,e)),[l,j,O,t,e]),g=Object(s.useMemo)((()=>{return l?S:(e=j,s=t,m.i18n.translate("xpack.timelines.toolbar.bulkActions.selectAllAlertsTitle",{values:{totalAlertsFormatted:e,totalAlerts:s},defaultMessage:"Select all {totalAlertsFormatted} {totalAlerts, plural, =1 {alert} other {alerts}}"}));var e,s}),[l,j,t]);return n.a.createElement(p,{onClick:h,"data-test-subj":"bulk-actions-button-container"},n.a.createElement(o.EuiPopover,{isOpen:u,anchorPosition:"upCenter",panelPaddingSize:"none",button:n.a.createElement(o.EuiButtonEmpty,{"aria-label":"selectedShowBulkActions","data-test-subj":"selectedShowBulkActionsButton",size:"xs",iconType:"arrowDown",iconSide:"right",color:"primary",onClick:v},I),closePopover:E},n.a.createElement(o.EuiContextMenuPanel,{size:"s",items:i})),n.a.createElement(o.EuiButtonEmpty,{size:"xs","aria-label":"selectAllAlerts","data-test-subj":"selectAllAlertsButton",iconType:l?"cross":"pagesSelect",onClick:f},g))},j=n.a.memo(C);var O=l(55);const v=n.a.memo((({id:e,totalItems:t,filterStatus:l,query:o,selectedEventIds:i,isSelectAllChecked:r,clearSelected:u,indexName:d,showAlertStatusActions:b,onActionSuccess:A,onActionFailure:m,customBulkActions:k,refetch:S})=>{const p=Object(c.useDispatch)(),[C,v]=Object(s.useState)(!1);Object(s.useEffect)((()=>{r?p(a.d.setTGridSelectAll({id:e,selectAll:!1})):v(!1)}),[p,r,e]);const E=Object(s.useCallback)((()=>{p(a.d.setTGridSelectAll({id:e,selectAll:!0})),v(!0)}),[p,e]),h=Object(s.useCallback)((()=>{u({id:e}),p(a.d.setTGridSelectAll({id:e,selectAll:!1})),v(!1)}),[u,p,e]),f=Object(s.useCallback)(((e,t,l)=>{S(),A&&A(e,t,l)}),[S,A]),I=Object(s.useCallback)(((e,t)=>{S(),m&&m(e,t)}),[S,m]),g=Object(s.useCallback)((({eventIds:t,isLoading:l})=>{p(a.d.setEventsLoading({id:e,eventIds:t,isLoading:l}))}),[p,e]),y=Object(s.useCallback)((({eventIds:t,isDeleted:l})=>{p(a.d.setEventsDeleted({id:e,eventIds:t,isDeleted:l}))}),[p,e]),B=Object(O.a)({indexName:d,eventIds:Object.keys(i),currentStatus:l,...C?{query:o}:{},setEventsLoading:g,setEventsDeleted:y,showAlertStatusActions:b,onUpdateSuccess:f,onUpdateFailure:I,customBulkActions:k});return n.a.createElement(j,{"data-test-subj":"bulk-actions",selectedCount:Object.keys(i).length,totalItems:t,showClearSelection:C,onSelectAll:E,onClearSelection:h,bulkActionItems:B})}));v.displayName="AlertBulkActionsComponent";const E={clearSelected:a.d.clearSelected},h=Object(c.connect)((()=>{const e=a.e.getTGridByIdSelector();return(t,{id:l})=>{const s=e(t,l),{selectedEventIds:n,isSelectAllChecked:c}=s;return{isSelectAllChecked:c,selectedEventIds:n}}}),E)(v)}}]);