/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[5],{116:function(t,e,a){"use strict";function r(t){return null!=t}a.d(e,"a",(function(){return r}))},119:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return d})),a.d(e,"a",(function(){return c}));var r=a(17),o=a(131),n=a(0),s=a(96);const i=()=>{const{services:{share:t}}=Object(o.a)();return t.url.locators.get(n.a)},d=(t,e)=>{const[a,o]=Object(r.useState)(t.page),n=i();return Object(r.useEffect)((()=>{let a=!1;return(async t=>{if(n){const r=await n.getUrl(t,e);a||o(r)}})(t),()=>{a=!0}}),[t,e]),a},c=t=>{const e=i(),[a]=Object(s.c)("_g"),{services:{application:{navigateToUrl:n}}}=Object(o.a)(),d=Object(r.useCallback)((async t=>{const r=void 0!==(null==a?void 0:a.refreshInterval)?{globalState:{refreshInterval:a.refreshInterval}}:void 0,o=await e.getUrl({page:t,pageState:r});await n(o)}),[e,n]);return Object(r.useCallback)((()=>d(t)),[d,t])}},121:function(t,e,a){"use strict";a.d(e,"a",(function(){return HttpService}));var r=a(5),o=a.n(r),n=a(23);a(27);class HttpService{constructor(t){o()(this,"getLoadingCount$",void 0),this.httpStart=t,this.getLoadingCount$=t.getLoadingCount$()}getResultHeaders(t){return{"Content-Type":"application/json",...t}}getFetchOptions(t){var e;if(!t.path)throw new Error("URL path is missing");return{path:t.path,fetchOptions:{asSystemRequest:!0,credentials:"same-origin",method:t.method||"GET",...t.body?{body:t.body}:{},...t.query?{query:t.query}:{},headers:this.getResultHeaders(null!==(e=t.headers)&&void 0!==e?e:{})}}}fromHttpHandler(t,e){return new n.Observable((a=>{const r=new AbortController,o=r.signal;let n=!0,s=!1;null!=e&&e.signal&&(e.signal.aborted?r.abort():e.signal.addEventListener("abort",(()=>{o.aborted||r.abort()})));const i={...e||{},signal:o};return this.httpStart.fetch(t,i).then((t=>{n=!1,a.next(t),a.complete()})).catch((t=>{n=!1,s||a.error(t)})),()=>{s=!0,n&&r.abort()}}))}async http(t){const{path:e,fetchOptions:a}=this.getFetchOptions(t);return this.httpStart.fetch(e,a)}http$(t){const{path:e,fetchOptions:a}=this.getFetchOptions(t);return this.fromHttpHandler(e,a)}}},126:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var r=a(48),o=a(131);const n={[r.FIELD_FORMAT_IDS.DURATION]:{inputFormat:"milliseconds",outputFormat:"humanizePrecise"}};function s(t){const{services:{fieldFormats:e}}=Object(o.a)(),a=e.deserialize({id:t,params:n[t]});return a.convert.bind(a)}},131:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var r=a(46);const o=()=>Object(r.useKibana)()},132:function(t,e,a){"use strict";const r=a(351),o=a(352),n=a(353);function s(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}function d(t,e){return e.decode?o(t):t}function c(t){return Array.isArray(t)?t.sort():"object"==typeof t?c(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function h(t,e){s((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const a=function(t){let e;switch(t.arrayFormat){case"index":return(t,a,r)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=a):r[t]=a};case"bracket":return(t,a,r)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],a):r[t]=[a]:r[t]=a};case"comma":case"separator":return(e,a,r)=>{const o="string"==typeof a&&a.split("").indexOf(t.arrayFormatSeparator)>-1?a.split(t.arrayFormatSeparator).map((e=>d(e,t))):null===a?a:d(a,t);r[e]=o};default:return(t,e,a)=>{void 0!==a[t]?a[t]=[].concat(a[t],e):a[t]=e}}}(e),r=Object.create(null);if("string"!=typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;for(const o of t.split("&")){let[t,s]=n(e.decode?o.replace(/\+/g," "):o,"=");s=void 0===s?null:["comma","separator"].includes(e.arrayFormat)?s:d(s,e),a(d(t,e),s,r)}for(const t of Object.keys(r)){const a=r[t];if("object"==typeof a&&null!==a)for(const t of Object.keys(a))a[t]=u(a[t],e);else r[t]=u(a,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce(((t,e)=>{const a=r[e];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?t[e]=c(a):t[e]=a,t}),Object.create(null))}e.extract=p,e.parse=h,e.stringify=(t,e)=>{if(!t)return"";s((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const a=a=>e.skipNull&&null==t[a]||e.skipEmptyString&&""===t[a],r=function(t){switch(t.arrayFormat){case"index":return e=>(a,r)=>{const o=a.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?a:null===r?[...a,[i(e,t),"[",o,"]"].join("")]:[...a,[i(e,t),"[",i(o,t),"]=",i(r,t)].join("")]};case"bracket":return e=>(a,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?a:null===r?[...a,[i(e,t),"[]"].join("")]:[...a,[i(e,t),"[]=",i(r,t)].join("")];case"comma":case"separator":return e=>(a,r)=>null==r||0===r.length?a:0===a.length?[[i(e,t),"=",i(r,t)].join("")]:[[a,i(r,t)].join(t.arrayFormatSeparator)];default:return e=>(a,r)=>void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?a:null===r?[...a,i(e,t)]:[...a,[i(e,t),"=",i(r,t)].join("")]}}(e),o={};for(const e of Object.keys(t))a(e)||(o[e]=t[e]);const n=Object.keys(o);return!1!==e.sort&&n.sort(e.sort),n.map((a=>{const o=t[a];return void 0===o?"":null===o?i(a,e):Array.isArray(o)?o.reduce(r(a),[]).join("&"):i(a,e)+"="+i(o,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[a,r]=n(t,"#");return Object.assign({url:a.split("?")[0]||"",query:h(p(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:d(r,e)}:{})},e.stringifyUrl=(t,a)=>{a=Object.assign({encode:!0,strict:!0},a);const r=l(t.url).split("?")[0]||"",o=e.extract(t.url),n=e.parse(o,{sort:!1}),s=Object.assign(n,t.query);let d=e.stringify(s,a);d&&(d=`?${d}`);let c=function(t){let e="";const a=t.indexOf("#");return-1!==a&&(e=t.slice(a)),e}(t.url);return t.fragmentIdentifier&&(c=`#${i(t.fragmentIdentifier,a)}`),`${r}${d}${c}`}},137:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var r=a(17),o=a(81),n=a(80);function s(t){const e=Object(o.basePath)();return{getTrainedModels(a,r){const o=Array.isArray(a)?a.join(","):a;return t.http({path:`${e}/trained_models${o?`/${o}`:""}`,method:"GET",...r?{query:r}:{}})},getTrainedModelStats(a,r){const o=Array.isArray(a)?a.join(","):a;return t.http({path:`${e}/trained_models${o?`/${o}`:""}/_stats`,method:"GET"})},getTrainedModelPipelines(a){let r=a;return Array.isArray(a)&&(r=a.join(",")),t.http({path:`${e}/trained_models/${r}/pipelines`,method:"GET"})},deleteTrainedModel:a=>t.http({path:`${e}/trained_models/${a}`,method:"DELETE"}),getTrainedModelsNodesOverview:()=>t.http({path:`${e}/trained_models/nodes_overview`,method:"GET"}),startModelAllocation:(a,r)=>t.http({path:`${e}/trained_models/${a}/deployment/_start`,method:"POST",query:r}),stopModelAllocation(a,r={force:!1}){const o=null==r?void 0:r.force;return t.http({path:`${e}/trained_models/${a}/deployment/_stop`,method:"POST",query:{force:o}})},updateModelDeployment:(a,r)=>t.http({path:`${e}/trained_models/${a}/deployment/_update`,method:"POST",body:JSON.stringify(r)}),inferTrainedModel(a,r,o){const n=JSON.stringify(r);return t.http({path:`${e}/trained_models/infer/${a}`,method:"POST",body:n,...o?{query:{timeout:o}}:{}})},trainedModelPipelineSimulate(a,r){const o=JSON.stringify({pipeline:a,docs:r});return t.http({path:`${e}/trained_models/pipeline_simulate`,method:"POST",body:o})}}}function i(){const{services:{mlServices:{httpService:t}}}=Object(n.b)();return Object(r.useMemo)((()=>s(t)),[t])}},149:function(t,e,a){"use strict";a.d(e,"c",(function(){return d})),a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return l}));var r=a(17),o=a(90),n=a.n(o),s=a(25),i=a(131);const d=({timeRangeSelector:t,autoRefreshSelector:e}={})=>{const{services:a}=Object(i.a)(),{timefilter:o}=a.data.query.timefilter;return Object(r.useEffect)((()=>{!0===t?o.enableTimeRangeSelector():!1===t&&o.disableTimeRangeSelector(),!0===e?o.enableAutoRefreshSelector():!1===e&&o.disableAutoRefreshSelector()}),[t,e]),o},c=()=>{const t=d();return n()(t.getRefreshIntervalUpdate$().pipe(Object(s.map)(t.getRefreshInterval)),t.getRefreshInterval())},l=(t=!1)=>{const e=d(),a=t?e.getAbsoluteTime.bind(e):e.getTime.bind(e);return n()(e.getTimeUpdate$().pipe(Object(s.map)(a)),a())}},187:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var r=a(131);const o=()=>Object(r.a)().services.uiSettings},217:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));const r=(t,e,a)=>{const r=e.split(".").reduce(((t,e)=>null==t?void 0:t[e]),t);return void 0===r?a:r}},218:function(t,e,a){"use strict";a.r(e),a.d(e,"jobsApiProvider",(function(){return s})),a.d(e,"useJobsApiService",(function(){return i}));var r=a(17),o=a(80),n=a(4);const s=t=>({jobsSummary(e){const a=JSON.stringify({jobIds:e});return t.http({path:`${n.b}/jobs/jobs_summary`,method:"POST",body:a})},jobIdsWithGeo:()=>t.http({path:`${n.b}/jobs/jobs_with_geo`,method:"GET"}),jobsWithTimerange(e){const a=JSON.stringify({dateFormatTz:e});return t.http({path:`${n.b}/jobs/jobs_with_time_range`,method:"POST",body:a})},jobForCloning(e){const a=JSON.stringify({jobId:e});return t.http({path:`${n.b}/jobs/job_for_cloning`,method:"POST",body:a})},jobs(e){const a=JSON.stringify({jobIds:e});return t.http({path:`${n.b}/jobs/jobs`,method:"POST",body:a})},groups:()=>t.http({path:`${n.b}/jobs/groups`,method:"GET"}),updateGroups(e){const a=JSON.stringify({jobs:e});return t.http({path:`${n.b}/jobs/update_groups`,method:"POST",body:a})},forceStartDatafeeds(e,a,r){const o=JSON.stringify({datafeedIds:e,start:a,end:r});return t.http({path:`${n.b}/jobs/force_start_datafeeds`,method:"POST",body:o})},stopDatafeeds(e){const a=JSON.stringify({datafeedIds:e});return t.http({path:`${n.b}/jobs/stop_datafeeds`,method:"POST",body:a})},deleteJobs(e){const a=JSON.stringify({jobIds:e});return t.http({path:`${n.b}/jobs/delete_jobs`,method:"POST",body:a})},closeJobs(e){const a=JSON.stringify({jobIds:e});return t.http({path:`${n.b}/jobs/close_jobs`,method:"POST",body:a})},resetJobs(e){const a=JSON.stringify({jobIds:e});return t.http({path:`${n.b}/jobs/reset_jobs`,method:"POST",body:a})},forceStopAndCloseJob(e){const a=JSON.stringify({jobId:e});return t.http({path:`${n.b}/jobs/force_stop_and_close_job`,method:"POST",body:a})},jobAuditMessages({jobId:e,from:a,start:r,end:o}){const s=void 0!==e?`/${e}`:"",i={...void 0!==a?{from:a}:{},...void 0!==r&&void 0!==o?{start:r,end:o}:{}};return t.http({path:`${n.b}/job_audit_messages/messages${s}`,method:"GET",query:i})},clearJobAuditMessages(e,a){const r=JSON.stringify({jobId:e,notificationIndices:a});return t.http({path:`${n.b}/job_audit_messages/clear_messages`,method:"PUT",body:r})},blockingJobTasks:()=>t.http({path:`${n.b}/jobs/blocking_jobs_tasks`,method:"GET"}),jobsExist(e,a=!1){const r=JSON.stringify({jobIds:e,allSpaces:a});return t.http({path:`${n.b}/jobs/jobs_exist`,method:"POST",body:r})},jobsExist$(e,a=!1){const r=JSON.stringify({jobIds:e,allSpaces:a});return t.http$({path:`${n.b}/jobs/jobs_exist`,method:"POST",body:r})},newJobCaps(e,a=!1){const r=!0===a?{rollup:!0}:{};return t.http({path:`${n.b}/jobs/new_job_caps/${e}`,method:"GET",query:r})},newJobLineChart(e,a,r,o,s,i,d,c,l,p,u){const h=JSON.stringify({indexPatternTitle:e,timeField:a,start:r,end:o,intervalMs:s,query:i,aggFieldNamePairs:d,splitFieldName:c,splitFieldValue:l,runtimeMappings:p,indicesOptions:u});return t.http({path:`${n.b}/jobs/new_job_line_chart`,method:"POST",body:h})},newJobPopulationsChart(e,a,r,o,s,i,d,c,l,p){const u=JSON.stringify({indexPatternTitle:e,timeField:a,start:r,end:o,intervalMs:s,query:i,aggFieldNamePairs:d,splitFieldName:c,runtimeMappings:l,indicesOptions:p});return t.http({path:`${n.b}/jobs/new_job_population_chart`,method:"POST",body:u})},getAllJobAndGroupIds:()=>t.http({path:`${n.b}/jobs/all_jobs_and_group_ids`,method:"GET"}),getLookBackProgress(e,a,r){const o=JSON.stringify({jobId:e,start:a,end:r});return t.http({path:`${n.b}/jobs/look_back_progress`,method:"POST",body:o})},categorizationFieldExamples(e,a,r,o,s,i,d,c,l,p){const u=JSON.stringify({indexPatternTitle:e,query:a,size:r,field:o,timeField:s,start:i,end:d,analyzer:c,runtimeMappings:l,indicesOptions:p});return t.http({path:`${n.b}/jobs/categorization_field_examples`,method:"POST",body:u})},topCategories(e,a){const r=JSON.stringify({jobId:e,count:a});return t.http({path:`${n.b}/jobs/top_categories`,method:"POST",body:r})},revertModelSnapshot(e,a,r,o,s){const i=JSON.stringify({jobId:e,snapshotId:a,replay:r,end:o,calendarEvents:s});return t.http({path:`${n.b}/jobs/revert_model_snapshot`,method:"POST",body:i})},datafeedPreview(e,a,r){const o=JSON.stringify({datafeedId:e,job:a,datafeed:r});return t.http({path:`${n.b}/jobs/datafeed_preview`,method:"POST",body:o})},bulkCreateJobs(e){const a=JSON.stringify(e);return t.http({path:`${n.b}/jobs/bulk_create`,method:"POST",body:a})}});function i(){const{services:{mlServices:{httpService:t}}}=Object(o.b)();return Object(r.useMemo)((()=>s(t)),[t])}},350:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(17),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;e.default=o},351:function(t,e,a){"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},352:function(t,e,a){"use strict";var r="%[a-f0-9]{2}",o=new RegExp(r,"gi"),n=new RegExp("("+r+")+","gi");function s(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var a=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],s(a),s(r))}function i(t){try{return decodeURIComponent(t)}catch(r){for(var e=t.match(o),a=1;a<e.length;a++)e=(t=s(e,a).join("")).match(o);return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},a=n.exec(t);a;){try{e[a[0]]=decodeURIComponent(a[0])}catch(t){var r=i(a[0]);r!==a[0]&&(e[a[0]]=r)}a=n.exec(t)}e["%C2"]="�";for(var o=Object.keys(e),s=0;s<o.length;s++){var d=o[s];t=t.replace(new RegExp(d,"g"),e[d])}return t}(t)}}},353:function(t,e,a){"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const a=t.indexOf(e);return-1===a?[t]:[t.slice(0,a),t.slice(a+e.length)]}},80:function(t,e,a){"use strict";a.d(e,"b",(function(){return r.a})),a.d(e,"e",(function(){return i})),a.d(e,"h",(function(){return d.a})),a.d(e,"g",(function(){return c.c})),a.d(e,"f",(function(){return l})),a.d(e,"d",(function(){return p.c})),a.d(e,"c",(function(){return p.b})),a.d(e,"a",(function(){return u}));var r=a(131),o=a(17),n=a(50),s=a(4);const i=()=>{const{services:{application:{getUrlForApp:t,navigateToUrl:e}}}=Object(r.a)(),a=Object(n.useLocation)();return Object(o.useCallback)((async(r,o=!1)=>{if(void 0===r)return;const n=`${r}${!0===o?a.search:""}`,i=n.includes("/app/ml")?n:t(s.e,{path:n});await e(i)}),[a])};var d=a(187),c=a(149);const l=()=>Object(r.a)().services.notifications;var p=a(119);const u=()=>Object(r.a)().services.mlServices.mlApiServices;a(126)},81:function(t,e,a){"use strict";a.r(e),a.d(e,"basePath",(function(){return b})),a.d(e,"ml",(function(){return y})),a.d(e,"mlApiServicesProvider",(function(){return g}));var r=a(121);a(17),a(80);const o=t=>({getAnnotations$(e){const a=JSON.stringify(e);return t.http$({path:"/api/ml/annotations",method:"POST",body:a})},getAnnotations(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/annotations",method:"POST",body:a})},indexAnnotation(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/annotations/index",method:"PUT",body:a})},deleteAnnotation:e=>t.http({path:`/api/ml/annotations/delete/${e}`,method:"DELETE"})}),n=t=>({getDataFrameAnalytics(e,a,r){const o=void 0!==e?`/${e}`:"";return t.http({path:`/api/ml/data_frame/analytics${o}`,method:"GET",...a?{query:{excludeGenerated:a,size:r}}:{}})},getDataFrameAnalyticsStats:e=>void 0!==e?t.http({path:`/api/ml/data_frame/analytics/${e}/_stats`,method:"GET"}):t.http({path:"/api/ml/data_frame/analytics/_stats",method:"GET"}),createDataFrameAnalytics(e,a){const r=JSON.stringify(a);return t.http({path:`/api/ml/data_frame/analytics/${e}`,method:"PUT",body:r})},updateDataFrameAnalytics(e,a){const r=JSON.stringify(a);return t.http({path:`/api/ml/data_frame/analytics/${e}/_update`,method:"POST",body:r})},getDataFrameAnalyticsMap(e,a,r){const o=void 0!==e?`/${e}`:"";return t.http({path:`/api/ml/data_frame/analytics/map${o}`,method:"GET",query:{treatAsRoot:a,type:r}})},jobsExist(e,a=!1){const r=JSON.stringify({analyticsIds:e,allSpaces:a});return t.http({path:"/api/ml/data_frame/analytics/jobs_exist",method:"POST",body:r})},evaluateDataFrameAnalytics(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/data_frame/_evaluate",method:"POST",body:a})},explainDataFrameAnalytics(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/data_frame/analytics/_explain",method:"POST",body:a})},deleteDataFrameAnalytics:e=>t.http({path:`/api/ml/data_frame/analytics/${e}`,method:"DELETE"}),deleteDataFrameAnalyticsAndDestIndex:(e,a,r)=>t.http({path:`/api/ml/data_frame/analytics/${e}`,query:{deleteDestIndex:a,deleteDestIndexPattern:r},method:"DELETE"}),startDataFrameAnalytics:e=>t.http({path:`/api/ml/data_frame/analytics/${e}/_start`,method:"POST"}),stopDataFrameAnalytics:(e,a=!1)=>t.http({path:`/api/ml/data_frame/analytics/${e}/_stop`,method:"POST",query:{force:a}}),getAnalyticsAuditMessages:e=>t.http({path:`/api/ml/data_frame/analytics/${e}/messages`,method:"GET"}),validateDataFrameAnalytics(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/data_frame/analytics/validate",method:"POST",body:a})},newJobCapsAnalytics(e,a=!1){const r=!0===a?{rollup:!0}:{};return t.http({path:`/api/ml/data_frame/analytics/new_job_caps/${e}`,method:"GET",query:r})}}),s=t=>({filters(e){const a=e&&e.filterId?`/${e.filterId}`:"";return t.http({path:`/api/ml/filters${a}`,method:"GET"})},filtersStats:()=>t.http({path:"/api/ml/filters/_stats",method:"GET"}),addFilter(e,a,r){const o=JSON.stringify({filterId:e,description:a,items:r});return t.http({path:"/api/ml/filters",method:"PUT",body:o})},updateFilter(e,a,r,o){const n=JSON.stringify({...void 0!==a?{description:a}:{},...void 0!==r?{addItems:r}:{},...void 0!==o?{removeItems:o}:{}});return t.http({path:`/api/ml/filters/${e}`,method:"PUT",body:n})},deleteFilter:e=>t.http({path:`/api/ml/filters/${e}`,method:"DELETE"})}),i=t=>({getAnomaliesTableData(e,a,r,o,n,s,i,d,c,l,p,u){const h=JSON.stringify({jobIds:e,criteriaFields:a,influencers:r,aggregationInterval:o,threshold:n,earliestMs:s,latestMs:i,dateFormatTz:d,maxRecords:c,maxExamples:l,influencersFilterQuery:p,functionDescription:u});return t.http$({path:"/api/ml/results/anomalies_table_data",method:"POST",body:h})},getMaxAnomalyScore(e,a,r){const o=JSON.stringify({jobIds:e,earliestMs:a,latestMs:r});return t.http({path:"/api/ml/results/max_anomaly_score",method:"POST",body:o})},getCategoryDefinition(e,a){const r=JSON.stringify({jobId:e,categoryId:a});return t.http({path:"/api/ml/results/category_definition",method:"POST",body:r})},getCategoryExamples(e,a,r){const o=JSON.stringify({jobId:e,categoryIds:a,maxExamples:r});return t.http({path:"/api/ml/results/category_examples",method:"POST",body:o})},fetchPartitionFieldsValues(e,a,r,o,n,s){const i=JSON.stringify({jobId:e,searchTerm:a,criteriaFields:r,earliestMs:o,latestMs:n,fieldsConfig:s});return t.http$({path:"/api/ml/results/partition_fields_values",method:"POST",body:i})},anomalySearch(e,a){const r=JSON.stringify({query:e,jobIds:a});return t.http({path:"/api/ml/results/anomaly_search",method:"POST",body:r})},anomalySearch$(e,a){const r=JSON.stringify({query:e,jobIds:a});return t.http$({path:"/api/ml/results/anomaly_search",method:"POST",body:r})},getCategoryStoppedPartitions(e,a){const r=JSON.stringify({jobIds:e,fieldToBucket:a});return t.http({path:"/api/ml/results/category_stopped_partitions",method:"POST",body:r})},getDatafeedResultChartData(e,a,r){const o=JSON.stringify({jobId:e,start:a,end:r});return t.http({path:"/api/ml/results/datafeed_results_chart",method:"POST",body:o})},getAnomalyCharts$(e,a,r,o,n,s,i,d,c){const l=JSON.stringify({jobIds:e,influencers:a,threshold:r,earliestMs:o,latestMs:n,maxResults:i,influencersFilterQuery:c,numberOfPoints:d,timeBounds:s});return t.http$({path:"/api/ml/results/anomaly_charts",method:"POST",body:l})},getAnomalyRecords$(e,a,r,o,n,s,i){const d=JSON.stringify({jobIds:e,criteriaFields:a,threshold:r,earliestMs:o,latestMs:n,interval:s,functionDescription:i});return t.http$({path:"/api/ml/results/anomaly_records",method:"POST",body:d})}});var d=a(218);const c=t=>({jobsSpaces:()=>t.http({path:"/api/ml/saved_objects/jobs_spaces",method:"GET"}),updateJobsSpaces(e,a,r,o){const n=JSON.stringify({jobType:e,jobIds:a,spacesToAdd:r,spacesToRemove:o});return t.http({path:"/api/ml/saved_objects/update_jobs_spaces",method:"POST",body:n})},removeItemFromCurrentSpace(e,a){const r=JSON.stringify({mlSavedObjectType:e,ids:a});return t.http({path:"/api/ml/saved_objects/remove_item_from_current_space",method:"POST",body:r})},syncSavedObjects:(e=!1)=>t.http({path:"/api/ml/saved_objects/sync",method:"GET",query:{simulate:e}}),initSavedObjects:(e=!1)=>t.http({path:"/api/ml/saved_objects/initialize",method:"GET",query:{simulate:e}}),syncCheck(e){const a=JSON.stringify({mlSavedObjectType:e});return t.http({path:"/api/ml/saved_objects/sync_check",method:"POST",body:a})},canDeleteMLSpaceAwareItems(e,a){const r=JSON.stringify({ids:a});return t.http({path:`/api/ml/saved_objects/can_delete_ml_space_aware_item/${e}`,method:"POST",body:r})},trainedModelsSpaces:()=>t.http({path:"/api/ml/saved_objects/trained_models_spaces",method:"GET"}),updateModelsSpaces(e,a,r){const o=JSON.stringify({modelIds:e,spacesToAdd:a,spacesToRemove:r});return t.http({path:"/api/ml/saved_objects/update_trained_models_spaces",method:"POST",body:o})}});var l=a(137),p=a(27),u=a(8),h=a(116);function m(t){return{findMessages:e=>t.http({path:"/api/ml/notifications",method:"GET",query:Object(u.omitBy)(e,(t=>!Object(h.a)(t)))}),countMessages$:e=>t.http$({path:"/api/ml/notifications/count",method:"GET",query:Object(u.omitBy)(e,(t=>!Object(h.a)(t)))})}}function b(){return"/api/ml"}const f=new Proxy({},{get(t,e){try{return Object(p.g)()[e]}catch(t){if("getLoadingCount$"===e)return()=>{};console.error(t)}}}),y=g(new r.a(f));function g(t){return{getJobs(e){const a=e&&e.jobId?`/${e.jobId}`:"";return t.http({path:`/api/ml/anomaly_detectors${a}`})},getJobStats(e){const a=e&&e.jobId?`/${e.jobId}`:"";return t.http({path:`/api/ml/anomaly_detectors${a}/_stats`})},addJob({jobId:e,job:a}){const r=JSON.stringify(a);return t.http({path:`/api/ml/anomaly_detectors/${e}`,method:"PUT",body:r})},openJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}/_open`,method:"POST"}),closeJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}/_close`,method:"POST"}),forceCloseJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}/_close?force=true`,method:"POST"}),deleteJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}`,method:"DELETE"}),forceDeleteJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}?force=true`,method:"DELETE"}),updateJob({jobId:e,job:a}){const r=JSON.stringify(a);return t.http({path:`/api/ml/anomaly_detectors/${e}/_update`,method:"POST",body:r})},resetJob:({jobId:e})=>t.http({path:`/api/ml/anomaly_detectors/${e}/_reset`,method:"POST"}),estimateBucketSpan(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/validate/estimate_bucket_span",method:"POST",body:a})},validateJob(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/validate/job",method:"POST",body:a})},validateDatafeedPreview(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/validate/datafeed_preview",method:"POST",body:a})},validateCardinality$(e){const a=JSON.stringify(e);return t.http$({path:"/api/ml/validate/cardinality",method:"POST",body:a})},getDatafeeds(e){const a=e&&e.datafeedId?`/${e.datafeedId}`:"";return t.http({path:`/api/ml/datafeeds${a}`})},getDatafeedStats(e){const a=e&&e.datafeedId?`/${e.datafeedId}`:"";return t.http({path:`/api/ml/datafeeds${a}/_stats`})},addDatafeed({datafeedId:e,datafeedConfig:a}){const r=JSON.stringify(a);return t.http({path:`/api/ml/datafeeds/${e}`,method:"PUT",body:r})},updateDatafeed({datafeedId:e,datafeedConfig:a}){const r=JSON.stringify(a);return t.http({path:`/api/ml/datafeeds/${e}/_update`,method:"POST",body:r})},deleteDatafeed:({datafeedId:e})=>t.http({path:`/api/ml/datafeeds/${e}`,method:"DELETE"}),forceDeleteDatafeed:({datafeedId:e})=>t.http({path:`/api/ml/datafeeds/${e}?force=true`,method:"DELETE"}),startDatafeed({datafeedId:e,start:a,end:r}){const o=JSON.stringify({...void 0!==a?{start:a}:{},...void 0!==r?{end:r}:{}});return t.http({path:`/api/ml/datafeeds/${e}/_start`,method:"POST",body:o})},stopDatafeed:({datafeedId:e})=>t.http({path:`/api/ml/datafeeds/${e}/_stop`,method:"POST"}),forceStopDatafeed:({datafeedId:e})=>t.http({path:`/api/ml/datafeeds/${e}/_stop?force=true`,method:"POST"}),datafeedPreview:({datafeedId:e})=>t.http({path:`/api/ml/datafeeds/${e}/_preview`,method:"GET"}),validateDetector({detector:e}){const a=JSON.stringify(e);return t.http({path:"/api/ml/anomaly_detectors/_validate/detector",method:"POST",body:a})},forecast({jobId:e,duration:a}){const r=JSON.stringify({...void 0!==a?{duration:a}:{}});return t.http({path:`/api/ml/anomaly_detectors/${e}/_forecast`,method:"POST",body:r})},overallBuckets({jobId:e,topN:a,bucketSpan:r,start:o,end:n,overallScore:s}){const i=JSON.stringify({topN:a,bucketSpan:r,start:o,end:n,...s?{overall_score:s}:{}});return t.http({path:`/api/ml/anomaly_detectors/${e}/results/overall_buckets`,method:"POST",body:i})},hasPrivileges(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/_has_privileges",method:"POST",body:a})},checkMlCapabilities:()=>t.http({path:"/api/ml/ml_capabilities",method:"GET"}),checkIndicesExists({indices:e}){const a=JSON.stringify({indices:e});return t.http({path:"/api/ml/index_exists",method:"POST",body:a})},getFieldCaps({index:e,fields:a}){const r=JSON.stringify({...void 0!==e?{index:e}:{},...void 0!==a?{fields:a}:{}});return t.http({path:"/api/ml/indices/field_caps",method:"POST",body:r})},recognizeIndex:({indexPatternTitle:e})=>t.http({path:`/api/ml/modules/recognize/${e}`,method:"GET"}),listDataRecognizerModules:()=>t.http({path:"/api/ml/modules/get_module",method:"GET"}),getDataRecognizerModule:({moduleId:e})=>t.http({path:`/api/ml/modules/get_module/${e}`,method:"GET"}),dataRecognizerModuleJobsExist:({moduleId:e})=>t.http({path:`/api/ml/modules/jobs_exist/${e}`,method:"GET"}),setupDataRecognizerConfig({moduleId:e,prefix:a,groups:r,indexPatternName:o,query:n,useDedicatedIndex:s,startDatafeed:i,start:d,end:c,jobOverrides:l,estimateModelMemory:p}){const u=JSON.stringify({prefix:a,groups:r,indexPatternName:o,query:n,useDedicatedIndex:s,startDatafeed:i,start:d,end:c,jobOverrides:l,estimateModelMemory:p});return t.http({path:`/api/ml/modules/setup/${e}`,method:"POST",body:u})},getVisualizerFieldHistograms({indexPattern:e,query:a,fields:r,samplerShardSize:o,runtimeMappings:n}){const s=JSON.stringify({query:a,fields:r,samplerShardSize:o,runtimeMappings:n});return t.http({path:`/api/ml/data_visualizer/get_field_histograms/${e}`,method:"POST",body:s})},calendars(e){const{calendarId:a,calendarIds:r}=e||{};let o="";return a?o=`/${a}`:r&&(o=`/${r.join(",")}`),t.http({path:`/api/ml/calendars${o}`,method:"GET"})},addCalendar(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/calendars",method:"PUT",body:a})},updateCalendar(e){const a=e&&e.calendarId?`/${e.calendarId}`:"",r=JSON.stringify(e);return t.http({path:`/api/ml/calendars${a}`,method:"PUT",body:r})},deleteCalendar:({calendarId:e})=>t.http({path:`/api/ml/calendars/${e}`,method:"DELETE"}),mlNodeCount:()=>t.http({path:"/api/ml/ml_node_count",method:"GET"}),mlInfo:()=>t.http({path:"/api/ml/info",method:"GET"}),calculateModelMemoryLimit$({datafeedConfig:e,analysisConfig:a,indexPattern:r,query:o,timeFieldName:n,earliestMs:s,latestMs:i}){const d=JSON.stringify({datafeedConfig:e,analysisConfig:a,indexPattern:r,query:o,timeFieldName:n,earliestMs:s,latestMs:i});return t.http$({path:"/api/ml/validate/calculate_model_memory_limit",method:"POST",body:d})},getCardinalityOfFields({index:e,fieldNames:a,query:r,timeFieldName:o,earliestMs:n,latestMs:s}){const i=JSON.stringify({index:e,fieldNames:a,query:r,timeFieldName:o,earliestMs:n,latestMs:s});return t.http({path:"/api/ml/fields_service/field_cardinality",method:"POST",body:i})},getTimeFieldRange({index:e,timeFieldName:a,query:r,runtimeMappings:o,indicesOptions:n,allowFutureTime:s}){const i=JSON.stringify({index:e,timeFieldName:a,query:r,runtimeMappings:o,indicesOptions:n,allowFutureTime:s});return t.http({path:"/api/ml/fields_service/time_field_range",method:"POST",body:i})},esSearch(e){const a=JSON.stringify(e);return t.http({path:"/api/ml/es_search",method:"POST",body:a})},esSearch$(e){const a=JSON.stringify(e);return t.http$({path:"/api/ml/es_search",method:"POST",body:a})},getIndices:()=>t.http({path:"/api/index_management/indices",method:"GET"}),getModelSnapshots:(e,a)=>t.http({path:`/api/ml/anomaly_detectors/${e}/model_snapshots${void 0!==a?`/${a}`:""}`}),updateModelSnapshot:(e,a,r)=>t.http({path:`/api/ml/anomaly_detectors/${e}/model_snapshots/${a}/_update`,method:"POST",body:JSON.stringify(r)}),deleteModelSnapshot:(e,a)=>t.http({path:`/api/ml/anomaly_detectors/${e}/model_snapshots/${a}`,method:"DELETE"}),annotations:o(t),dataFrameAnalytics:n(t),filters:s(t),results:i(t),jobs:Object(d.jobsApiProvider)(t),savedObjects:c(t),trainedModels:Object(l.a)(t),notifications:m(t)}}},90:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(54),o=a(17),n=r.__importDefault(a(350));e.default=function(t,e){var a=o.useState(e),r=a[0],s=a[1];return n.default((function(){var e=t.subscribe(s);return function(){return e.unsubscribe()}}),[t]),r}},96:function(t,e,a){"use strict";a.d(e,"a",(function(){return S})),a.d(e,"c",(function(){return j})),a.d(e,"b",(function(){return _}));var r=a(5),o=a.n(r),n=a(132),s=a(17),i=a(8),d=a(59),c=a(50),l=a(23),p=a(25),u=a(6),h=a(217),m=a(13);const b=new Set(["_a","_g"]);function f(t){return b.has(t)}function y(t){const e={},a=Object(n.parse)(t,{sort:!1});try{Object.keys(a).forEach((t=>{f(t)?e[t]=Object(d.decode)(a[t]):e[t]=a[t]}))}catch(t){console.error("Could not read url state",t)}return e}const g=Object(s.createContext)({searchString:"",setUrlState:()=>{}}),{Provider:O}=g,S=({children:t})=>{const e=Object(c.useHistory)(),{search:a}=Object(c.useLocation)(),r=Object(s.useCallback)(((t,r,o,s)=>{const c=a,l=y(c),p=Object(n.parse)(c,{sort:!1});if(Object.prototype.hasOwnProperty.call(l,t)||(l[t]={}),"string"==typeof r){if(Object(i.isEqual)(Object(h.a)(l,`${t}.${r}`),o))return c;l[t][r]=o}else{const e=r;Object.keys(e).forEach((a=>{l[t][a]=e[a]}))}try{const t=Object(n.stringify)(p,{sort:!1,encode:!1});if(Object.keys(l).forEach((t=>{f(t)?p[t]=Object(d.encode)(l[t]):p[t]=l[t]})),t!==Object(n.stringify)(p,{sort:!1,encode:!1})){const t=Object(n.stringify)(p,{sort:!1});s?e.replace({search:t}):e.push({search:t})}}catch(t){console.error("Could not save url state",t)}}),[a]);return Object(m.jsx)(O,{value:{searchString:a,setUrlState:r}},t)},j=t=>{const{searchString:e,setUrlState:a}=Object(s.useContext)(g);return[Object(s.useMemo)((()=>{const a=y(e);if("object"==typeof a)return a[t]}),[e]),Object(s.useCallback)(((e,r,o)=>{a(t,e,r,o)}),[t,a])]};class PageUrlStateService{constructor(){o()(this,"_pageUrlState$",new l.BehaviorSubject(null)),o()(this,"_pageUrlStateCallback",null)}getPageUrlState$(){return this._pageUrlState$.pipe(Object(p.distinctUntilChanged)(i.isEqual))}getPageUrlState(){return this._pageUrlState$.getValue()}updateUrlState(t,e){if(!this._pageUrlStateCallback)throw new Error("Callback has not been initialized.");this._pageUrlStateCallback(t,e)}setCurrentState(t){this._pageUrlState$.next(t)}setUpdateCallback(t){this._pageUrlStateCallback=t}}const _=(t,e)=>{const[a,r]=j("_a"),o=null==a?void 0:a[t],n=Object(s.useRef)();Object(s.useEffect)((()=>{n.current=r}),[r]);const d=Object(s.useRef)(),c=Object(s.useMemo)((()=>{const t={...null!=e?e:{},...null!=o?o:{}};if(Object(i.isEqual)(t,d.current))return d.current;if(Object(u.isPopulatedObject)(d.current))for(const e in t)Object(i.isEqual)(t[e],d.current[e])&&(t[e]=d.current[e]);return d.current=t,t}),[o]),l=Object(s.useCallback)(((e,a)=>{if(null==n||!n.current)throw new Error("Callback for URL state update has not been initialized.");n.current(t,{...c,...e},a)}),[t,c]),p=Object(s.useMemo)((()=>new PageUrlStateService),[]);return Object(s.useEffect)((function(){p.setCurrentState(c),p.setUpdateCallback(l)}),[p,l,c]),Object(s.useMemo)((()=>[c,l,p]),[c,l,p])}}}]);