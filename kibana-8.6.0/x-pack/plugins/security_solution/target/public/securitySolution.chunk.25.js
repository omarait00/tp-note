/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.securitySolution_bundle_jsonpfunction=window.securitySolution_bundle_jsonpfunction||[]).push([[25],{1124:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(4),r=a.n(n),s=a(32),i=a(35);const o=Object(n.memo)((()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(s.EuiEmptyPrompt,{iconType:"alert",iconColor:"danger",titleSize:"l","data-test-subj":"noIngestPermissions",title:r.a.createElement(i.FormattedMessage,{id:"xpack.securitySolution.endpointManagemnet.noPermissionsText",defaultMessage:"You do not have the required Kibana permissions to use Elastic Security Administration"}),body:r.a.createElement(s.EuiText,{color:"subdued"},r.a.createElement(i.FormattedMessage,{id:"xpack.securitySolution.endpointManagement.noPermissionsSubText",defaultMessage:"You must have the superuser role to use this feature. If you do not have the superuser role and do not have permissions to edit user roles, contact your Kibana administrator."}))}))));o.displayName="NoPermissions"},1292:function(e,t,a){"use strict";a.r(t),a.d(t,"EndpointPackageCustomExtension",(function(){return F})),a.d(t,"TRUSTED_APPS_LABELS",(function(){return T})),a.d(t,"EVENT_FILTERS_LABELS",(function(){return O})),a.d(t,"HOST_ISOLATION_EXCEPTIONS_LABELS",(function(){return v})),a.d(t,"BLOCKLISTS_LABELS",(function(){return C}));var n=a(82),r=a.n(n),s=a(4),i=a.n(s),o=a(32),l=a(77),c=a(930),u=a(894),d=a(418),m=a(428),p=a(1086),E=a(0),f=a(35),g=a(64),b=a(59),S=a(240),y=a(1160),h=a(1159),I=a(1161),x=a(206),j=a(91);const A={artifactsSummaryApiError:e=>E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.artifactsSummaryError",{defaultMessage:'There was an error trying to fetch artifacts stats: "{error}"',values:{error:e}}),cardTitle:i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.fleetCustomExtension.title",defaultMessage:"Artifacts"})},M=Object(s.memo)((({pkgkey:e,artifactApiClientInstance:t,getArtifactsPath:a,labels:n=A,"data-test-subj":r})=>{const{getAppUrl:c}=Object(S.b)(),u=Object(l.o)(),d=a(),m=Object(j.a)(r),{data:p}=Object(x.f)(t,{},[],{onError:e=>u.addDanger(n.artifactsSummaryApiError(e.message))}),M=Object(s.useMemo)((()=>{const t=`#${g.pagePathGetters.integration_details_custom({pkgkey:e})[1]}`;return{backButtonLabel:E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.backButtonLabel",{defaultMessage:"Return to Elastic Defend integration"}),onBackButtonNavigateTo:[b.INTEGRATIONS_PLUGIN_ID,{path:t}],backButtonUrl:c({appId:b.INTEGRATIONS_PLUGIN_ID,path:t})}}),[c,e]);return i.a.createElement(o.EuiPanel,{hasShadow:!1,paddingSize:"l",hasBorder:!0,"data-test-subj":m("fleetCard")},i.a.createElement(I.a,{alignItems:"baseline",justifyContent:"center"},i.a.createElement(I.b,{gridarea:"title",alignitems:"flex-start"},i.a.createElement(o.EuiText,null,i.a.createElement("h4",null,n.cardTitle))),i.a.createElement(I.b,{gridarea:"summary"},i.a.createElement(h.a,{stats:p})),i.a.createElement(I.b,{gridarea:"link",alignitems:"flex-end"},i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{href:c({path:d}),appPath:d,appState:M,"data-test-subj":m("artifactsLink")},i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.fleetCustomExtension.manageArtifactsLinkLabel",defaultMessage:"Manage"}))))))}));M.displayName="FleetArtifactsCard";var k=a(153);const T={artifactsSummaryApiError:e=>E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.trustedAppsSummarySummary.error",{defaultMessage:'There was an error trying to fetch trusted applications stats: "{error}"',values:{error:e}}),cardTitle:i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.trustedApps.fleetIntegration.title",defaultMessage:"Trusted applications"})},O={artifactsSummaryApiError:e=>E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.eventFiltersSummarySummary.error",{defaultMessage:'There was an error trying to fetch event filters stats: "{error}"',values:{error:e}}),cardTitle:i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.eventFilters.fleetIntegration.title",defaultMessage:"Event filters"})},v={artifactsSummaryApiError:e=>E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.hostIsolationExceptionsSummarySummary.error",{defaultMessage:'There was an error trying to fetch host isolation exceptions stats: "{error}"',values:{error:e}}),cardTitle:i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.hostIsolationExceptions.fleetIntegration.title",defaultMessage:"Host isolation exceptions"})},C={artifactsSummaryApiError:e=>E.i18n.translate("xpack.securitySolution.endpoint.fleetCustomExtension.blocklistsSummarySummary.error",{defaultMessage:'There was an error trying to fetch blocklist stats: "{error}"',values:{error:e}}),cardTitle:i.a.createElement(f.FormattedMessage,{id:"xpack.securitySolution.endpoint.blocklists.fleetIntegration.title",defaultMessage:"Blocklist"})};var L=a(841),P=a(1124);const F=Object(s.memo)((e=>{const t=Object(l.j)(),a=Object(c.a)(),{loading:n,canAccessEndpointManagement:E}=Object(L.b)(),f=Object(s.useMemo)((()=>u.a.getInstance(t)),[t]),g=Object(s.useMemo)((()=>d.a.getInstance(t)),[t]),b=Object(s.useMemo)((()=>m.a.getInstance(t)),[t]),S=Object(s.useMemo)((()=>p.a.getInstance(t)),[t]),y=Object(s.useMemo)((()=>i.a.createElement("div",{"data-test-subj":"fleetEndpointPackageCustomContent"},i.a.createElement(M,r()({},e,{artifactApiClientInstance:f,getArtifactsPath:k.o,labels:T,"data-test-subj":"trustedApps"})),i.a.createElement(o.EuiSpacer,null),i.a.createElement(M,r()({},e,{artifactApiClientInstance:g,getArtifactsPath:k.f,labels:O,"data-test-subj":"eventFilters"})),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(o.EuiSpacer,null),i.a.createElement(M,r()({},e,{artifactApiClientInstance:b,getArtifactsPath:k.g,labels:v,"data-test-subj":"hostIsolationExceptions"}))),i.a.createElement(o.EuiSpacer,null),i.a.createElement(M,r()({},e,{artifactApiClientInstance:S,getArtifactsPath:k.c,labels:C,"data-test-subj":"blocklists"})))),[S,a,g,b,f,e]);return n?i.a.createElement(o.EuiLoadingSpinner,{"data-test-subj":"endpointExtensionLoadingSpinner"}):E?y:i.a.createElement(P.a,null)}));F.displayName="EndpointPackageCustomExtension"},930:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(4),r=a(841),s=a(240),i=a(206),o=a(428);function l(){const e=Object(s.h)(),t=Object(r.b)(),a=Object(i.f)(o.a.getInstance(e),void 0,void 0,{enabled:!1}),{data:l,isFetching:c,refetch:u,isFetched:d}=a,m=Object(n.useMemo)((()=>t.canAccessEndpointManagement&&(t.canIsolateHost||Boolean(null==l?void 0:l.total))),[t.canIsolateHost,t.canAccessEndpointManagement,null==l?void 0:l.total]);return Object(n.useEffect)((()=>{t.canIsolateHost||t.loading||d||c||u()}),[u,d,c,t.canIsolateHost,t.loading]),m}}}]);