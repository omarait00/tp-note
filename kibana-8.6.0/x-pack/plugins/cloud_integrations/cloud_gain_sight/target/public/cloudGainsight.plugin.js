/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(n){function t(t){for(var e,r,o=t[0],u=t[1],a=0,c=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&c.push(i[r][0]),i[r]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(n[e]=u[e]);for(s&&s(t);c.length;)c.shift()()}var e={},i={0:0};function r(t){if(e[t])return e[t].exports;var i=e[t]={i:t,l:!1,exports:{}};return n[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(n){var t=[],e=i[n];if(0!==e)if(e)t.push(e[2]);else{var o=new Promise((function(t,r){e=i[n]=[t,r]}));t.push(e[2]=o);var u,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(n){return r.p+"cloudGainsight.chunk."+n+".js"}(n);var s=new Error;u=function(t){a.onerror=a.onload=null,clearTimeout(c);var e=i[n];if(0!==e){if(e){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+n+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,e[1](s)}i[n]=void 0}};var c=setTimeout((function(){u({type:"timeout",target:a})}),12e4);a.onerror=a.onload=u,document.head.appendChild(a)}return Promise.all(t)},r.m=n,r.c=e,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,t){if(1&t&&(n=r(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)r.d(e,i,function(t){return n[t]}.bind(null,i));return e},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r.oe=function(n){throw console.error(n),n};var o=window.cloudGainsight_bundle_jsonpfunction=window.cloudGainsight_bundle_jsonpfunction||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var s=u;r(r.s=2)}([function(n,t,e){n.exports=e(1)(2)},function(n,t){n.exports=__kbnSharedDeps_npm__},function(n,t,e){e(3),__kbnBundles__.define("plugin/cloudGainsight/public",e,4)},function(n,t,e){e.p=window.__kbnPublicPath__.cloudGainsight},function(n,t,e){"use strict";e.r(t),e.d(t,"plugin",(function(){return o}));var i=e(0),r=e.n(i);class plugin_CloudGainsightPlugin{constructor(n){r()(this,"config",void 0),this.initializerContext=n,this.config=this.initializerContext.config.get()}setup(n,{cloud:t}){t.isCloudEnabled&&this.setupGainsight({analytics:n.analytics,basePath:n.http.basePath}).catch((n=>console.debug(`Error setting up Gainsight: ${n.toString()}`)))}start(){}stop(){}async setupGainsight({analytics:n,basePath:t}){const{org_id:i}=this.config;if(!i)return;const{GainsightShipper:r}=await e.e(1).then(e.bind(null,10));n.registerShipper(r,{gainsightOrgId:i,scriptUrl:t.prepend(`/internal/cloud/${this.initializerContext.env.packageInfo.buildNum}/gainsight.js`),cssFileEndpoint:t.prepend(`/internal/cloud/${this.initializerContext.env.packageInfo.buildNum}/gainsight.css`),widgetFileEndpoint:t.prepend(`/internal/cloud/${this.initializerContext.env.packageInfo.buildNum}/gainsight_widget.js`)})}}function o(n){return new plugin_CloudGainsightPlugin(n)}}]);