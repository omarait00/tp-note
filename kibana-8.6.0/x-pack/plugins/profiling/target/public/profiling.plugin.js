/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function n(n){for(var t,i,o=n[0],a=n[1],c=0,s=[];c<o.length;c++)i=o[c],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&s.push(r[i][0]),r[i]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(u&&u(n);s.length;)s.shift()()}var t={},r={0:0};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var o=new Promise((function(n,i){t=r[e]=[n,i]}));n.push(t[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"profiling.chunk."+e+".js"}(e);var u=new Error;a=function(n){c.onerror=c.onload=null,clearTimeout(s);var t=r[e];if(0!==t){if(t){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+i+": "+o+")",u.name="ChunkLoadError",u.type=i,u.request=o,t[1](u)}r[e]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(n)},i.m=e,i.c=t,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.oe=function(e){throw console.error(e),e};var o=window.profiling_bundle_jsonpfunction=window.profiling_bundle_jsonpfunction||[],a=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var u=a;i(i.s=9)}([function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return o}));const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,62,0,0,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,63,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,0,0,0,0],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234456789-_";function o(e,n){return r[127&e.charCodeAt(n)]}},function(e,n){e.exports=__kbnSharedDeps__.KbnI18n},function(e,n){e.exports=__kbnSharedDeps__.Rxjs},function(e,n,t){"use strict";(function(e){let r;t.d(n,"b",(function(){return o})),t.d(n,"e",(function(){return a})),t.d(n,"d",(function(){return c})),t.d(n,"c",(function(){return u})),t.d(n,"a",(function(){return s})),t.d(n,"g",(function(){return f})),t.d(n,"f",(function(){return p})),t.d(n,"h",(function(){return d})),t(0),function(e){e[e.Unsymbolized=0]="Unsymbolized",e[e.Python=1]="Python",e[e.PHP=2]="PHP",e[e.Native=3]="Native",e[e.Kernel=4]="Kernel",e[e.JVM=5]="JVM",e[e.Ruby=6]="Ruby",e[e.Perl=7]="Perl",e[e.JavaScript=8]="JavaScript"}(r||(r={}));const i={[r.Unsymbolized]:"<unsymbolized frame>",[r.Python]:"Python",[r.PHP]:"PHP",[r.Native]:"Native",[r.Kernel]:"Kernel",[r.JVM]:"JVM/Hotspot",[r.Ruby]:"Ruby",[r.Perl]:"Perl",[r.JavaScript]:"JavaScript"};function o(e){return i[e]}const a={FrameIDs:[],FileIDs:[],AddressOrLines:[],Types:[]},c={FileName:"",FunctionName:"",FunctionOffset:0,LineNumber:0,SourceType:0},u={FileName:""};function s(e={}){var n,t,r,i,o,a,c,u,s,l,f,p,d,b,m;const g={};return g.FrameID=null!==(n=e.FrameID)&&void 0!==n?n:"",g.FileID=null!==(t=e.FileID)&&void 0!==t?t:"",g.FrameType=null!==(r=e.FrameType)&&void 0!==r?r:0,g.AddressOrLine=null!==(i=e.AddressOrLine)&&void 0!==i?i:0,g.FunctionName=null!==(o=e.FunctionName)&&void 0!==o?o:"",g.FunctionOffset=null!==(a=e.FunctionOffset)&&void 0!==a?a:0,g.SourceID=null!==(c=e.SourceID)&&void 0!==c?c:"",g.SourceLine=null!==(u=e.SourceLine)&&void 0!==u?u:0,g.ExeFileName=null!==(s=e.ExeFileName)&&void 0!==s?s:"",g.CommitHash=null!==(l=e.CommitHash)&&void 0!==l?l:"",g.SourceCodeURL=null!==(f=e.SourceCodeURL)&&void 0!==f?f:"",g.SourceFilename=null!==(p=e.SourceFilename)&&void 0!==p?p:"",g.SourcePackageHash=null!==(d=e.SourcePackageHash)&&void 0!==d?d:"",g.SourcePackageURL=null!==(b=e.SourcePackageURL)&&void 0!==b?b:"",g.SourceType=null!==(m=e.SourceType)&&void 0!==m?m:0,g.FunctionOffset>0?g.FunctionSourceLine=g.SourceLine-g.FunctionOffset:g.FunctionSourceLine=0,g}function l(e){return void 0===(null==e?void 0:e.ExeFileName)?"":""!==e.ExeFileName?e.ExeFileName:o(e.FrameType)}function f(e){if(""!==e.FunctionName){const n=e.SourceFilename,t=n?n.split("/").pop():"";return`${l(e)}: ${function(e){return""===e.FunctionName||(n=e.FunctionName,/\(|\)/.test(n))?e.FunctionName:`${e.FunctionName}()`;var n}(e)} in ${t}#${e.SourceLine}`}return l(e)}function p(e){const n=e.ExeFileName?e.ExeFileName:o(e.FrameType);return e.FunctionName?n+": "+e.FunctionName:n}function d(e){return""===e.SourceFilename&&0===e.SourceLine?e.ExeFileName?e.ExeFileName+"+0x"+e.AddressOrLine.toString(16):"<unsymbolized>":""!==e.SourceFilename&&0===e.SourceLine?e.SourceFilename:e.SourceFilename+(0!==e.SourceLine?`#${e.SourceLine}`:"")}}).call(this,t(11).Buffer)},function(e,n,t){"use strict";function r(e,n,t,r,i){return""===i?`empty;${e};${n}`:""===r?`elf;${t};${i}`:`full;${t};${i};${r}`}t.d(n,"a",(function(){return r}))},function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return u}));var r=t(4);const i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function o(e){const n=e.length;let[t,r,o,a]=[8997,33826,40164,52210],[c,u,s,l]=[0,0,0,0];for(let i=0;i<n;i++)t^=e[i],c=435*t,u=435*r,s=435*o,l=435*a,u+=c>>16,s+=u>>16,s+=256*t,l+=256*r,t=65535&c,r=65535&u,o=65535&s,a=l+(s>>16)&65535;return i[a>>8]+i[255&a]+i[o>>8]+i[255&o]+i[r>>8]+i[255&r]+i[t>>8]+i[255&t]}var a=t(3);let c;function u(e){const n={Size:e.Size,Edges:e.Edges,FileID:e.FileID,FrameType:e.FrameType,ExeFilename:e.ExeFilename,AddressOrLine:e.AddressOrLine,FunctionName:e.FunctionName,FunctionOffset:e.FunctionOffset,SourceFilename:e.SourceFilename,SourceLine:e.SourceLine,CountInclusive:e.CountInclusive,CountExclusive:e.CountExclusive,ID:new Array(e.Size),Label:new Array(e.Size),TotalSeconds:e.TotalSeconds},t=Object(r.a)(n.FileID[0],n.AddressOrLine[0],n.ExeFilename[0],n.SourceFilename[0],n.FunctionName[0]);n.ID[0]=o((new TextEncoder).encode(t));const i=[0];for(;i.length>0;){const e=i.pop();for(const t of n.Edges[e]){const a=Object(r.a)(n.FileID[t],n.AddressOrLine[t],n.ExeFilename[t],n.SourceFilename[t],n.FunctionName[t]),c=(new TextEncoder).encode(n.ID[e]+a);n.ID[t]=o(c),i.push(t)}}n.Label[0]="root: Represents 100% of CPU time.";for(let e=1;e<n.Size;e++){const t=Object(a.a)({FileID:n.FileID[e],FrameType:n.FrameType[e],ExeFileName:n.ExeFilename[e],AddressOrLine:n.AddressOrLine[e],FunctionName:n.FunctionName[e],FunctionOffset:n.FunctionOffset[e],SourceFilename:n.SourceFilename[e],SourceLine:n.SourceLine[e]});n.Label[e]=Object(a.g)(t)}return n}!function(e){e.Absolute="absolute",e.Relative="relative"}(c||(c={}))},function(e,n,t){"use strict";t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return a}));var r=t(1);const i="profiling-events-all";function o(){return{TopN:"/api/profiling/v1/topn",TopNContainers:"/api/profiling/v1/topn/containers",TopNDeployments:"/api/profiling/v1/topn/deployments",TopNFunctions:"/api/profiling/v1/topn/functions",TopNHosts:"/api/profiling/v1/topn/hosts",TopNThreads:"/api/profiling/v1/topn/threads",TopNTraces:"/api/profiling/v1/topn/traces",Flamechart:"/api/profiling/v1/flamechart",CacheExecutables:"/api/profiling/v1/cache/executables",CacheStackFrames:"/api/profiling/v1/cache/stackframes"}}const a=r.i18n.translate("xpack.profiling.notAvailableLabel",{defaultMessage:"N/A"})},function(e,n,t){t.r(n);var r=__kbnBundles__.get("entry/core/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps_npm__},function(e,n,t){t(10),__kbnBundles__.define("plugin/profiling/public",t,12)},function(e,n,t){t.p=window.__kbnPublicPath__.profiling},function(e,n,t){e.exports=t(8)(2728)},function(e,n,t){"use strict";t.r(n),t.d(n,"plugin",(function(){return u}));var r=t(7),i=t(1),o=t(2),a=t(6),c=t(5);class plugin_ProfilingPlugin{setup(e,n){const u=[{id:"stacktraces",title:i.i18n.translate("xpack.profiling.navigation.stacktracesLinkLabel",{defaultMessage:"Stacktraces"}),path:"/stacktraces"},{id:"flamegraphs",title:i.i18n.translate("xpack.profiling.navigation.flameGraphsLinkLabel",{defaultMessage:"Flamegraphs"}),path:"/flamegraphs"},{id:"functions",title:i.i18n.translate("xpack.profiling.navigation.functionsLinkLabel",{defaultMessage:"Functions"}),path:"/functions"}],s=new o.BehaviorSubject(""),l=Object(o.combineLatest)([Object(o.from)(e.getStartServices()),s]).pipe(Object(o.map)((([e,n])=>[{label:i.i18n.translate("xpack.profiling.navigation.sectionLabel",{defaultMessage:"Universal Profiling"}),entries:u.map((e=>({app:"profiling",label:e.title,path:`${e.path}?kuery=${null!=n?n:""}`,matchPath:n=>n.startsWith(e.path)}))),sortKey:700}])));n.observability.navigation.registerSections(l),e.application.register({id:"profiling",title:"Universal Profiling",euiIconType:"logoObservability",appRoute:"/app/profiling",category:r.DEFAULT_APP_CATEGORIES.observability,deepLinks:u,async mount({element:r,history:i,theme$:o}){const[u,l]=await e.getStartServices(),f=function(){const e=Object(a.c)();return{fetchTopN:async({http:n,type:t,timeFrom:r,timeTo:i,kuery:o})=>{try{const a={timeFrom:r,timeTo:i,kuery:o};return await n.get(`${e.TopN}/${t}`,{query:a})}catch(e){return e}},fetchTopNFunctions:async({http:n,timeFrom:t,timeTo:r,startIndex:i,endIndex:o,kuery:a})=>{try{const c={timeFrom:t,timeTo:r,startIndex:i,endIndex:o,kuery:a};return await n.get(e.TopNFunctions,{query:c})}catch(e){return e}},fetchElasticFlamechart:async({http:n,timeFrom:t,timeTo:r,kuery:i})=>{try{const o={timeFrom:t,timeTo:r,kuery:i},a=await n.get(e.Flamechart,{query:o});return Object(c.b)(a)}catch(e){return e}}}}(),{renderApp:p}=await t.e(1).then(t.bind(null,49));function d(e){var n;const t=new URLSearchParams(e.search);s.next(null!==(n=t.get("kuery"))&&void 0!==n?n:"")}d(i.location),i.listen(d);const b=p({profilingFetchServices:f,coreStart:u,coreSetup:e,pluginsStart:l,pluginsSetup:n,history:i,theme$:o},r);return()=>{b(),s.next("")}}})}start(e){return{}}stop(){}}function u(){return new plugin_ProfilingPlugin}},function(e,n){e.exports=__kbnSharedDeps__.React},function(e,n){e.exports=__kbnSharedDeps__.EmotionReact},function(e,n){e.exports=__kbnSharedDeps__.Lodash},function(e,n){e.exports=__kbnSharedDeps__.ElasticEui},function(e,n){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,n){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/data/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ReactDom},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.ReactRouter},function(e,n){e.exports=__kbnSharedDeps__.TsLib},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/kibanaUtils/common");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n){e.exports=__kbnSharedDeps__.Moment},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/unifiedSearch/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))},function(e,n,t){t.r(n);var r=__kbnBundles__.get("plugin/observability/public");Object.defineProperties(n,Object.getOwnPropertyDescriptors(r))}]);