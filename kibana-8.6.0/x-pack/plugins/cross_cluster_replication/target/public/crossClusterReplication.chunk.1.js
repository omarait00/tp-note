/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.crossClusterReplication_bundle_jsonpfunction=window.crossClusterReplication_bundle_jsonpfunction||[]).push([[1],Array(27).concat([function(e,t,o){e.exports=o(18)(2)},function(e,t,o){"use strict";t.__esModule=!0;var s={batch:!0},r=o(45);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(s,e)||e in t&&t[e]===r[e]||(t[e]=r[e]))}));var a=o(60);t.batch=a.unstable_batchedUpdates,(0,o(36).setBatch)(a.unstable_batchedUpdates)},function(e,t,o){e.exports=o(18)(3)},function(e,t,o){e.exports=o(18)(2743)},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var r=s(o(14)).default.createContext(null);t.ReactReduxContext=r;var a=r;t.default=a},function(e,t,o){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var o,a=r;function n(){i.onStateChange&&i.onStateChange()}function l(){var r,l,i;o||(o=t?t.addNestedSub(n):e.subscribe(n),r=(0,s.getBatch)(),l=null,i=null,a={clear:function(){l=null,i=null},notify:function(){r((function(){for(var e=l;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=l;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,o=i={callback:e,next:null,prev:i};return o.prev?o.prev.next=o:l=o,function(){t&&null!==l&&(t=!1,o.next?o.next.prev=o.prev:i=o.prev,o.prev?o.prev.next=o.next:l=o.next)}}})}var i={addNestedSub:function(e){return l(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:n,isSubscribed:function(){return Boolean(o)},trySubscribe:l,tryUnsubscribe:function(){o&&(o(),o=void 0,a.clear(),a=r)},getListeners:function(){return a}};return i};var s=o(36),r={notify:function(){},get:function(){return[]}}},function(e,t,o){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var s=o(14),r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect;t.useIsomorphicLayoutEffect=r},function(e,t,o){e.exports=o(18)(1361)},function(e,t,o){e.exports=o(18)(2744)},function(e,t,o){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var s=function(e){e()};t.setBatch=function(e){return s=e},t.getBatch=function(){return s}},function(e,t,o){"use strict";var s=o(30).default,r=o(35).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var o=t,s=o.getDisplayName,r=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,d=o.methodName,F=void 0===d?"connectAdvanced":d,C=o.renderCountProp,E=void 0===C?void 0:C,M=o.shouldHandleStateChanges,I=void 0===M||M,P=o.storeKey,R=void 0===P?"store":P,v=(o.withRef,o.forwardRef),y=void 0!==v&&v,_=o.context,S=void 0===_?p.ReactReduxContext:_,T=(0,n.default)(o,x),k=S;return function(t){var o=t.displayName||t.name||"Component",s=r(o),d=(0,a.default)({},T,{getDisplayName:r,methodName:F,renderCountProp:E,shouldHandleStateChanges:I,storeKey:R,displayName:s,wrappedComponentName:o,WrappedComponent:t}),p=T.pure,x=p?i.useMemo:function(e){return e()};function C(o){var s=(0,i.useMemo)((function(){var e=o.reactReduxForwardedRef,t=(0,n.default)(o,f);return[o.context,e,t]}),[o]),r=s[0],l=s[1],p=s[2],F=(0,i.useMemo)((function(){return r&&r.Consumer&&(0,c.isContextConsumer)(i.default.createElement(r.Consumer,null))?r:k}),[r,k]),C=(0,i.useContext)(F),E=Boolean(o.store)&&Boolean(o.store.getState)&&Boolean(o.store.dispatch);Boolean(C)&&Boolean(C.store);var M=E?o.store:C.store,P=(0,i.useMemo)((function(){return function(t){return e(t.dispatch,d)}(M)}),[M]),R=(0,i.useMemo)((function(){if(!I)return j;var e=(0,u.createSubscription)(M,E?null:C.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[M,E,C]),v=R[0],y=R[1],_=(0,i.useMemo)((function(){return E?C:(0,a.default)({},C,{subscription:v})}),[E,C,v]),S=(0,i.useReducer)(b,m,O),T=S[0][0],L=S[1];if(T&&T.error)throw T.error;var A=(0,i.useRef)(),D=(0,i.useRef)(p),N=(0,i.useRef)(),B=(0,i.useRef)(!1),q=x((function(){return N.current&&p===D.current?N.current:P(M.getState(),p)}),[M,T,p]);g(h,[D,A,B,p,q,N,y]),g(w,[I,M,v,P,D,A,B,N,y,L],[M,v,P]);var z=(0,i.useMemo)((function(){return i.default.createElement(t,(0,a.default)({},q,{ref:l}))}),[l,t,q]);return(0,i.useMemo)((function(){return I?i.default.createElement(F.Provider,{value:_},z):z}),[F,z,_])}var M=p?i.default.memo(C):C;if(M.WrappedComponent=t,M.displayName=C.displayName=s,y){var P=i.default.forwardRef((function(e,t){return i.default.createElement(M,(0,a.default)({},e,{reactReduxForwardedRef:t}))}));return P.displayName=s,P.WrappedComponent=t,(0,l.default)(P,t)}return(0,l.default)(M,t)}};var a=s(o(29)),n=s(o(34)),l=s(o(48)),i=r(o(14)),c=o(49),u=o(32),d=o(33),p=o(31),x=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],f=["reactReduxForwardedRef"],m=[],j=[null,null];function b(e,t){var o=e[1];return[t.payload,o+1]}function g(e,t,o){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),o)}function h(e,t,o,s,r,a,n){e.current=s,t.current=r,o.current=!1,a.current&&(a.current=null,n())}function w(e,t,o,s,r,a,n,l,i,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,o,p=t.getState();try{e=s(p,r.current)}catch(e){o=e,d=e}o||(d=null),e===a.current?n.current||i():(a.current=e,l.current=e,n.current=!0,c({type:"STORE_UPDATED",payload:{error:o}}))}};return o.onStateChange=p,o.trySubscribe(),p(),function(){if(u=!0,o.tryUnsubscribe(),o.onStateChange=null,d)throw d}}}var O=function(){return[null,0]}},function(e,t,o){"use strict";function s(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(s(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var o=Object.keys(e),r=Object.keys(t);if(o.length!==r.length)return!1;for(var a=0;a<o.length;a++)if(!Object.prototype.hasOwnProperty.call(t,o[a])||!s(e[o[a]],t[o[a]]))return!1;return!0}},function(e,t,o){"use strict";var s=o(30).default;function r(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.getDependsOnOwnProps=r,t.wrapMapToPropsConstant=function(e){return function(t,o){var s=e(t,o);function r(){return s}return r.dependsOnOwnProps=!1,r}},t.wrapMapToPropsFunc=function(e,t){return function(t,o){o.displayName;var s=function(e,t){return s.dependsOnOwnProps?s.mapToProps(e,t):s.mapToProps(e)};return s.dependsOnOwnProps=!0,s.mapToProps=function(t,o){s.mapToProps=e,s.dependsOnOwnProps=r(e);var a=s(t,o);return"function"==typeof a&&(s.mapToProps=a,s.dependsOnOwnProps=r(a),a=s(t,o)),a},s}},s(o(40))},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=function(e,t,o){(0,r.default)(e)||(0,a.default)(o+"() in "+t+" must return a plain object. Instead received "+e+".")};var r=s(o(53)),a=s(o(41))},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,o){"use strict";t.__esModule=!0,t.createStoreHook=n,t.useStore=void 0;var s=o(14),r=o(31),a=o(43);function n(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?a.useReduxContext:function(){return(0,s.useContext)(e)};return function(){return t().store}}var l=n();t.useStore=l},function(e,t,o){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,s.useContext)(r.ReactReduxContext)};var s=o(14),r=o(31)},function(e,t,o){"use strict";function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=s(o(69));function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var n="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},i={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,o){var s;if("function"==typeof t&&"function"==typeof o||"function"==typeof o&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===o&&(o=t,t=void 0),void 0!==o){if("function"!=typeof o)throw new Error(a(1));return o(u)(e,t)}if("function"!=typeof e)throw new Error(a(2));var r=e,l=t,d=[],p=d,x=!1;function f(){p===d&&(p=d.slice())}function m(){if(x)throw new Error(a(3));return l}function j(e){if("function"!=typeof e)throw new Error(a(4));if(x)throw new Error(a(5));var t=!0;return f(),p.push(e),function(){if(t){if(x)throw new Error(a(6));t=!1,f();var o=p.indexOf(e);p.splice(o,1),d=null}}}function b(e){if(!c(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(x)throw new Error(a(9));try{x=!0,l=r(l,e)}finally{x=!1}for(var t=d=p,o=0;o<t.length;o++)(0,t[o])();return e}function g(e){if("function"!=typeof e)throw new Error(a(10));r=e,b({type:i.REPLACE})}function h(){var e,t=j;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function o(){e.next&&e.next(m())}return o(),{unsubscribe:t(o)}}})[n]=function(){return this},e}return b({type:i.INIT}),(s={dispatch:b,subscribe:j,getState:m,replaceReducer:g})[n]=h,s}var d=u;function p(e,t){return function(){return t(e.apply(this,arguments))}}function x(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=i,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return function(){var o=e.apply(void 0,arguments),s=function(){throw new Error(a(15))},n={getState:o.getState,dispatch:function(){return s.apply(void 0,arguments)}},l=t.map((function(e){return e(n)}));return s=x.apply(void 0,l)(o.dispatch),r.default(r.default({},o),{},{dispatch:s})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var o={};for(var s in e){var r=e[s];"function"==typeof r&&(o[s]=p(r,t))}return o},t.combineReducers=function(e){for(var t=Object.keys(e),o={},s=0;s<t.length;s++){var r=t[s];"function"==typeof e[r]&&(o[r]=e[r])}var n,l=Object.keys(o);try{!function(e){Object.keys(e).forEach((function(t){var o=e[t];if(void 0===o(void 0,{type:i.INIT}))throw new Error(a(12));if(void 0===o(void 0,{type:i.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(o)}catch(e){n=e}return function(e,t){if(void 0===e&&(e={}),n)throw n;for(var s=!1,r={},i=0;i<l.length;i++){var c=l[i],u=o[c],d=e[c],p=u(d,t);if(void 0===p)throw t&&t.type,new Error(a(14));r[c]=p,s=s||p!==d}return(s=s||l.length!==Object.keys(e).length)?r:e}},t.compose=x,t.createStore=u,t.legacy_createStore=d},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0;var r=s(o(46));t.Provider=r.default;var a=s(o(37));t.connectAdvanced=a.default;var n=o(31);t.ReactReduxContext=n.ReactReduxContext;var l=s(o(50));t.connect=l.default;var i=o(58);t.useDispatch=i.useDispatch,t.createDispatchHook=i.createDispatchHook;var c=o(59);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var u=o(42);t.useStore=u.useStore,t.createStoreHook=u.createStoreHook;var d=s(o(38));t.shallowEqual=d.default},function(e,t,o){"use strict";var s=o(30).default,r=o(35).default;t.__esModule=!0,t.default=void 0;var a=r(o(14)),n=(s(o(47)),o(31)),l=o(32),i=o(33);t.default=function(e){var t=e.store,o=e.context,s=e.children,r=(0,a.useMemo)((function(){var e=(0,l.createSubscription)(t);return{store:t,subscription:e}}),[t]),c=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,i.useIsomorphicLayoutEffect)((function(){var e=r.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,c]);var u=o||n.ReactReduxContext;return a.default.createElement(u.Provider,{value:r},s)}},function(e,t,o){e.exports=o(18)(8)},function(e,t,o){e.exports=o(18)(264)},function(e,t,o){e.exports=o(18)(447)},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.createConnect=m,t.default=void 0;var r=s(o(29)),a=s(o(34)),n=s(o(37)),l=s(o(38)),i=s(o(51)),c=s(o(54)),u=s(o(55)),d=s(o(56)),p=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function x(e,t,o){for(var s=t.length-1;s>=0;s--){var r=t[s](e);if(r)return r}return function(t,s){throw new Error("Invalid value of type "+typeof e+" for "+o+" argument when connecting component "+s.wrappedComponentName+".")}}function f(e,t){return e===t}function m(e){var t=void 0===e?{}:e,o=t.connectHOC,s=void 0===o?n.default:o,m=t.mapStateToPropsFactories,j=void 0===m?c.default:m,b=t.mapDispatchToPropsFactories,g=void 0===b?i.default:b,h=t.mergePropsFactories,w=void 0===h?u.default:h,O=t.selectorFactory,F=void 0===O?d.default:O;return function(e,t,o,n){void 0===n&&(n={});var i=n,c=i.pure,u=void 0===c||c,d=i.areStatesEqual,m=void 0===d?f:d,b=i.areOwnPropsEqual,h=void 0===b?l.default:b,O=i.areStatePropsEqual,C=void 0===O?l.default:O,E=i.areMergedPropsEqual,M=void 0===E?l.default:E,I=(0,a.default)(i,p),P=x(e,j,"mapStateToProps"),R=x(t,g,"mapDispatchToProps"),v=x(o,w,"mergeProps");return s(F,(0,r.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:P,initMapDispatchToProps:R,initMergeProps:v,pure:u,areStatesEqual:m,areOwnPropsEqual:h,areStatePropsEqual:C,areMergedPropsEqual:M},I))}}var j=m();t.default=j},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=n,t.whenMapDispatchToPropsIsMissing=l,t.whenMapDispatchToPropsIsObject=i;var r=s(o(52)),a=o(39);function n(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function l(e){return e?void 0:(0,a.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function i(e){return e&&"object"==typeof e?(0,a.wrapMapToPropsConstant)((function(t){return(0,r.default)(e,t)})):void 0}var c=[n,l,i];t.default=c},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t){var o={},s=function(s){var r=e[s];"function"==typeof r&&(o[s]=function(){return t(r.apply(void 0,arguments))})};for(var r in e)s(r);return o}},function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var o=t;null!==Object.getPrototypeOf(o);)o=Object.getPrototypeOf(o);return t===o}},function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=a;var s=o(39);function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function a(e){return e?void 0:(0,s.wrapMapToPropsConstant)((function(){return{}}))}var n=[r,a];t.default=n},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=a,t.whenMergePropsIsFunction=l,t.whenMergePropsIsOmitted=i,t.wrapMergePropsFunc=n;var r=s(o(29));function a(e,t,o){return(0,r.default)({},o,e,t)}function n(e){return function(t,o){o.displayName;var s,r=o.pure,a=o.areMergedPropsEqual,n=!1;return function(t,o,l){var i=e(t,o,l);return n?r&&a(i,s)||(s=i):(n=!0,s=i),s}}}function l(e){return"function"==typeof e?n(e):void 0}function i(e){return e?void 0:function(){return a}}s(o(40));var c=[l,i];t.default=c},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=function(e,t){var o=t.initMapStateToProps,s=t.initMapDispatchToProps,i=t.initMergeProps,c=(0,r.default)(t,a),u=o(e,c),d=s(e,c),p=i(e,c);return(c.pure?l:n)(u,d,p,e,c)},t.impureFinalPropsSelectorFactory=n,t.pureFinalPropsSelectorFactory=l;var r=s(o(34)),a=(s(o(57)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function n(e,t,o,s){return function(r,a){return o(e(r,a),t(s,a),a)}}function l(e,t,o,s,r){var a,n,l,i,c,u=r.areStatesEqual,d=r.areOwnPropsEqual,p=r.areStatePropsEqual,x=!1;return function(r,f){return x?function(r,x){var f,m,j=!d(x,n),b=!u(r,a);return a=r,n=x,j&&b?(l=e(a,n),t.dependsOnOwnProps&&(i=t(s,n)),c=o(l,i,n)):j?(e.dependsOnOwnProps&&(l=e(a,n)),t.dependsOnOwnProps&&(i=t(s,n)),c=o(l,i,n)):b?(f=e(a,n),m=!p(f,l),l=f,m&&(c=o(l,i,n)),c):c}(r,f):(l=e(a=r,n=f),i=t(s,n),c=o(l,i,n),x=!0,c)}}},function(e,t,o){"use strict";var s=o(30).default;t.__esModule=!0,t.default=function(e,t,o,s){a(e,"mapStateToProps",s),a(t,"mapDispatchToProps",s),a(o,"mergeProps",s)};var r=s(o(41));function a(e,t,o){if(!e)throw new Error("Unexpected value for "+t+" in "+o+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,r.default)("The selector for "+t+" of "+o+" did not specify a value for dependsOnOwnProps.")}},function(e,t,o){"use strict";t.__esModule=!0,t.createDispatchHook=a,t.useDispatch=void 0;var s=o(31),r=o(42);function a(e){void 0===e&&(e=s.ReactReduxContext);var t=e===s.ReactReduxContext?r.useStore:(0,r.createStoreHook)(e);return function(){return t().dispatch}}var n=a();t.useDispatch=n},function(e,t,o){"use strict";t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var s=o(14),r=o(43),a=o(32),n=o(33),l=o(31),i=function(e,t){return e===t};function c(e){void 0===e&&(e=l.ReactReduxContext);var t=e===l.ReactReduxContext?r.useReduxContext:function(){return(0,s.useContext)(e)};return function(e,o){void 0===o&&(o=i);var r=t(),l=function(e,t,o,r){var l,i=(0,s.useReducer)((function(e){return e+1}),0)[1],c=(0,s.useMemo)((function(){return(0,a.createSubscription)(o,r)}),[o,r]),u=(0,s.useRef)(),d=(0,s.useRef)(),p=(0,s.useRef)(),x=(0,s.useRef)(),f=o.getState();try{if(e!==d.current||f!==p.current||u.current){var m=e(f);l=void 0!==x.current&&t(m,x.current)?x.current:m}else l=x.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return(0,n.useIsomorphicLayoutEffect)((function(){d.current=e,p.current=f,x.current=l,u.current=void 0})),(0,n.useIsomorphicLayoutEffect)((function(){function e(){try{var e=o.getState();if(e===p.current)return;var s=d.current(e);if(t(s,x.current))return;x.current=s,p.current=e}catch(e){u.current=e}i()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[o,c]),l}(e,o,r.store,r.subscription);return(0,s.useDebugValue)(l),l}}var u=c();t.useSelector=u},function(e,t,o){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var s=o(21);t.unstable_batchedUpdates=s.unstable_batchedUpdates},function(e,t,o){"use strict";const s=o(62),r=o(63),a=o(64);function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function l(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function i(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function u(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=u(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function x(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const o=function(e){let t;switch(e.arrayFormat){case"index":return(e,o,s)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===s[e]&&(s[e]={}),s[e][t[1]]=o):s[e]=o};case"bracket":return(e,o,s)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==s[e]?s[e]=[].concat(s[e],o):s[e]=[o]:s[e]=o};case"comma":case"separator":return(t,o,s)=>{const r="string"==typeof o&&o.split("").indexOf(e.arrayFormatSeparator)>-1?o.split(e.arrayFormatSeparator).map((t=>i(t,e))):null===o?o:i(o,e);s[t]=r};default:return(e,t,o)=>{void 0!==o[e]?o[e]=[].concat(o[e],t):o[e]=t}}}(t),s=Object.create(null);if("string"!=typeof e)return s;if(!(e=e.trim().replace(/^[?#&]/,"")))return s;for(const r of e.split("&")){let[e,n]=a(t.decode?r.replace(/\+/g," "):r,"=");n=void 0===n?null:["comma","separator"].includes(t.arrayFormat)?n:i(n,t),o(i(e,t),n,s)}for(const e of Object.keys(s)){const o=s[e];if("object"==typeof o&&null!==o)for(const e of Object.keys(o))o[e]=p(o[e],t);else s[e]=p(o,t)}return!1===t.sort?s:(!0===t.sort?Object.keys(s).sort():Object.keys(s).sort(t.sort)).reduce(((e,t)=>{const o=s[t];return Boolean(o)&&"object"==typeof o&&!Array.isArray(o)?e[t]=c(o):e[t]=o,e}),Object.create(null))}t.extract=d,t.parse=x,t.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const o=o=>t.skipNull&&null==e[o]||t.skipEmptyString&&""===e[o],s=function(e){switch(e.arrayFormat){case"index":return t=>(o,s)=>{const r=o.length;return void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?o:null===s?[...o,[l(t,e),"[",r,"]"].join("")]:[...o,[l(t,e),"[",l(r,e),"]=",l(s,e)].join("")]};case"bracket":return t=>(o,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?o:null===s?[...o,[l(t,e),"[]"].join("")]:[...o,[l(t,e),"[]=",l(s,e)].join("")];case"comma":case"separator":return t=>(o,s)=>null==s||0===s.length?o:0===o.length?[[l(t,e),"=",l(s,e)].join("")]:[[o,l(s,e)].join(e.arrayFormatSeparator)];default:return t=>(o,s)=>void 0===s||e.skipNull&&null===s||e.skipEmptyString&&""===s?o:null===s?[...o,l(t,e)]:[...o,[l(t,e),"=",l(s,e)].join("")]}}(t),r={};for(const t of Object.keys(e))o(t)||(r[t]=e[t]);const a=Object.keys(r);return!1!==t.sort&&a.sort(t.sort),a.map((o=>{const r=e[o];return void 0===r?"":null===r?l(o,t):Array.isArray(r)?r.reduce(s(o),[]).join("&"):l(o,t)+"="+l(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[o,s]=a(e,"#");return Object.assign({url:o.split("?")[0]||"",query:x(d(e),t)},t&&t.parseFragmentIdentifier&&s?{fragmentIdentifier:i(s,t)}:{})},t.stringifyUrl=(e,o)=>{o=Object.assign({encode:!0,strict:!0},o);const s=u(e.url).split("?")[0]||"",r=t.extract(e.url),a=t.parse(r,{sort:!1}),n=Object.assign(a,e.query);let i=t.stringify(n,o);i&&(i=`?${i}`);let c=function(e){let t="";const o=e.indexOf("#");return-1!==o&&(t=e.slice(o)),t}(e.url);return e.fragmentIdentifier&&(c=`#${l(e.fragmentIdentifier,o)}`),`${s}${i}${c}`}},function(e,t,o){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,o){"use strict";var s="%[a-f0-9]{2}",r=new RegExp(s,"gi"),a=new RegExp("("+s+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var o=e.slice(0,t),s=e.slice(t);return Array.prototype.concat.call([],n(o),n(s))}function l(e){try{return decodeURIComponent(e)}catch(s){for(var t=e.match(r),o=1;o<t.length;o++)t=(e=n(t,o).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},o=a.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var s=l(o[0]);s!==o[0]&&(t[o[0]]=s)}o=a.exec(e)}t["%C2"]="�";for(var r=Object.keys(t),n=0;n<r.length;n++){var i=r[n];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}},function(e,t,o){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const o=e.indexOf(t);return-1===o?[e]:[e.slice(0,o),e.slice(o+t.length)]}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelector=void 0,t.createSelectorCreator=a,t.createStructuredSelector=void 0,Object.defineProperty(t,"defaultEqualityCheck",{enumerable:!0,get:function(){return s.defaultEqualityCheck}}),Object.defineProperty(t,"defaultMemoize",{enumerable:!0,get:function(){return s.defaultMemoize}});var s=o(66);function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var o=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+o+"]")}return t}function a(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];var a=function(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];var n,l=0,i={memoizeOptions:void 0},c=s.pop();if("object"==typeof c&&(i=c,c=s.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=i,d=u.memoizeOptions,p=void 0===d?o:d,x=Array.isArray(p)?p:[p],f=r(s),m=e.apply(void 0,[function(){return l++,c.apply(null,arguments)}].concat(x)),j=e((function(){for(var e=[],t=f.length,o=0;o<t;o++)e.push(f[o].apply(null,arguments));return n=m.apply(null,e)}));return Object.assign(j,{resultFunc:c,memoizedResultFunc:m,dependencies:f,lastResult:function(){return n},recomputations:function(){return l},resetRecomputations:function(){return l=0}}),j};return a}var n=a(s.defaultMemoize);t.createSelector=n,t.createStructuredSelector=function(e,t){if(void 0===t&&(t=n),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var o=Object.keys(e),s=t(o.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.reduce((function(e,t,s){return e[o[s]]=t,e}),{})}));return s}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheKeyComparator=a,t.defaultEqualityCheck=void 0,t.defaultMemoize=function(e,t){var o,n,l="object"==typeof t?t:{equalityCheck:t},i=l.equalityCheck,c=void 0===i?r:i,u=l.maxSize,d=void 0===u?1:u,p=l.resultEqualityCheck,x=a(c),f=1===d?(o=x,{get:function(e){return n&&o(n.key,e)?n.value:s},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var o=[];function r(e){var r=o.findIndex((function(o){return t(e,o.key)}));if(r>-1){var a=o[r];return r>0&&(o.splice(r,1),o.unshift(a)),a.value}return s}return{get:r,put:function(t,a){r(t)===s&&(o.unshift({key:t,value:a}),o.length>e&&o.pop())},getEntries:function(){return o},clear:function(){o=[]}}}(d,x);function m(){var t=f.get(arguments);if(t===s){if(t=e.apply(null,arguments),p){var o=f.getEntries(),r=o.find((function(e){return p(e.value,t)}));r&&(t=r.value)}f.put(arguments,t)}return t}return m.clearCache=function(){return f.clear()},m};var s="NOT_FOUND",r=function(e,t){return e===t};function a(e){return function(t,o){if(null===t||null===o||t.length!==o.length)return!1;for(var s=t.length,r=0;r<s;r++)if(!e(t[r],o[r]))return!1;return!0}}t.defaultEqualityCheck=r},function(e,t,o){e.exports=o(18)(3573)},function(e,t){ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,o){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,o){e.exports=o(18)(2745)},function(e,t,o){"use strict";function s(e){return function(t){var o=t.dispatch,s=t.getState;return function(t){return function(r){return"function"==typeof r?r(o,s,e):t(r)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s();r.withExtraArgument=s;var a=r;t.default=a},function(e,t,o){"use strict";o.r(t),o.d(t,"mountApp",(function(){return Jt}));var s=o(14),r=o.n(s),a=o(21),n=o(28),l=o(20),i=o(19),c=(o(22),o(4));let u;const d=e=>({text:c.i18n.translate("xpack.crossClusterReplication.homeBreadcrumbTitle",{defaultMessage:"Cross-Cluster Replication"}),href:e||"/"}),p={text:c.i18n.translate("xpack.crossClusterReplication.addBreadcrumbTitle",{defaultMessage:"Add"})},x={text:c.i18n.translate("xpack.crossClusterReplication.editBreadcrumbTitle",{defaultMessage:"Edit"})};let f;var m=o(23),j=o(17),b=o(16),g=o(8),h=o(27),w=o.n(h),O=o(61),F=o(0);const C=(e,t=!1)=>{if(e)return`?${Object(O.stringify)(e,{sort:!1,encode:t})}`},E=new class routing_Routing{constructor(){w()(this,"_reactRouter",null),w()(this,"getAutoFollowPatternPath",((e,t="/edit")=>encodeURI(`/auto_follow_patterns${t}/${encodeURIComponent(e)}`))),w()(this,"getFollowerIndexPath",((e,t="/edit")=>encodeURI(`/follower_indices${t}/${encodeURIComponent(e)}`)))}getHrefToRemoteClusters(e="/",t,o=!1){const s=C(t,o)||"";return this._reactRouter.getUrlForApp("management",{path:`${F.d}${e}${s}`})}navigate(e="/home",t,o=!1){const s=C(t,o);this._reactRouter.history.push({pathname:encodeURI(e),search:s})}get reactRouter(){return this._reactRouter}set reactRouter(e){this._reactRouter=e}};var M=o(7),I=o(1),P=o(65);const R=e=>Object.keys(e).map((t=>({...e[t],__id__:t}))),v=(e,t="id")=>e.reduce(((e,o)=>(e[o[t]]=o,e)),{}),y=e=>e.api,_=e=>Object(P.createSelector)(y,(t=>t.status[e]||I.a.IDLE)),S=e=>Object(P.createSelector)(y,(t=>t.error[e])),T=e=>Object(P.createSelector)(S(e),(e=>!e||403!==e.status)),k=Object(P.createSelector)((e=>e.stats),(e=>e.autoFollow)),L=e=>e.autoFollowPattern,A=Object(P.createSelector)(L,(e=>e.byId)),D=(e="detail")=>Object(P.createSelector)(L,(t=>"detail"===e?t.selectedDetailId:t.selectedEditId)),N=(e="detail")=>Object(P.createSelector)(L,k,((t,o)=>{const s="detail"===e?"selectedDetailId":"selectedEditId";if(!t[s])return null;const r=t[s],a=t.byId[r],n=o&&o.recentAutoFollowErrors[r]||[];return a?{...a,errors:n}:null})),B=Object(P.createSelector)(A,(e=>R(e))),q=e=>e.followerIndex,z=Object(P.createSelector)(q,(e=>e.byId)),U=(e="detail")=>Object(P.createSelector)(q,(t=>"detail"===e?t.selectedDetailId:t.selectedEditId)),W=(e="detail")=>Object(P.createSelector)(q,(t=>{const o="detail"===e?"selectedDetailId":"selectedEditId";return t[o]?t.byId[t[o]]:null})),V=Object(P.createSelector)(z,(e=>R(e))),$="API_REQUEST_START",G="API_REQUEST_END",H="API_ERROR_SET",Y="AUTO_FOLLOW_PATTERN_SELECT_DETAIL",X="AUTO_FOLLOW_PATTERN_SELECT_EDIT",K="AUTO_FOLLOW_PATTERN_LOAD",Q="AUTO_FOLLOW_PATTERN_GET",J="AUTO_FOLLOW_PATTERN_DELETE",Z="AUTO_FOLLOW_PATTERN_PAUSE",ee="AUTO_FOLLOW_PATTERN_RESUME",te="FOLLOWER_INDEX_SELECT_DETAIL",oe="FOLLOWER_INDEX_SELECT_EDIT",se="FOLLOWER_INDEX_LOAD",re="FOLLOWER_INDEX_GET",ae="FOLLOWER_INDEX_UNFOLLOW",ne="AUTO_FOLLOW_STATS_LOAD",le=({label:e,scope:t})=>({type:G,payload:{label:e,scope:t}}),ie=e=>({type:H,payload:{error:null,scope:e}}),ce=({label:e,scope:t,status:o,handler:s,onSuccess:r=(()=>{}),onError:a=(()=>{})})=>async(n,l)=>{n(ie(t)),n((({label:e,scope:t,status:o=I.a.LOADING})=>({type:$,payload:{label:e,scope:t,status:o}}))({label:e,scope:t,status:o}));try{const o=await s(n);n(le({label:e,scope:t})),n({type:`${e}_SUCCESS`,payload:o}),r(o,n,l)}catch(o){n(le({label:e,scope:t})),n((({error:e,scope:t})=>({type:H,payload:{error:e,scope:t}}))({error:o,scope:t})),n({type:`${e}_FAILURE`,payload:o}),a(o,n,l)}},{AUTO_FOLLOW_PATTERN:ue}=I.b,de=e=>({type:Y,payload:e}),pe=(e,t,o=!1)=>ce({label:o?"AUTO_FOLLOW_PATTERN_UPDATE":"AUTO_FOLLOW_PATTERN_CREATE",status:I.a.SAVING,scope:`${ue}-save`,handler:async()=>o?await Object(M.r)(e,t):await Object(M.a)({id:e,...t}),onSuccess(){const t=o?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.updateAction.successNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' updated successfully",values:{name:e}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.addAction.successNotificationTitle",{defaultMessage:"Added auto-follow pattern '{name}'",values:{name:e}});Object(g.b)().addSuccess(t),E.navigate("/auto_follow_patterns",{pattern:encodeURIComponent(e)})}}),xe=e=>ce({label:Z,scope:`${ue}-pause`,status:I.a.UPDATING,handler:()=>Object(M.l)(e),onSuccess:e=>{if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorMultipleNotificationTitle",{defaultMessage:"Error pausing {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.errorSingleNotificationTitle",{defaultMessage:"Error pausing the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsPaused.length){const t=e.itemsPaused.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were paused",values:{count:e.itemsPaused.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.pauseAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was paused",values:{name:e.itemsPaused[0]}});Object(g.b)().addSuccess(t)}}}),fe=e=>ce({label:ee,scope:`${ue}-resume`,status:I.a.UPDATING,handler:()=>Object(M.n)(e),onSuccess:e=>{if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorMultipleNotificationTitle",{defaultMessage:"Error resuming {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.errorSingleNotificationTitle",{defaultMessage:"Error resuming the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsResumed.length){const t=e.itemsResumed.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were resumed",values:{count:e.itemsResumed.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.resumeAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was resumed",values:{name:e.itemsResumed[0]}});Object(g.b)().addSuccess(t)}}}),{FOLLOWER_INDEX:me}=I.b,je=e=>({type:te,payload:e}),be=(e=!1)=>ce({label:se,scope:me,status:e?I.a.UPDATING:I.a.LOADING,handler:async()=>await Object(M.h)(e)}),ge=(e,t,o=!1)=>ce({label:"FOLLOWER_INDEX_CREATE",status:I.a.SAVING,scope:`${me}-save`,handler:async()=>o?await Object(M.s)(e,t):await Object(M.b)({name:e,...t}),onSuccess(){const t=o?c.i18n.translate("xpack.crossClusterReplication.followerIndex.updateAction.successNotificationTitle",{defaultMessage:"Follower index '{name}' updated successfully",values:{name:e}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.addAction.successNotificationTitle",{defaultMessage:"Added follower index '{name}'",values:{name:e}});Object(g.b)().addSuccess(t),E.navigate("/follower_indices",{name:encodeURIComponent(e)})}}),{CCR_STATS:he}=I.b;var we=o(29),Oe=o.n(we),Fe=o(2),Ce=o(15);function Ee(e){var t;const{title:o,error:r,...a}=e,n=r.body?r.body:r,{error:l,attributes:i,message:c}=n;return Object(Ce.jsx)(b.EuiCallOut,Oe()({title:o,color:"danger",iconType:"alert"},a),Object(Ce.jsx)("div",null,c||l),(null==i||null===(t=i.error)||void 0===t?void 0:t.root_cause)&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)("ul",null,i.error.root_cause.map((({type:e,reason:t},o)=>Object(Ce.jsx)("li",{key:o},e,": ",t))))))}class remote_clusters_provider_RemoteClustersProvider extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isLoading:!0,error:null,remoteClusters:[]})}componentDidMount(){this.loadRemoteClusters()}loadRemoteClusters(){Object(M.k)().then((e=>e.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)))).then((e=>{this.setState({isLoading:!1,remoteClusters:e})})).catch((e=>{this.setState({isLoading:!1,error:e})}))}render(){const{children:e}=this.props,{isLoading:t,error:o,remoteClusters:s}=this.state;return e({isLoading:t,error:o,remoteClusters:s})}}var Me=o(24);const Ie=(e,t)=>t&&e.some((e=>e.name===t))?t:(e=>{for(let t=0;t<e.length;t++)if(e[t].isConnected)return e[t];return e.length?e[0]:{}})(e).name;var Pe=o(25),Re=o.n(Pe);const ve=({prefix:e,suffix:t,leaderIndexPatterns:o})=>{const{indicesPreview:s}=(({prefix:e,suffix:t,leaderIndexPatterns:o,limit:s=5,wildcardPlaceHolders:r=[Re()().format("YYYY-MM-DD"),Re()().add(1,"days").format("YYYY-MM-DD"),Re()().add(2,"days").format("YYYY-MM-DD")]})=>{const a=[];let n,l;return o.forEach((o=>{r.forEach((s=>{l=o.replace(/\*/g,s),n=((e="",t="",o="{{leader_index}}")=>({followPattern:{prefix:e,suffix:t,template:o},toString:e+o+t}))(e,t,l),a.some((e=>n.toString===e.toString))||a.push(n)}))})),{indicesPreview:a.slice(0,s),hasMore:a.length>s}})({prefix:e,suffix:t,leaderIndexPatterns:o}),r=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewTitle",{defaultMessage:"Index name examples"});return Object(Ce.jsx)(b.EuiCallOut,{title:r,iconType:"indexMapping","data-test-subj":"autoFollowPatternIndicesPreview"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.indicesPreviewDescription",defaultMessage:"The above settings will generate index names that look like this:"}),Object(Ce.jsx)("ul",null,s.map((({followPattern:{prefix:e,suffix:t,template:o}},s)=>Object(Ce.jsx)("li",{key:s,"data-test-subj":"indexPreview"},e,Object(Ce.jsx)("strong",null,o),t)))))},ye={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutDescription",defaultMessage:"You need at least one remote cluster to create a follower index."}),remoteClusterNotConnectedEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"Edit the remote cluster or select a cluster that is connected."})})};class remote_clusters_form_field_RemoteClustersFormField extends s.PureComponent{constructor(...e){super(...e),w()(this,"errorMessages",{...ye,...this.props.errorMessages}),w()(this,"onRemoteClusterChange",(e=>{const{onChange:t,onError:o}=this.props,{error:s}=this.validateRemoteCluster(e);t(e),o(s)})),w()(this,"renderNotEditable",(()=>{const{areErrorsVisible:e}=this.props,t=this.renderErrorMessage();return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiFieldText,{value:this.props.selected,fullWidth:!0,disabled:!0,isInvalid:e&&Boolean(t),"data-test-subj":"remoteClusterInput"}),e&&Boolean(t)?this.renderValidRemoteClusterRequired():null,t)})),w()(this,"renderValidRemoteClusterRequired",(()=>Object(Ce.jsx)(b.EuiFormErrorText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.validRemoteClusterRequired",defaultMessage:"A connected remote cluster is required."})))),w()(this,"renderDropdown",(()=>{const{remoteClusters:e,selected:t,currentUrl:o,areErrorsVisible:r}=this.props,a=Boolean(e.length),n=a?e.map((({name:e,isConnected:t})=>({value:e,text:t?e:c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterDropdownNotConnected",{defaultMessage:"{name} (not connected)",values:{name:e}}),"data-test-subj":`option-${e}`}))):[],l=this.renderErrorMessage();return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiSelect,{fullWidth:!0,options:n,value:a?t:"",onChange:e=>{this.onRemoteClusterChange(e.target.value)},hasNoInitialSelection:!a,isInvalid:r&&Boolean(l),"data-test-subj":"remoteClusterSelect"}),r&&Boolean(l)?this.renderValidRemoteClusterRequired():null,l,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)("div",null," ",Object(Ce.jsx)(b.EuiButtonEmpty,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${o}`},!0),size:"s",iconType:"plusInCircle",flush:"left","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))})),w()(this,"renderNoClusterFound",(()=>{const{currentUrl:e}=this.props,t=c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.emptyRemoteClustersCallOutTitle",{defaultMessage:"You don't have any remote clusters"});return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:t,color:"danger",iconType:"cross","data-test-subj":"noClusterFoundError"},Object(Ce.jsx)("p",null,this.errorMessages.noClusterFound()),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${e}`},!0),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"}))))})),w()(this,"renderCurrentRemoteClusterNotConnected",((e,t)=>{const{isEditable:o,currentUrl:s}=this.props,{remoteClusterNotConnectedEditable:r,remoteClusterNotConnectedNotEditable:a}=this.errorMessages,{title:n,description:l}=o?r(e):a(e);return Object(Ce.jsx)(b.EuiCallOut,{title:n,color:t?"danger":"warning",iconType:"cross","data-test-subj":"notConnectedError"},Object(Ce.jsx)("p",null,l),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters(`/edit/${e}`,{redirect:`/data/cross_cluster_replication${s}`},!0),color:t?"danger":"warning","data-test-subj":"editButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.viewRemoteClusterButtonLabel",defaultMessage:"Edit remote cluster"})))})),w()(this,"renderRemoteClusterDoesNotExist",(e=>{const{currentUrl:t}=this.props,o=c.i18n.translate("xpack.crossClusterReplication.remoteClustersFormField.remoteClusterNotFoundTitle",{defaultMessage:"Couldn't find remote cluster '{name}'",values:{name:e}});return Object(Ce.jsx)(b.EuiCallOut,{title:o,color:"danger",iconType:"cross"},Object(Ce.jsx)("p",null,this.errorMessages.remoteClusterDoesNotExist(e)),Object(Ce.jsx)(b.EuiButton,{href:E.getHrefToRemoteClusters("/add",{redirect:`/data/cross_cluster_replication${t}`},!0),iconType:"plusInCircle",color:"danger","data-test-subj":"addButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.addRemoteClusterButtonLabel",defaultMessage:"Add remote cluster"})))})),w()(this,"renderErrorMessage",(()=>{const{selected:e,remoteClusters:t,isEditable:o}=this.props,r=t.find((t=>t.name===e)),a=r&&r.isConnected;let n;if(o){const o=Boolean(t.length);o&&!a?n=this.renderCurrentRemoteClusterNotConnected(e):o||(n=this.renderNoClusterFound())}else r?a||(n=this.renderCurrentRemoteClusterNotConnected(e,!0)):n=this.renderRemoteClusterDoesNotExist(e);return n?Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),n):null}))}componentDidMount(){const{selected:e,onError:t}=this.props,{error:o}=this.validateRemoteCluster(e);t(o)}validateRemoteCluster(e){const{remoteClusters:t}=this.props,o=t.find((t=>t.name===e));return o&&o.isConnected?{error:null}:{error:{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.invalidRemoteClusterError",defaultMessage:"Invalid remote cluster"})}}}render(){const{remoteClusters:e,selected:t,isEditable:o,areErrorsVisible:s}=this.props,r=e.find((e=>e.name===t)),a=Boolean(e.length),n=r&&r.isConnected,l=s&&(!a||!n);let i;return i=o?a?this.renderDropdown():this.renderErrorMessage():this.renderNotEditable(),Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.remoteClustersFormField.fieldClusterLabel",defaultMessage:"Remote cluster"}),isInvalid:l,fullWidth:!0,"data-test-subj":"remoteClusterFormField"},i)}}const{indexNameBeginsWithPeriod:_e,findIllegalCharactersInIndexName:Se,indexNameContainsSpaces:Te}=l.indices,ke=(e={})=>{const t={};let o,s=null;return Object.keys(e).forEach((r=>{switch(o=e[r],s=null,r){case"name":s=((e="")=>{let t=null;return e&&e.trim()?(e.includes(" ")&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorSpace",{defaultMessage:"Spaces are not allowed in the name."})),"_"===e[0]&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorUnderscore",{defaultMessage:"Name can't begin with an underscore."})),e.includes(",")&&(t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorComma",{defaultMessage:"Commas are not allowed in the name."}))):t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.nameValidation.errorEmptyName",{defaultMessage:"Name is required."}),t})(o);break;case"leaderIndexPatterns":s=o.length?null:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})};break;case"followIndexPatternPrefix":s=(e=>{if(!e||!e.trim())return null;if(_e(e))return Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.beginsWithPeriod",defaultMessage:"The prefix can't begin with a period."});const t=Se(e);return t.length?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the prefix.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):Te(e)?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.prefixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the prefix."}):null})(o);break;case"followIndexPatternSuffix":s=(e=>{if(!e||!e.trim())return null;const t=Se(e);return t.length?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the suffix.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" ")),characterListLength:t.length}}):Te(e)?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.suffixValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the suffix."}):null})(o)}t[r]=s})),t};class auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout extends s.PureComponent{render(){const{name:e,autoFollowPattern:t,close:o,isNew:s}=this.props,r=`PUT /_ccr/auto_follow/${e||"<autoFollowPatternName>"}\n${JSON.stringify((({remoteCluster:e,leaderIndexPatterns:t,followIndexPattern:o})=>({remote_cluster:e,leader_index_patterns:t,follow_index_pattern:o}))(t),null,2)}`;return Object(Ce.jsx)(b.EuiFlyout,{maxWidth:480,onClose:o},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,null,Object(Ce.jsx)("h2",null,e?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.namedTitle",defaultMessage:"Request for '{name}'",values:{name:e}}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.unnamedTitle",defaultMessage:"Request"})))),Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,s?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.createDescriptionText",defaultMessage:"This Elasticsearch request will create this auto-follow pattern."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.editDescriptionText",defaultMessage:"This Elasticsearch request will update this auto-follow pattern."}))),Object(Ce.jsx)(b.EuiSpacer,null),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json",isCopyable:!0},r)),Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",onClick:o,flush:"left"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}const Le=Me.indexPatterns.ILLEGAL_CHARACTERS_VISIBLE.join(" "),Ae=l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" "),De=(e,t)=>({fieldsErrors:{...t,...e}});class auto_follow_pattern_form_AutoFollowPatternForm extends s.PureComponent{constructor(e){super(e),w()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),w()(this,"onFieldsChange",(e=>{this.setState((({autoFollowPattern:t})=>({autoFollowPattern:{...t,...e}})));const t=ke(e);this.onFieldsErrorChange(t)})),w()(this,"onFieldsErrorChange",(e=>this.setState((({fieldsErrors:t})=>De(e,t))))),w()(this,"onClusterChange",(e=>{this.onFieldsChange({remoteCluster:e})})),w()(this,"onCreateLeaderIndexPattern",(e=>{const t=(e=>{if(e){const t=Me.indexPatterns.validate(e);if(t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY])return{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.illegalCharacters",defaultMessage:"Remove the {characterListLength, plural, one {character} other {characters}} {characterList} from the index pattern.",values:{characterList:Object(Ce.jsx)("strong",null,t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY].join(" ")),characterListLength:t[Me.indexPatterns.ILLEGAL_CHARACTERS_KEY].length}})};if(t[Me.indexPatterns.CONTAINS_SPACES_KEY])return{message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the index pattern."})}}return e&&e.trim()?null:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.leaderIndexPatternValidation.isEmpty",{defaultMessage:"At least one leader index pattern is required."})}})(e);if(t){const e={leaderIndexPatterns:{...t,alwaysVisible:!0}};return this.setState((({fieldsErrors:t})=>De(e,t))),!1}const{autoFollowPattern:{leaderIndexPatterns:o}}=this.state,s=[...o,e];this.onFieldsChange({leaderIndexPatterns:s})})),w()(this,"onLeaderIndexPatternChange",(e=>{this.onFieldsChange({leaderIndexPatterns:e.map((({label:e})=>e))})})),w()(this,"onLeaderIndexPatternInputChange",(e=>{const t=!e||!e.trim(),{autoFollowPattern:{leaderIndexPatterns:o}}=this.state;if(!t&&o.includes(e)){const e={leaderIndexPatterns:{message:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.leaderIndexPatternError.duplicateMessage",{defaultMessage:"Duplicate leader index pattern aren't allowed."}),alwaysVisible:!0}};this.setState((({fieldsErrors:t})=>De(e,t)))}else this.setState((({fieldsErrors:t,autoFollowPattern:{leaderIndexPatterns:o}})=>{const s=Boolean(o.length)?ke({leaderIndexPatterns:o}):ke({leaderIndexPatterns:[e]});return De(s,t)}))})),w()(this,"getFields",(()=>{const{autoFollowPattern:e}=this.state,{followIndexPatternPrefix:t,followIndexPatternSuffix:o,...s}=e;return{...s,followIndexPattern:`${t}{{leader_index}}${o}`}})),w()(this,"sendForm",(()=>{if(!this.isFormValid())return void this.setState({areErrorsVisible:!0});this.setState({areErrorsVisible:!1});const{name:e,...t}=this.getFields();this.props.saveAutoFollowPattern(e,t)})),w()(this,"cancelForm",(()=>{E.navigate("/auto_follow_patterns")})),w()(this,"renderForm",(()=>{const{autoFollowPattern:{name:e,remoteCluster:t,leaderIndexPatterns:o,followIndexPatternPrefix:r,followIndexPatternSuffix:a},isNew:n,areErrorsVisible:l,fieldsErrors:i}=this.state;return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiForm,{"data-test-subj":"autoFollowPatternForm"},(()=>{const t=l&&!!i.name;return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameTitle",defaultMessage:"Name"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternNameDescription",defaultMessage:"A unique name for the auto-follow pattern."}),fullWidth:!0},Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPatternName.fieldNameLabel",defaultMessage:"Name"}),error:i.name,isInvalid:t,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:t,value:e,onChange:e=>this.onFieldsChange({name:e.target.value}),fullWidth:!0,disabled:!n,"data-test-subj":"nameInput"})))})(),(()=>{const{remoteClusters:e,currentUrl:o}=this.props,s={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Auto-follow patterns capture indices on remote clusters."}),remoteClusterNotConnectedNotEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit auto-follow pattern because remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:e=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this auto-follow pattern, you must add a remote cluster named '{name}'.",values:{name:e}})};return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionRemoteClusterDescription",defaultMessage:"The remote cluster to replicate leader indices from."}),fullWidth:!0},Object(Ce.jsx)(remote_clusters_form_field_RemoteClustersFormField,{selected:t||null,remoteClusters:e,currentUrl:o,isEditable:n,areErrorsVisible:l,onChange:this.onClusterChange,onError:e=>this.onFieldsErrorChange({remoteCluster:e}),errorMessages:s}))})(),(()=>{const e=!(!i.leaderIndexPatterns||!i.leaderIndexPatterns.message)&&(i.leaderIndexPatterns.alwaysVisible||l),t=o.map((e=>({label:e})));return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsTitle",defaultMessage:"Leader indices"}))),description:Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription1",defaultMessage:"One or more index patterns that identify the indices you want to replicate from the remote cluster. As new indices matching these patterns are created, they are replicated to follower indices on the local cluster."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2",defaultMessage:"{note} Indices that already exist are not replicated.",values:{note:Object(Ce.jsx)("strong",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionLeaderIndexPatternsDescription2.noteLabel",defaultMessage:"Note:"}))}}))),fullWidth:!0},Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsLabel",defaultMessage:"Index patterns"}),helpText:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,Le)}}),isInvalid:e,error:i.leaderIndexPatterns&&i.leaderIndexPatterns.message,fullWidth:!0},Object(Ce.jsx)(b.EuiComboBox,{noSuggestions:!0,placeholder:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.fieldLeaderIndexPatternsPlaceholder",{defaultMessage:"Type and then hit ENTER"}),selectedOptions:t,onCreateOption:this.onCreateLeaderIndexPattern,onChange:this.onLeaderIndexPatternChange,onSearchChange:this.onLeaderIndexPatternInputChange,fullWidth:!0,"data-test-subj":"indexPatternInput"})))})(),(()=>{const e=l&&!!i.followIndexPatternPrefix,t=l&&!!i.followIndexPatternSuffix;return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h4",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternTitle",defaultMessage:"Follower indices (optional)"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.sectionAutoFollowPatternDescription",defaultMessage:"A custom prefix or suffix to apply to the names of the follower indices so you can more easily identify replicated indices. By default, a follower index has the same name as the leader index."}),fullWidth:!0},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldPrefixLabel",defaultMessage:"Prefix"}),error:i.followIndexPatternPrefix,isInvalid:e,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:e,value:r,onChange:e=>this.onFieldsChange({followIndexPatternPrefix:e.target.value}),fullWidth:!0,"data-test-subj":"prefixInput"}))),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiFormRow,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.autoFollowPattern.fieldSuffixLabel",defaultMessage:"Suffix"}),error:i.followIndexPatternSuffix,isInvalid:t,fullWidth:!0},Object(Ce.jsx)(b.EuiFieldText,{isInvalid:t,value:a,onChange:e=>this.onFieldsChange({followIndexPatternSuffix:e.target.value}),fullWidth:!0,"data-test-subj":"suffixInput"})))),Object(Ce.jsx)(b.EuiFormHelpText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.fieldFollowerIndicesHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,Ae)}})),!!o.length&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)(ve,{prefix:r,suffix:a,leaderIndexPatterns:o})))})()),Object(Ce.jsx)(b.EuiSpacer,null),(()=>{const{areErrorsVisible:e}=this.state,t=this.isFormValid();return!e||t?null:Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))})(),this.renderApiErrors(),(()=>{const{apiStatus:e,saveButtonLabel:t}=this.props,{areErrorsVisible:o,isRequestVisible:s}=this.state;if(e===I.a.SAVING)return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"l"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.actions.savingText",defaultMessage:"Saving"}))));const r=o&&!this.isFormValid();return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{color:"success",iconType:"check",onClick:this.sendForm,fill:!0,disabled:r,"data-test-subj":"submitButton"},t)),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{color:"primary",onClick:this.cancelForm},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.cancelButtonLabel",defaultMessage:"Cancel","data-test-subj":"cancelButton"})))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{onClick:this.toggleRequest},s?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternFormm.showRequestButtonLabel",defaultMessage:"Show request"}))))})())})),w()(this,"renderLoading",(()=>{const{apiStatus:e}=this.props;return e===I.a.SAVING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}));const t=void 0===this.props.autoFollowPattern,{route:{location:{search:o}}}=E.reactRouter,r=Object(l.extractQueryParams)(o),a=Ie(this.props.remoteClusters,r.cluster),n=t?((e="")=>({name:"",remoteCluster:e,leaderIndexPatterns:[],followIndexPatternPrefix:"",followIndexPatternSuffix:""}))(a):{...this.props.autoFollowPattern};this.state={autoFollowPattern:n,fieldsErrors:ke(n),areErrorsVisible:!1,isNew:t,isRequestVisible:!1}}isFormValid(){return Object.values(this.state.fieldsErrors).every((e=>null==e))}renderApiErrors(){const{apiError:e}=this.props;if(e){const t=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternForm.savingErrorTitle",{defaultMessage:"Can't create auto-follow pattern"});return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(Ee,{title:t,error:e,"data-test-subj":"apiError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))}return null}render(){const{autoFollowPattern:e,isRequestVisible:t,isNew:o}=this.state;return Object(Ce.jsx)(s.Fragment,null,this.renderForm(),this.renderLoading(),t?Object(Ce.jsx)(auto_follow_pattern_request_flyout_AutoFollowPatternRequestFlyout,{name:e.name,autoFollowPattern:this.getFields(),isNew:o,close:()=>this.setState({isRequestVisible:!1})}):null)}}var Ne=o(3);class auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"deleteAutoFollowPattern",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.deleteAutoFollowPattern(this.state.ids),this.setState({isModalOpen:!1,ids:null})})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,o=t?c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteSingleTitle",{defaultMessage:"Remove auto-follow pattern '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.deleteMultipleTitle",{defaultMessage:"Remove {count} auto-follow patterns?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:o,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.confirmButtonText",{defaultMessage:"Remove"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"deleteAutoFollowPatternConfirmation"},!t&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.deleteAutoFollowPattern.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to remove these auto-follow patterns:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(s.Fragment,null,e(this.deleteAutoFollowPattern),t&&this.renderModal())}}const Be=Object(n.connect)(void 0,(e=>({deleteAutoFollowPattern:t=>e((e=>ce({label:J,scope:`${ue}-delete`,status:I.a.DELETING,handler:async()=>Object(M.c)(e),onSuccess(e,t,o){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorMultipleNotificationTitle",{defaultMessage:"Error removing {count} auto-follow patterns",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.errorSingleNotificationTitle",{defaultMessage:"Error removing the '{name}' auto-follow pattern",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsDeleted.length){const s=e.itemsDeleted.length>1?c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successMultipleNotificationTitle",{defaultMessage:"{count} auto-follow patterns were removed",values:{count:e.itemsDeleted.length}}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPattern.removeAction.successSingleNotificationTitle",{defaultMessage:"Auto-follow pattern '{name}' was removed",values:{name:e.itemsDeleted[0]}});Object(g.b)().addSuccess(s);const r=D("detail")(o());e.itemsDeleted.includes(r)&&t(de(null))}}}))(t))})))(auto_follow_pattern_delete_provider_AutoFollowPatternDeleteProviderUi),qe=({title:e})=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"pageTitle"},e),rightSideItems:[Object(Ce.jsx)(b.EuiButtonEmpty,{size:"s",flush:"right",href:f.apis.createAutoFollowPattern,target:"_blank",iconType:"help","data-test-subj":"docsButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.readDocsAutoFollowPatternButtonLabel",defaultMessage:"Auto-follow pattern docs"}))]}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}));var ze=o(5);class follower_index_pause_provider_FollowerIndexPauseProviderUi extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,indices:[]}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"pauseFollowerIndex",(e=>{this.setState({isModalOpen:!0,indices:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.pauseFollowerIndex(this.state.indices.map((e=>e.name))),this.setState({isModalOpen:!1,indices:[]}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{indices:e}=this.state,t=1===e.length,o=t?c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseSingleTitle",{defaultMessage:"Pause replication to follower index '{name}'?",values:{name:e[0].name}}):c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.pauseMultipleTitle",{defaultMessage:"Pause replication to {count} follower indices?",values:{count:e.length}}),r=e.some((e=>!Object(ze.a)(e)));return Object(Ce.jsx)(b.EuiConfirmModal,{title:o,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:r?"danger":"primary",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Pause replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"pauseReplicationConfirmation"},r&&Object(Ce.jsx)("p",null,t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.singlePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to this follower index clears its custom advanced settings."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescriptionWithSettingWarning",defaultMessage:"Pausing replication to a follower index clears its custom advanced settings."})),!t&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.pauseFollowerIndex.confirmModal.multiplePauseDescription",defaultMessage:"Replication will pause on these follower indices:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e.name},e.name))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(s.Fragment,null,e(this.pauseFollowerIndex),t&&this.renderModal())}}const Ue=Object(n.connect)(void 0,(e=>({pauseFollowerIndex:t=>e((e=>ce({label:"FOLLOWER_INDEX_PAUSE",status:I.a.SAVING,scope:me,handler:async()=>Object(M.m)(e),onSuccess(e,t){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorMultipleNotificationTitle",{defaultMessage:"Error pausing {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.errorSingleNotificationTitle",{defaultMessage:"Error pausing follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsPaused.length){const o=e.itemsPaused.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.successMultipleNotificationTitle",{defaultMessage:"{count} follower indices were paused",values:{count:e.itemsPaused.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.pauseAction.successSingleNotificationTitle",{defaultMessage:"Follower index '{name}' was paused",values:{name:e.itemsPaused[0]}});Object(g.b)().addSuccess(o),t(be(!0))}}}))(t))})))(follower_index_pause_provider_FollowerIndexPauseProviderUi);class follower_index_resume_provider_FollowerIndexResumeProviderUi extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"resumeFollowerIndex",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.resumeFollowerIndex(this.state.ids),this.setState({isModalOpen:!1,ids:null}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,o=t?c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeSingleTitle",{defaultMessage:"Resume replication to follower index '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.resumeMultipleTitle",{defaultMessage:"Resume replication to {count} follower indices?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:o,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"primary",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.confirmButtonText",{defaultMessage:"Resume replication"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"resumeReplicationConfirmation"},t?Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeDescription",defaultMessage:"Replication resumes using the default advanced settings. To use custom advanced settings, {editLink}.",values:{editLink:Object(Ce.jsx)(b.EuiLink,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,E.getFollowerIndexPath(e[0])),{"data-test-subj":"editLink"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.singleResumeEditLink",defaultMessage:"edit the follower index"}))}})):Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescriptionWithSettingWarning",defaultMessage:"Replication resumes using the default advanced settings."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.resumeFollowerIndex.confirmModal.multipleResumeDescription",defaultMessage:"Replication will resume on these follower indices:"})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(s.Fragment,null,e(this.resumeFollowerIndex),t&&this.renderModal())}}const We=Object(n.connect)(void 0,(e=>({resumeFollowerIndex:t=>e((e=>ce({label:"FOLLOWER_INDEX_RESUME",status:I.a.SAVING,scope:me,handler:async()=>Object(M.o)(e),onSuccess(e,t){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorMultipleNotificationTitle",{defaultMessage:"Error resuming {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.errorSingleNotificationTitle",{defaultMessage:"Error resuming follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsResumed.length){const t=e.itemsResumed.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.successMultipleNotificationTitle",{defaultMessage:"{count} follower indices were resumed",values:{count:e.itemsResumed.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.resumeAction.successSingleNotificationTitle",{defaultMessage:"Follower index '{name}' was resumed",values:{name:e.itemsResumed[0]}});Object(g.b)().addSuccess(t)}t(be(!0))}}))(t))})))(follower_index_resume_provider_FollowerIndexResumeProviderUi);class follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isModalOpen:!1,ids:null}),w()(this,"onMouseOverModal",(e=>{e.stopPropagation()})),w()(this,"unfollowLeaderIndex",(e=>{this.setState({isModalOpen:!0,ids:Object(Ne.a)(e)})})),w()(this,"onConfirm",(()=>{this.props.unfollowLeaderIndex(this.state.ids),this.setState({isModalOpen:!1,ids:null}),this.props.onConfirm&&this.props.onConfirm()})),w()(this,"closeConfirmModal",(()=>{this.setState({isModalOpen:!1})})),w()(this,"renderModal",(()=>{const{ids:e}=this.state,t=1===e.length,o=t?c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowSingleTitle",{defaultMessage:"Unfollow leader index of '{name}'?",values:{name:e[0]}}):c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.unfollowMultipleTitle",{defaultMessage:"Unfollow {count} leader indices?",values:{count:e.length}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:o,onCancel:this.closeConfirmModal,onConfirm:this.onConfirm,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:c.i18n.translate("xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.confirmButtonText",{defaultMessage:"Unfollow leader"}),onMouseOver:this.onMouseOverModal,"data-test-subj":"unfollowLeaderConfirmation"},t?Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.singleUnfollowDescription",defaultMessage:"The follower index will be converted to a standard index. It will no longer appear in Cross-Cluster Replication, but you can manage it in Index Management. You can't undo this operation."}))):Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.unfollowLeaderIndex.confirmModal.multipleUnfollowDescription",defaultMessage:"The follower indices will be converted to standard indices. They will no longer appear in Cross-Cluster Replication, but you can manage them in Index Management. You can't undo this operation."})),Object(Ce.jsx)("ul",null,e.map((e=>Object(Ce.jsx)("li",{key:e},e))))))}))}render(){const{children:e}=this.props,{isModalOpen:t}=this.state;return Object(Ce.jsx)(s.Fragment,null,e(this.unfollowLeaderIndex),t&&this.renderModal())}}const Ve=Object(n.connect)(void 0,(e=>({unfollowLeaderIndex:t=>e((e=>ce({label:ae,status:I.a.DELETING,scope:`${me}-delete`,handler:async()=>Object(M.q)(e),onSuccess(e,t,o){if(e.errors.length){const t=e.errors.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorMultipleNotificationTitle",{defaultMessage:"Error unfollowing leader index of {count} follower indices",values:{count:e.errors.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.errorSingleNotificationTitle",{defaultMessage:"Error unfollowing leader index of follower index '{name}'",values:{name:e.errors[0].id}});Object(g.b)().addDanger(t)}if(e.itemsUnfollowed.length){const t=e.itemsUnfollowed.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successMultipleNotificationTitle",{defaultMessage:"Leader indices of {count} follower indices were unfollowed",values:{count:e.itemsUnfollowed.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.successSingleNotificationTitle",{defaultMessage:"Leader index of follower index '{name}' was unfollowed",values:{name:e.itemsUnfollowed[0]}});Object(g.b)().addSuccess(t)}if(e.itemsNotOpen.length){const t=e.itemsNotOpen.length>1?c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningMultipleNotificationTitle",{defaultMessage:"{count} indices could not be re-opened",values:{count:e.itemsNotOpen.length}}):c.i18n.translate("xpack.crossClusterReplication.followerIndex.unfollowAction.notOpenWarningSingleNotificationTitle",{defaultMessage:"Index '{name}' could not be re-opened",values:{name:e.itemsNotOpen[0]}});Object(g.b)().addWarning(t)}const s=U("detail")(o());e.itemsUnfollowed.includes(s)&&t(je(null))}}))(t))})))(follower_index_unfollow_provider_FollowerIndexUnfollowProviderUi),$e=e=>Object(Ce.jsx)(Ue,null,(t=>Object(Ce.jsx)(We,null,(o=>Object(Ce.jsx)(Ve,null,(s=>{const{children:r}=e;return r((()=>({pauseFollowerIndex:t,resumeFollowerIndex:o,unfollowLeaderIndex:s})))}))))));var Ge=o(9);const He=e=>!e||!e.trim().length,Ye=e=>"string"==typeof e&&e.includes(" "),Xe=e=>l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.reduce(((t,o)=>(e.includes(o)&&t.push(o),t)),[]),Ke=e=>{if(He(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameMissingMessage",defaultMessage:"Name is required."})];if((e=>"."===e[0])(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameBeginsWithPeriodMessage",defaultMessage:"Name can't begin with a period."})];const t=Xe(e);return t.length?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.nameIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your name.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" "))}})]:Ye(e)?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.indexNameValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the name."})]:void 0},Qe=e=>{if(He(e))return[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexMissingMessage",defaultMessage:"Leader index is required."})];const t=Xe(e);return t.length?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.errors.leaderIndexIllegalCharactersMessage",defaultMessage:"Remove the characters {characterList} from your leader index.",values:{characterList:Object(Ce.jsx)("strong",null,t.join(" "))}})]:Ye(e)?[Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.leaderIndexValidation.noEmptySpace",defaultMessage:"Spaces are not allowed in the leader index."})]:void 0};class form_entry_row_FormEntryRow extends s.PureComponent{constructor(...e){super(...e),w()(this,"onFieldChange",(e=>{const{field:t,onValueUpdate:o,type:s}=this.props;let r=e;"number"===s&&(r=e?Math.max(0,parseInt(e,10)):e),o({[t]:r})})),w()(this,"renderField",(e=>{const{value:t,type:o,disabled:s,isLoading:r,testSubj:a}=this.props;return"number"===o?Object(Ce.jsx)(b.EuiFieldNumber,{isInvalid:e,value:t,onChange:e=>this.onFieldChange(e.target.value),disabled:!0===s,isLoading:r,fullWidth:!0,"data-test-subj":a}):Object(Ce.jsx)(b.EuiFieldText,{isInvalid:e,value:t,onChange:e=>this.onFieldChange(e.target.value),disabled:!0===s,isLoading:r,fullWidth:!0,"data-test-subj":a})}))}render(){const{field:e,error:t,title:o,label:r,description:a,helpText:n,areErrorsVisible:l,value:i,defaultValue:c}=this.props,u=!!t&&(t.alwaysVisible||l),d=void 0!==c,p=i!==c,x=Object(Ce.jsx)(s.Fragment,null,n,d&&p&&Object(Ce.jsx)("p",null,Object(Ce.jsx)(b.EuiLink,{onClick:()=>this.onFieldChange(c)},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.resetFieldButtonLabel",defaultMessage:"Reset to default"}))));return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:o,description:a,fullWidth:!0,key:e},Object(Ce.jsx)(b.EuiFormRow,{label:r,helpText:x,error:t&&t.message?t.message:t,isInvalid:u,fullWidth:!0},this.renderField(u)))}}const Je=e=>{const t=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpText",defaultMessage:"Example values: 10b, 1024kb, 1mb, 5gb, 2tb, 1pb. {link}",values:{link:Object(Ce.jsx)(b.EuiLink,{href:e.apis.byteSizeUnits,target:"_blank"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.byteUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}}),o=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpText",defaultMessage:"Example values: 2d, 24h, 20m, 30s, 500ms, 10000micros, 80000nanos. {link}",values:{link:Object(Ce.jsx)(b.EuiLink,{href:e.apis.timeUnits,target:"_blank"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.timeUnitsHelpTextLinkMessage",defaultMessage:"Learn more"}))}});return[{field:"maxReadRequestOperationCount",testSubject:"maxReadRequestOperationCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",{defaultMessage:"Max read request operation count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountDescription",{defaultMessage:"The maximum number of operations to pull per read from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountLabel",{defaultMessage:"Max read request operation count"}),defaultValue:Object(ze.b)("maxReadRequestOperationCount"),type:"number"},{field:"maxOutstandingReadRequests",testSubject:"maxOutstandingReadRequestsInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",{defaultMessage:"Max outstanding read requests"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsDescription",{defaultMessage:"The maximum number of outstanding read requests from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsLabel",{defaultMessage:"Max outstanding read requests"}),defaultValue:Object(ze.b)("maxOutstandingReadRequests"),type:"number"},{field:"maxReadRequestSize",testSubject:"maxReadRequestSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",{defaultMessage:"Max read request size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeDescription",{defaultMessage:"The maximum size in bytes of per read of a batch of operations pulled from the remote cluster."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeLabel",{defaultMessage:"Max read request size"}),defaultValue:Object(ze.b)("maxReadRequestSize"),helpText:t},{field:"maxWriteRequestOperationCount",testSubject:"maxWriteRequestOperationCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",{defaultMessage:"Max write request operation count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountDescription",{defaultMessage:"The maximum number of operations per bulk write request executed on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountLabel",{defaultMessage:"Max write request operation count"}),defaultValue:Object(ze.b)("maxWriteRequestOperationCount"),type:"number"},{field:"maxWriteRequestSize",testSubject:"maxWriteRequestSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",{defaultMessage:"Max write request size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeDescription",{defaultMessage:"The maximum total bytes of operations per bulk write request executed on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeLabel",{defaultMessage:"Max write request size"}),defaultValue:Object(ze.b)("maxWriteRequestSize"),helpText:t},{field:"maxOutstandingWriteRequests",testSubject:"maxOutstandingWriteRequestsInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",{defaultMessage:"Max outstanding write requests"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsDescription",{defaultMessage:"The maximum number of outstanding write requests on the follower."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsLabel",{defaultMessage:"Max outstanding write requests"}),defaultValue:Object(ze.b)("maxOutstandingWriteRequests"),type:"number"},{field:"maxWriteBufferCount",testSubject:"maxWriteBufferCountInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",{defaultMessage:"Max write buffer count"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountDescription",{defaultMessage:"The maximum number of operations that can be queued for writing; when this limit is reached, reads from the remote cluster will be deferred until the number of queued operations goes below the limit."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountLabel",{defaultMessage:"Max write buffer count"}),defaultValue:Object(ze.b)("maxWriteBufferCount"),type:"number"},{field:"maxWriteBufferSize",testSubject:"maxWriteBufferSizeInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",{defaultMessage:"Max write buffer size"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeDescription",{defaultMessage:"The maximum total bytes of operations that can be queued for writing; when this limit is reached, reads from the remote cluster will be deferred until the total bytes of queued operations goes below the limit."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeLabel",{defaultMessage:"Max write buffer size"}),defaultValue:Object(ze.b)("maxWriteBufferSize"),helpText:t},{field:"maxRetryDelay",testSubject:"maxRetryDelayInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",{defaultMessage:"Max retry delay"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayDescription",{defaultMessage:"The maximum time to wait before retrying an operation that failed exceptionally; an exponential backoff strategy is employed when retrying."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayLabel",{defaultMessage:"Max retry delay"}),defaultValue:Object(ze.b)("maxRetryDelay"),helpText:o},{field:"readPollTimeout",testSubject:"readPollTimeoutInput",title:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",{defaultMessage:"Read poll timeout"}),description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutDescription",{defaultMessage:"The maximum time to wait for new operations on the remote cluster when the follower index is synchronized with the leader index; when the timeout has elapsed, the poll for operations will return to the follower so that it can update some statistics, and then the follower will immediately attempt to read from the leader again."}),label:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutLabel",{defaultMessage:"Read poll timeout"}),defaultValue:Object(ze.b)("readPollTimeout"),helpText:o}]},Ze=e=>Je(e).reduce(((e,t)=>{const{field:o,defaultValue:s}=t;return{...e,[o]:s}}),{}),et=({maxReadRequestOperationCount:e,maxOutstandingReadRequests:t,maxReadRequestSize:o,maxWriteRequestOperationCount:s,maxWriteRequestSize:r,maxOutstandingWriteRequests:a,maxWriteBufferCount:n,maxWriteBufferSize:l,maxRetryDelay:i,readPollTimeout:c})=>({max_read_request_operation_count:e,max_outstanding_read_requests:t,max_read_request_size:o,max_write_request_operation_count:s,max_write_request_size:r,max_outstanding_write_requests:a,max_write_buffer_count:n,max_write_buffer_size:l,max_retry_delay:i,read_poll_timeout:c});class follower_index_request_flyout_FollowerIndexRequestFlyout extends s.PureComponent{render(){const{name:e,followerIndex:t,close:o}=this.props,s=`PUT /${e||"<followerIndexName>"}/_ccr/follow`,r=JSON.stringify((e=>({remote_cluster:e.remoteCluster,leader_index:e.leaderIndex,...et(e)}))(t),null,2),a=`${s}\n${r}`;return Object(Ce.jsx)(b.EuiFlyout,{maxWidth:480,onClose:o},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,null,Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.title",defaultMessage:"Request"})))),Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.descriptionText",defaultMessage:"This Elasticsearch request will create this follower index."}))),Object(Ce.jsx)(b.EuiSpacer,null),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json",isCopyable:!0},a)),Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",onClick:o,flush:"left"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.requestFlyout.closeButtonLabel",defaultMessage:"Close"}))))}}const tt=l.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" "),ot=(e="")=>({name:"",remoteCluster:e,leaderIndex:"",...Ze(f)}),st=e=>({fieldsErrors:t})=>({fieldsErrors:{...t,...e}});class follower_index_form_FollowerIndexForm extends s.PureComponent{constructor(e){super(e),w()(this,"toggleRequest",(()=>{this.setState((({isRequestVisible:e})=>({isRequestVisible:!e})))})),w()(this,"onFieldsChange",(e=>{this.setState((e=>({followerIndex:t})=>({followerIndex:{...t,...e}}))(e));const t={...this.state.fields,...e};this.setState(st(this.getFieldsErrors(t))),this.props.apiError&&this.props.clearApiError()})),w()(this,"getFieldsErrors",(e=>Object.keys(e).reduce(((t,o)=>{const s=(r=Je(f),r.reduce(((e,t)=>{const{field:o,validator:s}=t;return e[o]=s,e}),{name:Ke,leaderIndex:Qe}))[o];var r;const a=e[o];if(s){const e=s(a);t[o]=e}return t}),{}))),w()(this,"onIndexNameChange",(({name:e})=>{this.onFieldsChange({name:e}),Ke(e)||(e&&e.trim()?(this.setState({isValidatingIndexName:!0}),this.validateIndexName(e)):this.setState({isValidatingIndexName:!1}))})),w()(this,"validateIndexName",(async e=>{try{if((await Object(M.i)()).some((t=>t.name===e))){const e={message:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexAlreadyExistError",defaultMessage:"An index with the same name already exists."}),alwaysVisible:!0};this.setState(st({name:e}))}this.setState({isValidatingIndexName:!1})}catch(e){if(e){if("AbortError"===e.name)return;if(e.body)return this.setState({isValidatingIndexName:!1})}Object(g.a)().add(e,c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.indexNameValidationFatalErrorTitle",{defaultMessage:"Follower Index Form index name validation"}))}})),w()(this,"onClusterChange",(e=>{this.onFieldsChange({remoteCluster:e})})),w()(this,"getFields",(()=>this.state.followerIndex)),w()(this,"toggleAdvancedSettings",(e=>{if(e.target.checked)return this.onFieldsChange(this.cachedAdvancedSettings),this.cachedAdvancedSettings={},this.setState({areAdvancedSettingsVisible:!0});this.onFieldsChange(Ze(f));const t=this.getFields();this.cachedAdvancedSettings=Je(f).reduce(((e,{field:o})=>{const s=t[o];return""!==s&&(e[o]=s),e}),{}),this.setState({areAdvancedSettingsVisible:!1})})),w()(this,"sendForm",(()=>{const e=this.isFormValid();if(this.setState({areErrorsVisible:!e}),!e)return;const{name:t,...o}=this.getFields();this.props.saveFollowerIndex(t,o)})),w()(this,"cancelForm",(()=>{E.navigate("/follower_indices")})),w()(this,"renderForm",(()=>{const{followerIndex:e,isNew:t,areErrorsVisible:o,areAdvancedSettingsVisible:r,fieldsErrors:a,isValidatingIndexName:n}=this.state,l=Object(Ce.jsx)(s.Fragment,null,n&&Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameValidatingLabel",defaultMessage:"Checking availability…"})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,tt)}}))),i=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameTitle",{defaultMessage:"Follower index"}),u=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexTitle",{defaultMessage:"Leader index"});return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiForm,{"data-test-subj":"followerIndexForm"},(()=>{const{remoteClusters:s,currentUrl:r}=this.props,a={noClusterFound:()=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.emptyRemoteClustersCallOutDescription",defaultMessage:"Replication requires a leader index on a remote cluster."}),remoteClusterNotConnectedNotEditable:e=>({title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutTitle",defaultMessage:"Can't edit follower index because remote cluster '{name}' is not connected",values:{name:e}}),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotConnectedCallOutDescription",defaultMessage:"You can address this by editing the remote cluster."})}),remoteClusterDoesNotExist:e=>Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.currentRemoteClusterNotFoundCallOutDescription",defaultMessage:"To edit this follower index, you must add a remote cluster named '{name}'.",values:{name:e}})};return Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterTitle",defaultMessage:"Remote cluster"}))),description:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionRemoteClusterDescription",defaultMessage:"The cluster that contains the index to replicate."}),fullWidth:!0},Object(Ce.jsx)(remote_clusters_form_field_RemoteClustersFormField,{selected:e.remoteCluster?e.remoteCluster:null,remoteClusters:s||[],currentUrl:r,isEditable:t,areErrorsVisible:o,onChange:this.onClusterChange,onError:e=>{this.setState(st({remoteCluster:e}))},errorMessages:a}))})(),(()=>Object(Ce.jsx)(form_entry_row_FormEntryRow,{field:"leaderIndex",value:e.leaderIndex,error:a.leaderIndex,title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,u)),label:u,description:Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription",defaultMessage:"The index on the remote cluster to replicate to the follower index."})),Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2",defaultMessage:"{note} The leader index must already exist.",values:{note:Object(Ce.jsx)("strong",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.sectionLeaderIndexDescription2.noteLabel",defaultMessage:"Note:"}))}}))),helpText:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.indexNameHelpLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Ce.jsx)("strong",null,tt)}}),disabled:!t,areErrorsVisible:o,onValueUpdate:this.onFieldsChange,testSubj:"leaderIndexInput"}))(),(()=>Object(Ce.jsx)(form_entry_row_FormEntryRow,{field:"name",value:e.name,error:a.name,title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,i)),label:i,description:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.sectionFollowerIndexNameDescription",{defaultMessage:"A unique name for your index."}),helpText:l,isLoading:n,disabled:!t,areErrorsVisible:o,onValueUpdate:this.onIndexNameChange,testSubj:"followerIndexInput"}))(),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),(()=>Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiHorizontalRule,null),Object(Ce.jsx)(b.EuiDescribedFormGroup,{title:Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsTitle",defaultMessage:"Advanced settings (optional)"}))),description:Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettingsDescription",defaultMessage:"Advanced settings control the rate of replication. You can customize these settings or use the default values."})),Object(Ce.jsx)(b.EuiSwitch,{label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.advancedSettingsForm.showSwitchLabel",defaultMessage:"Customize advanced settings"}),checked:r,onChange:this.toggleAdvancedSettings,"data-test-subj":"advancedSettingsToggle"})),fullWidth:!0},Object(Ce.jsx)(s.Fragment,null)," "),r&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Je(f).map((t=>{const{field:s,testSubject:r,title:n,description:l,label:i,helpText:c,defaultValue:u,type:d}=t;return Object(Ce.jsx)(form_entry_row_FormEntryRow,{key:s,field:s,value:e[s],defaultValue:u,error:a[s],title:Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)("h3",null,n)),description:l,label:i,helpText:c,type:d,areErrorsVisible:o,onValueUpdate:this.onFieldsChange,testSubj:r})}))),Object(Ce.jsx)(b.EuiHorizontalRule,null)))()),(()=>{const{areErrorsVisible:e}=this.state,t=this.isFormValid();return!e||t?null:Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiCallOut,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.validationErrorTitle",defaultMessage:"Fix errors before continuing."}),color:"danger",iconType:"cross","data-test-subj":"formError"}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))})(),this.renderApiErrors(),(()=>{const{apiStatus:e,saveButtonLabel:t}=this.props,{areErrorsVisible:o,isRequestVisible:s}=this.state;if(e===I.a.SAVING)return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"l"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.actions.savingText",defaultMessage:"Saving"}))));const r=o&&!this.isFormValid();return Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{color:"success",iconType:"check",onClick:this.sendForm,fill:!0,disabled:r,"data-test-subj":"submitButton"},t)),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{color:"primary",onClick:this.cancelForm,"data-test-subj":"cancelButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.cancelButtonLabel",defaultMessage:"Cancel"})))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{onClick:this.toggleRequest},s?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.hideRequestButtonLabel",defaultMessage:"Hide request"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.showRequestButtonLabel",defaultMessage:"Show request"}))))})())})),w()(this,"renderLoading",(()=>{const{apiStatus:e}=this.props;return e===I.a.SAVING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null}));const{route:{location:{search:t}}}=E.reactRouter,o=Object(l.extractQueryParams)(t),r=void 0===this.props.followerIndex,a=Ie(this.props.remoteClusters,o.cluster),n=r?ot(a):{...ot(),...this.props.followerIndex},i=!r&&(u=n,!!Je(d=f).some((e=>{const{field:t}=e;return u[t]!==Ze(d)[t]})));var u,d;const p=this.getFieldsErrors(n);this.state={isNew:r,followerIndex:n,fieldsErrors:p,areErrorsVisible:!1,areAdvancedSettingsVisible:i,isValidatingIndexName:!1,isRequestVisible:!1},this.cachedAdvancedSettings={},this.validateIndexName=Object(Ge.debounce)(this.validateIndexName,500,{trailing:!0})}isFormValid(){return Object.values(this.state.fieldsErrors).every((e=>null==e))}renderApiErrors(){const{apiError:e}=this.props;if(e){const t=c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.savingErrorTitle",{defaultMessage:"Can't create follower index"}),{leaderIndex:o}=this.state.followerIndex,r=404===e.status?{data:{message:c.i18n.translate("xpack.crossClusterReplication.followerIndexForm.leaderIndexNotFoundError",{defaultMessage:"The leader index '{leaderIndex}' does not exist.",values:{leaderIndex:o}})}}:e;return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(Ee,{title:t,error:r}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}))}return null}render(){const{followerIndex:e,isRequestVisible:t}=this.state;return Object(Ce.jsx)(s.Fragment,null,this.renderForm(),this.renderLoading(),t?Object(Ce.jsx)(follower_index_request_flyout_FollowerIndexRequestFlyout,{name:e.name,followerIndex:this.getFields(),close:()=>this.setState({isRequestVisible:!1})}):null)}}const rt=({title:e})=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"pageTitle"},e),rightSideItems:[Object(Ce.jsx)(b.EuiButtonEmpty,{size:"s",flush:"right",href:f.apis.createFollower,target:"_blank",iconType:"help","data-test-subj":"docsButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.readDocsFollowerIndexButtonLabel",defaultMessage:"Follower index docs"}))]}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"})),at=c.i18n.translate("xpack.crossClusterReplication.autoFollowActionMenu.autoFollowPatternActionMenuButtonAriaLabel",{defaultMessage:"Auto-follow pattern options"}),nt=({patterns:e,deleteAutoFollowPattern:t,pauseAutoFollowPattern:o,resumeAutoFollowPattern:r,arrowDirection:a,edit:n})=>{const[l,i]=Object(s.useState)(!1),u=(e=>{if(!e.length)return!1;const[t,...o]=e;for(const e of o)if(t!==e)return!1;return!0})(e.filter(Boolean).map((({active:e})=>e))),d=()=>{i(!1)},p=[u?e[0].active?{name:c.i18n.translate("xpack.crossClusterReplication.pauseAutoFollowPatternsLabel",{defaultMessage:"Pause {total, plural, one {replication} other {replications}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"pause"}),onClick:()=>{o(e.map((({name:e})=>e))),d()}}:{name:c.i18n.translate("xpack.crossClusterReplication.resumeAutoFollowPatternsLabel",{defaultMessage:"Resume {total, plural, one {replication} other {replications}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"play"}),onClick:()=>{r(e.map((({name:e})=>e))),d()}}:null,n&&1===e.length?{name:c.i18n.translate("xpack.crossClusterReplication.editAutoFollowPatternButtonLabel",{defaultMessage:"Edit pattern"}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"pencil"}),onClick:()=>{E.navigate(E.getAutoFollowPatternPath(e[0].name))}}:null,{name:c.i18n.translate("xpack.crossClusterReplication.deleteAutoFollowPatternButtonLabel",{defaultMessage:"Delete {total, plural, one {pattern} other {patterns}}",values:{total:e.length}}),icon:Object(Ce.jsx)(b.EuiIcon,{type:"trash"}),onClick:()=>{t(e.map((({name:e})=>e))),d()}}].filter(Boolean),x=Object(Ce.jsx)(b.EuiButton,{"data-test-subj":"autoFollowPatternActionMenuButton","aria-label":at,onClick:()=>i(!l),iconType:"up"===a?"arrowUp":"arrowDown",iconSide:"right",fill:!0},c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.buttonLabel",{defaultMessage:"Manage {patterns, plural, one {pattern} other {patterns}}",values:{patterns:e.length}}));return Object(Ce.jsx)(b.EuiPopover,{isOpen:l,closePopover:()=>i(!1),button:x,panelPaddingSize:"none",repositionOnScroll:!0},Object(Ce.jsx)(b.EuiContextMenu,{initialPanelId:0,"data-test-subj":"autoFollowPatternActionContextMenu",panels:[{id:0,title:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternActionMenu.panelTitle",{defaultMessage:"Pattern options"}),items:p}]}))},lt=Object(n.connect)(null,(e=>({pauseAutoFollowPattern:t=>{e(xe(t))},resumeAutoFollowPattern:t=>{e(fe(t))}})))((e=>Object(Ce.jsx)(Be,null,(t=>Object(Ce.jsx)(nt,Oe()({},e,{deleteAutoFollowPattern:t})))))),it={pause:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionEditDescription",{defaultMessage:"Edit auto-follow pattern"}),delete:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionDeleteDescription",{defaultMessage:"Delete auto-follow pattern"})},ct=(e,t)=>{if(t){const o=t.toLowerCase();return e.filter((e=>{const{name:t="",remoteCluster:s="",followIndexPatternPrefix:r="",followIndexPatternSuffix:a=""}=e,n=t.toLowerCase().includes(o),l=s.toLowerCase().includes(o),i=r.toLowerCase().includes(o),c=a.toLowerCase().includes(o);return n||l||i||c}))}return e};class auto_follow_pattern_table_AutoFollowPatternTable extends s.PureComponent{static getDerivedStateFromProps(e,t){const{autoFollowPatterns:o}=e,{prevAutoFollowPatterns:s,queryText:r}=t;return s!==o?{prevAutoFollowPatterns:o,filteredAutoFollowPatterns:ct(o,r)}:null}constructor(e){super(e),w()(this,"onSearch",(({query:e})=>{const{autoFollowPatterns:t}=this.props,{text:o}=e;this.setState({queryText:o,filteredAutoFollowPatterns:ct(t,o)})})),w()(this,"renderLoading",(()=>{const{apiStatusDelete:e}=this.props;return e===I.a.DELETING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null})),this.state={prevAutoFollowPatterns:e.autoFollowPatterns,selectedItems:[],filteredAutoFollowPatterns:e.autoFollowPatterns,queryText:""}}getTableColumns(e){const{selectAutoFollowPattern:t}=this.props;return[{field:"name",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:e=>Object(Ce.jsx)(b.EuiLink,{onClick:()=>{Object(Fe.c)("click",I.l),t(e)},"data-test-subj":"autoFollowPatternLink"},e)},{field:"active",dataType:"boolean",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTitle",{defaultMessage:"Status"}),render:e=>{const t=e?c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextActive",{defaultMessage:"Active"}):c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.statusTextPaused",{defaultMessage:"Paused"});return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiHealth,{color:e?"success":"subdued"})," ",t)},sortable:!0},{field:"remoteCluster",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:!0,sortable:!0},{field:"leaderIndexPatterns",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.leaderPatternsColumnTitle",{defaultMessage:"Leader patterns"}),render:e=>e.join(", ")},{field:"followIndexPatternPrefix",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.prefixColumnTitle",{defaultMessage:"Follower index prefix"}),sortable:!0},{field:"followIndexPatternSuffix",name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.suffixColumnTitle",{defaultMessage:"Follower index suffix"}),sortable:!0},{name:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:[{name:it.pause,description:it.pause,icon:"pause",onClick:e=>this.props.pauseAutoFollowPattern(e.name),available:e=>e.active,"data-test-subj":"contextMenuPauseButton"},{name:it.resume,description:it.resume,icon:"play",onClick:e=>this.props.resumeAutoFollowPattern(e.name),available:e=>!e.active,"data-test-subj":"contextMenuResumeButton"},{name:it.edit,description:it.edit,icon:"pencil",onClick:e=>E.navigate(E.getAutoFollowPatternPath(e.name)),"data-test-subj":"contextMenuEditButton"},{name:it.delete,description:it.delete,icon:"trash",onClick:t=>e(t.name),"data-test-subj":"contextMenuDeleteButton"}],width:"100px"}]}render(){const{selectedItems:e,filteredAutoFollowPatterns:t}=this.state,o={sort:{field:"name",direction:"asc"}},s={initialPageSize:20,pageSizeOptions:[10,20,50]},a={onSelectionChange:e=>this.setState({selectedItems:e.map((({name:e})=>e))})},n={toolsLeft:e.length?Object(Ce.jsx)(lt,{arrowDirection:"down",patterns:this.state.selectedItems.map((e=>t.find((t=>t.name===e))))}):void 0,toolsRight:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,"/auto_follow_patterns/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.addAutoFollowPatternButtonLabel",defaultMessage:"Create an auto-follow pattern"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"autoFollowPatternSearch"}};return Object(Ce.jsx)(Be,null,(e=>Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiInMemoryTable,{items:t,itemId:"name",columns:this.getTableColumns(e),search:n,pagination:s,sorting:o,selection:a,isSelectable:!0,rowProps:()=>({"data-test-subj":"row"}),cellProps:(e,t)=>({"data-test-subj":`cell_${t.field}`}),"data-test-subj":"autoFollowPatternListTable"}),this.renderLoading())))}}const ut=I.b.AUTO_FOLLOW_PATTERN,dt=Object(n.connect)((e=>({apiStatusDelete:_(`${ut}-delete`)(e)})),(e=>({selectAutoFollowPattern:t=>e(de(t)),pauseAutoFollowPattern:t=>e(xe(t)),resumeAutoFollowPattern:t=>e(fe(t))})))(auto_follow_pattern_table_AutoFollowPatternTable);var pt=o(26);class detail_panel_DetailPanel extends s.Component{renderAutoFollowPattern({followIndexPatternPrefix:e,followIndexPatternSuffix:t,remoteCluster:o,leaderIndexPatterns:s,active:a}){return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)("section",null,Object(Ce.jsx)(b.EuiDescriptionList,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusLabel",defaultMessage:"Status"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"status"},a?Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.activeStatus",defaultMessage:"Active"})):Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.pausedStatus",defaultMessage:"Paused"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)("section",{"aria-labelledby":"ccrAutoFollowPatternDetailSettingsTitle","data-test-subj":"settingsSection"},Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h3",{id:"ccrAutoFollowPatternDetailSettingsTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.statusTitle",defaultMessage:"Settings"}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiDescriptionList,{"data-test-subj":"settingsValues"},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"remoteCluster"},o)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.leaderPatternsLabel",defaultMessage:"Leader patterns"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"leaderIndexPatterns"},s.join(", ")))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixLabel",defaultMessage:"Prefix"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"patternPrefix"},e||Object(Ce.jsx)("em",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.prefixEmptyValue",defaultMessage:"No prefix"})))),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixLabel",defaultMessage:"Suffix"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"patternSuffix"},t||Object(Ce.jsx)("em",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.suffixEmptyValue",defaultMessage:"No suffix"}))))))))}renderIndicesPreview(e,t,o){return Object(Ce.jsx)("section",{"data-test-subj":"indicesPreviewSection"},Object(Ce.jsx)(ve,{prefix:e,suffix:t,leaderIndexPatterns:o}))}renderAutoFollowPatternNotFound(){return Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.notFoundLabel",defaultMessage:"Auto-follow pattern not found"}))))))}renderAutoFollowPatternErrors(e){return e.errors.length?Object(Ce.jsx)("section",{"data-test-subj":"errors"},Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiTitle,{size:"s","data-test-subj":"titleErrors"},Object(Ce.jsx)("h3",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.recentErrorsTitle",defaultMessage:"Recent errors"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("ul",null,e.errors.map(((e,t)=>Object(Ce.jsx)("li",{key:t,"data-test-subj":"recentError"},Object(Ce.jsx)("strong",null,Re()(e.timestamp).format("MMMM Do, YYYY h:mm:ss A")),":"," ",e.autoFollowException.reason)))))):null}renderFlyoutBody(){const{autoFollowPattern:e}=this.props;if(!e)return this.renderAutoFollowPatternNotFound();const{followIndexPatternPrefix:t,followIndexPatternSuffix:o,leaderIndexPatterns:s}=e;let r;t?r=`name:${t}`:o&&(r=`name:${o}`);const a=Object(pt.getIndexListUri)(r);return Object(Ce.jsx)(b.EuiFlyoutBody,null,this.renderAutoFollowPattern(e),Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),this.renderIndicesPreview(t,o,s),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(b.EuiLink,{href:E._reactRouter.getUrlForApp("management",{path:`data/index_management${a}`}),"data-test-subj":"viewIndexManagementLink"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.viewIndicesLink",defaultMessage:"View your follower indices in Index Management"})),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),this.renderAutoFollowPatternErrors(e))}renderFlyoutFooter(){const{autoFollowPattern:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:t,"data-test-subj":"closeFlyoutButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),e&&Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiFlexGroup,{alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(lt,{edit:!0,arrowDirection:"up",patterns:[e]}))))))}render(){const{autoFollowPatternId:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyout,{"data-test-subj":"autoFollowPatternDetail",onClose:t,"aria-labelledby":"autoFollowPatternDetailsFlyoutTitle",size:"m",maxWidth:400},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,{size:"m",id:"autoFollowPatternDetailsFlyoutTitle","data-test-subj":"title"},Object(Ce.jsx)("h2",null,e))),this.renderFlyoutBody(),this.renderFlyoutFooter())}}const xt=I.b.AUTO_FOLLOW_PATTERN,ft=Object(n.connect)((e=>({autoFollowPatternId:D("detail")(e),autoFollowPattern:N("detail")(e),apiStatus:_(xt)(e)})))(detail_panel_DetailPanel);class auto_follow_pattern_list_AutoFollowPatternList extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastAutoFollowPatternId:null,isDetailPanelOpen:!1})}static getDerivedStateFromProps({autoFollowPatternId:e},{lastAutoFollowPatternId:t}){return e!==t?{lastAutoFollowPatternId:e,isDetailPanelOpen:!!e}:null}componentDidMount(){const{loadAutoFollowPatterns:e,loadAutoFollowStats:t,selectAutoFollowPattern:o,history:s}=this.props;Object(Fe.c)(Fe.a.LOADED,I.g),e(),t(),o((({location:{search:e}})=>{const{pattern:t}=Object(l.extractQueryParams)(e);return t?decodeURIComponent(t):null})(s)),this.interval=setInterval((()=>e(!0)),3e4)}componentDidUpdate(e,t){const{history:o,loadAutoFollowStats:s}=this.props,{lastAutoFollowPatternId:r}=this.state;r!==t.lastAutoFollowPatternId&&(r?(o.replace({search:`?pattern=${encodeURIComponent(r)}`}),s()):o.replace({search:""}))}componentWillUnmount(){clearInterval(this.interval)}renderEmpty(){return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyPrompt",title:Object(Ce.jsx)("h1",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptTitle",defaultMessage:"Create your first auto-follow pattern"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.emptyPromptDescription",defaultMessage:"Use an auto-follow pattern to automatically replicate indices from a remote cluster."})),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/auto_follow_patterns/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createAutoFollowPatternButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.addAutoFollowPatternButtonLabel",defaultMessage:"Create auto-follow pattern"}))}))}renderList(){const{selectAutoFollowPattern:e,autoFollowPatterns:t}=this.props,{isDetailPanelOpen:o}=this.state;return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsDescription",defaultMessage:"An auto-follow pattern replicates leader indices from a remote cluster and copies them to follower indices on the local cluster."}))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(dt,{autoFollowPatterns:t}),o&&Object(Ce.jsx)(ft,{closeDetailPanel:()=>e(null)}))}render(){const{autoFollowPatterns:e,apiError:t,apiStatus:o,isAuthorized:s}=this.props,r=o===I.a.IDLE&&!e.length;if(!s)return Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.permissionErrorTitle",defaultMessage:"Permission error"}),error:{error:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.noPermissionText",defaultMessage:"You do not have permission to view or add auto-follow patterns."})}});if(t){const e=c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternList.loadingErrorTitle",{defaultMessage:"Error loading auto-follow patterns"});return Object(Ce.jsx)(l.PageError,{title:e,error:t.body})}return r?this.renderEmpty():o===I.a.LOADING?Object(Ce.jsx)(l.PageLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.loadingTitle",defaultMessage:"Loading auto-follow patterns..."})):this.renderList()}}const mt=I.b.AUTO_FOLLOW_PATTERN,jt=Object(n.connect)((e=>({autoFollowPatterns:B(e),autoFollowPatternId:D("detail")(e),apiStatus:_(mt)(e),apiError:S(mt)(e),isAuthorized:T(mt)(e)})),(e=>({loadAutoFollowPatterns:t=>e(((e=!1)=>ce({label:K,scope:ue,status:e?I.a.UPDATING:I.a.LOADING,handler:async()=>await Object(M.f)(e)}))(t)),selectAutoFollowPattern:t=>e(de(t)),loadAutoFollowStats:()=>e(ce({label:ne,scope:he,handler:async()=>await Object(M.g)()}))})))(auto_follow_pattern_list_AutoFollowPatternList);class context_menu_ContextMenu extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{isPopoverOpen:!1}),w()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),w()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),w()(this,"editFollowerIndex",(e=>{const t=E.getFollowerIndexPath(e);E.navigate(t)}))}render(){const{followerIndices:e}=this.props,t=e.length,o=e.map((e=>e.name)),{iconSide:r="right",iconType:a="arrowDown",anchorPosition:n="rightUp",label:l=Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.buttonLabel",defaultMessage:"Manage follower {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:t}}),testSubj:i}=this.props,c=Object(Ce.jsx)(b.EuiButton,{"data-test-subj":i,iconSide:r,onClick:this.onButtonClick,iconType:a,fill:!0},l),u=e.filter((({isPaused:e})=>e)).map((e=>e.name)),d=e.filter((({isPaused:e})=>!e));return Object(Ce.jsx)(b.EuiPopover,{button:c,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:n,repositionOnScroll:!0},Object(Ce.jsx)(b.EuiPopoverTitle,{paddingSize:"s"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.title",defaultMessage:"Follower {followerIndicesLength, plural, one {index} other {indices}} options",values:{followerIndicesLength:t}})),Object(Ce.jsx)(b.EuiContextMenuPanel,{"data-test-subj":"contextMenu"},d.length?Object(Ce.jsx)(Ue,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"pause",onClick:()=>e(d),"data-test-subj":"pauseButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.pauseLabel",defaultMessage:"Pause replication"})))):null,u.length?Object(Ce.jsx)(We,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"play",onClick:()=>e(u),"data-test-subj":"resumeButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.resumeLabel",defaultMessage:"Resume replication"})))):null,1===o.length&&Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"pencil",onClick:()=>this.editFollowerIndex(o[0]),"data-test-subj":"editButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.editLabel","data-test-subj":"editButton",defaultMessage:"Edit follower index"}))),Object(Ce.jsx)(Ve,{onConfirm:this.closePopover},(e=>Object(Ce.jsx)(b.EuiContextMenuItem,{icon:"indexFlush",onClick:()=>e(o),"data-test-subj":"unfollowButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.contextMenu.unfollowLabel",defaultMessage:"Unfollow leader {followerIndicesLength, plural, one {index} other {indices}}",values:{followerIndicesLength:t}}))))))}}const bt={pause:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionPauseDescription",{defaultMessage:"Pause replication"}),resume:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionResumeDescription",{defaultMessage:"Resume replication"}),edit:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionEditDescription",{defaultMessage:"Edit follower index"}),unfollow:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionUnfollowDescription",{defaultMessage:"Unfollow leader index"})},gt=(e,t)=>{if(t){const o=t.toLowerCase();return e.filter((e=>{const{name:t="",remoteCluster:s="",leaderIndex:r=""}=e;return!!t.toLowerCase().includes(o)||!!r.toLowerCase().includes(o)||!!s.toLowerCase().includes(o)}))}return e};class follower_indices_table_FollowerIndicesTable extends s.PureComponent{static getDerivedStateFromProps(e,t){const{followerIndices:o}=e,{prevFollowerIndices:s,queryText:r}=t;return s!==o?{prevFollowerIndices:o,filteredIndices:gt(o,r)}:null}constructor(e){super(e),w()(this,"onSearch",(({query:e})=>{const{followerIndices:t}=this.props,{text:o}=e;this.setState({queryText:o,filteredIndices:gt(t,o)})})),w()(this,"editFollowerIndex",(e=>{const t=E.getFollowerIndexPath(e);E.navigate(t)})),w()(this,"renderLoading",(()=>{const{apiStatusDelete:e}=this.props;return e===I.a.DELETING?Object(Ce.jsx)(b.EuiOverlayMask,null,Object(Ce.jsx)(b.EuiLoadingLogo,{logo:"logoKibana",size:"xl"})):null})),this.state={prevFollowerIndices:e.followerIndices,selectedItems:[],filteredIndices:e.followerIndices,queryText:""}}getTableColumns(e){const{selectFollowerIndex:t}=this.props,o=[{name:bt.pause,description:bt.pause,icon:"pause",onClick:t=>e.pauseFollowerIndex(t),available:e=>!e.isPaused,"data-test-subj":"pauseButton"},{name:bt.resume,description:bt.resume,icon:"play",onClick:t=>e.resumeFollowerIndex(t.name),available:e=>e.isPaused,"data-test-subj":"resumeButton"},{name:bt.edit,description:bt.edit,onClick:e=>this.editFollowerIndex(e.name),icon:"pencil","data-test-subj":"editButton"},{name:bt.unfollow,description:bt.unfollow,onClick:t=>e.unfollowLeaderIndex(t.name),icon:"indexFlush","data-test-subj":"unfollowButton"}];return[{field:"name",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.nameColumnTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!1,render:e=>Object(Ce.jsx)(b.EuiLink,{onClick:()=>{Object(Fe.c)("click",I.t),t(e)},"data-test-subj":"followerIndexLink"},e)},{field:"isPaused",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.statusColumnTitle",{defaultMessage:"Status"}),truncateText:!0,sortable:!0,render:e=>e?Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.pausedLabel",defaultMessage:"Paused"})):Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.table.statusColumn.activeLabel",defaultMessage:"Active"}))},{field:"remoteCluster",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.clusterColumnTitle",{defaultMessage:"Remote cluster"}),truncateText:!0,sortable:!0},{field:"leaderIndex",name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.leaderIndexColumnTitle",{defaultMessage:"Leader index"}),truncateText:!0,sortable:!0},{name:c.i18n.translate("xpack.crossClusterReplication.followerIndexList.table.actionsColumnTitle",{defaultMessage:"Actions"}),actions:o,width:"100px"}]}render(){const{selectedItems:e,filteredIndices:t}=this.state,o={sort:{field:"name",direction:"asc"}},s={initialPageSize:20,pageSizeOptions:[10,20,50]},a={onSelectionChange:e=>this.setState({selectedItems:e})},n={toolsLeft:e.length?Object(Ce.jsx)(context_menu_ContextMenu,{followerIndices:e,testSubj:"contextMenuButton"}):void 0,toolsRight:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(E._reactRouter.history,"/follower_indices/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.addFollowerButtonLabel",defaultMessage:"Create a follower index"})),onChange:this.onSearch,box:{incremental:!0,"data-test-subj":"followerIndexSearch"}};return Object(Ce.jsx)($e,null,(e=>{const l=e();return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiInMemoryTable,{items:t,itemId:"name",columns:this.getTableColumns(l),search:n,pagination:s,sorting:o,selection:a,isSelectable:!0,rowProps:()=>({"data-test-subj":"row"}),cellProps:(e,t)=>({"data-test-subj":`cell-${t.field}`}),"data-test-subj":"followerIndexListTable"}),this.renderLoading())}))}}const ht=I.b.FOLLOWER_INDEX,wt=Object(n.connect)((e=>({apiStatusDelete:_(`${ht}-delete`)(e)})),(e=>({selectFollowerIndex:t=>e(je(t))})))(follower_indices_table_FollowerIndicesTable);o(67),o(68);class detail_panel_detail_panel_DetailPanel extends s.Component{renderFollowerIndex(){const{followerIndex:{remoteCluster:e,leaderIndex:t,isPaused:o,shards:r,maxReadRequestOperationCount:a,maxOutstandingReadRequests:n,maxReadRequestSize:l,maxWriteRequestOperationCount:i,maxWriteRequestSize:c,maxOutstandingWriteRequests:u,maxWriteBufferCount:d,maxWriteBufferSize:p,maxRetryDelay:x,readPollTimeout:f}}=this.props;return Object(Ce.jsx)(s.Fragment,null,Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)("section",null,Object(Ce.jsx)(b.EuiDescriptionList,null,Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.statusLabel",defaultMessage:"Status"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"status"},o?Object(Ce.jsx)(b.EuiHealth,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedStatus",defaultMessage:"Paused"})):Object(Ce.jsx)(b.EuiHealth,{color:"success"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.activeStatus",defaultMessage:"Active"}))))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.remoteClusterLabel",defaultMessage:"Remote cluster"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"remoteCluster"},e)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.leaderIndexLabel",defaultMessage:"Leader index"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"leaderIndex"},t))))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)("section",{"aria-labelledby":"ccrFollowerIndexDetailSettingsTitle","data-test-subj":"settingsSection"},Object(Ce.jsx)(b.EuiTitle,{size:"s"},Object(Ce.jsx)("h3",{id:"ccrFollowerIndexDetailSettingsTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.settingsTitle",defaultMessage:"Settings"}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),o?Object(Ce.jsx)(b.EuiCallOut,{size:"s",title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.pausedFollowerCalloutTitle",defaultMessage:"A paused follower index does not have settings or shard statistics."})}):Object(Ce.jsx)(b.EuiDescriptionList,{"data-test-subj":"settingsValues"},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestOperationCountTitle",defaultMessage:"Max read request operation count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxReadReqOpCount"},a)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingReadRequestsTitle",defaultMessage:"Max outstanding read requests"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxOutstandingReadReq"},n))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxReadRequestSizeTitle",defaultMessage:"Max read request size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxReadReqSize"},l)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestOperationCountTitle",defaultMessage:"Max write request operation count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteReqOpCount"},i))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteRequestSizeTitle",defaultMessage:"Max write request size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteReqSize"},c)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxOutstandingWriteRequestsTitle",defaultMessage:"Max outstanding write requests"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxOutstandingWriteReq"},u))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferCountTitle",defaultMessage:"Max write buffer count"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteBufferCount"},d)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxWriteBufferSizeTitle",defaultMessage:"Max write buffer size"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxWriteBufferSize"},p))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.maxRetryDelayTitle",defaultMessage:"Max retry delay"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"maxRetryDelay"},x)),Object(Ce.jsx)(b.EuiFlexItem,null,Object(Ce.jsx)(b.EuiDescriptionListTitle,null,Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexForm.advancedSettings.readPollTimeoutTitle",defaultMessage:"Read poll timeout"}))),Object(Ce.jsx)(b.EuiDescriptionListDescription,{"data-test-subj":"readPollTimeout"},f))))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)("section",{"data-test-subj":"shardsStatsSection"},r&&r.map(((e,t)=>Object(Ce.jsx)(s.Fragment,{key:t},Object(Ce.jsx)(b.EuiSpacer,{size:"m"}),Object(Ce.jsx)(b.EuiTitle,{size:"xs"},Object(Ce.jsx)("h3",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.shardStatsTitle",defaultMessage:"Shard {id} stats",values:{id:e.id}}))),Object(Ce.jsx)(b.EuiSpacer,{size:"s"}),Object(Ce.jsx)(b.EuiCodeBlock,{language:"json","data-test-subj":"shardsStats"},JSON.stringify(e,null,2))))))))}renderContent(){const{apiStatus:e,followerIndex:t}=this.props;return e===I.a.LOADING?Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiLoadingSpinner,{size:"m"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.loadingLabel",defaultMessage:"Loading follower index…"})))))):t?this.renderFollowerIndex():Object(Ce.jsx)(b.EuiFlyoutBody,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)(b.EuiTextColor,{color:"subdued"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.notFoundLabel",defaultMessage:"Follower index not found"}))))))}renderFooter(){const{followerIndexId:e,followerIndex:t,closeDetailPanel:o}=this.props,s=Object(pt.getIndexListUri)(`name:${e}`);return Object(Ce.jsx)(b.EuiFlyoutFooter,null,Object(Ce.jsx)(b.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButtonEmpty,{iconType:"cross",flush:"left",onClick:o,"data-test-subj":"closeFlyoutButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.closeButtonLabel",defaultMessage:"Close"}))),Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiFlexGroup,null,Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(b.EuiButton,{href:E._reactRouter.getUrlForApp("management",{path:`data/index_management${s}`}),"data-test-subj":"viewIndexManagementButton"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.viewIndexLink",defaultMessage:"View in Index Management"}))),t&&Object(Ce.jsx)(b.EuiFlexItem,{grow:!1},Object(Ce.jsx)(context_menu_ContextMenu,{iconSide:"left",iconType:"arrowUp",anchorPosition:"upRight",label:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexDetailPanel.manageButtonLabel",defaultMessage:"Manage"}),followerIndices:[t],testSubj:"manageButton"}))))))}render(){const{followerIndexId:e,closeDetailPanel:t}=this.props;return Object(Ce.jsx)(b.EuiFlyout,{"data-test-subj":"followerIndexDetail",onClose:t,"aria-labelledby":"followerIndexDetailsFlyoutTitle",size:"m",maxWidth:600},Object(Ce.jsx)(b.EuiFlyoutHeader,null,Object(Ce.jsx)(b.EuiTitle,{size:"m",id:"followerIndexDetailsFlyoutTitle","data-test-subj":"title"},Object(Ce.jsx)("h2",null,e))),this.renderContent(),this.renderFooter())}}const Ot=I.b.FOLLOWER_INDEX,Ft=Object(n.connect)((e=>({followerIndexId:U("detail")(e),followerIndex:W("detail")(e),apiStatus:_(Ot)(e)})))(detail_panel_detail_panel_DetailPanel);class follower_indices_list_FollowerIndicesList extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastFollowerIndexId:null,isDetailPanelOpen:!1})}static getDerivedStateFromProps({followerIndexId:e},{lastFollowerIndexId:t}){return e!==t?{lastFollowerIndexId:e,isDetailPanelOpen:!!e}:null}componentDidMount(){const{loadFollowerIndices:e,selectFollowerIndex:t,history:o}=this.props;Object(Fe.c)(Fe.a.LOADED,I.o),e(),t((({location:{search:e}})=>{const{name:t}=Object(l.extractQueryParams)(e);return t?decodeURIComponent(t):null})(o)),this.interval=setInterval((()=>e(!0)),3e4)}componentDidUpdate(e,t){const{history:o}=this.props,{lastFollowerIndexId:s}=this.state;s!==t.lastFollowerIndexId&&(s?o.replace({search:`?name=${encodeURIComponent(s)}`}):o.replace({search:""}))}componentWillUnmount(){clearInterval(this.interval)}renderEmpty(){return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{hasShadow:!1,paddingSize:"none",verticalPosition:"center",horizontalPosition:"center"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"managementApp","data-test-subj":"emptyPrompt",title:Object(Ce.jsx)("h1",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptTitle",defaultMessage:"Create your first follower index"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.emptyPromptDescription",defaultMessage:"Use a follower index to replicate a leader index on a remote cluster."})),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/follower_indices/add"),{fill:!0,iconType:"plusInCircle","data-test-subj":"createFollowerIndexButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.addFollowerButtonLabel",defaultMessage:"Create a follower index"}))}))}renderLoading(){return Object(Ce.jsx)(l.PageLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.loadingTitle",defaultMessage:"Loading follower indices..."}))}renderList(){const{selectFollowerIndex:e,followerIndices:t}=this.props,{isDetailPanelOpen:o}=this.state;return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiText,null,Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.followerIndicesDescription",defaultMessage:"A follower index replicates a leader index on a remote cluster."}))),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(wt,{followerIndices:t}),o&&Object(Ce.jsx)(Ft,{closeDetailPanel:()=>e(null)}))}render(){const{followerIndices:e,apiError:t,isAuthorized:o,apiStatus:s}=this.props,r=s===I.a.IDLE&&!e.length;if(!o)return Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.permissionErrorTitle",defaultMessage:"Permission error"}),error:{error:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexList.noPermissionText",defaultMessage:"You do not have permission to view or add follower indices."})}});if(t){const e=c.i18n.translate("xpack.crossClusterReplication.followerIndexList.loadingErrorTitle",{defaultMessage:"Error loading follower indices"});return Object(Ce.jsx)(l.PageError,{title:e,error:t.body})}return r?this.renderEmpty():s===I.a.LOADING?this.renderLoading():this.renderList()}}const Ct=I.b.FOLLOWER_INDEX,Et=Object(n.connect)((e=>({followerIndices:V(e),followerIndexId:U("detail")(e),apiStatus:_(Ct)(e),apiError:S(Ct)(e),isAuthorized:T(Ct)(e)})),(e=>({loadFollowerIndices:t=>e(be(t)),selectFollowerIndex:t=>e(je(t))})))(follower_indices_list_FollowerIndicesList);class home_CrossClusterReplicationHome extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{activeSection:"follower_indices"}),w()(this,"tabs",[{id:"follower_indices",name:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.followerIndicesTitle",defaultMessage:"Follower indices"}),testSubj:"followerIndicesTab"},{id:"auto_follow_patterns",name:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.autoFollowPatternsTitle",defaultMessage:"Auto-follow patterns"}),testSubj:"autoFollowPatternsTab"}]),w()(this,"onSectionChange",(e=>{u([d(`/${e}`)]),E.navigate(`/${e}`)}))}componentDidMount(){u([d()])}static getDerivedStateFromProps(e){const{match:{params:{section:t}}}=e;return{activeSection:t}}render(){return Object(Ce.jsx)(r.a.Fragment,null,Object(Ce.jsx)(b.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Ce.jsx)("span",{"data-test-subj":"appTitle"},Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternList.crossClusterReplicationTitle",defaultMessage:"Cross-Cluster Replication"})),tabs:this.tabs.map((e=>({onClick:()=>this.onSectionChange(e.id),isSelected:e.id===this.state.activeSection,key:e.id,"data-test-subj":e.testSubj,label:e.name})))}),Object(Ce.jsx)(b.EuiSpacer,{size:"l"}),Object(Ce.jsx)(m.Switch,null,Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices",component:Et}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns",component:jt})))}}const Mt=Object(n.connect)((e=>({autoFollowPatterns:B(e),isAutoFollowApiAuthorized:T(I.b.AUTO_FOLLOW_PATTERN)(e),followerIndices:V(e),isFollowerIndexApiAuthorized:T(I.b.FOLLOWER_INDEX)(e)})),null)(home_CrossClusterReplicationHome);class auto_follow_pattern_add_AutoFollowPatternAdd extends s.PureComponent{componentDidMount(){u([d("/auto_follow_patterns"),p])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveAutoFollowPattern:e,apiStatus:t,apiError:o,match:{url:s}}=this.props;return Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:r,error:a,remoteClusters:n})=>r?Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued","data-test-subj":"remoteClustersLoading"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))):Object(Ce.jsx)(b.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(qe,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.addTitle",defaultMessage:"Add auto-follow pattern"})}),Object(Ce.jsx)(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:t,apiError:o,currentUrl:s,remoteClusters:a?[]:n,saveAutoFollowPattern:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternCreateForm.saveButtonLabel",defaultMessage:"Create"})}))))}}const It=I.b.AUTO_FOLLOW_PATTERN,Pt=Object(n.connect)((e=>({apiStatus:_(`${It}-save`)(e),apiError:S(`${It}-save`)(e)})),(e=>({saveAutoFollowPattern:(t,o)=>e(pe(t,o)),clearApiError:()=>e(ie(It))})))(auto_follow_pattern_add_AutoFollowPatternAdd);class auto_follow_pattern_edit_AutoFollowPatternEdit extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastAutoFollowPatternId:void 0})}static getDerivedStateFromProps({autoFollowPatternId:e},{lastAutoFollowPatternId:t}){return t!==e?{lastAutoFollowPatternId:e}:null}componentDidMount(){const{match:{params:{id:e}},selectAutoFollowPattern:t}=this.props;t(decodeURIComponent(e)),u([d("/auto_follow_patterns"),x])}componentDidUpdate(e,t){const{autoFollowPattern:o,getAutoFollowPattern:s}=this.props;o||t.lastAutoFollowPatternId===this.state.lastAutoFollowPatternId||s(this.state.lastAutoFollowPatternId)}componentWillUnmount(){this.props.clearApiError()}renderGetAutoFollowPatternError(e){const{match:{params:{id:t}}}=this.props,o=404===e.body.statusCode?{error:c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorMessage",{defaultMessage:"The auto-follow pattern '{name}' does not exist.",values:{name:t}})}:e;return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"alert",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.loadingErrorTitle",defaultMessage:"Error loading auto-follow pattern"})),body:Object(Ce.jsx)("p",null,o),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/auto_follow_patterns"),{color:"danger",flush:"left",iconType:"arrowLeft","data-test-subj":"viewAutoFollowPatternListButton"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.viewAutoFollowPatternsButtonLabel",defaultMessage:"View auto-follow patterns"}))}))}renderLoading(e){return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,e))}render(){const{saveAutoFollowPattern:e,apiStatus:t,apiError:o,autoFollowPattern:s,match:{url:r}}=this.props;return t.get!==I.a.LOADING&&s?o.get?this.renderGetAutoFollowPatternError(o.get):Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:a,error:n,remoteClusters:l})=>a?this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingRemoteClustersMessage",{defaultMessage:"Loading remote clusters…"})):Object(Ce.jsx)(b.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(qe,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPattern.editTitle",defaultMessage:"Edit auto-follow pattern"})}),Object(Ce.jsx)(auto_follow_pattern_form_AutoFollowPatternForm,{apiStatus:t.save,apiError:o.save,currentUrl:r,remoteClusters:n?[]:l,autoFollowPattern:s,saveAutoFollowPattern:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.autoFollowPatternEditForm.saveButtonLabel",defaultMessage:"Update"})})))):this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.autoFollowPatternEditForm.loadingTitle",{defaultMessage:"Loading auto-follow pattern…"}))}}const Rt=I.b.AUTO_FOLLOW_PATTERN,vt=Object(n.connect)((e=>({apiStatus:{get:_(`${Rt}-get`)(e),save:_(`${Rt}-save`)(e)},apiError:{get:S(`${Rt}-get`)(e),save:S(`${Rt}-save`)(e)},autoFollowPatternId:D("edit")(e),autoFollowPattern:N("edit")(e)})),(e=>({getAutoFollowPattern:t=>e((e=>ce({label:Q,scope:`${ue}-get`,handler:async()=>await Object(M.d)(e)}))(t)),selectAutoFollowPattern:t=>e((e=>({type:X,payload:e}))(t)),saveAutoFollowPattern:(t,o)=>{const{active:s,remoteCluster:r,leaderIndexPatterns:a,followIndexPattern:n}=o;e(pe(t,{active:s,remoteCluster:r,leaderIndexPatterns:a,followIndexPattern:n},!0))},clearApiError:()=>{e(ie(`${Rt}-get`)),e(ie(`${Rt}-save`))}})))(auto_follow_pattern_edit_AutoFollowPatternEdit);class follower_index_add_FollowerIndexAdd extends s.PureComponent{componentDidMount(){u([d("/follower_indices"),p])}componentWillUnmount(){this.props.clearApiError()}render(){const{saveFollowerIndex:e,clearApiError:t,apiStatus:o,apiError:s,match:{url:r}}=this.props;return Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:a,error:n,remoteClusters:i})=>a?Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued","data-test-subj":"remoteClustersLoading"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexCreateForm.loadingRemoteClustersMessage",defaultMessage:"Loading remote clusters…"}))):Object(Ce.jsx)(b.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(rt,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.addTitle",defaultMessage:"Add follower index"})}),Object(Ce.jsx)(follower_index_form_FollowerIndexForm,{apiStatus:o,apiError:s,currentUrl:r,remoteClusters:n?[]:i,saveFollowerIndex:e,clearApiError:t,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexCreateForm.saveButtonLabel",defaultMessage:"Create"})}))))}}const yt=I.b.FOLLOWER_INDEX,_t=Object(n.connect)((e=>({apiStatus:_(`${yt}-save`)(e),apiError:S(`${yt}-save`)(e)})),(e=>({saveFollowerIndex:(t,o)=>e(ge(t,o)),clearApiError:()=>e(ie(`${yt}-save`))})))(follower_index_add_FollowerIndexAdd);class follower_index_edit_FollowerIndexEdit extends s.PureComponent{constructor(...e){super(...e),w()(this,"state",{lastFollowerIndexId:void 0,showConfirmModal:!1}),w()(this,"saveFollowerIndex",((e,t)=>{this.editedFollowerIndexPayload={name:e,followerIndex:t},this.showConfirmModal()})),w()(this,"confirmSaveFollowerIhdex",(()=>{const{name:e,followerIndex:t}=this.editedFollowerIndexPayload;this.props.saveFollowerIndex(e,t),this.closeConfirmModal()})),w()(this,"showConfirmModal",(()=>this.setState({showConfirmModal:!0}))),w()(this,"closeConfirmModal",(()=>this.setState({showConfirmModal:!1}))),w()(this,"renderConfirmModal",(()=>{const{followerIndexId:e,followerIndex:{isPaused:t}}=this.props,o=c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.title",{defaultMessage:"Update follower index '{id}'?",values:{id:e}});return Object(Ce.jsx)(b.EuiConfirmModal,{title:o,onCancel:this.closeConfirmModal,onConfirm:this.confirmSaveFollowerIhdex,cancelButtonText:c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),confirmButtonText:t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmAndResumeButtonText",defaultMessage:"Update and resume"}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.confirmButtonText",defaultMessage:"Update"})},Object(Ce.jsx)("p",null,t?Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.resumeDescription",defaultMessage:"Updating a follower index resumes replication of its leader index."}):Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.confirmModal.description",defaultMessage:"The follower index is paused, then resumed. If the update fails, try manually resuming replication."})))}))}static getDerivedStateFromProps({followerIndexId:e},{lastFollowerIndexId:t}){return t!==e?{lastFollowerIndexId:e}:null}componentDidMount(){const{match:{params:{id:e}},selectFollowerIndex:t}=this.props;let o;try{o=decodeURI(e),o=decodeURIComponent(o)}catch(t){o=decodeURIComponent(e)}t(o),u([d("/follower_indices"),x])}componentDidUpdate(e,t){const{followerIndex:o,getFollowerIndex:s}=this.props;o||t.lastFollowerIndexId===this.state.lastFollowerIndexId||s(this.state.lastFollowerIndexId)}componentWillUnmount(){this.props.clearApiError()}renderLoading(e){return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,e))}renderGetFollowerIndexError(e){const{match:{params:{id:t}}}=this.props,o=404===e.body.statusCode?{error:c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingErrorMessage",{defaultMessage:"The follower index '{name}' does not exist.",values:{name:t}})}:e;return Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"alert",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.loadingErrorTitle",defaultMessage:"Error loading follower index"})),body:Object(Ce.jsx)("p",null,o),actions:Object(Ce.jsx)(b.EuiButton,Oe()({},Object(i.reactRouterNavigate)(this.props.history,"/follower_indices"),{color:"danger",flush:"left",iconType:"arrowLeft"}),Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.viewFollowerIndicesButtonLabel",defaultMessage:"View follower indices"}))}))}render(){const{clearApiError:e,apiStatus:t,apiError:o,followerIndex:s,match:{url:r}}=this.props,{showConfirmModal:a}=this.state,{shards:n,...l}=s||{};return t.get!==I.a.LOADING&&s?o.get?this.renderGetFollowerIndexError(o.get):Object(Ce.jsx)(remote_clusters_provider_RemoteClustersProvider,null,(({isLoading:s,error:n,remoteClusters:i})=>s?this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingRemoteClustersMessage",{defaultMessage:"Loading remote clusters…"})):Object(Ce.jsx)(b.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(Ce.jsx)(rt,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndex.editTitle",defaultMessage:"Edit follower index"})}),Object(Ce.jsx)(follower_index_form_FollowerIndexForm,{followerIndex:l,apiStatus:t.save,apiError:o.save,currentUrl:r,remoteClusters:n?[]:i,saveFollowerIndex:this.saveFollowerIndex,clearApiError:e,saveButtonLabel:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.followerIndexEditForm.saveButtonLabel",defaultMessage:"Update"})}),a&&this.renderConfirmModal()))):this.renderLoading(c.i18n.translate("xpack.crossClusterReplication.followerIndexEditForm.loadingFollowerIndexTitle",{defaultMessage:"Loading follower index…"}))}}const St=I.b.FOLLOWER_INDEX,Tt=Object(n.connect)((e=>({apiStatus:{get:_(`${St}-get`)(e),save:_(`${St}-save`)(e)},apiError:{get:S(`${St}-get`)(e),save:S(`${St}-save`)(e)},followerIndexId:U("edit")(e),followerIndex:W("edit")(e)})),(e=>({getFollowerIndex:t=>e((e=>ce({label:re,scope:`${me}-get`,handler:async()=>await Object(M.e)(e)}))(t)),selectFollowerIndex:t=>e((e=>({type:oe,payload:e}))(t)),saveFollowerIndex:(t,o)=>e(ge(t,o,!0)),clearApiError:()=>{e(ie(`${St}-get`)),e(ie(`${St}-save`))}})))(follower_index_edit_FollowerIndexEdit);class app_AppComponent extends s.Component{constructor(e){super(e),this.registerRouter(),this.state={isFetchingPermissions:!1,fetchPermissionError:void 0,hasPermission:!1,missingClusterPrivileges:[]}}componentDidMount(){this.checkPermissions()}async checkPermissions(){this.setState({isFetchingPermissions:!0});try{const{hasPermission:e,missingClusterPrivileges:t}=await Object(M.j)();this.setState({isFetchingPermissions:!1,hasPermission:e,missingClusterPrivileges:t})}catch(e){if(e&&e.body)return this.setState({isFetchingPermissions:!1,fetchPermissionError:e});Object(g.a)().add(e,c.i18n.translate("xpack.crossClusterReplication.app.checkPermissionsFatalErrorTitle",{defaultMessage:"Cross-Cluster Replication app"}))}}registerRouter(){const{history:e,getUrlForApp:t}=this.props;E.reactRouter={history:e,route:{location:e.location},getUrlForApp:t}}render(){const{isFetchingPermissions:e,fetchPermissionError:t,hasPermission:o,missingClusterPrivileges:s}=this.state;return e?Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(l.SectionLoading,null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.permissionCheckTitle",defaultMessage:"Checking permissions…"}))):t?Object(Ce.jsx)(l.PageError,{title:Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.permissionCheckErrorTitle",defaultMessage:"Error checking permissions"}),error:t}):o?Object(Ce.jsx)(m.Router,{history:this.props.history},Object(Ce.jsx)(m.Switch,null,Object(Ce.jsx)(m.Redirect,{exact:!0,from:"/",to:"/follower_indices"}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns/add",component:Pt}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/auto_follow_patterns/edit/:id",component:vt}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices/add",component:_t}),Object(Ce.jsx)(m.Route,{exact:!0,path:"/follower_indices/edit/:id",component:Tt}),Object(Ce.jsx)(m.Route,{exact:!0,path:["/:section"],component:Mt}))):Object(Ce.jsx)(b.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Ce.jsx)(b.EuiEmptyPrompt,{iconType:"securityApp",title:Object(Ce.jsx)("h2",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.deniedPermissionTitle",defaultMessage:"You're missing cluster privileges"})),body:Object(Ce.jsx)("p",null,Object(Ce.jsx)(j.FormattedMessage,{id:"xpack.crossClusterReplication.app.deniedPermissionDescription",defaultMessage:"To use Cross-Cluster Replication, you must have {clusterPrivilegesCount, plural, one {this cluster privilege} other {these cluster privileges}}: {clusterPrivileges}.",values:{clusterPrivileges:s.join(", "),clusterPrivilegesCount:s.length}}))}))}}const kt=app_AppComponent;var Lt=o(44),At=o(70),Dt=o.n(At);const Nt={status:{[I.b.AUTO_FOLLOW_PATTERN]:I.a.IDLE,[I.b.FOLLOWER_INDEX]:I.a.IDLE},error:{[I.b.AUTO_FOLLOW_PATTERN]:null,[I.b.FOLLOWER_INDEX]:null}},Bt={byId:{},selectedDetailId:null,selectedEditId:null},qt=e=>`${e}_SUCCESS`,zt=(e,t,o)=>{const s={...t};return e.forEach((e=>{s[e].active=o})),s},Ut=e=>{const{followIndexPatternPrefix:t,followIndexPatternSuffix:o}=(e=>{let t,o;const s="{{leader_index}}",r=e.indexOf(s);return r>=0&&(t=e.slice(0,r),o=e.slice(r+s.length)),{followIndexPatternPrefix:t,followIndexPatternSuffix:o}})(e.followIndexPattern);return{...e,followIndexPatternPrefix:t,followIndexPatternSuffix:o}},Wt={byId:{},selectedDetailId:null,selectedEditId:null},Vt=e=>`${e}_SUCCESS`,$t=e=>({...e,isPaused:"paused"===e.status}),Gt=e=>{if(!e.leaderIndex)return null;const{leaderIndex:t,autoFollowException:o,timestamp:s}=e;return{id:t.substring(0,t.lastIndexOf(":")),timestamp:s,leaderIndex:t,autoFollowException:o}},Ht=(e,t=5)=>e.map(Gt).filter((e=>null!==e)).reduce(((e,o)=>(e[o.id]||(e[o.id]=[]),e[o.id].length===t||e[o.id].push(o),e)),{}),Yt={autoFollow:null},Xt=Object(Lt.combineReducers)({autoFollowPattern:(e=Bt,t)=>{switch(t.type){case qt(K):return{...e,byId:v(t.payload.patterns.map(Ut),"name")};case qt(Q):return{...e,byId:{...e.byId,[t.payload.name]:Ut(t.payload)}};case Y:return{...e,selectedDetailId:t.payload};case X:return{...e,selectedEditId:t.payload};case qt(J):{const o={...e.byId},{itemsDeleted:s}=t.payload;return s.forEach((e=>delete o[e])),{...e,byId:o}}case qt(Z):{const{itemsPaused:o}=t.payload;return{...e,byId:zt(o,e.byId,!1)}}case qt(ee):{const{itemsResumed:o}=t.payload;return{...e,byId:zt(o,e.byId,!0)}}default:return e}},followerIndex:(e=Wt,t)=>{switch(t.type){case Vt(se):return{...e,byId:v(t.payload.indices.map($t),"name")};case Vt(re):return{...e,byId:{...e.byId,[t.payload.name]:$t(t.payload)}};case te:return{...e,selectedDetailId:t.payload};case oe:return{...e,selectedEditId:t.payload};case Vt(ae):{const o={...e.byId},{itemsUnfollowed:s}=t.payload;return s.forEach((e=>delete o[e])),{...e,byId:o}}default:return e}},api:(e=Nt,t)=>{const o=t.payload||{},{scope:s,status:r,error:a}=o;switch(t.type){case $:return{...e,status:{...e.status,[s]:r}};case G:return{...e,status:{...e.status,[s]:I.a.IDLE}};case H:return{...e,error:{...e.error,[s]:a}};default:return e}},stats:(e=Yt,t)=>{if("AUTO_FOLLOW_STATS_LOAD_SUCCESS"===t.type){const{recentAutoFollowErrors:o,...s}=t.payload;return{...e,autoFollow:{...s,recentAutoFollowErrors:Ht(o)}}}return e}}),Kt=function(e={}){const t=[Object(Lt.applyMiddleware)(Dt.a)];return window.__REDUX_DEVTOOLS_EXTENSION__&&t.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(Lt.createStore)(Xt,e,Object(Lt.compose)(...t))}(),Qt=({history:e,executionContext:t,getUrlForApp:o})=>(Object(i.useExecutionContext)(t,{type:"application",page:"crossClusterReplication"}),Object(Ce.jsx)(kt,{history:e,getUrlForApp:o}));async function Jt({element:e,setBreadcrumbs:t,I18nContext:o,docLinks:s,history:r,getUrlForApp:l,theme$:c,executionContext:d}){return u=t,(e=>{f=e.links})(s),((e,t,o,s,r,l)=>(Object(a.render)(Object(Ce.jsx)(t,null,Object(Ce.jsx)(i.KibanaThemeProvider,{theme$:r},Object(Ce.jsx)(n.Provider,{store:Kt},Object(Ce.jsx)(Qt,{history:o,getUrlForApp:s,executionContext:l})))),e),()=>Object(a.unmountComponentAtNode)(e)))(e,o,r,l,c,d)}}])]);