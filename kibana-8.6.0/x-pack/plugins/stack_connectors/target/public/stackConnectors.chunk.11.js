/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[11,39],{37:function(e,n,t){"use strict";t.r(n),t.d(n,"SW_REQUIRED_RULE_NAME",(function(){return s})),t.d(n,"SW_REQUIRED_APP_ID_TEXT",(function(){return r})),t.d(n,"SW_GET_APPLICATION_API_ERROR",(function(){return i})),t.d(n,"SW_GET_APPLICATION_API_NO_FIELDS_ERROR",(function(){return o})),t.d(n,"SW_API_URL_TEXT_FIELD_LABEL",(function(){return c})),t.d(n,"SW_API_URL_INVALID",(function(){return l})),t.d(n,"SW_APP_ID_TEXT_FIELD_LABEL",(function(){return u})),t.d(n,"SW_API_TOKEN_TEXT_FIELD_LABEL",(function(){return d})),t.d(n,"SW_MAPPING_TITLE_TEXT_FIELD_LABEL",(function(){return m})),t.d(n,"SW_SEVERITY_FIELD_LABEL",(function(){return p})),t.d(n,"SW_RULE_NAME_FIELD_LABEL",(function(){return _})),t.d(n,"SW_ALERT_ID_FIELD_LABEL",(function(){return E})),t.d(n,"SW_CASE_ID_FIELD_LABEL",(function(){return f})),t.d(n,"SW_CASE_NAME_FIELD_LABEL",(function(){return I})),t.d(n,"SW_COMMENTS_FIELD_LABEL",(function(){return C})),t.d(n,"SW_DESCRIPTION_FIELD_LABEL",(function(){return A})),t.d(n,"SW_CONFIGURE_CONNECTION_LABEL",(function(){return L})),t.d(n,"SW_CONNECTOR_TYPE_LABEL",(function(){return g})),t.d(n,"EMPTY_MAPPING_WARNING_TITLE",(function(){return T})),t.d(n,"EMPTY_MAPPING_WARNING_DESC",(function(){return k})),t.d(n,"SW_REQUIRED_SEVERITY",(function(){return M})),t.d(n,"SW_REQUIRED_CASE_NAME",(function(){return S})),t.d(n,"SW_REQUIRED_CASE_ID",(function(){return b})),t.d(n,"SW_REQUIRED_COMMENTS",(function(){return x})),t.d(n,"SW_REQUIRED_DESCRIPTION",(function(){return R})),t.d(n,"SW_REQUIRED_ALERT_ID",(function(){return D})),t.d(n,"SW_BACK",(function(){return N})),t.d(n,"SW_NEXT",(function(){return P})),t.d(n,"SW_FIELDS_BUTTON_HELP_TEXT",(function(){return w}));var a=t(1);const s=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredRuleName",{defaultMessage:"Rule name is required."}),r=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredAppIdText",{defaultMessage:"An App ID is required."}),i=e=>a.i18n.translate("xpack.stackConnectors.components.swimlane.unableToGetApplicationMessage",{defaultMessage:"Unable to get application with id {id}",values:{id:e}}),o=a.i18n.translate("xpack.stackConnectors.components.swimlane.unableToGetApplicationFieldsMessage",{defaultMessage:"Unable to get application fields"}),c=a.i18n.translate("xpack.stackConnectors.components.swimlane.apiUrlTextFieldLabel",{defaultMessage:"API Url"}),l=a.i18n.translate("xpack.stackConnectors.components.swimlane.invalidApiUrlTextField",{defaultMessage:"URL is invalid."}),u=a.i18n.translate("xpack.stackConnectors.components.swimlane.appIdTextFieldLabel",{defaultMessage:"Application ID"}),d=a.i18n.translate("xpack.stackConnectors.components.swimlane.apiTokenTextFieldLabel",{defaultMessage:"API Token"}),m=a.i18n.translate("xpack.stackConnectors.components.swimlane.mappingTitleTextFieldLabel",{defaultMessage:"Configure Field Mappings"}),p=a.i18n.translate("xpack.stackConnectors.components.swimlane.severityFieldLabel",{defaultMessage:"Severity"}),_=a.i18n.translate("xpack.stackConnectors.components.swimlane.ruleNameFieldLabel",{defaultMessage:"Rule name"}),E=a.i18n.translate("xpack.stackConnectors.components.swimlane.alertIdFieldLabel",{defaultMessage:"Alert ID"}),f=a.i18n.translate("xpack.stackConnectors.components.swimlane.caseIdFieldLabel",{defaultMessage:"Case ID"}),I=a.i18n.translate("xpack.stackConnectors.components.swimlane.caseNameFieldLabel",{defaultMessage:"Case name"}),C=a.i18n.translate("xpack.stackConnectors.components.swimlane.commentsFieldLabel",{defaultMessage:"Comments"}),A=a.i18n.translate("xpack.stackConnectors.components.swimlane.descriptionFieldLabel",{defaultMessage:"Description"}),L=a.i18n.translate("xpack.stackConnectors.components.swimlane.configureConnectionLabel",{defaultMessage:"Configure API Connection"}),g=a.i18n.translate("xpack.stackConnectors.components.swimlane.connectorType",{defaultMessage:"Connector Type"}),T=a.i18n.translate("xpack.stackConnectors.components.swimlane.emptyMappingWarningTitle",{defaultMessage:"This connector has missing field mappings"}),k=a.i18n.translate("xpack.stackConnectors.components.swimlane.emptyMappingWarningDesc",{defaultMessage:"This connector cannot be selected because it is missing the required alert field mappings. You can edit this connector to add required field mappings or select a connector of type Alerts."}),M=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredSeverity",{defaultMessage:"Severity is required."}),S=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredCaseName",{defaultMessage:"Case name is required."}),b=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredCaseID",{defaultMessage:"Case ID is required."}),x=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredComments",{defaultMessage:"Comments are required."}),R=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredDescription",{defaultMessage:"Description is required."}),D=a.i18n.translate("xpack.stackConnectors.components.swimlane.error.requiredAlertID",{defaultMessage:"Alert ID is required."}),N=a.i18n.translate("xpack.stackConnectors.components.swimlane.prevStep",{defaultMessage:"Back"}),P=a.i18n.translate("xpack.stackConnectors.components.swimlane.nextStep",{defaultMessage:"Next"}),w=a.i18n.translate("xpack.stackConnectors.components.swimlane.nextStepHelpText",{defaultMessage:"If field mappings are not configured, Swimlane connector type will be set to all."})},46:function(e,n,t){"use strict";let a;t.d(n,"a",(function(){return a})),function(e){e.All="all",e.Alerts="alerts",e.Cases="cases"}(a||(a={}))},97:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return u}));var a=t(0),s=t.n(a),r=t(17),i=t(2),o=t(37),c=t(46),l=t(16);const u=({actionParams:e,editAction:n,index:t,messageVariables:u,actionConnector:d})=>{var m,p;const{incident:_,comments:E}=Object(a.useMemo)((()=>{var n;return null!==(n=e.subActionParams)&&void 0!==n?n:{incident:{},comments:[]}}),[e.subActionParams]),f=Object(a.useRef)(null!==(m=null==d?void 0:d.id)&&void 0!==m?m:""),{mappings:I,connectorType:C}=d.config,{hasAlertId:A,hasRuleName:L,hasComments:g,hasSeverity:T}=Object(a.useMemo)((()=>({hasAlertId:null!=I.alertIdConfig,hasRuleName:null!=I.ruleNameConfig,hasComments:null!=I.commentsConfig,hasSeverity:null!=I.severityConfig})),[I.alertIdConfig,I.ruleNameConfig,I.commentsConfig,I.severityConfig]),k=C===c.a.Cases||!L||!A,M=Object(a.useCallback)(((e,a)=>n("subActionParams","comments"===e?{incident:_,comments:a}:{incident:{..._,[e]:a},comments:E},t)),[n,_,E,t]),S=Object(a.useCallback)(((e,n)=>{M(e,[{commentId:"1",comment:n}])}),[M]);return Object(a.useEffect)((()=>{null!=d&&f.current!==d.id&&(f.current=d.id,n("subActionParams",{incident:{alertId:"{{alert.id}}",ruleName:"{{rule.name}}"},comments:[]},t))}),[d]),Object(a.useEffect)((()=>{e.subAction||n("subAction","pushToService",t),e.subActionParams||n("subActionParams",{incident:{alertId:"{{alert.id}}",ruleName:"{{rule.name}}"},comments:[]},t)}),[e]),k?Object(l.jsx)(r.EuiCallOut,{title:o.EMPTY_MAPPING_WARNING_TITLE,color:"warning",iconType:"help"},o.EMPTY_MAPPING_WARNING_DESC):Object(l.jsx)(s.a.Fragment,null,T&&Object(l.jsx)(s.a.Fragment,null,Object(l.jsx)(r.EuiFormRow,{fullWidth:!0,label:o.SW_SEVERITY_FIELD_LABEL},Object(l.jsx)(i.TextFieldWithMessageVariables,{index:t,"data-test-subj":"severity",editAction:M,messageVariables:u,paramsProperty:"severity",inputTargetValue:null!==(p=_.severity)&&void 0!==p?p:void 0})),Object(l.jsx)(r.EuiSpacer,{size:"m"})),g&&Object(l.jsx)(i.TextAreaWithMessageVariables,{"data-test-subj":"comments",index:t,editAction:S,messageVariables:u,paramsProperty:"comments",inputTargetValue:E&&E.length>0?E[0].comment:void 0,label:o.SW_COMMENTS_FIELD_LABEL}))}}}]);