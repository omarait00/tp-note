/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[42],{25:function(e,t,s){"use strict";s.r(t),s.d(t,"EmailParamsFields",(function(){return u})),s.d(t,"default",(function(){return u}));var a=s(0),l=s.n(a),n=s(20),o=s(17),i=s(1),c=s(2),d=s(16);const u=({actionParams:e,editAction:t,index:s,errors:u,messageVariables:r,defaultMessage:b,isLoading:m,isDisabled:j,showEmailSubjectAndMessage:p=!0})=>{var g,x;const{to:O,cc:v,bcc:C,subject:f,message:h}=e,k=O?O.map((e=>({label:e}))):[],E=v?v.map((e=>({label:e}))):[],F=C?C.map((e=>({label:e}))):[],[B,M]=Object(a.useState)(!1),[A,I]=Object(a.useState)(!1),[[T,w],L]=Object(a.useState)([!1,b]);Object(a.useEffect)((()=>{(null==e||!e.message||T&&(null==e?void 0:e.message)===w&&w!==b)&&(L([!0,b]),t("message",b,s))}),[b]);const W=void 0!==O&&void 0!==u.to&&u.to.length>0,S=void 0!==f&&void 0!==u.subject&&u.subject.length>0,V=void 0!==u.cc&&u.cc.length>0&&void 0!==v,y=void 0!==u.bcc&&u.bcc.length>0&&void 0!==C;return Object(d.jsx)(l.a.Fragment,null,Object(d.jsx)(o.EuiFormRow,{fullWidth:!0,error:u.to,isInvalid:W,label:i.i18n.translate("xpack.stackConnectors.components.email.recipientTextFieldLabel",{defaultMessage:"To"}),labelAppend:Object(d.jsx)(l.a.Fragment,null,Object(d.jsx)("span",null,B||v&&0!==(null==v?void 0:v.length)?null:Object(d.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>M(!0)},Object(d.jsx)(n.FormattedMessage,{defaultMessage:"Cc",id:"xpack.stackConnectors.components.email.addCcButton"})),A||C&&0!==(null==C?void 0:C.length)?null:Object(d.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>I(!0)},Object(d.jsx)(n.FormattedMessage,{defaultMessage:"Bcc",id:"xpack.stackConnectors.components.email.addBccButton"}))))},Object(d.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:W,isLoading:m,isDisabled:j,fullWidth:!0,"data-test-subj":"toEmailAddressInput",selectedOptions:k,onCreateOption:e=>{const a=[...k,{label:e}];t("to",a.map((e=>e.label)),s)},onChange:e=>{t("to",e.map((e=>e.label)),s)},onBlur:()=>{O||t("to",[],s)}})),B||v&&(null==v?void 0:v.length)>0?Object(d.jsx)(o.EuiFormRow,{fullWidth:!0,error:u.cc,isInvalid:V,isDisabled:j,label:i.i18n.translate("xpack.stackConnectors.components.email.recipientCopyTextFieldLabel",{defaultMessage:"Cc"})},Object(d.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:V,isLoading:m,fullWidth:!0,"data-test-subj":"ccEmailAddressInput",selectedOptions:E,onCreateOption:e=>{const a=[...E,{label:e}];t("cc",a.map((e=>e.label)),s)},onChange:e=>{t("cc",e.map((e=>e.label)),s)},onBlur:()=>{v||t("cc",[],s)}})):null,A||C&&(null==C?void 0:C.length)>0?Object(d.jsx)(o.EuiFormRow,{fullWidth:!0,error:u.bcc,isInvalid:y,label:i.i18n.translate("xpack.stackConnectors.components.email.recipientBccTextFieldLabel",{defaultMessage:"Bcc"})},Object(d.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:y,isDisabled:j,isLoading:m,fullWidth:!0,"data-test-subj":"bccEmailAddressInput",selectedOptions:F,onCreateOption:e=>{const a=[...F,{label:e}];t("bcc",a.map((e=>e.label)),s)},onChange:e=>{t("bcc",e.map((e=>e.label)),s)},onBlur:()=>{C||t("bcc",[],s)}})):null,p&&Object(d.jsx)(o.EuiFormRow,{fullWidth:!0,error:u.subject,isInvalid:S,label:i.i18n.translate("xpack.stackConnectors.components.email.subjectTextFieldLabel",{defaultMessage:"Subject"})},Object(d.jsx)(c.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:r,paramsProperty:"subject",inputTargetValue:f,errors:null!==(g=u.subject)&&void 0!==g?g:[]})),p&&Object(d.jsx)(c.TextAreaWithMessageVariables,{index:s,editAction:t,messageVariables:r,paramsProperty:"message",inputTargetValue:h,label:i.i18n.translate("xpack.stackConnectors.components.email.messageTextAreaFieldLabel",{defaultMessage:"Message"}),errors:null!==(x=u.message)&&void 0!==x?x:[]}))}}}]);