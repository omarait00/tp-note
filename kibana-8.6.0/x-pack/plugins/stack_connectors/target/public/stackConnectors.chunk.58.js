/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[58],{110:function(e,t,s){"use strict";s.r(t),s.d(t,"default",(function(){return B}));var a=s(0),n=s.n(a),c=s(20),l=s(17),i=s(21),o=s(18),r=s(19),u=s(2),d=s(8),x=s(1);const j=x.i18n.translate("xpack.stackConnectors.components.xmatters.connectorSettingsLabel",{defaultMessage:"Select the authentication method used when setting up the xMatters trigger."}),p=x.i18n.translate("xpack.stackConnectors.components.xmatters.basicAuthButtonGroupLegend",{defaultMessage:"Basic Authentication"}),b=x.i18n.translate("xpack.stackConnectors.components.xmatters.urlLabel",{defaultMessage:"Initiation URL"}),m=x.i18n.translate("xpack.stackConnectors.components.xmatters.userTextFieldLabel",{defaultMessage:"Username"}),O=x.i18n.translate("xpack.stackConnectors.components.xmatters.passwordTextFieldLabel",{defaultMessage:"Password"}),f=x.i18n.translate("xpack.stackConnectors.components.xmatters.basicAuthLabel",{defaultMessage:"Basic Authentication"}),g=x.i18n.translate("xpack.stackConnectors.components.xmatters.urlAuthLabel",{defaultMessage:"URL Authentication"}),F=(x.i18n.translate("xpack.stackConnectors.components.xmatters.error.requiredUrlText",{defaultMessage:"URL is required."}),x.i18n.translate("xpack.stackConnectors.components.xmatters.error.invalidUrlTextField",{defaultMessage:"URL is invalid."})),h=x.i18n.translate("xpack.stackConnectors.components.xmatters.error.invalidUsernameTextField",{defaultMessage:"Username is invalid."});var k=s(16);const{emptyField:C,urlField:U}=i.fieldValidators,L=[{id:d.b.Basic,label:f},{id:d.b.URL,label:g}],M=({path:e,readOnly:t})=>Object(k.jsx)(o.UseField,{path:e,component:r.TextField,config:{label:b,helpText:Object(k.jsx)(c.FormattedMessage,{id:"xpack.stackConnectors.components.xmatters.initiationUrlHelpText",defaultMessage:"Include the full xMatters url."}),validations:[{validator:U(F)}]},componentProps:{euiFieldProps:{"data-test-subj":e,readOnly:t}}}),B=({readOnly:e})=>{var t;const{setFieldValue:s,getFieldDefaultValue:i}=Object(o.useFormContext)(),[{config:x,__internal__:b}]=Object(o.useFormData)({watch:["config.usesBasic","__internal__.auth"]}),f=null===(t=i("config.usesBasic"))||void 0===t||t?d.b.Basic:d.b.URL,g=null==x||x.usesBasic?d.b.Basic:d.b.URL;return Object(a.useEffect)((()=>{var e;s("config.usesBasic",null==(e=b)||e.auth===d.b.Basic)}),[b,s]),Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(l.EuiTitle,{size:"xxs"},Object(k.jsx)("h4",null,Object(k.jsx)(c.FormattedMessage,{id:"xpack.stackConnectors.components.xmatters.authenticationLabel",defaultMessage:"Authentication"}))),Object(k.jsx)(l.EuiSpacer,{size:"xs"}),Object(k.jsx)(u.ButtonGroupField,{defaultValue:f,path:"__internal__.auth",label:j,legend:p,options:L}),Object(k.jsx)(u.HiddenField,{path:"config.usesBasic",config:{defaultValue:!0}}),Object(k.jsx)(l.EuiSpacer,{size:"m"}),g===d.b.URL?Object(k.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(l.EuiFlexItem,null,Object(k.jsx)(M,{path:"secrets.secretsUrl",readOnly:e}))):null,g===d.b.Basic?Object(k.jsx)(n.a.Fragment,null,Object(k.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(l.EuiFlexItem,null,Object(k.jsx)(M,{path:"config.configUrl",readOnly:e}))),Object(k.jsx)(l.EuiSpacer,{size:"m"}),Object(k.jsx)(l.EuiTitle,{size:"xxs"},Object(k.jsx)("h4",null,Object(k.jsx)(c.FormattedMessage,{"data-test-subj":"userCredsLabel",id:"xpack.stackConnectors.components.xmatters.userCredsLabel",defaultMessage:"User credentials"}))),Object(k.jsx)(l.EuiSpacer,{size:"xs"}),Object(k.jsx)(l.EuiSpacer,{size:"m"}),Object(k.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(k.jsx)(l.EuiFlexItem,null,Object(k.jsx)(o.UseField,{path:"secrets.user",component:r.TextField,config:{label:m,validations:[{validator:C(h)}]},componentProps:{euiFieldProps:{disabled:e,"data-test-subj":"xmattersUserInput",readOnly:e}}}))),Object(k.jsx)(l.EuiFlexGroup,null,Object(k.jsx)(l.EuiFlexItem,null,Object(k.jsx)(u.PasswordField,{path:"secrets.password",label:O,readOnly:e,"data-test-subj":"xmattersPasswordInput"})))):null)}}}]);