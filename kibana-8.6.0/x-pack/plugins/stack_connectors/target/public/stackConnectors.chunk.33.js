/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[33,56],{58:function(e,t,n){"use strict";n.r(t),n.d(t,"METHOD_LABEL",(function(){return s})),n.d(t,"HAS_AUTH_LABEL",(function(){return a})),n.d(t,"URL_LABEL",(function(){return l})),n.d(t,"USERNAME_LABEL",(function(){return r})),n.d(t,"PASSWORD_LABEL",(function(){return i})),n.d(t,"ADD_HEADERS_LABEL",(function(){return c})),n.d(t,"HEADER_KEY_LABEL",(function(){return u})),n.d(t,"REMOVE_ITEM_LABEL",(function(){return d})),n.d(t,"ADD_HEADER_BTN",(function(){return p})),n.d(t,"HEADER_VALUE_LABEL",(function(){return E})),n.d(t,"URL_INVALID",(function(){return b})),n.d(t,"METHOD_REQUIRED",(function(){return j})),n.d(t,"USERNAME_REQUIRED",(function(){return x})),n.d(t,"BODY_REQUIRED",(function(){return h}));var o=n(1);const s=o.i18n.translate("xpack.stackConnectors.components.webhook.methodTextFieldLabel",{defaultMessage:"Method"}),a=o.i18n.translate("xpack.stackConnectors.components.webhook.hasAuthSwitchLabel",{defaultMessage:"Require authentication for this webhook"}),l=o.i18n.translate("xpack.stackConnectors.components.webhook.urlTextFieldLabel",{defaultMessage:"URL"}),r=o.i18n.translate("xpack.stackConnectors.components.webhook.userTextFieldLabel",{defaultMessage:"Username"}),i=o.i18n.translate("xpack.stackConnectors.components.webhook.passwordTextFieldLabel",{defaultMessage:"Password"}),c=o.i18n.translate("xpack.stackConnectors.components.webhook.viewHeadersSwitch",{defaultMessage:"Add HTTP header"}),u=o.i18n.translate("xpack.stackConnectors.components.webhook.headerKeyTextFieldLabel",{defaultMessage:"Key"}),d=o.i18n.translate("xpack.stackConnectors.components.webhook.removeHeaderIconLabel",{defaultMessage:"Key"}),p=o.i18n.translate("xpack.stackConnectors.components.webhook.addHeaderButtonLabel",{defaultMessage:"Add header"}),E=o.i18n.translate("xpack.stackConnectors.components.webhook.headerValueTextFieldLabel",{defaultMessage:"Value"}),b=o.i18n.translate("xpack.stackConnectors.components.webhook.error.invalidUrlTextField",{defaultMessage:"URL is invalid."}),j=o.i18n.translate("xpack.stackConnectors.components.webhook.error.requiredMethodText",{defaultMessage:"Method is required."}),x=o.i18n.translate("xpack.stackConnectors.components.webhook.error.requiredAuthUserNameText",{defaultMessage:"Username is required."}),h=o.i18n.translate("xpack.stackConnectors.components.webhook.error.requiredWebhookBodyText",{defaultMessage:"Body is required."})},81:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var o=n(0),s=n.n(o),a=n(20),l=n(17),r=n(18),i=n(19),c=n(21),u=n(2),d=n(58),p=n(16);const E=["post","put"],{emptyField:b,urlField:j}=c.fieldValidators,x=({readOnly:e})=>{const{getFieldDefaultValue:t}=Object(r.useFormContext)(),[{config:n,__internal__:o}]=Object(r.useFormData)({watch:["config.hasAuth","__internal__.hasHeaders"]}),c=!!t("config.headers"),x=null==n||n.hasAuth,h=null!=o&&o.hasHeaders;return Object(p.jsx)(s.a.Fragment,null,Object(p.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(p.jsx)(l.EuiFlexItem,{grow:!1},Object(p.jsx)(r.UseField,{path:"config.method",component:i.SelectField,config:{label:d.METHOD_LABEL,defaultValue:"post",validations:[{validator:b(d.METHOD_REQUIRED)}]},componentProps:{euiFieldProps:{"data-test-subj":"webhookMethodSelect",options:E.map((e=>({text:e.toUpperCase(),value:e}))),fullWidth:!0,readOnly:e}}})),Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(r.UseField,{path:"config.url",config:{label:d.URL_LABEL,validations:[{validator:j(d.URL_INVALID)}]},component:i.Field,componentProps:{euiFieldProps:{readOnly:e,"data-test-subj":"webhookUrlText",fullWidth:!0}}}))),Object(p.jsx)(l.EuiFlexGroup,null,Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(l.EuiSpacer,{size:"m"}),Object(p.jsx)(l.EuiTitle,{size:"xxs"},Object(p.jsx)("h4",null,Object(p.jsx)(a.FormattedMessage,{id:"xpack.stackConnectors.components.webhook.authenticationLabel",defaultMessage:"Authentication"}))),Object(p.jsx)(l.EuiSpacer,{size:"s"}),Object(p.jsx)(r.UseField,{path:"config.hasAuth",component:i.ToggleField,config:{defaultValue:!0},componentProps:{euiFieldProps:{label:d.HAS_AUTH_LABEL,disabled:e}}}))),x?Object(p.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(r.UseField,{path:"secrets.user",config:{label:d.USERNAME_LABEL,validations:[{validator:b(d.USERNAME_REQUIRED)}]},component:i.Field,componentProps:{euiFieldProps:{readOnly:e,"data-test-subj":"webhookUserInput",fullWidth:!0}}})),Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(u.PasswordField,{path:"secrets.password",label:d.PASSWORD_LABEL,readOnly:e,"data-test-subj":"webhookPasswordInput"}))):null,Object(p.jsx)(l.EuiSpacer,{size:"m"}),Object(p.jsx)(r.UseField,{path:"__internal__.hasHeaders",component:i.ToggleField,config:{defaultValue:c,label:d.ADD_HEADERS_LABEL},componentProps:{euiFieldProps:{disabled:e,"data-test-subj":"webhookViewHeadersSwitch"}}}),Object(p.jsx)(l.EuiSpacer,{size:"m"}),h?Object(p.jsx)(r.UseArray,{path:"config.headers",initialNumberOfItems:1},(({items:t,addItem:n,removeItem:o})=>Object(p.jsx)(s.a.Fragment,null,t.map((t=>Object(p.jsx)(l.EuiFlexGroup,{key:t.id},Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(r.UseField,{path:`${t.path}.key`,config:{label:d.HEADER_KEY_LABEL},component:i.TextField,readDefaultValueOnForm:!t.isNew,componentProps:{euiFieldProps:{readOnly:e}}})),Object(p.jsx)(l.EuiFlexItem,null,Object(p.jsx)(r.UseField,{path:`${t.path}.value`,config:{label:d.HEADER_VALUE_LABEL},component:i.TextField,readDefaultValueOnForm:!t.isNew,componentProps:{euiFieldProps:{readOnly:e}}})),Object(p.jsx)(l.EuiFlexItem,{grow:!1},Object(p.jsx)(l.EuiButtonIcon,{color:"danger",onClick:()=>o(t.id),iconType:"minusInCircle","aria-label":d.REMOVE_ITEM_LABEL,style:{marginTop:"28px"}}))))),Object(p.jsx)(l.EuiSpacer,{size:"m"}),Object(p.jsx)(l.EuiButtonEmpty,{iconType:"plusInCircle",onClick:n},d.ADD_HEADER_BTN),Object(p.jsx)(l.EuiSpacer,null)))):null)}}}]);