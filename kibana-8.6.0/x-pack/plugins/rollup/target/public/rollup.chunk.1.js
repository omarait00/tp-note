/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.rollup_bundle_jsonpfunction=window.rollup_bundle_jsonpfunction||[]).push([[1],Array(23).concat([function(e,t,s){e.exports=s(16)(2743)},function(e,t,s){e.exports=s(16)(2)},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=t.ReactReduxContext=void 0;var o=r(s(12)).default.createContext(null);t.ReactReduxContext=o;var a=o;t.default=a},function(e,t,s){"use strict";t.__esModule=!0;var r={batch:!0},o=s(43);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||(t[e]=o[e]))}));var a=s(58);t.batch=a.unstable_batchedUpdates,(0,s(32).setBatch)(a.unstable_batchedUpdates)},function(e,t,s){e.exports=s(16)(3)},function(e,t,s){"use strict";t.__esModule=!0,t.createSubscription=function(e,t){var s,a=o;function n(){l.onStateChange&&l.onStateChange()}function i(){var o,i,l;s||(s=t?t.addNestedSub(n):e.subscribe(n),o=(0,r.getBatch)(),i=null,l=null,a={clear:function(){i=null,l=null},notify:function(){o((function(){for(var e=i;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],t=i;t;)e.push(t),t=t.next;return e},subscribe:function(e){var t=!0,s=l={callback:e,next:null,prev:l};return s.prev?s.prev.next=s:i=s,function(){t&&null!==i&&(t=!1,s.next?s.next.prev=s.prev:l=s.prev,s.prev?s.prev.next=s.next:i=s.next)}}})}var l={addNestedSub:function(e){return i(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:n,isSubscribed:function(){return Boolean(s)},trySubscribe:i,tryUnsubscribe:function(){s&&(s(),s=void 0,a.clear(),a=o)},getListeners:function(){return a}};return l};var r=s(32),o={notify:function(){},get:function(){return[]}}},function(e,t,s){"use strict";t.__esModule=!0,t.useIsomorphicLayoutEffect=void 0;var r=s(12),o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;t.useIsomorphicLayoutEffect=o},function(e,t,s){e.exports=s(16)(1361)},function(e,t,s){e.exports=s(16)(2744)},function(e,t,s){"use strict";t.__esModule=!0,t.setBatch=t.getBatch=void 0;var r=function(e){e()};t.setBatch=function(e){return r=e},t.getBatch=function(){return r}},function(e,t,s){"use strict";var r=s(23).default,o=s(31).default;t.__esModule=!0,t.default=function(e,t){void 0===t&&(t={});var s=t,r=s.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,d=s.methodName,v=void 0===d?"connectAdvanced":d,S=s.renderCountProp,M=void 0===S?void 0:S,E=s.shouldHandleStateChanges,T=void 0===E||E,F=s.storeKey,C=void 0===F?"store":F,D=(s.withRef,s.forwardRef),P=void 0!==D&&D,k=s.context,J=void 0===k?p.ReactReduxContext:k,I=(0,n.default)(s,b),w=J;return function(t){var s=t.displayName||t.name||"Component",r=o(s),d=(0,a.default)({},I,{getDisplayName:o,methodName:v,renderCountProp:M,shouldHandleStateChanges:T,storeKey:C,displayName:r,wrappedComponentName:s,WrappedComponent:t}),p=I.pure,b=p?l.useMemo:function(e){return e()};function S(s){var r=(0,l.useMemo)((function(){var e=s.reactReduxForwardedRef,t=(0,n.default)(s,j);return[s.context,e,t]}),[s]),o=r[0],i=r[1],p=r[2],v=(0,l.useMemo)((function(){return o&&o.Consumer&&(0,c.isContextConsumer)(l.default.createElement(o.Consumer,null))?o:w}),[o,w]),S=(0,l.useContext)(v),M=Boolean(s.store)&&Boolean(s.store.getState)&&Boolean(s.store.dispatch);Boolean(S)&&Boolean(S.store);var E=M?s.store:S.store,F=(0,l.useMemo)((function(){return function(t){return e(t.dispatch,d)}(E)}),[E]),C=(0,l.useMemo)((function(){if(!T)return g;var e=(0,u.createSubscription)(E,M?null:S.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[E,M,S]),D=C[0],P=C[1],k=(0,l.useMemo)((function(){return M?S:(0,a.default)({},S,{subscription:D})}),[M,S,D]),J=(0,l.useReducer)(h,f,y),I=J[0][0],L=J[1];if(I&&I.error)throw I.error;var _=(0,l.useRef)(),A=(0,l.useRef)(p),R=(0,l.useRef)(),H=(0,l.useRef)(!1),B=b((function(){return R.current&&p===A.current?R.current:F(E.getState(),p)}),[E,I,p]);m(x,[A,_,H,p,B,R,P]),m(O,[T,E,D,F,A,_,H,R,P,L],[E,D,F]);var N=(0,l.useMemo)((function(){return l.default.createElement(t,(0,a.default)({},B,{ref:i}))}),[i,t,B]);return(0,l.useMemo)((function(){return T?l.default.createElement(v.Provider,{value:k},N):N}),[v,N,k])}var E=p?l.default.memo(S):S;if(E.WrappedComponent=t,E.displayName=S.displayName=r,P){var F=l.default.forwardRef((function(e,t){return l.default.createElement(E,(0,a.default)({},e,{reactReduxForwardedRef:t}))}));return F.displayName=r,F.WrappedComponent=t,(0,i.default)(F,t)}return(0,i.default)(E,t)}};var a=r(s(27)),n=r(s(30)),i=r(s(46)),l=o(s(12)),c=s(47),u=s(28),d=s(29),p=s(25),b=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],j=["reactReduxForwardedRef"],f=[],g=[null,null];function h(e,t){var s=e[1];return[t.payload,s+1]}function m(e,t,s){(0,d.useIsomorphicLayoutEffect)((function(){return e.apply(void 0,t)}),s)}function x(e,t,s,r,o,a,n){e.current=r,t.current=o,s.current=!1,a.current&&(a.current=null,n())}function O(e,t,s,r,o,a,n,i,l,c){if(e){var u=!1,d=null,p=function(){if(!u){var e,s,p=t.getState();try{e=r(p,o.current)}catch(e){s=e,d=e}s||(d=null),e===a.current?n.current||l():(a.current=e,i.current=e,n.current=!0,c({type:"STORE_UPDATED",payload:{error:s}}))}};return s.onStateChange=p,s.trySubscribe(),p(),function(){if(u=!0,s.tryUnsubscribe(),s.onStateChange=null,d)throw d}}}var y=function(){return[null,0]}},function(e,t,s){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}t.__esModule=!0,t.default=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=0;a<s.length;a++)if(!Object.prototype.hasOwnProperty.call(t,s[a])||!r(e[s[a]],t[s[a]]))return!1;return!0}},function(e,t,s){"use strict";var r=s(23).default;function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}t.__esModule=!0,t.getDependsOnOwnProps=o,t.wrapMapToPropsConstant=function(e){return function(t,s){var r=e(t,s);function o(){return r}return o.dependsOnOwnProps=!1,o}},t.wrapMapToPropsFunc=function(e,t){return function(t,s){s.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,s){r.mapToProps=e,r.dependsOnOwnProps=o(e);var a=r(t,s);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=o(a),a=r(t,s)),a},r}},r(s(36))},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=function(e,t,s){(0,o.default)(e)||(0,a.default)(s+"() in "+t+" must return a plain object. Instead received "+e+".")};var o=r(s(51)),a=r(s(37))},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,s){"use strict";t.__esModule=!0,t.createStoreHook=n,t.useStore=void 0;var r=s(12),o=s(25),a=s(39);function n(e){void 0===e&&(e=o.ReactReduxContext);var t=e===o.ReactReduxContext?a.useReduxContext:function(){return(0,r.useContext)(e)};return function(){return t().store}}var i=n();t.useStore=i},function(e,t,s){"use strict";t.__esModule=!0,t.useReduxContext=function(){return(0,r.useContext)(o.ReactReduxContext)};var r=s(12),o=s(25)},function(e,t,s){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(s(59));function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var n="function"==typeof Symbol&&Symbol.observable||"@@observable",i=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e,t,s){var r;if("function"==typeof t&&"function"==typeof s||"function"==typeof s&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===s&&(s=t,t=void 0),void 0!==s){if("function"!=typeof s)throw new Error(a(1));return s(u)(e,t)}if("function"!=typeof e)throw new Error(a(2));var o=e,i=t,d=[],p=d,b=!1;function j(){p===d&&(p=d.slice())}function f(){if(b)throw new Error(a(3));return i}function g(e){if("function"!=typeof e)throw new Error(a(4));if(b)throw new Error(a(5));var t=!0;return j(),p.push(e),function(){if(t){if(b)throw new Error(a(6));t=!1,j();var s=p.indexOf(e);p.splice(s,1),d=null}}}function h(e){if(!c(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(b)throw new Error(a(9));try{b=!0,i=o(i,e)}finally{b=!1}for(var t=d=p,s=0;s<t.length;s++)(0,t[s])();return e}function m(e){if("function"!=typeof e)throw new Error(a(10));o=e,h({type:l.REPLACE})}function x(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function s(){e.next&&e.next(f())}return s(),{unsubscribe:t(s)}}})[n]=function(){return this},e}return h({type:l.INIT}),(r={dispatch:h,subscribe:g,getState:f,replaceReducer:m})[n]=x,r}var d=u;function p(e,t){return function(){return t(e.apply(this,arguments))}}function b(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=l,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return function(){var s=e.apply(void 0,arguments),r=function(){throw new Error(a(15))},n={getState:s.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(n)}));return r=b.apply(void 0,i)(s.dispatch),o.default(o.default({},s),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var s={};for(var r in e){var o=e[r];"function"==typeof o&&(s[r]=p(o,t))}return s},t.combineReducers=function(e){for(var t=Object.keys(e),s={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(s[o]=e[o])}var n,i=Object.keys(s);try{!function(e){Object.keys(e).forEach((function(t){var s=e[t];if(void 0===s(void 0,{type:l.INIT}))throw new Error(a(12));if(void 0===s(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))}))}(s)}catch(e){n=e}return function(e,t){if(void 0===e&&(e={}),n)throw n;for(var r=!1,o={},l=0;l<i.length;l++){var c=i[l],u=s[c],d=e[c],p=u(d,t);if(void 0===p)throw t&&t.type,new Error(a(14));o[c]=p,r=r||p!==d}return(r=r||i.length!==Object.keys(e).length)?o:e}},t.compose=b,t.createStore=u,t.legacy_createStore=d},function(e,t,s){"use strict";var r,o=function(){var e={};return function(t){if(void 0===e[t]){var s=document.querySelector(t);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(e){s=null}e[t]=s}return e[t]}}(),a=[];function n(e){for(var t=-1,s=0;s<a.length;s++)if(a[s].identifier===e){t=s;break}return t}function i(e,t){for(var s={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=s[l]||0,u="".concat(l," ").concat(c);s[l]=c+1;var d=n(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:f(p,t),references:1}),r.push(u)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=s.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var n=o(e.insert||"head");if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,s,r){var o=s?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var a=document.createTextNode(o),n=e.childNodes;n[t]&&e.removeChild(n[t]),n.length?e.insertBefore(a,n[t]):e.appendChild(a)}}function p(e,t,s){var r=s.css,o=s.media,a=s.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var b=null,j=0;function f(e,t){var s,r,o;if(t.singleton){var a=j++;s=b||(b=l(t)),r=d.bind(null,s,a,!1),o=d.bind(null,s,a,!0)}else s=l(t),r=p.bind(null,s,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(s)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var s=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<s.length;r++){var o=n(s[r]);a[o].references--}for(var l=i(e,t),c=0;c<s.length;c++){var u=n(s[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}s=l}}}},function(e,t,s){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var s=function(e,t){var s,r,o,a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var i=(s=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),l=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[a].concat(l).concat([i]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(s,"}"):s})).join("")},t.i=function(e,s,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var n=this[a][0];null!=n&&(o[n]=!0)}for(var i=0;i<e.length;i++){var l=[].concat(e[i]);r&&o[l[0]]||(s&&(l[2]?l[2]="".concat(s," and ").concat(l[2]):l[2]=s),t.push(l))}},t}},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0;var o=r(s(44));t.Provider=o.default;var a=r(s(33));t.connectAdvanced=a.default;var n=s(25);t.ReactReduxContext=n.ReactReduxContext;var i=r(s(48));t.connect=i.default;var l=s(56);t.useDispatch=l.useDispatch,t.createDispatchHook=l.createDispatchHook;var c=s(57);t.useSelector=c.useSelector,t.createSelectorHook=c.createSelectorHook;var u=s(38);t.useStore=u.useStore,t.createStoreHook=u.createStoreHook;var d=r(s(34));t.shallowEqual=d.default},function(e,t,s){"use strict";var r=s(23).default,o=s(31).default;t.__esModule=!0,t.default=void 0;var a=o(s(12)),n=(r(s(45)),s(25)),i=s(28),l=s(29);t.default=function(e){var t=e.store,s=e.context,r=e.children,o=(0,a.useMemo)((function(){var e=(0,i.createSubscription)(t);return{store:t,subscription:e}}),[t]),c=(0,a.useMemo)((function(){return t.getState()}),[t]);(0,l.useIsomorphicLayoutEffect)((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,c]);var u=s||n.ReactReduxContext;return a.default.createElement(u.Provider,{value:o},r)}},function(e,t,s){e.exports=s(16)(8)},function(e,t,s){e.exports=s(16)(264)},function(e,t,s){e.exports=s(16)(447)},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.createConnect=f,t.default=void 0;var o=r(s(27)),a=r(s(30)),n=r(s(33)),i=r(s(34)),l=r(s(49)),c=r(s(52)),u=r(s(53)),d=r(s(54)),p=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function b(e,t,s){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+s+" argument when connecting component "+r.wrappedComponentName+".")}}function j(e,t){return e===t}function f(e){var t=void 0===e?{}:e,s=t.connectHOC,r=void 0===s?n.default:s,f=t.mapStateToPropsFactories,g=void 0===f?c.default:f,h=t.mapDispatchToPropsFactories,m=void 0===h?l.default:h,x=t.mergePropsFactories,O=void 0===x?u.default:x,y=t.selectorFactory,v=void 0===y?d.default:y;return function(e,t,s,n){void 0===n&&(n={});var l=n,c=l.pure,u=void 0===c||c,d=l.areStatesEqual,f=void 0===d?j:d,h=l.areOwnPropsEqual,x=void 0===h?i.default:h,y=l.areStatePropsEqual,S=void 0===y?i.default:y,M=l.areMergedPropsEqual,E=void 0===M?i.default:M,T=(0,a.default)(l,p),F=b(e,g,"mapStateToProps"),C=b(t,m,"mapDispatchToProps"),D=b(s,O,"mergeProps");return r(v,(0,o.default)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:F,initMapDispatchToProps:C,initMergeProps:D,pure:u,areStatesEqual:f,areOwnPropsEqual:x,areStatePropsEqual:S,areMergedPropsEqual:E},T))}}var g=f();t.default=g},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=void 0,t.whenMapDispatchToPropsIsFunction=n,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=l;var o=r(s(50)),a=s(35);function n(e){return"function"==typeof e?(0,a.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,a.wrapMapToPropsConstant)((function(e){return{dispatch:e}}))}function l(e){return e&&"object"==typeof e?(0,a.wrapMapToPropsConstant)((function(t){return(0,o.default)(e,t)})):void 0}var c=[n,i,l];t.default=c},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e,t){var s={},r=function(r){var o=e[r];"function"==typeof o&&(s[r]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)r(o);return s}},function(e,t,s){"use strict";t.__esModule=!0,t.default=function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var s=t;null!==Object.getPrototypeOf(s);)s=Object.getPrototypeOf(s);return t===s}},function(e,t,s){"use strict";t.__esModule=!0,t.default=void 0,t.whenMapStateToPropsIsFunction=o,t.whenMapStateToPropsIsMissing=a;var r=s(35);function o(e){return"function"==typeof e?(0,r.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function a(e){return e?void 0:(0,r.wrapMapToPropsConstant)((function(){return{}}))}var n=[o,a];t.default=n},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=void 0,t.defaultMergeProps=a,t.whenMergePropsIsFunction=i,t.whenMergePropsIsOmitted=l,t.wrapMergePropsFunc=n;var o=r(s(27));function a(e,t,s){return(0,o.default)({},s,e,t)}function n(e){return function(t,s){s.displayName;var r,o=s.pure,a=s.areMergedPropsEqual,n=!1;return function(t,s,i){var l=e(t,s,i);return n?o&&a(l,r)||(r=l):(n=!0,r=l),r}}}function i(e){return"function"==typeof e?n(e):void 0}function l(e){return e?void 0:function(){return a}}r(s(36));var c=[i,l];t.default=c},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=function(e,t){var s=t.initMapStateToProps,r=t.initMapDispatchToProps,l=t.initMergeProps,c=(0,o.default)(t,a),u=s(e,c),d=r(e,c),p=l(e,c);return(c.pure?i:n)(u,d,p,e,c)},t.impureFinalPropsSelectorFactory=n,t.pureFinalPropsSelectorFactory=i;var o=r(s(30)),a=(r(s(55)),["initMapStateToProps","initMapDispatchToProps","initMergeProps"]);function n(e,t,s,r){return function(o,a){return s(e(o,a),t(r,a),a)}}function i(e,t,s,r,o){var a,n,i,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,b=!1;return function(o,j){return b?function(o,b){var j,f,g=!d(b,n),h=!u(o,a);return a=o,n=b,g&&h?(i=e(a,n),t.dependsOnOwnProps&&(l=t(r,n)),c=s(i,l,n)):g?(e.dependsOnOwnProps&&(i=e(a,n)),t.dependsOnOwnProps&&(l=t(r,n)),c=s(i,l,n)):h?(j=e(a,n),f=!p(j,i),i=j,f&&(c=s(i,l,n)),c):c}(o,j):(i=e(a=o,n=j),l=t(r,n),c=s(i,l,n),b=!0,c)}}},function(e,t,s){"use strict";var r=s(23).default;t.__esModule=!0,t.default=function(e,t,s,r){a(e,"mapStateToProps",r),a(t,"mapDispatchToProps",r),a(s,"mergeProps",r)};var o=r(s(37));function a(e,t,s){if(!e)throw new Error("Unexpected value for "+t+" in "+s+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||Object.prototype.hasOwnProperty.call(e,"dependsOnOwnProps")||(0,o.default)("The selector for "+t+" of "+s+" did not specify a value for dependsOnOwnProps.")}},function(e,t,s){"use strict";t.__esModule=!0,t.createDispatchHook=a,t.useDispatch=void 0;var r=s(25),o=s(38);function a(e){void 0===e&&(e=r.ReactReduxContext);var t=e===r.ReactReduxContext?o.useStore:(0,o.createStoreHook)(e);return function(){return t().dispatch}}var n=a();t.useDispatch=n},function(e,t,s){"use strict";t.__esModule=!0,t.createSelectorHook=c,t.useSelector=void 0;var r=s(12),o=s(39),a=s(28),n=s(29),i=s(25),l=function(e,t){return e===t};function c(e){void 0===e&&(e=i.ReactReduxContext);var t=e===i.ReactReduxContext?o.useReduxContext:function(){return(0,r.useContext)(e)};return function(e,s){void 0===s&&(s=l);var o=t(),i=function(e,t,s,o){var i,l=(0,r.useReducer)((function(e){return e+1}),0)[1],c=(0,r.useMemo)((function(){return(0,a.createSubscription)(s,o)}),[s,o]),u=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)(),b=(0,r.useRef)(),j=s.getState();try{if(e!==d.current||j!==p.current||u.current){var f=e(j);i=void 0!==b.current&&t(f,b.current)?b.current:f}else i=b.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return(0,n.useIsomorphicLayoutEffect)((function(){d.current=e,p.current=j,b.current=i,u.current=void 0})),(0,n.useIsomorphicLayoutEffect)((function(){function e(){try{var e=s.getState();if(e===p.current)return;var r=d.current(e);if(t(r,b.current))return;b.current=r,p.current=e}catch(e){u.current=e}l()}return c.onStateChange=e,c.trySubscribe(),e(),function(){return c.tryUnsubscribe()}}),[s,c]),i}(e,s,o.store,o.subscription);return(0,r.useDebugValue)(i),i}}var u=c();t.useSelector=u},function(e,t,s){"use strict";t.__esModule=!0,t.unstable_batchedUpdates=void 0;var r=s(20);t.unstable_batchedUpdates=r.unstable_batchedUpdates},function(e,t,s){e.exports=s(16)(2745)},function(e,t,s){"use strict";function r(e){return function(t){var s=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(s,r,e):t(o)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r();o.withExtraArgument=r;var a=o;t.default=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSelector=void 0,t.createSelectorCreator=a,t.createStructuredSelector=void 0,Object.defineProperty(t,"defaultEqualityCheck",{enumerable:!0,get:function(){return r.defaultEqualityCheck}}),Object.defineProperty(t,"defaultMemoize",{enumerable:!0,get:function(){return r.defaultMemoize}});var r=s(62);function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var s=t.map((function(e){return"function"==typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+s+"]")}return t}function a(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];var a=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var n,i=0,l={memoizeOptions:void 0},c=r.pop();if("object"==typeof c&&(l=c,c=r.pop()),"function"!=typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=l,d=u.memoizeOptions,p=void 0===d?s:d,b=Array.isArray(p)?p:[p],j=o(r),f=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(b)),g=e((function(){for(var e=[],t=j.length,s=0;s<t;s++)e.push(j[s].apply(null,arguments));return n=f.apply(null,e)}));return Object.assign(g,{resultFunc:c,memoizedResultFunc:f,dependencies:j,lastResult:function(){return n},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),g};return a}var n=a(r.defaultMemoize);t.createSelector=n,t.createStructuredSelector=function(e,t){if(void 0===t&&(t=n),"object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var s=Object.keys(e),r=t(s.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[s[r]]=t,e}),{})}));return r}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCacheKeyComparator=a,t.defaultEqualityCheck=void 0,t.defaultMemoize=function(e,t){var s,n,i="object"==typeof t?t:{equalityCheck:t},l=i.equalityCheck,c=void 0===l?o:l,u=i.maxSize,d=void 0===u?1:u,p=i.resultEqualityCheck,b=a(c),j=1===d?(s=b,{get:function(e){return n&&s(n.key,e)?n.value:r},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}):function(e,t){var s=[];function o(e){var o=s.findIndex((function(s){return t(e,s.key)}));if(o>-1){var a=s[o];return o>0&&(s.splice(o,1),s.unshift(a)),a.value}return r}return{get:o,put:function(t,a){o(t)===r&&(s.unshift({key:t,value:a}),s.length>e&&s.pop())},getEntries:function(){return s},clear:function(){s=[]}}}(d,b);function f(){var t=j.get(arguments);if(t===r){if(t=e.apply(null,arguments),p){var s=j.getEntries(),o=s.find((function(e){return p(e.value,t)}));o&&(t=o.value)}j.put(arguments,t)}return t}return f.clearCache=function(){return j.clear()},f};var r="NOT_FOUND",o=function(e,t){return e===t};function a(e){return function(t,s){if(null===t||null===s||t.length!==s.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],s[o]))return!1;return!0}}t.defaultEqualityCheck=o},function(e,t,s){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function s(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,s),o.l=!0,o.exports}return s.m=e,s.c=t,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),o=s(2),a=function(){function e(t,s){this.expression=t,this.options=s,this.expressionParts=new Array(5),e.locales[s.locale]?this.i18n=e.locales[s.locale]:(console.warn("Locale '"+s.locale+"' could not be found; falling back to 'en'."),this.i18n=e.locales.en),void 0===s.use24HourTimeFormat&&(s.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return e.toString=function(t,s){var r=void 0===s?{}:s,o=r.throwExceptionOnParseError,a=void 0===o||o,n=r.verbose,i=void 0!==n&&n,l=r.dayOfWeekStartIndexZero,c=void 0===l||l,u=r.use24HourTimeFormat,d=r.locale;return new e(t,{throwExceptionOnParseError:a,verbose:i,dayOfWeekStartIndexZero:c,use24HourTimeFormat:u,locale:void 0===d?"en":d}).getFullDescription()},e.initialize=function(t){e.specialCharacters=["/","-",",","*"],t.load(e.locales)},e.prototype.getFullDescription=function(){var e="";try{var t=new o.CronParser(this.expression,this.options.dayOfWeekStartIndexZero);this.expressionParts=t.parse();var s=this.getTimeOfDayDescription(),r=this.getDayOfMonthDescription(),a=this.getMonthDescription();e+=s+r+this.getDayOfWeekDescription()+a+this.getYearDescription(),e=(e=this.transformVerbosity(e,this.options.verbose)).charAt(0).toLocaleUpperCase()+e.substr(1)}catch(t){if(this.options.throwExceptionOnParseError)throw""+t;e=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD()}return e},e.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],s=this.expressionParts[1],o=this.expressionParts[2],a="";if(r.StringUtilities.containsAny(s,e.specialCharacters)||r.StringUtilities.containsAny(o,e.specialCharacters)||r.StringUtilities.containsAny(t,e.specialCharacters))if(t||!(s.indexOf("-")>-1)||s.indexOf(",")>-1||r.StringUtilities.containsAny(o,e.specialCharacters))if(!t&&o.indexOf(",")>-1&&-1==o.indexOf("-")&&-1==o.indexOf("/")&&!r.StringUtilities.containsAny(s,e.specialCharacters)){var n=o.split(",");a+=this.i18n.at();for(var i=0;i<n.length;i++)a+=" ",a+=this.formatTime(n[i],s,""),i<n.length-2&&(a+=","),i==n.length-2&&(a+=this.i18n.spaceAnd())}else{var l=this.getSecondsDescription(),c=this.getMinutesDescription(),u=this.getHoursDescription();(a+=l).length>0&&(a+=", "),(a+=c).length>0&&(a+=", "),a+=u}else{var d=s.split("-");a+=r.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(o,d[0],""),this.formatTime(o,d[1],""))}else a+=this.i18n.atSpace()+this.formatTime(o,s,t);return a},e.prototype.getSecondsDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),(function(e){return e}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Seconds(),t)}),(function(t){return e.i18n.secondsX0ThroughX1PastTheMinute()}),(function(t){return"0"==t?"":parseInt(t)<20?e.i18n.atX0SecondsPastTheMinute():e.i18n.atX0SecondsPastTheMinuteGt20()||e.i18n.atX0SecondsPastTheMinute()}))},e.prototype.getMinutesDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),(function(e){return e}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Minutes(),t)}),(function(t){return e.i18n.minutesX0ThroughX1PastTheHour()}),(function(t){try{return"0"==t?"":parseInt(t)<20?e.i18n.atX0MinutesPastTheHour():e.i18n.atX0MinutesPastTheHourGt20()||e.i18n.atX0MinutesPastTheHour()}catch(t){return e.i18n.atX0MinutesPastTheHour()}}))},e.prototype.getHoursDescription=function(){var e=this,t=this.expressionParts[2];return this.getSegmentDescription(t,this.i18n.everyHour(),(function(t){return e.formatTime(t,"0","")}),(function(t){return r.StringUtilities.format(e.i18n.everyX0Hours(),t)}),(function(t){return e.i18n.betweenX0AndX1()}),(function(t){return e.i18n.atX0()}))},e.prototype.getDayOfWeekDescription=function(){var e=this,t=this.i18n.daysOfTheWeek();return"*"==this.expressionParts[5]?"":this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),(function(e){var s=e;return e.indexOf("#")>-1?s=e.substr(0,e.indexOf("#")):e.indexOf("L")>-1&&(s=s.replace("L","")),t[parseInt(s)]}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0DaysOfTheWeek(),t)}),(function(t){return e.i18n.commaX0ThroughX1()}),(function(t){var s=null;if(t.indexOf("#")>-1){var r=null;switch(t.substring(t.indexOf("#")+1)){case"1":r=e.i18n.first();break;case"2":r=e.i18n.second();break;case"3":r=e.i18n.third();break;case"4":r=e.i18n.fourth();break;case"5":r=e.i18n.fifth()}s=e.i18n.commaOnThe()+r+e.i18n.spaceX0OfTheMonth()}else s=t.indexOf("L")>-1?e.i18n.commaOnTheLastX0OfTheMonth():"*"!=e.expressionParts[3]?e.i18n.commaAndOnX0():e.i18n.commaOnlyOnX0();return s}))},e.prototype.getMonthDescription=function(){var e=this,t=this.i18n.monthsOfTheYear();return this.getSegmentDescription(this.expressionParts[4],"",(function(e){return t[parseInt(e)-1]}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Months(),t)}),(function(t){return e.i18n.commaMonthX0ThroughMonthX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInX0()}))},e.prototype.getDayOfMonthDescription=function(){var e=this,t=null,s=this.expressionParts[3];switch(s){case"L":t=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":t=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var o=s.match(/(\d{1,2}W)|(W\d{1,2})/);if(o){var a=parseInt(o[0].replace("W","")),n=1==a?this.i18n.firstWeekday():r.StringUtilities.format(this.i18n.weekdayNearestDayX0(),a.toString());t=r.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),n);break}var i=s.match(/L-(\d{1,2})/);if(i){var l=i[1];t=r.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(),l);break}t=this.getSegmentDescription(s,this.i18n.commaEveryDay(),(function(t){return"L"==t?e.i18n.lastDay():t}),(function(t){return"1"==t?e.i18n.commaEveryDay():e.i18n.commaEveryX0Days()}),(function(t){return e.i18n.commaBetweenDayX0AndX1OfTheMonth()}),(function(t){return e.i18n.commaOnDayX0OfTheMonth()}))}return t},e.prototype.getYearDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[6],"",(function(e){return/^\d+$/.test(e)?new Date(parseInt(e),1).getFullYear().toString():e}),(function(t){return r.StringUtilities.format(e.i18n.commaEveryX0Years(),t)}),(function(t){return e.i18n.commaYearX0ThroughYearX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInX0()}))},e.prototype.getSegmentDescription=function(e,t,s,o,a,n){var i=this,l=null;if(e)if("*"===e)l=t;else if(r.StringUtilities.containsAny(e,["/","-",","]))if(e.indexOf("/")>-1){var c=e.split("/");if(l=r.StringUtilities.format(o(c[1]),s(c[1])),c[0].indexOf("-")>-1)0!=(b=this.generateBetweenSegmentDescription(c[0],a,s)).indexOf(", ")&&(l+=", "),l+=b;else if(!r.StringUtilities.containsAny(c[0],["*",","])){var u=r.StringUtilities.format(n(c[0]),s(c[0]));u=u.replace(", ",""),l+=r.StringUtilities.format(this.i18n.commaStartingX0(),u)}}else if(e.indexOf(",")>-1){c=e.split(",");for(var d="",p=0;p<c.length;p++){var b;p>0&&c.length>2&&(d+=",",p<c.length-1&&(d+=" ")),p>0&&c.length>1&&(p==c.length-1||2==c.length)&&(d+=this.i18n.spaceAnd()+" "),c[p].indexOf("-")>-1?d+=b=(b=this.generateBetweenSegmentDescription(c[p],(function(e){return i.i18n.commaX0ThroughX1()}),s)).replace(", ",""):d+=s(c[p])}l=r.StringUtilities.format(n(e),d)}else e.indexOf("-")>-1&&(l=this.generateBetweenSegmentDescription(e,a,s));else l=r.StringUtilities.format(n(e),s(e));else l="";return l},e.prototype.generateBetweenSegmentDescription=function(e,t,s){var o=e.split("-"),a=s(o[0]),n=s(o[1]);n=n.replace(":00",":59");var i=t(e);return""+r.StringUtilities.format(i,a,n)},e.prototype.formatTime=function(e,t,s){var r=parseInt(e),o="";this.options.use24HourTimeFormat||(o=r>=12?" PM":" AM",r>12&&(r-=12),0===r&&(r=12));var a=t,n="";return s&&(n=":"+("00"+s).substring(s.length)),("00"+r.toString()).substring(r.toString().length)+":"+("00"+a.toString()).substring(a.toString().length)+n+o},e.prototype.transformVerbosity=function(e,t){return t||(e=(e=(e=e.replace(new RegExp(this.i18n.commaEveryMinute(),"g"),"")).replace(new RegExp(this.i18n.commaEveryHour(),"g"),"")).replace(new RegExp(this.i18n.commaEveryDay(),"g"),"")),e},e.locales={},e}();t.ExpressionDescriptor=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.format=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return e.replace(/%s/g,(function(){return t.shift()}))},e.containsAny=function(e,t){return t.some((function(t){return e.indexOf(t)>-1}))},e}();t.StringUtilities=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){void 0===t&&(t=!0),this.expression=e,this.dayOfWeekStartIndexZero=t}return e.prototype.parse=function(){var e=this.extractParts(this.expression);return this.normalize(e),this.validate(e),e},e.prototype.extractParts=function(e){if(!this.expression)throw new Error("Expression is empty");var t=e.trim().split(" ");if(t.length<5)throw new Error("Expression has only "+t.length+" part"+(1==t.length?"":"s")+". At least 5 parts are required.");if(5==t.length)t.unshift(""),t.push("");else if(6==t.length)/\d{4}$/.test(t[5])?t.unshift(""):t.push("");else if(t.length>7)throw new Error("Expression has "+t.length+" parts; too many!");return t},e.prototype.normalize=function(e){var t=this;if(e[3]=e[3].replace("?","*"),e[5]=e[5].replace("?","*"),0==e[0].indexOf("0/")&&(e[0]=e[0].replace("0/","*/")),0==e[1].indexOf("0/")&&(e[1]=e[1].replace("0/","*/")),0==e[2].indexOf("0/")&&(e[2]=e[2].replace("0/","*/")),0==e[3].indexOf("1/")&&(e[3]=e[3].replace("1/","*/")),0==e[4].indexOf("1/")&&(e[4]=e[4].replace("1/","*/")),0==e[5].indexOf("1/")&&(e[5]=e[5].replace("1/","*/")),0==e[6].indexOf("1/")&&(e[6]=e[6].replace("1/","*/")),e[5]=e[5].replace(/(^\d)|([^#/\s]\d)/g,(function(e){var s=e.replace(/\D/,""),r=s;return t.dayOfWeekStartIndexZero?"7"==s&&(r="0"):r=(parseInt(s)-1).toString(),e.replace(s,r)})),"L"==e[5]&&(e[5]="6"),"?"==e[3]&&(e[3]="*"),e[3].indexOf("W")>-1&&(e[3].indexOf(",")>-1||e[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var s={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var r in s)e[5]=e[5].replace(new RegExp(r,"gi"),s[r].toString());var o={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var a in o)e[4]=e[4].replace(new RegExp(a,"gi"),o[a].toString());"0"==e[0]&&(e[0]="");for(var n=0;n<e.length;n++)if("*/1"==e[n]&&(e[n]="*"),e[n].indexOf("/")>-1&&!/^\*|\-|\,/.test(e[n])){var i=null;switch(n){case 4:i="12";break;case 5:i="6";break;case 6:i="9999";break;default:i=null}if(null!=i){var l=e[n].split("/");e[n]=l[0]+"-"+i+"/"+l[1]}}},e.prototype.validate=function(e){this.assertNoInvalidCharacters("DOW",e[5]),this.assertNoInvalidCharacters("DOM",e[3])},e.prototype.assertNoInvalidCharacters=function(e,t){var s=t.match(/[A-KM-VX-Z]+/gi);if(s&&s.length)throw new Error(e+" part contains invalid values: '"+s.toString()+"'")},e}();t.CronParser=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},e.prototype.atX0MinutesPastTheHourGt20=function(){return null},e.prototype.commaMonthX0ThroughMonthX1=function(){return null},e.prototype.commaYearX0ThroughYearX1=function(){return null},e.prototype.use24HourTimeFormatByDefault=function(){return!1},e.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},e.prototype.everyMinute=function(){return"every minute"},e.prototype.everyHour=function(){return"every hour"},e.prototype.atSpace=function(){return"At "},e.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},e.prototype.at=function(){return"At"},e.prototype.spaceAnd=function(){return" and"},e.prototype.everySecond=function(){return"every second"},e.prototype.everyX0Seconds=function(){return"every %s seconds"},e.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},e.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},e.prototype.everyX0Minutes=function(){return"every %s minutes"},e.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},e.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},e.prototype.everyX0Hours=function(){return"every %s hours"},e.prototype.betweenX0AndX1=function(){return"between %s and %s"},e.prototype.atX0=function(){return"at %s"},e.prototype.commaEveryDay=function(){return", every day"},e.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},e.prototype.commaX0ThroughX1=function(){return", %s through %s"},e.prototype.first=function(){return"first"},e.prototype.second=function(){return"second"},e.prototype.third=function(){return"third"},e.prototype.fourth=function(){return"fourth"},e.prototype.fifth=function(){return"fifth"},e.prototype.commaOnThe=function(){return", on the "},e.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},e.prototype.lastDay=function(){return"the last day"},e.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},e.prototype.commaOnlyOnX0=function(){return", only on %s"},e.prototype.commaAndOnX0=function(){return", and on %s"},e.prototype.commaEveryX0Months=function(){return", every %s months"},e.prototype.commaOnlyInX0=function(){return", only in %s"},e.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},e.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},e.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},e.prototype.firstWeekday=function(){return"first weekday"},e.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},e.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},e.prototype.commaEveryX0Days=function(){return", every %s days"},e.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},e.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},e.prototype.commaEveryMinute=function(){return", every minute"},e.prototype.commaEveryHour=function(){return", every hour"},e.prototype.commaEveryX0Years=function(){return", every %s years"},e.prototype.commaStartingX0=function(){return", starting %s"},e.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},e}();t.en=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(0),o=s(5);r.ExpressionDescriptor.initialize(new o.enLocaleLoader),t.default=r.ExpressionDescriptor;var a=r.ExpressionDescriptor.toString;t.toString=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(3),o=function(){function e(){}return e.prototype.load=function(e){e.en=new r.en},e}();t.enLocaleLoader=o}])},function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(65);case"v8light":return s(67)}},function(e,t,s){var r=s(41),o=s(66);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,s){(t=s(42)(!1)).push([e.i,".rollupJobWizardStepActions{align-items:flex-end}",""]),e.exports=t},function(e,t,s){var r=s(41),o=s(68);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);r(o,{insert:"head",singleton:!1}),e.exports=o.locals||{}},function(e,t,s){(t=s(42)(!1)).push([e.i,".rollupJobWizardStepActions{align-items:flex-end}",""]),e.exports=t},function(e,t,s){"use strict";s.r(t),s.d(t,"renderApp",(function(){return Zt}));var r=s(12),o=s.n(r),a=s(20),n=s(26),i=s(17),l=s(18),c=s(40),u=s(60),d=s.n(u);const p="OPEN_DETAIL_PANEL",b="CLOSE_DETAIL_PANEL",j="LOAD_JOBS_START",f="LOAD_JOBS_SUCCESS",g="LOAD_JOBS_FAILURE",h="REFRESH_JOBS_SUCCESS",m="CLONE_JOB_START",x="CLONE_JOB_CLEAR",O="CREATE_JOB_START",y="CREATE_JOB_SUCCESS",v="CREATE_JOB_FAILURE",S="CLEAR_CREATE_JOB_ERRORS",M="UPDATE_JOB_START",E="UPDATE_JOB_SUCCESS",T="UPDATE_JOB_FAILURE",F="FILTER_CHANGED",C="PAGE_CHANGED",D="PAGE_SIZE_CHANGED",P="SORT_CHANGED",k={isLoading:!1,byId:{},allIds:[]};function J(e){const t={};return e.forEach((e=>{t[e.id]=e})),t}function I(e){return e.map((e=>e.id))}const w={filter:"",pageSize:20,currentPage:0,sortField:"job.id",isSortAscending:!0},L={isOpen:!1,panelType:void 0,jobId:void 0},_={job:void 0},A={isSaving:!1,error:void 0},R={isUpdating:!1,error:void 0},H=Object(c.combineReducers)({jobs:function(e=k,t){const{type:s,payload:r}=t;switch(s){case j:return{...e,isLoading:!0};case f:return{byId:J(r.jobs),allIds:I(r.jobs),isLoading:!1};case h:return{byId:J(r.jobs),allIds:I(r.jobs)};case g:return{...e,isLoading:!1,jobLoadError:r.error};case y:const{job:t}=r;return{byId:{...e.byId,[t.id]:t},allIds:e.allIds.concat(t.id)};default:return e}},cloneJob:function(e=_,t){const{type:s,payload:r}=t;return s===m?{job:r}:s===x?{..._}:e},tableState:function(e=w,t){const{type:s,payload:r}=t;switch(s){case F:const{filter:t}=r;return{...e,filter:t,currentPage:0};case P:const{sortField:s,isSortAscending:o}=r;return{...e,sortField:s,isSortAscending:o};case C:const{pageNumber:a}=r;return{...e,currentPage:a};case D:const{pageSize:n}=r;return{...e,pageSize:n};default:return e}},detailPanel:function(e=L,t){const{type:s,payload:r}=t;switch(s){case p:const{panelType:t,jobId:s}=r;return{panelType:t||e.panelType,jobId:s,isOpen:!0};case b:return{panelType:void 0,jobId:void 0,isOpen:!1};default:return e}},createJob:function(e=A,t){const{type:s,payload:r}=t;switch(s){case O:return{isSaving:!0,error:void 0};case y:return{...e,isSaving:!1};case v:return{...e,error:r.error,isSaving:!1};case S:return{...e,error:void 0};default:return e}},updateJob:function(e=R,t){const{type:s}=t;switch(s){case M:return{isUpdating:!0};case E:case T:return{isUpdating:!1};default:return e}}});var B=s(4);const N=()=>e=>t=>{const{type:s}=t;return s===m&&(Object(B.m)()||Object(B.k)().history.push({pathname:"/create"})),e(t)},z=()=>e=>t=>{const{type:s}=t;if(s===b&&!Object(B.m)()){const{history:e}=Object(B.k)();e.replace({search:""})}return e(t)},U=function(e={}){const t=[Object(c.applyMiddleware)(d.a,z,N)];return window.__REDUX_DEVTOOLS_EXTENSION__&&t.push(window.__REDUX_DEVTOOLS_EXTENSION__()),Object(c.createStore)(H,e,Object(c.compose)(...t))}();var X=s(21),W=s(1),V=s(0),q=s(15),G=s(61);const $=e=>e.jobs.byId,Z=e=>e.jobs.allIds,K=e=>e.tableState,Y=e=>e.detailPanel.panelType,Q=e=>e.detailPanel.isOpen,ee=e=>((e,t)=>$(e)[t])(e,e.detailPanel.jobId),te=e=>e.detailPanel.jobId,se=e=>e.jobs.isLoading,re=e=>e.jobs.jobLoadError,oe=e=>e.createJob.isSaving,ae=e=>e.createJob.error,ne=e=>e.updateJob.isUpdating,ie=e=>e.cloneJob.job,le=Object(G.createSelector)($,K,((e,t)=>{const s=Object.keys(e).map((t=>e[t]));return Object(B.h)(["id","indexPattern","rollupIndex"],t.filter,s)})),ce=Object(G.createSelector)(le,(e=>Object.keys(e).length)),ue=Object(G.createSelector)(K,ce,(({currentPage:e,pageSize:t},s)=>new q.Pager(s,t,e))),de=Object(G.createSelector)(le,K,ue,((e,t,s)=>{const r=Object(B.x)(e,t.sortField,t.isSortAscending),{firstItemIndex:o,lastItemIndex:a}=s;return r.slice(o,a+1)})),pe=(Object(G.createSelector)(ue,(e=>e.hasNextPage)),Object(G.createSelector)(ue,(e=>e.hasPreviousPage)),Object(G.createSelector)(ue,(e=>e.currentPage)),Object(G.createSelector)(K,(({filter:e})=>e))),be=Object(G.createSelector)(K,(({isSortAscending:e})=>e)),je=Object(G.createSelector)(K,(({sortField:e})=>e));var fe=s(2);const ge=e=>async t=>{let s;try{s=await Object(B.p)(e)}catch(e){return Object(B.w)(e,fe.i18n.translate("xpack.rollupJobs.refreshAction.errorTitle",{defaultMessage:"Error refreshing rollup jobs"}))}t({type:h,payload:{jobs:Object(B.g)(s)}})},he=e=>async t=>{t({type:M});try{await Object(B.d)(Object(B.y)(e))}catch(e){return t({type:T}),Object(B.v)(e,fe.i18n.translate("xpack.rollupJobs.startJobsAction.errorTitle",{defaultMessage:"Error starting rollup jobs"}))}t({type:E}),t(ge())},me=e=>t=>{t({type:m,payload:e})},xe=({panelType:e,jobId:t})=>s=>{const{history:r}=Object(B.k)(),o=r.location.search,{job:a}=Object(i.extractQueryParams)(o);a!==t&&r.replace({search:`?job=${t}`}),s({type:p,payload:{panelType:e,jobId:t}})},Oe=()=>e=>{e({type:b})};var ye=s(27),ve=s.n(ye),Se=s(14),Me=s(6),Ee=s(24),Te=s.n(Ee),Fe=s(13);const Ce=({columns:e,fields:t,onRemoveField:s,addButton:r,emptyMessage:o,dataTestSubj:a})=>{let n,i;t.length||(n=Object(Fe.jsx)(q.EuiEmptyPrompt,{title:o,titleSize:"xs"})),i=s?e.concat({name:"Remove",width:"80px",actions:[{name:"Remove",isPrimary:!0,description:"Remove this field",icon:"trash",type:"icon",color:"danger",onClick:e=>s(e)}]}):e;const l={toolsRight:r||void 0,box:{incremental:!0,placeholder:"Search"}};return Object(Fe.jsx)(q.EuiInMemoryTable,{items:t,itemId:"name",columns:i,search:l,pagination:{initialPageSize:200,pageSizeOptions:[20,100,200]},sorting:!0,message:n,"data-test-subj":a})};class confirm_delete_modal_ConfirmDeleteModal extends r.Component{renderJobs(){const{jobs:e}=this.props,t=e.map((({id:e,status:t})=>{const s=fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.startedMessage",{defaultMessage:"started"}),r="started"===t?` (${s})`:null;return Object(Fe.jsx)("li",{key:e},e,r)}));return Object(Fe.jsx)("ul",null,t)}render(){const{isSingleSelection:e,jobs:t,onCancel:s,onConfirm:o}=this.props;let a,n;if(e){const{id:e,status:s}=t[0];a=fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobTitle",{defaultMessage:"Delete rollup job '{id}'?",values:{id:e}}),"started"===s&&(n=Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.deleteSingleJobDescription",defaultMessage:"This job has been started."})))}else a=fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionTitle",{defaultMessage:"Delete {count} rollup jobs?",values:{count:t.length}}),n=Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.multipleDeletionDescription",defaultMessage:"You are about to delete {isSingleSelection, plural, one {this job} other {these jobs}}",values:{isSingleSelection:e?1:0}})),this.renderJobs());return Object(Fe.jsx)(q.EuiConfirmModal,{title:a,onCancel:s,onConfirm:o,cancelButtonText:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.cancelButtonText",{defaultMessage:"Cancel"}),buttonColor:"danger",confirmButtonText:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJob.confirmModal.confirmButtonText",{defaultMessage:"Delete"})},n)}}class job_action_menu_JobActionMenuUi extends r.Component{constructor(e){super(e),Te()(this,"onButtonClick",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),Te()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),Te()(this,"closeDeleteConfirmationModal",(()=>{this.setState({showDeleteConfirmation:!1})})),Te()(this,"openDeleteConfirmationModal",(()=>{this.setState({showDeleteConfirmation:!0})})),Te()(this,"confirmDeleteModal",(()=>{const{showDeleteConfirmation:e}=this.state;if(!e)return null;const{deleteJobs:t,jobs:s}=this.props,r=this.isSingleSelection();return Object(Fe.jsx)(confirm_delete_modal_ConfirmDeleteModal,{isSingleSelection:r,jobs:s,onConfirm:()=>{this.closePopover(),t()},onCancel:this.closeDeleteConfirmationModal})})),Te()(this,"isSingleSelection",(()=>1===this.props.jobs.length)),this.state={isPopoverOpen:!1,showDeleteConfirmation:!1}}panels(){const{startJobs:e,stopJobs:t,cloneJob:s}=this.props,r=this.isSingleSelection()?1:0,o=[];this.canStartJobs()&&o.push({name:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.startJobLabel",{defaultMessage:"Start {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:r}}),icon:Object(Fe.jsx)(q.EuiIcon,{type:"play"}),onClick:()=>{this.closePopover(),e()}}),this.canStopJobs()&&o.push({name:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.stopJobLabel",{defaultMessage:"Stop {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:r}}),icon:Object(Fe.jsx)(q.EuiIcon,{type:"stop"}),onClick:()=>{this.closePopover(),t()}}),this.canCloneJob()&&o.push({name:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.cloneJobLabel",{defaultMessage:"Clone job"}),icon:Object(Fe.jsx)(q.EuiIcon,{"data-test-subj":"jobCloneActionContextMenu",type:"copy"}),onClick:()=>{this.closePopover();const{jobs:e}=this.props;s(e[0])}}),this.canDeleteJobs()&&o.push({name:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.deleteJobLabel",{defaultMessage:"Delete {isSingleSelection, plural, one {job} other {jobs}}",values:{isSingleSelection:r}}),icon:Object(Fe.jsx)(q.EuiIcon,{type:"trash"}),onClick:()=>{this.closePopover(),this.openDeleteConfirmationModal()}});const a={id:0,title:fe.i18n.translate("xpack.rollupJobs.jobActionMenu.panelTitle",{defaultMessage:"Job options"}),items:o};return Object(B.i)(a)}canStartJobs(){const{jobs:e}=this.props;return e.some((e=>"stopped"===e.status))}canStopJobs(){const{jobs:e}=this.props;return e.some((e=>"started"===e.status))}canCloneJob(){const{jobs:e}=this.props;return Boolean(e&&1===e.length)}canDeleteJobs(){const{jobs:e}=this.props;return-1===e.findIndex((e=>"started"===e.status))}render(){const{isUpdating:e}=this.props;if(e)return Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiLoadingSpinner,{size:"l"})),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobActionMenu.updatingText",defaultMessage:"Updating"}))));const t=this.props.jobs.length,{iconSide:s,anchorPosition:r,iconType:o,label:a=fe.i18n.translate("xpack.rollupJobs.jobActionMenu.buttonLabel",{defaultMessage:"Manage {jobCount, plural, one {job} other {jobs}}",values:{jobCount:t}})}=this.props,n=this.panels(),i=fe.i18n.translate("xpack.rollupJobs.jobActionMenu.jobActionMenuButtonAriaLabel",{defaultMessage:"Job options"}),l=Object(Fe.jsx)(q.EuiButton,{"data-test-subj":"jobActionMenuButton",iconSide:s,"aria-label":i,onClick:this.onButtonClick,iconType:o,fill:!0},a);return Object(Fe.jsx)("div",null,this.confirmDeleteModal(),Object(Fe.jsx)(q.EuiPopover,{button:l,isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,panelPaddingSize:"none",anchorPosition:r,repositionOnScroll:!0},Object(Fe.jsx)(q.EuiContextMenu,{"data-test-subj":"jobActionContextMenu",initialPanelId:0,panels:n})))}}Te()(job_action_menu_JobActionMenuUi,"defaultProps",{iconSide:"right",anchorPosition:"rightUp",iconType:"arrowDown",jobs:[]});const De=job_action_menu_JobActionMenuUi,Pe=Object(n.connect)((e=>({isUpdating:ne(e)})),((e,{jobs:t})=>{const s=t.map((e=>e.id));return{startJobs:()=>{e(he(s))},stopJobs:()=>{e((e=>async t=>{t({type:M});try{await Object(B.d)(Object(B.z)(e))}catch(e){return t({type:T}),Object(B.v)(e,fe.i18n.translate("xpack.rollupJobs.stopJobsAction.errorTitle",{defaultMessage:"Error stopping rollup jobs"}))}t({type:E}),t(ge())})(s))},deleteJobs:()=>{e((e=>async(t,s)=>{t({type:M});try{await Object(B.d)(Object(B.e)(e))}catch(e){return t({type:T}),Object(B.v)(e,fe.i18n.translate("xpack.rollupJobs.deleteAction.errorTitle",{defaultMessage:"Error deleting rollup jobs"}))}1===e.length?Object(V.b)().toasts.addSuccess(fe.i18n.translate("xpack.rollupJobs.deleteAction.successSingleNotificationTitle",{defaultMessage:"Rollup job '{jobId}' was deleted",values:{jobId:e[0]}})):Object(V.b)().toasts.addSuccess(fe.i18n.translate("xpack.rollupJobs.deleteAction.successMultipleNotificationTitle",{defaultMessage:"{count} rollup jobs were deleted",values:{count:e.length}}));const r=ee(s());r&&e.includes(r.id)&&t(Oe()),t({type:E}),t(ge())})(s))},cloneJob:t=>{e(me(t))}}}))(De),ke={stopped:Object(Fe.jsx)(q.EuiHealth,{color:"subdued"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.stoppedLabel",defaultMessage:"Stopped"})),stopping:Object(Fe.jsx)(q.EuiHealth,{color:"warning"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.stoppingLabel",defaultMessage:"Stopping"})),started:Object(Fe.jsx)(q.EuiHealth,{color:"success"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.startedLabel",defaultMessage:"Started"})),indexing:Object(Fe.jsx)(q.EuiHealth,{color:"warning"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.indexingLabel",defaultMessage:"Indexing"})),abort:Object(Fe.jsx)(q.EuiHealth,{color:"danger"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.abortingLabel",defaultMessage:"Aborting"}))},Je=Object(Fe.jsx)(q.EuiHealth,{color:"subdued"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobStatus.unknownLabel",defaultMessage:"Unknown"})),Ie=({status:e})=>ke[e]||Je;class tab_summary_TabSummary extends r.Component{renderStats(){const{stats:e}=this.props;if(!e)return null;const{documentsProcessed:t,pagesProcessed:s,rollupsIndexed:r,triggerCount:o,status:a}=e;return Object(Fe.jsx)("section",{"aria-labelledby":"rollupJobDetailStatsTitle","data-test-subj":"rollupJobDetailSummaryStatsSection"},Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",{id:"rollupJobDetailStatsTitle","data-test-subj":"rollupJobDetailStatsTitle"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionStatsTitle",defaultMessage:"Stats"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(Ie,{status:a}),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiFlexGroup,null,Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDocumentsProcessedLabel","data-test-subj":"rollupJobDetailStatsDocumentsProcessedTitle",defaultMessage:"Documents processed"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailStatsDocumentsProcessedDescription"},t),Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupsIndexedLabel","data-test-subj":"rollupJobDetailStatsRollupsIndexedTitle",defaultMessage:"Rollups indexed"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailStatsRollupsIndexedDescription"},r))),Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemPagesProcessedLabel","data-test-subj":"rollupJobDetailStatsPagesProcessedTitle",defaultMessage:"Pages processed"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailStatsPagesProcessedDescription"},s),Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTriggerCountLabel","data-test-subj":"rollupJobDetailStatsTriggerCountTitle",defaultMessage:"Trigger count"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailStatsTriggerCountDescription"},o)))))}render(){const{job:e}=this.props,{indexPattern:t,rollupIndex:s,rollupCron:o,rollupDelay:a,dateHistogramInterval:n,dateHistogramTimeZone:i,dateHistogramField:l}=e;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)("section",{"aria-labelledby":"rollupJobDetailLogisticsTitle","data-test-subj":"rollupJobDetailSummaryLogisticsSection"},Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",{id:"rollupJobDetailLogisticsTitle","data-test-subj":"rollupJobDetailLogisticsTitle"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionLogisticsLabel",defaultMessage:"Logistics"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiFlexGroup,null,Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIndexPatternLabel","data-test-subj":"rollupJobDetailLogisticsIndexPatternTitle",defaultMessage:"Index pattern"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailLogisticsIndexPatternDescription"},t),Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronLabel","data-test-subj":"rollupJobDetailLogisticsCronTitle",defaultMessage:"Cron"})," ",Object(Fe.jsx)(q.EuiIconTip,{content:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemCronTip",defaultMessage:"The frequency with which data is rolled up"})})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailLogisticsCronDescription"},o))),Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemRollupIndexLabel","data-test-subj":"rollupJobDetailLogisticsRollupIndexTitle",defaultMessage:"Rollup index"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailLogisticsRollupIndexDescription"},s),Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelayLabel","data-test-subj":"rollupJobDetailLogisticsDelayTitle",defaultMessage:"Delay"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailLogisticsDelayDescription"},a||Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemDelay.none",defaultMessage:"None"}))))),Object(Fe.jsx)(q.EuiSpacer,{size:"l"})),Object(Fe.jsx)("section",{"aria-labelledby":"rollupJobDetailDateHistogramTitle","data-test-subj":"rollupJobDetailSummaryDateHistogramSection"},Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",{id:"rollupJobDetailDateHistogramTitle","data-test-subj":"rollupJobDetailDateHistogramTitle"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.sectionDateHistogramLabel",defaultMessage:"Date histogram"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiFlexGroup,null,Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimeFieldLabel","data-test-subj":"rollupJobDetailDateHistogramTimeFieldTitle",defaultMessage:"Time field"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{className:"eui-textBreakWord","data-test-subj":"rollupJobDetailDateHistogramTimeFieldDescription"},l),Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalLabel","data-test-subj":"rollupJobDetailDateHistogramIntervalTitle",defaultMessage:"Interval"})," ",Object(Fe.jsx)(q.EuiIconTip,{content:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemIntervalTip",defaultMessage:"The time bucket interval into which data is rolled up"})})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailDateHistogramIntervalDescription"},n))),Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabSummary.itemTimezoneLabel","data-test-subj":"rollupJobDetailDateHistogramTimezoneTitle",defaultMessage:"Timezone"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,{"data-test-subj":"rollupJobDetailDateHistogramTimezoneDescription"},i))))),this.renderStats())}}const we=[{field:"name",name:"Field",sortable:!0}],Le=({terms:e})=>Object(Fe.jsx)(Ce,{columns:we,fields:e,dataTestSubj:"detailPanelTermsTabTable"}),_e=[{field:"name",name:fe.i18n.translate("xpack.rollupJobs.jobDetails.tabHistogram.nameColumnLabel",{defaultMessage:"Field"}),sortable:!0}],Ae=({histogram:e,histogramInterval:t})=>Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiDescriptionList,{textStyle:"reverse"},Object(Fe.jsx)(q.EuiDescriptionListTitle,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabHistogram.intervalLabel",defaultMessage:"Histogram interval"})),Object(Fe.jsx)(q.EuiDescriptionListDescription,null,t)),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(Ce,{columns:_e,fields:e,dataTestSubj:"detailPanelHistogramTabTable"})),Re=[{field:"name",name:fe.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.nameColumnLabel",{defaultMessage:"Field"}),sortable:!0},{name:fe.i18n.translate("xpack.rollupJobs.jobDetails.tabMetrics.typesColumnLabel",{defaultMessage:"Types"}),render:({types:e})=>e.sort().join(", ")}],He=({metrics:e})=>Object(Fe.jsx)(Ce,{columns:Re,fields:e,dataTestSubj:"detailPanelMetricsTabTable"}),Be=({json:e})=>{const t=JSON.stringify(e,null,2);return Object(Fe.jsx)(i.EuiCodeEditor,{mode:"json",theme:"textmate",isReadOnly:!0,setOptions:{maxLines:1/0,useWorker:!1},value:t,editorProps:{$blockScrolling:1/0}})},Ne=({json:e,endpoint:t})=>{const s=`${t}\n${JSON.stringify(e,null,2)}`;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobDetails.tabRequest.descriptionText",defaultMessage:"This Elasticsearch request will create this rollup job."}))),Object(Fe.jsx)(q.EuiSpacer,{size:"m"}),Object(Fe.jsx)(q.EuiCodeBlock,{language:"json",isCopyable:!0},s))},ze="JOB_DETAILS_TAB_SUMMARY",Ue="JOB_DETAILS_TAB_TERMS",Xe="JOB_DETAILS_TAB_HISTOGRAM",We="JOB_DETAILS_TAB_METRICS",Ve="JOB_DETAILS_TAB_JSON",qe="JOB_DETAILS_TAB_REQUEST",Ge={[ze]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabSummaryLabel",defaultMessage:"Summary"}),[Ue]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabTermsLabel",defaultMessage:"Terms"}),[Xe]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabHistogramLabel",defaultMessage:"Histogram"}),[We]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabMetricsLabel",defaultMessage:"Metrics"}),[Ve]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabJsonLabel",defaultMessage:"JSON"}),[qe]:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.jobDetails.tabRequestLabel",defaultMessage:"Request"})},$e=({tab:e,job:t,stats:s,json:r,endpoint:o})=>{const{metrics:a,terms:n,histogram:i,histogramInterval:l}=t;return{[ze]:Object(Fe.jsx)(tab_summary_TabSummary,{job:t,stats:s}),[Ue]:Object(Fe.jsx)(Le,{terms:n}),[Xe]:Object(Fe.jsx)(Ae,{histogram:i,histogramInterval:l}),[We]:Object(Fe.jsx)(He,{metrics:a}),[Ve]:Object(Fe.jsx)(Be,{json:r}),[qe]:Object(Fe.jsx)(Ne,{json:r,endpoint:o})}[e]},Ze=[{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.nameHeader",{defaultMessage:"ID"}),fieldName:"id",isSortable:!0},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.statusHeader",{defaultMessage:"Status"}),fieldName:"status",isSortable:!0,render:({status:e,rollupCron:t})=>Object(Fe.jsx)(q.EuiToolTip,{placement:"top",content:`Cron: ${t}`},Object(Fe.jsx)(Ie,{status:e}))},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.indexPatternHeader",{defaultMessage:"Index pattern"}),truncateText:!0,fieldName:"indexPattern",isSortable:!0},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.rollupIndexHeader",{defaultMessage:"Rollup index"}),truncateText:!0,fieldName:"rollupIndex",isSortable:!0},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.delayHeader",{defaultMessage:"Delay"}),fieldName:"rollupDelay",isSortable:!0,render:({rollupDelay:e})=>e||"None"},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.intervalHeader",{defaultMessage:"Interval"}),fieldName:"dateHistogramInterval",isSortable:!0},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.groupsHeader",{defaultMessage:"Groups"}),fieldName:"groups",isSortable:!1,truncateText:!0,render:e=>["histogram","terms"].reduce(((t,s)=>e[s].length?t?`${t}, ${s}`:s.replace(/^\w/,(e=>e.toUpperCase())):t),"")},{name:fe.i18n.translate("xpack.rollupJobs.jobTable.headers.metricsHeader",{defaultMessage:"Metrics"}),fieldName:"metrics",isSortable:!1,truncateText:!0,render:e=>{const{metrics:t}=e;return t.length?t.map((e=>e.name)).join(", "):""}}];class job_table_JobTable extends r.Component{static getDerivedStateFromProps(e,t){const{idToSelectedJobMap:s}=t,r=e.jobs.map((e=>e.id)),o=Object.keys(s).filter((e=>!r.includes(e)));if(o.length){const e={...s};return o.forEach((t=>delete e[t])),{idToSelectedJobMap:e}}return null}constructor(e){super(e),Te()(this,"toggleAll",(()=>{if(this.areAllItemsSelected())return this.setState({idToSelectedJobMap:{}});const{jobs:e}=this.props,t={};e.forEach((({id:e})=>{t[e]=!0})),this.setState({idToSelectedJobMap:t})})),Te()(this,"toggleItem",(e=>{this.setState((({idToSelectedJobMap:t})=>{const s={...t};return s[e]?delete s[e]:s[e]=!0,{idToSelectedJobMap:s}}))})),Te()(this,"resetSelection",(()=>{this.setState({idToSelectedJobMap:{}})})),Te()(this,"deselectItems",(e=>{this.setState((({idToSelectedJobMap:t})=>{const s={...t};return e.forEach((e=>delete s[e])),{idToSelectedJobMap:s}}))})),Te()(this,"areAllItemsSelected",(()=>{const{jobs:e}=this.props;return-1===e.findIndex((e=>!this.isItemSelected(e.id)))})),Te()(this,"isItemSelected",(e=>!!this.state.idToSelectedJobMap[e])),Te()(this,"onSort",(e=>{const{sortField:t,isSortAscending:s,sortChanged:r}=this.props;r(e,t!==e||!s)})),this.state={idToSelectedJobMap:{}}}getSelectedJobs(){const{jobs:e}=this.props,{idToSelectedJobMap:t}=this.state;return Object.keys(t).map((t=>e.find((e=>e.id===t))))}buildHeader(){const{sortField:e,isSortAscending:t}=this.props;return Ze.map((({name:s,fieldName:r,isSortable:o})=>{const a=e===r;return Object(Fe.jsx)(q.EuiTableHeaderCell,{key:s,onSort:o?()=>this.onSort(r):void 0,isSorted:a,isSortAscending:t,"data-test-subj":`jobTableHeaderCell-${r}`},s)}))}buildRowCells(e){const{openDetailPanel:t}=this.props;return Ze.map((({name:s,fieldName:r,render:o,truncateText:a})=>{const n=o?o(e):e[r];let i;return i="id"===r?Object(Fe.jsx)(q.EuiLink,{onClick:()=>{Object(V.f)(B.a.CLICK,W.o),t(encodeURIComponent(e.id))}},n):Object(Fe.jsx)("span",null,n),Object(Fe.jsx)(q.EuiTableRowCell,{key:`${e.id}-${s}`,"data-test-subj":`jobTableCell-${r}`,truncateText:a},a?Object(Fe.jsx)(q.EuiToolTip,{anchorClassName:"eui-textTruncate",content:n},i):i)}))}buildRows(){const{jobs:e}=this.props;return e.map((e=>{const{id:t}=e;return Object(Fe.jsx)(q.EuiTableRow,{key:`${t}-row`,"data-test-subj":"jobTableRow"},Object(Fe.jsx)(q.EuiTableRowCellCheckbox,{key:`checkbox-${t}`},Object(Fe.jsx)(q.EuiCheckbox,{type:"inList",id:`checkboxSelectIndex-${t}`,checked:this.isItemSelected(t),onChange:()=>{this.toggleItem(t)},"data-test-subj":`indexTableRowCheckbox-${t}`,"aria-label":fe.i18n.translate("xpack.rollupJobs.jobTable.selectRow",{defaultMessage:"Select this row {id}",values:{id:t}})})),this.buildRowCells(e))}))}renderPager(){const{pager:e,pageChanged:t,pageSizeChanged:s}=this.props;return Object(Fe.jsx)(q.EuiTablePagination,{activePage:e.getCurrentPageIndex(),itemsPerPage:e.itemsPerPage,itemsPerPageOptions:[20,50,100],pageCount:e.getTotalPages(),onChangeItemsPerPage:s,onChangePage:t})}render(){const{filterChanged:e,filter:t,jobs:s,closeDetailPanel:r}=this.props,{idToSelectedJobMap:o}=this.state,a=Object.keys(o).length>0;return Object(Fe.jsx)("div",null,Object(Fe.jsx)(q.EuiFlexGroup,null,a&&Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(Pe,{jobs:this.getSelectedJobs(),closeDetailPanel:r,resetSelection:this.resetSelection,deselectJobs:this.deselectItems})),Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(q.EuiFieldSearch,{fullWidth:!0,value:t,onChange:t=>{e(t.target.value)},"data-test-subj":"jobTableFilterInput",placeholder:fe.i18n.translate("xpack.rollupJobs.jobTable.searchInputPlaceholder",{defaultMessage:"Search"}),"aria-label":"Search jobs"})),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButton,ve()({fill:!0},Object(B.l)("/create")),Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.createButtonLabel",defaultMessage:"Create rollup job"})))),Object(Fe.jsx)(q.EuiSpacer,{size:"m"}),s.length>0?Object(Fe.jsx)(q.EuiTable,{"data-test-subj":"rollupJobsListTable"},Object(Fe.jsx)(q.EuiTableHeader,null,Object(Fe.jsx)(q.EuiTableHeaderCellCheckbox,null,Object(Fe.jsx)(q.EuiCheckbox,{id:"selectAllJobsCheckbox",checked:this.areAllItemsSelected(),onChange:this.toggleAll,type:"inList","aria-label":fe.i18n.translate("xpack.rollupJobs.jobTable.selectAllRows",{defaultMessage:"Select all rows"})})),this.buildHeader()),Object(Fe.jsx)(q.EuiTableBody,null,this.buildRows())):Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobTable.noJobsMatchSearchMessage",defaultMessage:"No rollup jobs match your search"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"m"}),s.length>0?this.renderPager():null)}}Te()(job_table_JobTable,"defaultProps",{jobs:[]});const Ke=Object(n.connect)((e=>({jobs:de(e),pager:ue(e),filter:pe(e),sortField:je(e),isSortAscending:be(e)})),(e=>({closeDetailPanel:()=>{e(Oe())},filterChanged:t=>{e((({filter:e})=>t=>{t({type:F,payload:{filter:e}})})({filter:t}))},pageChanged:t=>{e((({pageNumber:e})=>t=>{t({type:C,payload:{pageNumber:e}})})({pageNumber:t}))},pageSizeChanged:t=>{e((({pageSize:e})=>t=>{t({type:D,payload:{pageSize:e}})})({pageSize:t}))},sortChanged:(t,s)=>{e((({sortField:e,isSortAscending:t})=>s=>{s({type:P,payload:{sortField:e,isSortAscending:t}})})({sortField:t,isSortAscending:s}))},openDetailPanel:t=>{e(xe({jobId:t}))}})))(job_table_JobTable),Ye=[ze,Ue,Xe,We,Ve],Qe={[ze]:W.f,[Ue]:W.g,[Xe]:W.c,[We]:W.e,[Ve]:W.d};class detail_panel_DetailPanel extends r.Component{constructor(e){super(e)}renderTabs(){const{panelType:e,job:t,openDetailPanel:s}=this.props;if(!t)return;const{id:o,terms:a,histogram:n,metrics:i}=t,l=[];return Ye.map(((t,r)=>{if(t===Ue&&!a.length)return;if(t===Xe&&!n.length)return;if(t===We&&!i.length)return;const c=t===e;l.push(Object(Fe.jsx)(q.EuiTab,{onClick:()=>{Object(V.f)(B.a.CLICK,Qe[t]),s({panelType:t,jobId:o})},isSelected:c,"data-test-subj":"detailPanelTab"+(c?"Selected":""),key:r},Ge[t]))})),Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiTabs,null,l))}renderJob(){const{panelType:e,job:t}=this.props,{status:s,documentsProcessed:o,pagesProcessed:a,rollupsIndexed:n,triggerCount:i,json:l}=t,c={status:s,documentsProcessed:o,pagesProcessed:a,rollupsIndexed:n,triggerCount:i};return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlyoutBody,{"data-test-subj":"rollupJobDetailTabContent"},Object(Fe.jsx)(q.EuiErrorBoundary,null,Object(Fe.jsx)($e,{tab:e,job:t,stats:c,json:l}))),Object(Fe.jsx)(q.EuiFlyoutFooter,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexEnd"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(Pe,{iconSide:"left",jobs:[t],anchorPosition:"upRight",detailPanel:!0,iconType:"arrowUp",label:fe.i18n.translate("xpack.rollupJobs.detailPanel.jobActionMenu.buttonLabel",{defaultMessage:"Manage"})})))))}render(){const{isOpen:e,isLoading:t,closeDetailPanel:s,job:r,jobId:o}=this.props;if(!e)return null;let a;return a=t?Object(Fe.jsx)(q.EuiFlyoutBody,{"data-test-subj":"rollupJobDetailLoading"},Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiLoadingSpinner,{size:"m"})),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)(q.EuiTextColor,{color:"subdued"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.loadingLabel",defaultMessage:"Loading rollup job…"})))))):r?this.renderJob():Object(Fe.jsx)(q.EuiFlyoutBody,{"data-test-subj":"rollupJobDetailJobNotFound"},Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexStart",alignItems:"center",gutterSize:"s"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiIcon,{size:"m",type:"alert",color:"danger"})),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)(q.EuiTextColor,{color:"subdued"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.detailPanel.notFoundLabel",defaultMessage:"Rollup job not found"})))))),Object(Fe.jsx)(q.EuiFlyout,{"data-test-subj":"rollupJobDetailFlyout",onClose:s,"aria-labelledby":"rollupJobDetailsFlyoutTitle",size:"m",maxWidth:550},Object(Fe.jsx)(q.EuiFlyoutHeader,null,Object(Fe.jsx)(q.EuiTitle,{size:"m",id:"rollupJobDetailsFlyoutTitle","data-test-subj":"rollupJobDetailsFlyoutTitle"},Object(Fe.jsx)("h2",null,o)),this.renderTabs()),a)}}Te()(detail_panel_DetailPanel,"defaultProps",{panelType:Ye[0]});const et=Object(n.connect)((e=>({isOpen:Q(e),isLoading:se(e),job:ee(e),jobId:te(e),panelType:Y(e)})),(e=>({closeDetailPanel:()=>{e(Oe())},openDetailPanel:({panelType:t,jobId:s})=>{e(xe({panelType:t,jobId:s}))}})))(detail_panel_DetailPanel);class job_list_JobListUi extends r.Component{static getDerivedStateFromProps(e){const{openDetailPanel:t,history:{location:{search:s}}}=e,{job:r}=Object(i.extractQueryParams)(s);return null!=r&&t(r),null}constructor(e){super(e),e.loadJobs(),e.kibana.services.setBreadcrumbs([B.o]),this.state={}}componentDidMount(){this.interval=setInterval((()=>this.props.refreshJobs({asSystemRequest:!0})),3e4)}componentWillUnmount(){clearInterval(this.interval),this.props.closeDetailPanel()}renderNoPermission(){const e=fe.i18n.translate("xpack.rollupJobs.jobList.noPermissionTitle",{defaultMessage:"Permission error"});return Object(Fe.jsx)(q.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Fe.jsx)(q.EuiEmptyPrompt,{"data-test-subj":"jobListNoPermission",iconType:"alert",title:Object(Fe.jsx)("h1",null,e),body:Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.noPermissionText",defaultMessage:"You do not have permission to view or add rollup jobs."}))}))}renderError(e){const{statusCode:t,error:s}=e.body,r=fe.i18n.translate("xpack.rollupJobs.jobList.loadingErrorTitle",{defaultMessage:"Error loading rollup jobs"});return Object(Fe.jsx)(q.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"danger"},Object(Fe.jsx)(q.EuiEmptyPrompt,{"data-test-subj":"jobListError",iconType:"alert",title:Object(Fe.jsx)("h1",null,r),body:Object(Fe.jsx)("p",null,t," ",s)}))}renderEmpty(){return Object(Fe.jsx)(q.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Fe.jsx)(q.EuiEmptyPrompt,{"data-test-subj":"jobListEmptyPrompt",iconType:"indexRollupApp",title:Object(Fe.jsx)("h1",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptTitle",defaultMessage:"Create your first rollup job"})),body:Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPromptDescription",defaultMessage:"Rollup jobs summarize and store historical data in a smaller index for future analysis."}))),actions:Object(Fe.jsx)(q.EuiButton,ve()({"data-test-subj":"createRollupJobButton"},Object(B.l)("/create"),{fill:!0,iconType:"plusInCircle"}),Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.emptyPrompt.createButtonLabel",defaultMessage:"Create rollup job"}))}))}renderLoading(){return Object(Fe.jsx)(q.EuiPageContent_Deprecated,{verticalPosition:"center",horizontalPosition:"center",color:"subdued"},Object(Fe.jsx)(i.SectionLoading,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobList.loadingTitle",defaultMessage:"Loading rollup jobs…"})))}renderList(){return Object(Fe.jsx)(o.a.Fragment,null,Object(Fe.jsx)(q.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Fe.jsx)("span",{"data-test-subj":"jobListPageHeader"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.jobListTitle",defaultMessage:"Rollup Jobs"})),rightSideItems:[Object(Fe.jsx)(q.EuiButtonEmpty,{href:Me.a.rollupJobs,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.rollupJobsDocsLinkText",defaultMessage:"Rollup Jobs docs"}))]}),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(Ke,null),Object(Fe.jsx)(et,null))}render(){const{isLoading:e,hasJobs:t,jobLoadError:s}=this.props;let r;return r=s?403===s.status?this.renderNoPermission():this.renderError(s):e||t?e?this.renderLoading():this.renderList():this.renderEmpty(),r}}const tt=Object(l.withKibana)(job_list_JobListUi),st=Object(n.connect)((e=>({hasJobs:Boolean(Z(e).length),isLoading:se(e),jobLoadError:re(e)})),(e=>({loadJobs:()=>{e((async e=>{let t;e({type:j});try{t=await Object(B.p)()}catch(t){return e({type:g,payload:{error:t}})}e({type:f,payload:{jobs:Object(B.g)(t)}})}))},refreshJobs:t=>{e(ge(t))},openDetailPanel:t=>{e(xe({jobId:t}))},closeDetailPanel:()=>{e(Oe())},cloneJob:t=>{e(me(t))}})))(tt);var rt=s(3);const ot=({isSaving:e,hasNextStep:t,hasPreviousStep:s,goToNextStep:o,goToPreviousStep:a,save:n,canGoToNextStep:i,onClickToggleStart:l,startJobAfterCreation:c})=>{if(e)return Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiLoadingSpinner,{size:"l"})),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.navigation.savingText",defaultMessage:"Saving"}))));const u=Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButtonEmpty,{iconType:"arrowLeft",onClick:a,"data-test-subj":"rollupJobBackButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.backButton.label",defaultMessage:"Back"}))),d=Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButton,{iconType:"arrowRight",iconSide:"right",onClick:o,disabled:!i,fill:!0,"data-test-subj":"rollupJobNextButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.nextButton.label",defaultMessage:"Next"}))),p=Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButton,{color:"success",iconType:"check",onClick:n,fill:!0,"data-test-subj":"rollupJobSaveButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.saveButton.label",defaultMessage:"Save"}))),b=Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,style:{alignSelf:"center"}},Object(Fe.jsx)(q.EuiCheckbox,{id:"rollupJobToggleJobStartAfterCreation","data-test-subj":"rollupJobToggleJobStartAfterCreation",checked:c,label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.startJobLabel",defaultMessage:"Start job now"}),onChange:l}));return Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"flexStart",gutterSize:"m"},s&&u,t&&d,!t&&Object(Fe.jsx)(r.Fragment,null,p,b))};var at=s(19);class field_chooser_FieldChooser extends r.Component{constructor(e){super(e),Te()(this,"onSearch",(e=>{this.setState({searchValue:e.target.value})})),Te()(this,"onButtonClick",(()=>{this.setState((e=>({isOpen:!e.isOpen})))})),Te()(this,"close",(()=>{this.setState({isOpen:!1})})),this.state={isOpen:!1,searchValue:""}}render(){const{buttonLabel:e,columns:t,fields:s,selectedFields:o,prompt:a,onSelectField:n,dataTestSubj:i}=this.props,{isOpen:l,searchValue:c}=this.state,u=e=>({onClick:()=>{n(e)}});return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiButton,{onClick:this.onButtonClick,"data-test-subj":"rollupJobShowFieldChooserButton"},e),l?(()=>{const r=o.map((({name:e})=>e)),n=s.filter((({name:e})=>!r.includes(e))),l=c?n.filter((e=>{const t=c.trim().toLowerCase();return e.name.toLowerCase().includes(t)||e.type.toLowerCase().includes(t)})):n;return Object(Fe.jsx)(q.EuiFlyout,{onClose:this.close,"aria-labelledby":"fieldChooserFlyoutTitle",size:"m",maxWidth:400,"data-test-subj":i},Object(Fe.jsx)(q.EuiFlyoutHeader,null,Object(Fe.jsx)(q.EuiTitle,{size:"m",id:"fieldChooserFlyoutTitle","data-test-subj":"rollupJobCreateFlyoutTitle"},Object(Fe.jsx)("h2",null,e)),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiFieldSearch,{placeholder:a,value:c,onChange:this.onSearch,"aria-label":a,fullWidth:!0})),Object(Fe.jsx)(q.EuiFlyoutBody,null,Object(Fe.jsx)(q.EuiBasicTable,{items:l,columns:t,rowProps:u,responsive:!1,"data-test-subj":`${i}-table`})))})():null)}}function nt({title:e=Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepErrorTitle",defaultMessage:"Fix errors before continuing."})}){return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiSpacer,{size:"m"}),Object(Fe.jsx)(q.EuiCallOut,{title:e,color:"danger",iconType:"cross","data-test-subj":"rollupJobCreateStepError"}))}Te()(field_chooser_FieldChooser,"defaultProps",{prompt:"Search",dataTestSubj:"rollupJobFieldChooser"});const it=at.indexPatterns.ILLEGAL_CHARACTERS_VISIBLE.join(" "),lt=i.indices.INDEX_ILLEGAL_CHARACTERS_VISIBLE.join(" ");class step_logistics_StepLogistics extends r.Component{constructor(...e){super(...e),Te()(this,"state",{cronFocus:!1}),Te()(this,"showAdvancedCron",(()=>{this.setState({cronFocus:!0});const{onFieldsChange:e}=this.props;e({isAdvancedCronVisible:!0})})),Te()(this,"hideAdvancedCron",(()=>{this.setState({cronFocus:!0});const{onFieldsChange:e,fields:t}=this.props,{simpleRollupCron:s}=t;e({isAdvancedCronVisible:!1,rollupCron:s})})),Te()(this,"renderErrors",(()=>{const{areStepErrorsVisible:e,hasErrors:t}=this.props;return e&&t?Object(Fe.jsx)(nt,null):null}))}renderIndexPatternHelpText(){const{isValidatingIndexPattern:e,hasMatchingIndices:t}=this.props;if(!e&&t)return Object(Fe.jsx)(q.EuiTextColor,{color:"success","data-test-subj":"fieldIndexPatternSuccessMessage"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpHasMatchesLabel",defaultMessage:"Success! Index pattern has matching indices."})));let s;return s=e?Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpSearchingLabel",defaultMessage:"Looking for matching indices..."})):Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpMustMatchLabel",defaultMessage:"Index pattern must match at least one index that is not a rollup."})),Object(Fe.jsx)(r.Fragment,null,s,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpAllowLabel",defaultMessage:"Use a wildcard ({asterisk}) to match multiple indices.",values:{asterisk:Object(Fe.jsx)("strong",null,"*")}})),Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPattern.helpDisallowLabel",defaultMessage:"Spaces and the characters {characterList} are not allowed.",values:{characterList:Object(Fe.jsx)("strong",null,it)}})))}renderCronEditor(){const{fields:e,onFieldsChange:t,areStepErrorsVisible:s,fieldErrors:o}=this.props,{rollupCron:a,cronFrequency:n,isAdvancedCronVisible:l,fieldToPreferredValueMap:c}=e,{rollupCron:u}=o;return l?Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCronLabel",defaultMessage:"Cron expression"}),error:u,isInvalid:Boolean(s&&u),helpText:Object(Fe.jsx)("p",null,Object(Fe.jsx)(q.EuiLink,{href:Me.a.apis.cronExpressions,target:"_blank"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldCron.helpReferenceLinkLabel",defaultMessage:"Learn more about cron expressions"}))),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{autoFocus:this.state.cronFocus,value:a,onChange:e=>t({rollupCron:e.target.value}),isInvalid:Boolean(s&&u),fullWidth:!0,"data-test-subj":"rollupAdvancedCron"})),Object(Fe.jsx)(q.EuiSpacer,{size:"m"}),Object(Fe.jsx)(q.EuiText,{size:"s"},Object(Fe.jsx)(q.EuiLink,{onClick:this.hideAdvancedCron},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonBasicLabel",defaultMessage:"Create basic interval"})))):Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(i.CronEditor,{autoFocus:this.state.cronFocus,fieldToPreferredValueMap:c,cronExpression:a,frequency:n,onChange:({cronExpression:e,frequency:s,fieldToPreferredValueMap:r})=>t({rollupCron:e,simpleRollupCron:e,cronFrequency:s,fieldToPreferredValueMap:r})}),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiText,{size:"s"},Object(Fe.jsx)(q.EuiLink,{onClick:this.showAdvancedCron,"data-test-subj":"rollupShowAdvancedCronLink"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionSchedule.buttonAdvancedLabel",defaultMessage:"Create cron expression"}))))}render(){const{fields:e,onFieldsChange:t,areStepErrorsVisible:s,fieldErrors:o,isValidatingIndexPattern:a,indexPatternAsyncErrors:n}=this.props,{id:i,indexPattern:l,rollupIndex:c,rollupPageSize:u,rollupDelay:d}=e,{id:p,indexPattern:b,rollupIndex:j,rollupPageSize:f,rollupDelay:g}=o;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateLogisticsTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogisticsTitle",defaultMessage:"Logistics"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.logisticsDescription",defaultMessage:"Define how to run the rollup job and when to index the documents."})))),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButtonEmpty,{size:"s",flush:"right",href:Me.a.apis.createRollupJobsRequest,target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateLogisticsDocsButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.readDocsButtonLabel",defaultMessage:"Logistics docs"})))),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(q.EuiForm,null,Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdTitle",defaultMessage:"Name"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionIdDescription",defaultMessage:"This name will be used as a unique identifier for this rollup job."}),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIdLabel",defaultMessage:"Name"}),error:p,isInvalid:Boolean(s&&p),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{isInvalid:Boolean(s&&p),value:i,onChange:e=>t({id:e.target.value}),fullWidth:!0,"data-test-subj":"rollupJobName"}))),Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowTitle",defaultMessage:"Data flow"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDataFlowDescription",defaultMessage:"Which indices do you want to roll up and where do you want to store the data?"}),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldIndexPatternLabel",defaultMessage:"Index pattern"}),error:a?void 0:b||n,isInvalid:Boolean(s&&b)||Boolean(n),helpText:this.renderIndexPatternHelpText(),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{value:l,onChange:e=>t({indexPattern:e.target.value}),isInvalid:Boolean(s&&b)||Boolean(n),isLoading:a,fullWidth:!0,"data-test-subj":"rollupIndexPattern"})),Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndexLabel",defaultMessage:"Rollup index name"}),error:j,isInvalid:Boolean(s&&j),helpText:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldRollupIndex.helpDisallowLabel",defaultMessage:"Spaces, commas, and the characters {characterList} are not allowed.",values:{characterList:Object(Fe.jsx)("strong",null,lt)}}),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{value:c,onChange:e=>t({rollupIndex:e.target.value}),isInvalid:Boolean(s&&j),fullWidth:!0,"data-test-subj":"rollupIndexName"}))),Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleTitle",defaultMessage:"Schedule"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionScheduleDescription",defaultMessage:"How often do you want to roll up the data?"}),fullWidth:!0},this.renderCronEditor()),Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"xs"},Object(Fe.jsx)("h4",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeTitle",defaultMessage:"How many documents do you want to roll up at a time?"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionPageSizeDescription",defaultMessage:"A larger page size will roll up data quicker, but requires more memory."}),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.fieldPageSizeLabel",defaultMessage:"Page size"}),error:f,isInvalid:Boolean(s&&f),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldNumber,{value:u?Number(u):"",onChange:e=>t({rollupPageSize:e.target.value}),isInvalid:Boolean(s&&f),fullWidth:!0,min:0,"data-test-subj":"rollupPageSize"}))),Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"xs"},Object(Fe.jsx)("h4",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayTitle",defaultMessage:"How long should the rollup job wait before rolling up new data?"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepLogistics.sectionDelayDescription",defaultMessage:"A latency buffer will delay rolling up data. This will yield a higher-fidelity rollup by allowing for variable ingest latency. By default, the rollup job attempts to roll up all data that is available."}),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelayLabel",defaultMessage:"Latency buffer (optional)"}),error:g,isInvalid:Boolean(s&&g),helpText:Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDelay.helpExampleLabel",defaultMessage:"Example values: 30s, 20m, 24h, 2d, 1w, 1M"}))),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{value:d||"",onChange:e=>t({rollupDelay:e.target.value}),isInvalid:Boolean(s&&g),fullWidth:!0,"data-test-subj":"rollupDelay"})))),this.renderErrors())}}var ct=s(22),ut=s.n(ct);const{parseEsInterval:dt}=at.search.aggs,pt=ut.a.tz.names().map((e=>({value:e,text:e})));class step_date_histogram_StepDateHistogram extends r.Component{static getDerivedStateFromProps(e){const{dateFields:t}=e;return{dateHistogramFieldOptions:t.map((e=>({value:e,text:e})))}}constructor(e){super(e),Te()(this,"renderErrors",(()=>{const{areStepErrorsVisible:e,hasErrors:t}=this.props;return e&&t?Object(Fe.jsx)(nt,null):null})),this.state={dateHistogramFieldOptions:[]}}renderIntervalHelpText(){const{fields:e}=this.props,{dateHistogramInterval:t}=e;let s;try{const{value:e,unit:r}=dt(t);if(1===e)switch(r){case"d":s=Object(Fe.jsx)(q.EuiTextColor,{color:"warning"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningDayLabel",defaultMessage:"Consider using 24h instead of 1d. This allows for more flexible queries."})));break;case"h":s=Object(Fe.jsx)(q.EuiTextColor,{color:"warning"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningHourLabel",defaultMessage:"Consider using 60m instead of 1h. This allows for more flexible queries."})))}switch(r){case"y":s=Object(Fe.jsx)(q.EuiTextColor,{color:"warning"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningYearLabel",defaultMessage:"Consider using the d unit instead of y. This allows for more flexible queries."})));break;case"M":s=Object(Fe.jsx)(q.EuiTextColor,{color:"warning"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningMonthLabel",defaultMessage:"Consider using the d unit instead of M. This allows for more flexible queries."})));break;case"w":s=Object(Fe.jsx)(q.EuiTextColor,{color:"warning"},Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.preferFixedWarningWeekLabel",defaultMessage:"Consider using the d unit instead of w. This allows for more flexible queries."})))}}catch(e){}return Object(Fe.jsx)(r.Fragment,null,s,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldInterval.helpExampleLabel",defaultMessage:"Example sizes: 1000ms, 30s, 20m, 24h, 2d, 1w, 1M, 1y"})))}render(){const{fields:e,onFieldsChange:t,areStepErrorsVisible:s,fieldErrors:o}=this.props,{dateHistogramInterval:a,dateHistogramField:n,dateHistogramTimeZone:i}=e,{dateHistogramInterval:l,dateHistogramField:c,dateHistogramTimeZone:u}=o,{dateHistogramFieldOptions:d}=this.state;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateDateHistogramTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramTitle",defaultMessage:"Date histogram"})))),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiButtonEmpty,{size:"s",flush:"right",href:Me.a.apis.createRollupJobsRequest,target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateDateHistogramDocsButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.readDocsButtonLabel",defaultMessage:"Date histogram docs"})))),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(q.EuiForm,null,Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)("div",null),description:Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription",defaultMessage:"Define how {link} will operate on your rollup data.",values:{link:Object(Fe.jsx)(q.EuiLink,{href:Me.a.aggs.date_histogram,target:"_blank"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogramDescription.aggregationsLinkLabel",defaultMessage:"date histogram aggregations"}))}})),Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.sectionDataSourceDescription",defaultMessage:"Note that smaller time buckets take up proportionally more space."}))),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldDateFieldLabel",defaultMessage:"Date field"}),error:c,isInvalid:Boolean(s&&c),fullWidth:!0},Object(Fe.jsx)(q.EuiSelect,{isInvalid:Boolean(s&&c),options:d,value:n,onChange:e=>t({dateHistogramField:e.target.value}),fullWidth:!0,"data-test-subj":"rollupJobCreateDateFieldSelect"})),Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldIntervalLabel",defaultMessage:"Time bucket size"}),error:l,isInvalid:Boolean(s&&l),helpText:this.renderIntervalHelpText(),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldText,{value:a||"",onChange:e=>t({dateHistogramInterval:e.target.value}),isInvalid:Boolean(s&&l),fullWidth:!0,"data-test-subj":"rollupJobInterval"})),Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepDateHistogram.fieldTimeZoneLabel",defaultMessage:"Time zone"}),error:u||"",isInvalid:Boolean(s&&u),fullWidth:!0},Object(Fe.jsx)(q.EuiSelect,{options:pt,value:i,onChange:e=>t({dateHistogramTimeZone:e.target.value}),fullWidth:!0,"data-test-subj":"rollupJobCreateTimeZoneSelect"})))),this.renderErrors())}}class step_terms_StepTerms extends r.Component{constructor(...e){super(...e),Te()(this,"onSelectField",(e=>{const{fields:{terms:t},onFieldsChange:s}=this.props;s({terms:t.concat(e)})})),Te()(this,"onRemoveField",(e=>{const{fields:{terms:t},onFieldsChange:s}=this.props;s({terms:t.filter((t=>t!==e))})}))}render(){const{fields:e,termsFields:t}=this.props,{terms:s}=e,o=[{field:"name",name:"Field",sortable:!0},{field:"type",name:"Type",truncateText:!0,sortable:!0,width:"180px"}];return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateTermsTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsTitle",defaultMessage:"Terms (optional)"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepTermsDescription",defaultMessage:"Select the fields you want to bucket using terms aggregations. This can be costly for high-cardinality fields such as IP addresses, if the time bucket is sparse."})))),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,className:"rollupJobWizardStepActions"},Object(Fe.jsx)(q.EuiButtonEmpty,{size:"s",flush:"right",href:Me.a.apis.createRollupJobsRequest,target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateTermsDocsButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.readDocsButtonLabel",defaultMessage:"Terms docs"})))),Object(Fe.jsx)(q.EuiSpacer,null),Object(Fe.jsx)(Ce,{columns:o,fields:s,onRemoveField:this.onRemoveField,emptyMessage:Object(Fe.jsx)("p",null,"No terms fields added"),addButton:Object(Fe.jsx)(field_chooser_FieldChooser,{buttonLabel:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepTerms.fieldsChooserLabel",defaultMessage:"Add terms fields"}),columns:o,fields:t,selectedFields:s,onSelectField:this.onSelectField,dataTestSubj:"rollupJobTermsFieldChooser"}),dataTestSubj:"rollupJobTermsFieldList"}))}}class step_histogram_StepHistogram extends r.Component{constructor(...e){super(...e),Te()(this,"onSelectField",(e=>{const{fields:{histogram:t},onFieldsChange:s}=this.props;s({histogram:t.concat(e)})})),Te()(this,"onRemoveField",(e=>{const{fields:{histogram:t},onFieldsChange:s}=this.props;s({histogram:t.filter((t=>t!==e))})})),Te()(this,"renderErrors",(()=>{const{areStepErrorsVisible:e,hasErrors:t}=this.props;return e&&t?Object(Fe.jsx)(nt,null):null}))}render(){const{fields:e,histogramFields:t}=this.props,{histogram:s}=e,o=[{field:"name",name:"Field",sortable:!0}];return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateHistogramTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogramTitle",defaultMessage:"Histogram (optional)"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.histogramDescription",defaultMessage:"Select the fields you want to bucket using numeric intervals."})))),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,className:"rollupJobWizardStepActions"},Object(Fe.jsx)(q.EuiButtonEmpty,{size:"s",flush:"right",href:Me.a.apis.createRollupJobsRequest,target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateHistogramDocsButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.readDocsButtonLabel",defaultMessage:"Histogram docs"})))),Object(Fe.jsx)(q.EuiSpacer,null),Object(Fe.jsx)(Ce,{columns:o,fields:s,onRemoveField:this.onRemoveField,emptyMessage:Object(Fe.jsx)("p",null,"No histogram fields added"),addButton:Object(Fe.jsx)(field_chooser_FieldChooser,{buttonLabel:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldsChooserLabel",defaultMessage:"Add histogram fields"}),columns:o,fields:t,selectedFields:s,onSelectField:this.onSelectField,dataTestSubj:"rollupJobHistogramFieldChooser"}),dataTestSubj:"rollupJobHistogramFieldList"}),this.renderInterval(),this.renderErrors())}renderInterval(){const{fields:e,onFieldsChange:t,areStepErrorsVisible:s,fieldErrors:o}=this.props,{histogram:a,histogramInterval:n}=e,{histogramInterval:i}=o;return a.length?Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiSpacer,{size:"xl"}),Object(Fe.jsx)(q.EuiDescribedFormGroup,{title:Object(Fe.jsx)(q.EuiTitle,{size:"s"},Object(Fe.jsx)("h3",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalTitle",defaultMessage:"Histogram interval"}))),description:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.sectionHistogramIntervalDescription",defaultMessage:"This is the interval of histogram buckets to be generated when rolling up, e.g. 5 will create buckets that are five units wide (0-5, 5-10, etc). Note that only one interval can be specified in the histogram group, meaning that all fields being grouped via the histogram must share the same interval."}),fullWidth:!0},Object(Fe.jsx)(q.EuiFormRow,{label:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepHistogram.fieldHistogramIntervalLabel",defaultMessage:"Interval"}),error:i,isInvalid:Boolean(s&&i),fullWidth:!0},Object(Fe.jsx)(q.EuiFieldNumber,{value:n||0===n?Number(n):"",onChange:e=>t({histogramInterval:e.target.value}),isInvalid:Boolean(s&&i),fullWidth:!0,"data-test-subj":"rollupJobCreateHistogramInterval"})))):null}}const bt=[{type:"avg",label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.checkboxAverageLabel",{defaultMessage:"Average"})},{type:"max",label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.checkboxMaxLabel",{defaultMessage:"Maximum"})},{type:"min",label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.checkboxMinLabel",{defaultMessage:"Minimum"})},{type:"sum",label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.checkboxSumLabel",{defaultMessage:"Sum"})},{type:"value_count",label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.checkboxValueCountLabel",{defaultMessage:"Value count"})}],jt={numeric:{avg:!0,max:!0,min:!0,sum:!0,value_count:!0},date:{max:!0,min:!0,value_count:!0}},ft=(e,t)=>!!Object(rt.get)(jt,[e,t]),gt=bt.map((e=>{const t={};for(const[s,r]of Object.entries(jt))t[s]=!!r[e.type];return{...e,fieldTypes:t}}));class step_metrics_StepMetrics extends r.Component{constructor(e){super(e),Te()(this,"openMetricsPopover",(()=>{this.setState({metricsPopoverOpen:!0})})),Te()(this,"closeMetricsPopover",(()=>{this.setState({metricsPopoverOpen:!1})})),Te()(this,"onSelectField",(e=>{const{fields:{metrics:t},onFieldsChange:s}=this.props;s({metrics:t.concat({...e,types:[]})})})),Te()(this,"onRemoveField",(e=>{const{fields:{metrics:t},onFieldsChange:s}=this.props;s({metrics:t.filter((({name:t})=>t!==e.name))})})),Te()(this,"setMetric",((e,t,s)=>{const{fields:{metrics:r}}=this.props,o=[...r],a=o.find((({name:t})=>t===e));return s?-1===a.types.indexOf(t)&&a.types.push(t):a.types.splice(a.types.indexOf(t),1),o})),Te()(this,"renderErrors",(()=>{const{areStepErrorsVisible:e,fieldErrors:t}=this.props,{metrics:s}=t;return e&&s?Object(Fe.jsx)(nt,{title:s}):null})),this.state={metricsPopoverOpen:!1,listColumns:[],selectedMetricsMap:[]}}renderMetricsSelectAllCheckboxes(){const{fields:{metrics:e},onFieldsChange:t}=this.props;let s=0;const r=[{label:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.allCheckbox",{defaultMessage:"All"}),type:"all"}].concat(gt).map((({label:r,type:o,fieldTypes:a},n)=>{const i="all"===o,l=i?e:e.filter((({type:e})=>a[e]));let c=0,u=!1,d=!1;return i?(l.forEach((({types:e,type:t})=>{Object.keys(jt[t]).every((t=>e.some((e=>e===t))))&&++c})),d=0===e.length):(l.forEach((({types:e})=>{e.some((e=>e===o))&&++c})),d=!e.some((({type:e})=>ft(e,o)))),u=c===l.length,d&&++s,Object(Fe.jsx)(q.EuiCheckbox,{id:`${n}-select-all-checkbox`,"data-test-subj":`rollupJobMetricsSelectAllCheckbox-${o}`,disabled:d,label:r,checked:!d&&u,onChange:()=>{if(i){const e=gt.reduce(((e,{type:t})=>this.setMetrics(t,!u)),null);t({metrics:e})}else t({metrics:this.setMetrics(o,!u)})}})}));return{checkboxElements:r,allCheckboxesDisabled:r.length===s}}getMetricsSelectAllMenu(){const{checkboxElements:e,allCheckboxesDisabled:t}=this.renderMetricsSelectAllCheckboxes();return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiPopover,{ownFocus:!0,isOpen:this.state.metricsPopoverOpen,closePopover:this.closeMetricsPopover,button:Object(Fe.jsx)(q.EuiButton,{disabled:t,onClick:this.openMetricsPopover,"data-test-subj":"rollupJobSelectAllMetricsPopoverButton"},fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.selectAllPopoverButtonLabel",{defaultMessage:"Select metrics"}))},Object(Fe.jsx)(q.EuiFlexGroup,{alignItems:"flexStart",direction:"column"},e.map(((e,t)=>Object(Fe.jsx)(q.EuiFlexItem,{key:t},e))))))}renderRowSelectAll({fieldName:e,fieldType:t,types:s}){const{onFieldsChange:r}=this.props,o=Boolean(s.length),a=Object.keys(jt[t]).length,n=a===s.length,i=fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.selectAllRowLabel",{defaultMessage:"All"});return Object(Fe.jsx)(q.EuiCheckbox,{id:`${e}-selectAll-checkbox`,"data-test-subj":"rollupJobMetricsCheckbox-selectAll",label:i,checked:n,onChange:()=>{const n=!o||s.length!==a,i=gt.filter((e=>e.fieldTypes[t])).reduce(((t,{type:s})=>this.setMetric(e,s,n)),null);r({metric:i})}})}getListColumns(){return step_metrics_StepMetrics.chooserColumns.concat({type:"metrics",name:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.metricsColumnHeader",{defaultMessage:"Metrics"}),render:({name:e,type:t,types:s})=>{const{onFieldsChange:r}=this.props,o=gt.map((({type:o,label:a})=>{if(!ft(t,o))return;const n=s.includes(o);return Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,key:`${e}-${o}-checkbox`},Object(Fe.jsx)(q.EuiCheckbox,{id:`${e}-${o}-checkbox`,"data-test-subj":`rollupJobMetricsCheckbox-${o}`,label:a,checked:n,onChange:()=>r({metrics:this.setMetric(e,o,!n)})}))})).filter((e=>void 0!==e));return Object(Fe.jsx)(q.EuiFlexGroup,{wrap:!0,gutterSize:"m"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,key:`${e}-selectAll-checkbox`},this.renderRowSelectAll({fieldName:e,fieldType:t,types:s})),o)}})}setMetrics(e,t){const{fields:{metrics:s}}=this.props;return s.filter((t=>ft(t.type,e))).reduce(((s,r)=>this.setMetric(r.name,e,t)),[])}render(){const{fields:e,metricsFields:t}=this.props,{metrics:s}=e;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(Fe.jsx)(q.EuiFlexItem,{grow:!1},Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateMetricsTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsTitle",defaultMessage:"Metrics (optional)"}))),Object(Fe.jsx)(q.EuiSpacer,{size:"s"}),Object(Fe.jsx)(q.EuiText,null,Object(Fe.jsx)("p",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetricsDescription",defaultMessage:"Select the metrics to collect while rolling up data. By default, only doc_counts are collected for each group."})))),Object(Fe.jsx)(q.EuiFlexItem,{grow:!1,className:"rollupJobWizardStepActions"},Object(Fe.jsx)(q.EuiButtonEmpty,{size:"s",flush:"right",href:Me.a.apis.createRollupJobsRequest,target:"_blank",iconType:"help","data-test-subj":"rollupJobCreateMetricsDocsButton"},Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.readDocsButtonLabel",defaultMessage:"Metrics docs"})))),Object(Fe.jsx)(q.EuiSpacer,null),Object(Fe.jsx)(Ce,{columns:this.getListColumns(),fields:s,onRemoveField:this.onRemoveField,emptyMessage:Object(Fe.jsx)("p",null,fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.emptyListLabel",{defaultMessage:"No metrics fields added"})),addButton:Object(Fe.jsx)(q.EuiFlexGroup,{justifyContent:"spaceEvenly",alignItems:"center",gutterSize:"s"},Object(Fe.jsx)(q.EuiFlexItem,null,Object(Fe.jsx)(field_chooser_FieldChooser,{key:"stepMetricsFieldChooser",buttonLabel:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepMetrics.fieldsChooserLabel",defaultMessage:"Add metrics fields"}),columns:step_metrics_StepMetrics.chooserColumns,fields:t,selectedFields:s,onSelectField:this.onSelectField,dataTestSubj:"rollupJobMetricsFieldChooser"})),Object(Fe.jsx)(q.EuiFlexItem,null,this.getMetricsSelectAllMenu())),dataTestSubj:"rollupJobMetricsFieldList"}),this.renderErrors())}}Te()(step_metrics_StepMetrics,"chooserColumns",[{field:"name",name:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.fieldColumnLabel",{defaultMessage:"Field"}),sortable:!0,width:"240px"},{field:"type",name:fe.i18n.translate("xpack.rollupJobs.create.stepMetrics.typeColumnLabel",{defaultMessage:"Type"}),truncateText:!0,sortable:!0,width:"100px"}]);const ht=[ze,Ue,Xe,We,qe];class step_review_StepReview extends r.Component{constructor(e){super(e),Te()(this,"selectTab",(e=>{this.setState({selectedTab:e})})),this.state={selectedTab:ht[0]}}renderTabs(){const{selectedTab:e}=this.state,{job:t}=this.props,s=[];return ht.forEach(((r,o)=>{if(r===Ue&&!t.terms.length)return;if(r===Xe&&!t.histogram.length)return;if(r===We&&!t.metrics.length)return;const a=r===e;s.push(Object(Fe.jsx)(q.EuiTab,{onClick:()=>this.selectTab(r),isSelected:a,"data-test-subj":"stepReviewTab",key:o},Ge[r]))})),1===!s.length?null:Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiTabs,null,s),Object(Fe.jsx)(q.EuiSpacer,{size:"m"}))}render(){const{job:e}=this.props,{selectedTab:t}=this.state,s=Object(B.s)(e),o=`PUT _rollup/job/${e.id}`;return Object(Fe.jsx)(r.Fragment,null,Object(Fe.jsx)(q.EuiTitle,{"data-test-subj":"rollupJobCreateReviewTitle"},Object(Fe.jsx)("h2",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.stepReviewTitle",defaultMessage:"Review details for '{jobId}'",values:{jobId:e.id}}))),this.renderTabs(),Object(Fe.jsx)(q.EuiErrorBoundary,null,Object(Fe.jsx)($e,{job:e,json:s,endpoint:o,tab:t})))}}function mt(e,t){return t&&e===t?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.idSameAsCloned",defaultMessage:'Name cannot be the same as cloned name: "{clonedId}".',values:{clonedId:t}})]:e&&e.trim()?void 0:[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.idMissing",defaultMessage:"Name is required."})]}function xt(e,t){if(!e||!e.trim())return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMissing",defaultMessage:"Index pattern is required."})];if(e===t)return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSameAsRollupIndex",defaultMessage:"Index pattern cannot have the same as the rollup index."})];const s=at.indexPatterns.ILLEGAL_CHARACTERS_VISIBLE.reduce(((t,s)=>(e.includes(s)&&t.push(s),t)),[]);return s.length?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your index pattern.",values:{characterList:Object(Fe.jsx)("strong",null,s.join(" "))}})]:e.includes(" ")?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternSpaces",defaultMessage:"Remove the spaces from your index pattern."})]:void 0}function Ot(e,t){if(!e||!e.trim())return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexMissing",defaultMessage:"Rollup index is required."})];if(e===t)return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSameAsIndexPattern",defaultMessage:"Rollup index cannot have the same as the index pattern."})];const s=i.indices.findIllegalCharactersInIndexName(e);return s.length?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexIllegalCharacters",defaultMessage:"Remove the characters {characterList} from your rollup index name.",values:{characterList:Object(Fe.jsx)("strong",null,s.join(" "))}})]:e.includes(",")?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexCommas",defaultMessage:"Remove the commas from your rollup index name."})]:e.includes(" ")?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexSpaces",defaultMessage:"Remove the spaces from your rollup index name."})]:"."===e[0]?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupIndexBeginningPeriod",defaultMessage:"Index names cannot begin with periods."})]:void 0}var yt=s(63),vt=s.n(yt);function St(e){if(!e||!e.trim())return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupCronMissing",defaultMessage:"Cron pattern or basic interval is required."})];try{vt.a.toString(e)}catch(e){const t="Error: ",s=e.indexOf(t);return e.substring(s+t.length)}}function Mt(e){return e&&e.toString().trim()?e<=0?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeGreaterThanZero",defaultMessage:"Page size must be greater than zero."})]:void 0:[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupPageSizeMissing",defaultMessage:"Page size is required."})]}const{InvalidEsIntervalFormatError:Et,InvalidEsCalendarIntervalError:Tt,parseEsInterval:Ft}=at.search.aggs;function Ct(e){if(e&&e.trim())try{Ft(e)}catch(e){if(e instanceof Et)return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidFormat",defaultMessage:"Invalid delay format."})];if(e instanceof Tt){const{unit:t}=e;return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:t,suggestion:Object(Fe.jsx)("strong",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.rollupDelayInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:t}}))}})]}throw e}}function Dt(e){if(!e||!e.trim())return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramFieldMissing",defaultMessage:"Date field is required."})]}const{InvalidEsIntervalFormatError:Pt,InvalidEsCalendarIntervalError:kt,parseEsInterval:Jt}=at.search.aggs;function It(e){if(!e||!e.trim())return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalMissing",defaultMessage:"Interval is required."})];try{Jt(e)}catch(e){if(e instanceof Pt)return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidFormat",defaultMessage:"Invalid interval format."})];if(e instanceof kt){const{unit:t}=e;return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarInterval",defaultMessage:"The '{unit}' unit only allows values of 1. Try {suggestion}.",values:{unit:t,suggestion:Object(Fe.jsx)("strong",null,Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.dateHistogramIntervalInvalidCalendarIntervalSuggestion",defaultMessage:"1{unit}",values:{unit:t}}))}})]}throw e}}function wt(e,t){if(e.length)return t<=0?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalZero",defaultMessage:"Interval must be greater than zero."})]:Math.round(t)!==Number(t)?[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalWholeNumber",defaultMessage:"Interval must be a whole number."})]:t?void 0:[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.histogramIntervalMissing",defaultMessage:"An interval is required to roll up these histogram fields."})]}function Lt(e){const t=e.reduce(((e,{name:t,types:s})=>(s.length||e.push(t),e)),[]);if(t.length){const e=t.join(", ");return[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.metricsTypesMissing",key:"xpack.rollupJobs.create.errors.metricsTypesMissing",defaultMessage:"Select metrics types for these fields or remove them: {allMissingTypes}.",values:{allMissingTypes:e}})]}}const _t="STEP_LOGISTICS",At="STEP_DATE_HISTOGRAM",Rt="STEP_TERMS",Ht="STEP_HISTOGRAM",Bt="STEP_METRICS",Nt="STEP_REVIEW",zt=[_t,At,Rt,Ht,Bt,Nt],Ut={[_t]:{getDefaultFields:(e={})=>{const t=!!e.rollupCron,s=Object(rt.get)(e,["json","config","page_size"],1e3),r=e.id||void 0,o=e.id?`${e.id}-copy`:"",a={indexPattern:"",rollupIndex:"",rollupCron:"0 0 0 ? * 7",simpleRollupCron:"0 0 0 ? * 7",rollupPageSize:s,rollupDelay:"1d",cronFrequency:"WEEK",fieldToPreferredValueMap:{}};return{...a,...Object(rt.pick)(e,Object.keys(a)),id:o,isAdvancedCronVisible:t,rollupPageSize:s,clonedRollupId:r}},fieldsValidator:e=>{const{id:t,indexPattern:s,rollupIndex:r,rollupCron:o,rollupPageSize:a,rollupDelay:n,clonedRollupId:i}=e;return{id:mt(t,i),indexPattern:xt(s,r),rollupIndex:Ot(r,s),rollupCron:St(o),rollupPageSize:Mt(a),rollupDelay:Ct(n)}}},[At]:{getDefaultFields:(e={})=>{const t={dateHistogramField:null,dateHistogramInterval:null,dateHistogramTimeZone:"UTC"};return{...t,...Object(rt.pick)(e,Object.keys(t))}},fieldsValidator:e=>{const{dateHistogramField:t,dateHistogramInterval:s}=e;return{dateHistogramField:Dt(t),dateHistogramInterval:It(s)}}},[Rt]:{getDefaultFields:(e={})=>({terms:[],...Object(rt.pick)(e,["terms"])})},[Ht]:{getDefaultFields:e=>({histogram:[],histogramInterval:void 0,...Object(rt.pick)(e,["histogram","histogramInterval"])}),fieldsValidator:e=>{const{histogram:t,histogramInterval:s}=e;return{histogramInterval:wt(t,s)}}},[Bt]:{getDefaultFields:(e={})=>({metrics:[],...Object(rt.pick)(e,["metrics"])}),fieldsValidator:e=>{const{metrics:t}=e;return{metrics:Lt(t)}}},[Nt]:{getDefaultFields:()=>({})}};function Xt(e){return Object.values(e).some((e=>void 0!==e))}const Wt={[_t]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepLogisticsTitle",{defaultMessage:"Logistics"}),[At]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepDateHistogramTitle",{defaultMessage:"Date histogram"}),[Rt]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepTermsTitle",{defaultMessage:"Terms"}),[Ht]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepHistogramTitle",{defaultMessage:"Histogram"}),[Bt]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepMetricsTitle",{defaultMessage:"Metrics"}),[Nt]:fe.i18n.translate("xpack.rollupJobs.create.steps.stepReviewTitle",{defaultMessage:"Review and save"})};class job_create_JobCreateUi extends r.Component{constructor(e){super(e),Te()(this,"requestIndexPatternValidation",Object(rt.debounce)(((e=!0)=>{const t=this.getIndexPattern(),s=++this.lastIndexPatternValidationIdx;Object(B.A)(t).then((t=>{if(!this._isMounted)return;if(s!==this.lastIndexPatternValidationIdx)return;const{doesMatchIndices:r,doesMatchRollupIndices:o,dateFields:a,numericFields:n,keywordFields:i}=t;let l;o?l=[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternMatchesRollupIndices",defaultMessage:"Index pattern must not match rollup indices."})]:r?a.length||(l=[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoTimeFields",defaultMessage:"Index pattern must match indices that contain time fields."})]):l=[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternNoMatchingIndices",defaultMessage:"Index pattern doesn't match any indices."})];const c=fe.i18n.translate("xpack.rollupJobs.create.numericTypeField",{defaultMessage:"numeric"}),u=fe.i18n.translate("xpack.rollupJobs.create.keywordTypeField",{defaultMessage:"keyword"}),d=fe.i18n.translate("xpack.rollupJobs.create.dateTypeField",{defaultMessage:"date"}),p=Object(B.j)(n,c),b=Object(B.j)(i,u),j=Object(B.j)(a,d),{jobToClone:f,stepsFields:g}=this.state,{[Bt]:{metrics:h}}=g;if(f&&h&&h.length&&!Object(rt.first)(h).type){const e=[{fields:p,type:c},{fields:b,type:u},{fields:j,type:d}],t=Object(B.r)({metrics:h,typeMaps:e});this.onFieldsChange({metrics:t},Bt)}function m(e,t){const s=e.name.toUpperCase(),r=t.name.toUpperCase();return s<r?-1:s>r?1:0}const x=[...p,...b].sort(m),O=[...p].sort(m),y=[...p,...j].sort(m);a.sort(),e&&this.onFieldsChange({dateHistogramField:a.length?a[0]:void 0},At),this.setState({indexPatternAsyncErrors:l,indexPatternDateFields:a,indexPatternTermsFields:x,indexPatternHistogramFields:O,indexPatternMetricsFields:y,isValidatingIndexPattern:!1})})).catch((e=>{if(this._isMounted&&s===this.lastIndexPatternValidationIdx)if(e&&e.body){const{error:t,statusCode:s}=e.body,r=[Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.create.errors.indexPatternValidationError",defaultMessage:"There was a problem validating this index pattern: {statusCode} {error}",values:{error:t,statusCode:s}})];this.setState({indexPatternAsyncErrors:r,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],isValidatingIndexPattern:!1})}else Object(V.a)().add(e,fe.i18n.translate("xpack.rollupJobs.create.errors.indexPatternValidationFatalErrorTitle",{defaultMessage:"Rollup Job Wizard index pattern validation"}))}))}),300)),Te()(this,"goToNextStep",(()=>{this.goToStep(this.state.nextStepId)})),Te()(this,"goToPreviousStep",(()=>{this.goToStep(this.state.previousStepId)})),Te()(this,"onFieldsChange",((e,t=this.state.currentStepId)=>{const{stepsFields:s}=this.state,r=s[t],o=function(e,t){const{indexPattern:s}=e,r=Object(rt.cloneDeep)(t);return s&&(r[At].dateHistogramField=void 0,r[Rt].terms=[],r[Ht].histogram=[],r[Bt].metrics=[]),r}(e,s),a={...o,[t]:{...r,...e}};this.setState({stepsFields:a,stepsFieldErrors:this.getStepsFieldsErrors(a)})})),Te()(this,"save",(()=>{const{createJob:e}=this.props;e(this.getAllFields())})),Te()(this,"onToggleStartAfterCreate",(e=>{this.setState({startJobAfterCreation:e.target.checked})})),e.kibana.services.setBreadcrumbs([B.o,B.b]);const{jobToClone:t}=e,s=Object(rt.mapValues)(Ut,(e=>Object(rt.cloneDeep)(e.getDefaultFields(t))));this.state={jobToClone:t||null,checkpointStepId:zt[0],currentStepId:zt[0],nextStepId:zt[1],previousStepId:void 0,stepsFieldErrors:this.getStepsFieldsErrors(s),areStepErrorsVisible:!!t,stepsFields:s,isValidatingIndexPattern:!1,indexPatternAsyncErrors:void 0,indexPatternDateFields:[],indexPatternTermsFields:[],indexPatternHistogramFields:[],indexPatternMetricsFields:[],startJobAfterCreation:!1},this.lastIndexPatternValidationIdx=0}componentDidMount(){this._isMounted=!0;const{clearCloneJob:e,jobToClone:t}=this.props;t&&(e(),this.requestIndexPatternValidation(!1))}componentDidUpdate(e,t){const s=this.getIndexPattern();if(s!==this.getIndexPattern(t)){if(!s||!s.trim())return void this.setState({indexPatternAsyncErrors:void 0,indexPatternDateFields:[],isValidatingIndexPattern:!1});this.setState({isValidatingIndexPattern:!0}),this.requestIndexPatternValidation()}}componentWillUnmount(){this._isMounted=!1,this.props.clearCreateJobErrors()}getSteps(){const{currentStepId:e,checkpointStepId:t}=this.state,s=zt.indexOf(e),r=(e,t)=>e===t?"selected":e<t?"complete":"incomplete";return zt.map(((e,o)=>({title:Wt[e],status:r(o,s),onClick:()=>this.goToStep(e),disabled:!this.canGoToStep(e)||zt.indexOf(e)>zt.indexOf(t),"data-test-subj":o===s?`createRollupStep${o+1}--active`:`createRollupStep${o+1}`})))}goToStep(e){if(!this.canGoToStep(e))return void this.setState({areStepErrorsVisible:!0});const t=zt.indexOf(e);this.setState({currentStepId:e,nextStepId:zt[t+1],previousStepId:zt[t-1],areStepErrorsVisible:!1,isSaving:!1}),zt.indexOf(e)>zt.indexOf(this.state.checkpointStepId)&&this.setState({checkpointStepId:e})}canGoToStep(e){const t=zt.indexOf(e);return zt.slice(0,t).every((e=>!this.hasStepErrors(e)))}hasStepErrors(e){const{indexPatternAsyncErrors:t,stepsFieldErrors:s}=this.state;if(e===_t&&Boolean(t))return!0;const r=s[e];return Object.values(r).some((e=>null!=e))}getStepsFieldsErrors(e){return Object.keys(e).reduce(((t,s)=>{const r=e[s],o=Ut[s].fieldsValidator;return t[s]="function"==typeof o?o(r):{},t}),{})}getAllFields(){const{stepsFields:{[_t]:{id:e,indexPattern:t,rollupIndex:s,rollupCron:r,rollupDelay:o,rollupPageSize:a},[At]:{dateHistogramInterval:n,dateHistogramTimeZone:i,dateHistogramField:l},[Rt]:{terms:c},[Ht]:{histogram:u,histogramInterval:d},[Bt]:{metrics:p},[Nt]:{}},startJobAfterCreation:b}=this.state;return{id:e,indexPattern:t,rollupIndex:s,rollupCron:r,rollupPageSize:a,rollupDelay:o,dateHistogramInterval:n,dateHistogramTimeZone:i,dateHistogramField:l,terms:c,histogram:u,histogramInterval:d,metrics:p,startJobAfterCreation:b}}getIndexPattern(e=this.state){return e.stepsFields[_t].indexPattern}render(){const{isSaving:e,saveError:t}=this.props;let s,r;if(e&&(s=Object(Fe.jsx)(q.EuiOverlayMask,null,Object(Fe.jsx)(q.EuiLoadingLogo,{logo:"logoKibana",size:"xl"}))),t){const{message:e,cause:s}=t;let a;s&&(a=1===s.length?Object(Fe.jsx)("p",null,s[0]):Object(Fe.jsx)("ul",null,s.map((e=>Object(Fe.jsx)("li",{key:e},e))))),r=Object(Fe.jsx)(o.a.Fragment,null,Object(Fe.jsx)(q.EuiSpacer,null),Object(Fe.jsx)(q.EuiCallOut,{title:e,icon:"cross",color:"danger"},a),Object(Fe.jsx)(q.EuiSpacer,null))}return Object(Fe.jsx)(q.EuiPageContentBody_Deprecated,{restrictWidth:!0,style:{width:"100%"}},Object(Fe.jsx)(q.EuiPageHeader,{bottomBorder:!0,pageTitle:Object(Fe.jsx)(Se.FormattedMessage,{id:"xpack.rollupJobs.createTitle",defaultMessage:"Create rollup job"})}),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),Object(Fe.jsx)(q.EuiStepsHorizontal,{steps:this.getSteps()}),r,Object(Fe.jsx)(q.EuiSpacer,null),this.renderCurrentStep(),Object(Fe.jsx)(q.EuiSpacer,{size:"l"}),this.renderNavigation(),s)}renderCurrentStep(){const{currentStepId:e,stepsFields:t,stepsFieldErrors:s,areStepErrorsVisible:r,isValidatingIndexPattern:o,indexPatternDateFields:a,indexPatternAsyncErrors:n,indexPatternTermsFields:i,indexPatternHistogramFields:l,indexPatternMetricsFields:c}=this.state,u=t[e],d=s[e];switch(e){case _t:return Object(Fe.jsx)(step_logistics_StepLogistics,{fields:u,onFieldsChange:this.onFieldsChange,fieldErrors:d,hasErrors:Xt(d),areStepErrorsVisible:r,isValidatingIndexPattern:o,indexPatternAsyncErrors:n,hasMatchingIndices:Boolean(a.length)});case At:return Object(Fe.jsx)(step_date_histogram_StepDateHistogram,{indexPattern:this.getIndexPattern(),fields:u,onFieldsChange:this.onFieldsChange,fieldErrors:d,hasErrors:Xt(d),areStepErrorsVisible:r,dateFields:a});case Rt:return Object(Fe.jsx)(step_terms_StepTerms,{fields:u,onFieldsChange:this.onFieldsChange,termsFields:i});case Ht:return Object(Fe.jsx)(step_histogram_StepHistogram,{fields:u,onFieldsChange:this.onFieldsChange,fieldErrors:d,hasErrors:Xt(d),areStepErrorsVisible:r,histogramFields:l});case Bt:return Object(Fe.jsx)(step_metrics_StepMetrics,{fields:u,onFieldsChange:this.onFieldsChange,fieldErrors:d,areStepErrorsVisible:r,metricsFields:c});case Nt:return Object(Fe.jsx)(step_review_StepReview,{job:this.getAllFields()});default:return null}}renderNavigation(){const{isValidatingIndexPattern:e,nextStepId:t,previousStepId:s,areStepErrorsVisible:r,startJobAfterCreation:o}=this.state,{isSaving:a}=this.props,n=null!=t,i=!e&&n&&(!r||this.canGoToStep(t));return Object(Fe.jsx)(ot,{isSaving:a,hasNextStep:n,hasPreviousStep:null!=s,goToNextStep:this.goToNextStep,goToPreviousStep:this.goToPreviousStep,canGoToNextStep:i,save:this.save,onClickToggleStart:this.onToggleStartAfterCreate,startJobAfterCreation:o})}}const Vt=Object(l.withKibana)(job_create_JobCreateUi),qt=Object(n.connect)((e=>({isSaving:oe(e),saveError:ae(e),jobToClone:ie(e)})),(e=>({createJob:t=>{e((e=>async t=>{let s;t({type:O});try{[s]=await Promise.all([Object(B.c)(Object(B.s)(e)),new Promise((e=>setTimeout(e,500)))])}catch(s){if(s){const{body:r}=s,o=s.statusCode||r&&r.statusCode;if(r)return t(409===o?{type:v,payload:{error:{message:fe.i18n.translate("xpack.rollupJobs.createAction.jobIdAlreadyExistsErrorMessage",{defaultMessage:"A job with ID '{jobConfigId}' already exists.",values:{jobConfigId:e.id}})}}}:{type:v,payload:{error:{message:fe.i18n.translate("xpack.rollupJobs.createAction.failedDefaultErrorMessage",{defaultMessage:"Request failed with a {statusCode} error. {message}",values:{statusCode:o,message:r.message}}),cause:r.cause}}})}return Object(V.a)().add(s,fe.i18n.translate("xpack.rollupJobs.createAction.errorTitle",{defaultMessage:"Error creating rollup job"}))}const r=Object(B.f)(s);t({type:y,payload:{job:r}}),e.startJobAfterCreation&&t(he([e.id])),Object(B.k)().history.push({pathname:"/job_list",search:`?job=${encodeURIComponent(e.id)}`})})(t))},clearCreateJobErrors:()=>{e((e=>{e({type:S})}))},clearCloneJob:()=>{e((e=>{e({type:x})}))}})))(Vt);class app_ShareRouterComponent extends r.Component{constructor(...e){super(...e),this.registerRouter()}registerRouter(){const{history:e}=this.props;Object(B.q)({history:e})}render(){return this.props.children}}const Gt=Object(X.withRouter)(app_ShareRouterComponent);class app_App extends r.Component{componentDidMount(){Object(V.f)(B.a.LOADED,W.a)}componentWillUnmount(){Object(B.u)(!0)}render(){return Object(Fe.jsx)(X.Router,{history:this.props.history},Object(Fe.jsx)(Gt,null,Object(Fe.jsx)(X.Switch,null,Object(Fe.jsx)(X.Redirect,{exact:!0,from:"/",to:"/job_list"}),Object(Fe.jsx)(X.Route,{exact:!0,path:"/job_list",component:st}),Object(Fe.jsx)(X.Route,{exact:!0,path:"/create",component:qt}))))}}s(64);const $t=({history:e,executionContext:t})=>(Object(l.useExecutionContext)(t,{type:"application",page:"rollup"}),Object(Fe.jsx)(app_App,{history:e})),Zt=async(e,{history:t,element:s,setBreadcrumbs:r,theme$:o})=>{const[i]=await e.getStartServices(),c=i.i18n.Context,u={history:t,setBreadcrumbs:r};return Object(a.render)(Object(Fe.jsx)(c,null,Object(Fe.jsx)(l.KibanaThemeProvider,{theme$:o},Object(Fe.jsx)(l.KibanaContextProvider,{services:u},Object(Fe.jsx)(n.Provider,{store:U},Object(Fe.jsx)($t,{executionContext:e.executionContext,history:t}))))),s),()=>{Object(a.unmountComponentAtNode)(s)}}}])]);