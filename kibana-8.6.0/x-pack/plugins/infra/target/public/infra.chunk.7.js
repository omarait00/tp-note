/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.infra_bundle_jsonpfunction=window.infra_bundle_jsonpfunction||[]).push([[7],{102:function(e,t,a){"use strict";a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return l})),a.d(t,"i",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return d})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return E}));const n=e=>["started","starting","finished","stopped","failed"].includes(e);let i,s;!function(e){e.CRITICAL="critical",e.MAJOR="major",e.MINOR="minor",e.WARNING="warning",e.LOW="low",e.UNKNOWN="unknown"}(i||(i={})),function(e){e[e.CRITICAL=75]="CRITICAL",e[e.MAJOR=50]="MAJOR",e[e.MINOR=25]="MINOR",e[e.WARNING=3]="WARNING",e[e.LOW=0]="LOW"}(s||(s={}));var r=a(0);const l=9e5,o="event.dataset",c=(e,t)=>`kibana-metrics-ui-${e}-${t}-`,u=(e,t,a)=>`${c(e,t)}${a}`,d=(e,t,a)=>`datafeed-${u(e,t,a)}`,m=r.union([r.strict({type:r.literal("includeAll")}),r.strict({type:r.literal("includeSome"),datasets:r.array(r.string)})]),g=r.partial({indexPattern:r.string,timestampField:r.string,bucketSpan:r.number,datasetFilter:m}),p=r.partial({job_revision:r.number,metrics_source_config:g}),f=(r.keyof({hosts_memory_usage:null,hosts_network_in:null,hosts_network_out:null}),["hosts_memory_usage","hosts_network_in","hosts_network_out"]),E=(r.keyof({k8s_memory_usage:null,k8s_network_in:null,k8s_network_out:null}),["k8s_memory_usage","k8s_network_in","k8s_network_out"])},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(12),i=a(106),s=a(2),r=a.n(s),l=a(20);const o=({children:e,isLoading:t,loadingChildren:a,...n})=>r.a.createElement(u,n,e,t?r.a.createElement(c,null,a):null),c=({children:e})=>r.a.createElement(d,null,e||r.a.createElement(n.EuiLoadingSpinner,{size:"xl"})),u=l.euiStyled.div`
  position: relative;
`,d=l.euiStyled.div`
  align-items: center;
  background-color: ${e=>Object(i.transparentize)(.3,e.theme.eui.euiColorEmptyShade)};
  display: flex;
  height: 100%;
  justify-content: center;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
  z-index: ${e=>e.theme.eui.euiZLevel1};
`},168:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(12),i=a(1),s=a(19),r=a(2),l=a.n(r),o=a(144),c=a(145),u=a(224);const d=({availableDatasets:e,datasetFilter:t,isDisabled:a,onChangeDatasetFilter:i})=>{const{isVisible:o,hide:u,show:d}=Object(c.a)(!1),g=Object(r.useCallback)((e=>{const t=e.filter((({checked:e})=>"on"===e)).map((({label:e})=>e));i(0===t.length?{type:"includeAll"}:{type:"includeSome",datasets:t})}),[i]),p=Object(r.useMemo)((()=>e.map((({dataset:e,warnings:a})=>({label:e,append:a.length>0?l.a.createElement(m,{warnings:a}):null,checked:"includeSome"===t.type&&t.datasets.includes(e)?"on":void 0})))),[e,t]),f=l.a.createElement(n.EuiFilterButton,{disabled:a,isSelected:o,onClick:d,iconType:"arrowDown"},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indexDatasetFilterIncludeAllButtonLabel",defaultMessage:"{includeType, select, includeAll {All datasets} includeSome {{includedDatasetCount, plural, one {# dataset} other {# datasets}}}}",values:{includeType:t.type,includedDatasetCount:"includeSome"===t.type?t.datasets.length:0}}));return l.a.createElement(n.EuiFilterGroup,null,l.a.createElement(n.EuiPopover,{button:f,closePopover:u,isOpen:o,panelPaddingSize:"none"},l.a.createElement(n.EuiSelectable,{onChange:g,options:p,searchable:!0},((e,t)=>l.a.createElement("div",null,l.a.createElement(n.EuiPopoverTitle,null,t),e)))))},m=({warnings:e})=>{const t=e.flatMap((e=>"categoryQualityWarning"===e.type?e.reasons.map((e=>l.a.createElement(u.a,{key:e.type,reason:e}))):[]));return l.a.createElement(n.EuiIconTip,{content:t,type:"alert",color:"warning"})},g=({index:e,isDisabled:t,onChangeDatasetFilter:a,onChangeIsSelected:i,previousQualityWarnings:o})=>{const c=Object(r.useCallback)((t=>{i(e.name,t.currentTarget.checked)}),[e.name,i]),u=Object(r.useCallback)((t=>a(e.name,t)),[e.name,a]),m=Object(r.useMemo)((()=>"valid"===e.validity?e.availableDatasets.map((e=>({dataset:e,warnings:o.filter((({dataset:t})=>t===e))}))):[]),[e,o]),g=Object(r.useMemo)((()=>o.filter((({dataset:e})=>""===e))),[o]),f=Object(r.useMemo)((()=>g.length>0||m.some((({warnings:e})=>e.length>0))),[g,m]),E="valid"===e.validity&&e.isSelected;return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiCheckbox,{key:e.name,id:e.name,label:l.a.createElement(l.a.Fragment,null,e.name,"valid"===e.validity&&f?l.a.createElement(n.EuiIconTip,{content:l.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.analsysisSetup.indexQualityWarningTooltipMessage",defaultMessage:"While analyzing the log messages from these indices we've detected some problems which might indicate a reduced quality of the results. Consider excluding these indices or problematic datasets from the analysis."}),type:"alert",color:"warning"}):null),onChange:c,checked:E,disabled:t||"invalid"===e.validity}),l.a.createElement(l.a.Fragment,null,"invalid"===e.validity?l.a.createElement(n.EuiText,{size:"xs",color:"textSubduedColor"},p(e.errors)):"valid"===e.validity?l.a.createElement(d,{availableDatasets:m,datasetFilter:e.datasetFilter,isDisabled:!E||t,onChangeDatasetFilter:u}):null),l.a.createElement(n.EuiSpacer,{size:"l"}))},p=e=>e.map((e=>{switch(e.error){case"INDEX_NOT_FOUND":return l.a.createElement("p",{key:`${e.error}-${e.index}`},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionIndexNotFound",defaultMessage:"No indices match the pattern {index}",values:{index:l.a.createElement(n.EuiCode,null,e.index)}}));case"FIELD_NOT_FOUND":return l.a.createElement("p",{key:`${e.error}-${e.index}-${e.field}`},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNoTimestampField",defaultMessage:"At least one index matching {index} lacks a required field {field}.",values:{index:l.a.createElement(n.EuiCode,null,e.index),field:l.a.createElement(n.EuiCode,null,e.field)}}));case"FIELD_NOT_VALID":return l.a.createElement("p",{key:`${e.error}-${e.index}-${e.field}`},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTimestampNotValid",defaultMessage:"At least one index matching {index} has a field called {field} without the correct type.",values:{index:l.a.createElement(n.EuiCode,null,e.index),field:l.a.createElement(n.EuiCode,null,e.field)}}));default:return""}})),f=({disabled:e=!1,indices:t,isValidating:a,onChangeSelectedIndices:i,previousQualityWarnings:c=[],validationErrors:u=[]})=>{const d=Object(r.useCallback)(((e,a)=>{i(t.map((t=>t.name===e?{...t,isSelected:a}:t)))}),[t,i]),m=Object(r.useCallback)(((e,a)=>{i(t.map((t=>t.name===e?{...t,datasetFilter:a}:t)))}),[t,i]),p=u.length>0;return l.a.createElement(n.EuiFlexGroup,{direction:"column"},l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiTitle,{size:"xs"},l.a.createElement("h3",null,l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTitle",defaultMessage:"Choose indices"}))),l.a.createElement(n.EuiText,{size:"s",color:"subdued"},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionDescription",defaultMessage:"By default, Machine Learning analyzes log messages in all log indices configured for the source. You can choose to only analyze a subset of the index names. Every selected index name must match at least one index with log entries. You can also choose to only include a certain subset of datasets. Note that the dataset filter applies to all selected indices."}))),l.a.createElement(n.EuiFlexItem,null,l.a.createElement(o.a,{isLoading:a},l.a.createElement(n.EuiFormRow,{fullWidth:!0,isInvalid:p,label:E,labelType:"legend"},l.a.createElement(l.a.Fragment,null,t.map((t=>l.a.createElement(g,{index:t,isDisabled:e,key:t.name,onChangeIsSelected:d,onChangeDatasetFilter:m,previousQualityWarnings:c}))))))))},E=i.i18n.translate("xpack.infra.analysisSetup.indicesSelectionLabel",{defaultMessage:"Indices"});var y=a(49),b=a.n(y),h=a(225);const M=i.i18n.translate("xpack.infra.analysisSetup.startTimeLabel",{defaultMessage:"Start time"}),v=i.i18n.translate("xpack.infra.analysisSetup.endTimeLabel",{defaultMessage:"End time"}),x=i.i18n.translate("xpack.infra.analysisSetup.startTimeDefaultDescription",{defaultMessage:"Start of log indices"}),k=i.i18n.translate("xpack.infra.analysisSetup.endTimeDefaultDescription",{defaultMessage:"Indefinitely"});function S(e){if(e)return e.valueOf()}const T=({disabled:e=!1,setStartTime:t,setEndTime:a,startTime:i,endTime:o,validationErrors:c=[]})=>{const[u]=Object(r.useState)((()=>b()())),d=!o||b()(o).isSame(u,"day"),m=Object(r.useMemo)((()=>i?b()(i):void 0),[i]),g=Object(r.useMemo)((()=>o?b()(o):void 0),[o]),p=Object(r.useMemo)((()=>C(c)),[c]),f=Object(r.useMemo)((()=>F(c)),[c]);return l.a.createElement(n.EuiFlexGroup,{direction:"column"},l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiTitle,{size:"xs"},l.a.createElement("h3",null,l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeTitle",defaultMessage:"Choose a time range"}))),l.a.createElement(n.EuiText,{size:"s",color:"subdued"},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.timeRangeDescription",defaultMessage:"By default, Machine Learning analyzes log messages in your log indices no older than four weeks, and continues indefinitely. You can specify a different date to begin, to end, or both."}))),l.a.createElement(n.EuiFlexItem,null,l.a.createElement(n.EuiFormRow,{error:p,fullWidth:!0,isInvalid:p.length>0,label:M},l.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},l.a.createElement(n.EuiFormControlLayout,{clear:i&&!e?{onClick:()=>t(void 0)}:void 0,isDisabled:e},l.a.createElement(h.a,{disabled:e,showTimeSelect:!0,selected:m,onChange:e=>t(S(e)),placeholder:x,maxDate:u})))),l.a.createElement(n.EuiFormRow,{error:f,fullWidth:!0,isInvalid:f.length>0,label:v},l.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},l.a.createElement(n.EuiFormControlLayout,{clear:o&&!e?{onClick:()=>a(void 0)}:void 0,isDisabled:e},l.a.createElement(h.a,{disabled:e,showTimeSelect:!0,selected:g,onChange:e=>a(S(e)),placeholder:k,openToDate:u,minDate:m,minTime:d?u:b()().hour(0).minutes(0),maxTime:b()().hour(23).minutes(59)}))))))},C=e=>e.flatMap((e=>"INVALID_TIME_RANGE"===e.error?[i.i18n.translate("xpack.infra.analysisSetup.startTimeBeforeEndTimeErrorMessage",{defaultMessage:"The start time must be before the end time."})]:[])),F=e=>e.flatMap((e=>"INVALID_TIME_RANGE"===e.error?[i.i18n.translate("xpack.infra.analysisSetup.endTimeAfterStartTimeErrorMessage",{defaultMessage:"The end time must be after the start time."})]:[]));var O=a(0),j=a(87);const _=O.strict({error:O.literal("INVALID_TIME_RANGE")}),w=e=>({title:I,children:l.a.createElement(D,e)}),D=({setStartTime:e,setEndTime:t,startTime:a,endTime:i,isValidating:s,validatedIndices:o,setupStatus:c,setValidatedIndices:u,validationErrors:d=[],previousQualityWarnings:m=[]})=>{const g=Object(r.useMemo)((()=>!L.includes(c.type)),[c]),[p,E,y]=Object(r.useMemo)((()=>P(d)),[d]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiForm,null,l.a.createElement(T,{disabled:g,setStartTime:e,setEndTime:t,startTime:a,endTime:i,validationErrors:E}),l.a.createElement(n.EuiSpacer,{size:"xl"}),l.a.createElement(f,{disabled:g,indices:o,isValidating:s,onChangeSelectedIndices:u,previousQualityWarnings:m,validationErrors:p}),l.a.createElement(N,{errors:y})))},L=["required","failed","skipped"],R=i.i18n.translate("xpack.infra.analysisSetup.steps.initialConfigurationStep.errorCalloutTitle",{defaultMessage:"Your index configuration is not valid"}),I=i.i18n.translate("xpack.infra.analysisSetup.configurationStepTitle",{defaultMessage:"Configuration"}),N=({errors:e})=>0===e.length?null:l.a.createElement(l.a.Fragment,null,l.a.createElement(n.EuiCallOut,{color:"danger",iconType:"alert",title:R},l.a.createElement("ul",null,e.map(((e,t)=>l.a.createElement("li",{key:t},A(e)))))),l.a.createElement(n.EuiSpacer,null)),A=e=>{switch(e.error){case"NETWORK_ERROR":return l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionNetworkError",defaultMessage:"We couldn't load your index configuration"});case"TOO_FEW_SELECTED_INDICES":return l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.indicesSelectionTooFewSelectedIndicesDescription",defaultMessage:"Select at least one index name."});default:return""}},P=e=>e.reduce((([e,t,a],n)=>j.v.is(n)?[[...e,n],t,a]:_.is(n)?[e,[...t,n],a]:[e,t,[...a,n]]),[[],[],[]])},170:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(12),i=a(1),s=a(19),r=a(2),l=a.n(r);const o=({isDisabled:e,onClick:t})=>l.a.createElement(n.EuiButton,{isDisabled:e,fill:!0,onClick:t},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.createMlJobButton",defaultMessage:"Create ML job"})),c=({isDisabled:e,onClick:t})=>l.a.createElement(l.a.Fragment,null,l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.deleteAnalysisResultsWarning",defaultMessage:"This removes previously detected anomalies.",tagName:"p"}),l.a.createElement(n.EuiButton,{isDisabled:e,fill:!0,onClick:t},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.recreateMlJobButton",defaultMessage:"Recreate ML jobs"}))),u=e=>({title:g,children:l.a.createElement(d,e),status:"pending"===e.setupStatus.type?"incomplete":"failed"===e.setupStatus.type?"danger":"succeeded"===e.setupStatus.type?"complete":void 0}),d=({cleanUpAndSetUp:e,errorMessages:t,isConfigurationValid:a,setUp:i,setupStatus:r,viewResults:u})=>l.a.createElement(n.EuiText,{size:"s"},"pending"===r.type?l.a.createElement(n.EuiFlexGroup,{alignItems:"center"},l.a.createElement(n.EuiFlexItem,{grow:!1},l.a.createElement(n.EuiLoadingSpinner,{size:"xl"})),l.a.createElement(n.EuiFlexItem,{grow:!1},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.loadingText",defaultMessage:"Creating ML job..."}))):"failed"===r.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.failureText",defaultMessage:"Something went wrong creating the necessary ML jobs. Please ensure all selected log indices exist."}),l.a.createElement(n.EuiSpacer,null),r.reasons.map(((e,t)=>l.a.createElement(n.EuiCallOut,{key:t,color:"danger",iconType:"alert",title:m},l.a.createElement(n.EuiCode,{transparentBackground:!0},e)))),l.a.createElement(n.EuiSpacer,null),l.a.createElement(n.EuiButton,{fill:!0,onClick:e},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.tryAgainButton",defaultMessage:"Try again"}))):"succeeded"===r.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.successText",defaultMessage:"The ML jobs have been set up successfully"}),l.a.createElement(n.EuiSpacer,null),l.a.createElement(n.EuiButton,{fill:!0,onClick:u},l.a.createElement(s.FormattedMessage,{id:"xpack.infra.analysisSetup.steps.setupProcess.viewResultsButton",defaultMessage:"View results"}))):"required"===r.type?l.a.createElement(o,{isDisabled:!a,onClick:i}):l.a.createElement(c,{isDisabled:!a,onClick:e})),m=i.i18n.translate("xpack.infra.analysisSetup.steps.setupProcess.errorCalloutTitle",{defaultMessage:"An error occurred"}),g=i.i18n.translate("xpack.infra.analysisSetup.actionStepTitle",{defaultMessage:"Create ML job"})},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(12),i=a(2),s=a.n(i),r=a(214);const l=({children:e,hasSetupCapabilities:t,onRecreateMlJob:a,title:i})=>s.a.createElement(n.EuiCallOut,{color:"warning",iconType:"alert",title:i},e,s.a.createElement(r.b,{color:"warning",hasSetupCapabilities:t,onClick:a}))},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return r}));var n=a(1);const i=n.i18n.translate("xpack.infra.logs.analysis.missingMlPrivilegesTitle",{defaultMessage:"Additional Machine Learning privileges required"}),s=n.i18n.translate("xpack.infra.logs.analysis.missingMlResultsPrivilegesDescription",{defaultMessage:"This feature makes use of Machine Learning jobs, which require at least the read permission for the Machine Learning app in order to access their status and results."}),r=n.i18n.translate("xpack.infra.logs.analysis.missingMlSetupPrivilegesDescription",{defaultMessage:"This feature makes use of Machine Learning jobs, which require all permissions for the Machine Learning app in order to be set up."})},191:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(12),i=a(2),s=a.n(i),r=a(56),l=a(72);const o=({anomalyScore:e})=>{const t=Object(i.useMemo)((()=>c(e)),[e]);return s.a.createElement(n.EuiHealth,{color:t},Object(r.getFormattedSeverityScore)(e))},c=e=>{const t=Object(l.m)(e);return null!=t&&t in l.a?l.a[t]:"subdued"}},194:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(238),i=a.n(n),s=a(13);const r=()=>{const e=Object(s.b)(),t=i()(e.services.spaces.getActiveSpace);return t.loading?{isLoading:!0,error:void 0,space:void 0}:t.error?{isLoading:!1,error:t.error,space:void 0}:{isLoading:!1,error:void 0,space:t.value}}},202:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=a(50).css`
  display: flex;
  flex-direction: column;
  flex: 1 0 auto;
  width: 100%;
  height: 100%;
`},203:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return s}));var n=a(28);const i="infra-container-element",s=(e,t)=>{e.classList.add(n.APP_WRAPPER_CLASS),t&&e.setAttribute("data-test-subj",t)}},208:function(e,t,a){"use strict";a.d(t,"b",(function(){return p})),a.d(t,"c",(function(){return E})),a.d(t,"a",(function(){return h})),a(168),a(170);var n=a(12),i=a(2),s=a.n(i),r=a(20),l=a(182),o=a(30),c=a.n(o),u=a(19),d=a(17),m=a(13);const g=e=>{var t,a,i;const{services:{application:{capabilities:r}}}=Object(m.b)(),l=null!==(t=null==r||null===(a=r.management)||void 0===a||null===(i=a.security)||void 0===i?void 0:i.users)&&void 0!==t&&t,o=Object(d.useLinkProps)({app:"management",pathname:"/security/users"});return l?s.a.createElement(n.EuiButton,c()({color:"primary",fill:!0},o,e),s.a.createElement(u.FormattedMessage,{id:"xpack.infra.logs.analysis.userManagementButtonLabel",defaultMessage:"Manage users"})):null},p=()=>s.a.createElement(f,{title:s.a.createElement("h2",null,l.a),body:s.a.createElement("p",null,l.b),actions:s.a.createElement(g,null)}),f=Object(r.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`,E=()=>s.a.createElement(y,{title:s.a.createElement("h2",null,l.a),body:s.a.createElement("p",null,l.c),actions:s.a.createElement(g,null)}),y=Object(r.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`;var b=a(1);Object(r.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`;const h=({retry:e})=>s.a.createElement(M,{title:s.a.createElement("h2",null,s.a.createElement(u.FormattedMessage,{id:"xpack.infra.logs.analysis.setupStatusUnknownTitle",defaultMessage:"We couldn't determine the status of your ML jobs."})),actions:s.a.createElement(n.EuiButton,{onClick:()=>e(),color:"primary",fill:!0},b.i18n.translate("xpack.infra.logs.analysis.setupStatusTryAgainButton",{defaultMessage:"Try again"}))}),M=Object(r.euiStyled)(n.EuiEmptyPrompt)`
  align-self: center;
`},212:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return h}));var n=a(30),i=a.n(n),s=a(2),r=a.n(s),l=a(1),o=a(12),c=a(19),u=a(9),d=a(0),m=a(65),g=a(71),p=a(21),f=a(93),E=a(133);const y=l.i18n.translate("xpack.infra.ml.splash.loadingMessage",{defaultMessage:"Checking license..."}),b=e=>r.a.createElement(E.a,i()({},e,{isEmptyState:!0}),r.a.createElement(h,null)),h=()=>{const{services:e}=Object(u.useKibana)(),{loadState:t,isTrialAvailable:a,checkTrialAvailability:n}=function(){const{services:e}=Object(u.useKibana)(),[t,a]=Object(s.useState)(!1),[n,i]=Object(g.c)({createPromise:async()=>{const t=await e.http.get(`${m.API_BASE_PATH}/start_trial`);return Object(p.b)(d.boolean)(t)},onResolve:e=>{a(e)},onReject:t=>{e.notifications.toasts.addDanger(l.i18n.translate("xpack.infra.trialStatus.trialStatusNetworkErrorMessage",{defaultMessage:"We could not determine if the trial license is available"}))}},[e]);return{loadState:n.state,isTrialAvailable:t,checkTrialAvailability:i}}();if(Object(s.useEffect)((()=>{n()}),[n]),"pending"===t)return r.a.createElement(f.b,{message:y});let i,E,b;return a&&"resolved"===t?(i=r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialTitle",defaultMessage:"To access anomaly detection, start a free trial"}),E=r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialDescription",defaultMessage:"Our free trial includes machine learning features, which enable you to detect anomalies in your logs."}),b=r.a.createElement(o.EuiButton,{fullWidth:!1,fill:!0,href:e.http.basePath.prepend("/app/management/stack/license_management")},r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.startTrialCta",defaultMessage:"Start trial"}))):(i=r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionTitle",defaultMessage:"To access anomaly detection, upgrade to a Platinum Subscription"}),E=r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionDescription",defaultMessage:"You must have a Platinum Subscription to use machine learning features."}),b=r.a.createElement(o.EuiButton,{fullWidth:!1,fill:!0,href:"https://www.elastic.co/subscriptions"},r.a.createElement(c.FormattedMessage,{id:"xpack.infra.ml.splash.updateSubscriptionCta",defaultMessage:"Upgrade subscription"}))),r.a.createElement(o.EuiEmptyPrompt,{iconType:"visLine",title:r.a.createElement("h2",null,i),body:r.a.createElement(o.EuiText,null,r.a.createElement("p",null,E)),actions:b})}},214:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(30),i=a.n(n),s=a(12),r=a(19),l=a(2),o=a.n(l),c=a(182);const u=e=>o.a.createElement(s.EuiToolTip,i()({},e,{content:c.c,title:c.a})),d=({hasSetupCapabilities:e=!0,children:t,...a})=>{const n=o.a.createElement(s.EuiButton,i()({isDisabled:!e},a),null!=t?t:o.a.createElement(r.FormattedMessage,{id:"xpack.infra.logs.analysis.createJobButtonLabel",defaultMessage:"Create ML jobs"}));return e?n:o.a.createElement(u,{position:"bottom",delay:"regular"},n)},m=({children:e,...t})=>o.a.createElement(d,t,null!=e?e:o.a.createElement(r.FormattedMessage,{id:"xpack.infra.logs.analysis.recreateJobButtonLabel",defaultMessage:"Recreate ML job"}))},215:function(e,t,a){switch(window.__kbnThemeTag__){case"v8dark":return a(279);case"v8light":return a(281)}},216:function(e,t,a){"use strict";a.d(t,"a",(function(){return NotFoundPage}));var n=a(19),i=a(2),s=a.n(i);class NotFoundPage extends s.a.PureComponent{render(){return s.a.createElement("div",{"data-test-subj":"infraNotFoundPage"},s.a.createElement(n.FormattedMessage,{id:"xpack.infra.notFoundPage.noContentFoundErrorTitle",defaultMessage:"No content found"}))}}},220:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(2),i=a(9);const s=({feedbackLink:e,appName:t})=>{const a=Object(i.useKibana)().services.chrome;return Object(n.useEffect)((()=>null==a?void 0:a.setHelpExtension({appName:t,links:[{linkType:"discuss",href:e}]})),[e,t,a]),null}},221:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(2),i=a(1),s=a(9);const r=(e=!1)=>{const t=Object(s.useKibana)().services.chrome;return Object(n.useEffect)((()=>{null==t||t.setBadge(e?{text:i.i18n.translate("xpack.infra.header.badge.readOnly.text",{defaultMessage:"Read only"}),tooltip:i.i18n.translate("xpack.infra.header.badge.readOnly.tooltip",{defaultMessage:"Unable to change source configuration"}),iconType:"glasses"}:void 0)}),[t,e]),null}},222:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(30),i=a.n(n),s=a(2),r=a.n(s),l=a(51);const o=({from:e,to:t,...a})=>r.a.createElement(l.Route,{path:e,render:({location:n})=>n?r.a.createElement(l.Redirect,i()({},a,{from:e,to:"string"==typeof t?{...n,pathname:t}:{...n,...t}})):null})},223:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(2),i=a(17),s=a(79),r=a(13);const l=(e,t,a)=>{const{services:{chrome:l}}=Object(r.b)(),o=Object(i.useLinkProps)({app:"observability-overview"}),c=Object(i.useLinkProps)({app:e});Object(n.useEffect)((()=>{const e=[{...o,text:s.i},{...c,text:t},...a],n=[...e].reverse().map((e=>e.text));l.docTitle.change(n),l.setBreadcrumbs(e)}),[c,t,l,a,o])}},224:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f}));var n=a(12),i=a(1),s=a(19),r=a(25),l=a(2),o=a.n(l),c=a(20),u=a(72),d=a(181);const m=({hasSetupCapabilities:e,onRecreateMlJob:t,qualityWarnings:a})=>{const[i]=Object(l.useState)(Object(n.htmlIdGenerator)()()),c=Object(r.groupBy)(a,"jobId");return o.a.createElement(o.a.Fragment,null,Object.entries(c).map((([a,r])=>o.a.createElement(d.a,{hasSetupCapabilities:e,key:`quality-warnings-callout-${a}`,onRecreateMlJob:t,title:p},o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.categoryQualityWarningCalloutMessage",defaultMessage:"While analyzing the log messages we've detected some problems which might indicate a reduced quality of the categorization results. Consider excluding the respective datasets from the analysis.",tagName:"p"}),o.a.createElement(n.EuiAccordion,{id:i,buttonContent:o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.categoryQualityWarningDetailsAccordionButtonLabel",defaultMessage:"Details"}),paddingSize:"m"},o.a.createElement(n.EuiDescriptionList,null,r.flatMap((e=>o.a.createElement(l.Fragment,{key:`item-${Object(u.j)(e.dataset)}`},o.a.createElement(n.EuiDescriptionListTitle,{"data-test-subj":`title-${e.dataset}`},Object(u.j)(e.dataset)),e.reasons.map((t=>o.a.createElement(g,{key:`description-${t.type}-${e.dataset}`,"data-test-subj":`description-${t.type}-${e.dataset}`},o.a.createElement(f,{reason:t}))))))))),o.a.createElement(n.EuiSpacer,{size:"l"})))))},g=Object(c.euiStyled)(n.EuiDescriptionListDescription)`
  display: list-item;
  list-style-type: disc;
  margin-left: ${e=>e.theme.eui.euiSizeM};
`,p=i.i18n.translate("xpack.infra.logs.logEntryCategories.categoryQUalityWarningCalloutTitle",{defaultMessage:"Quality warning"}),f=({reason:e})=>{switch(e.type){case"singleCategory":return o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.singleCategoryWarningReasonDescription",defaultMessage:"The analysis couldn't extract more than a single category from the log messages."});case"manyRareCategories":return o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyRareCategoriesWarningReasonDescription",defaultMessage:"{rareCategoriesRatio, number, percent} of the categories only rarely have messages assigned to them.",values:{rareCategoriesRatio:e.rareCategoriesRatio}});case"manyCategories":return o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyCategoriesWarningReasonDescription",defaultMessage:"The ratio of categories per analyzed document is very high with {categoriesDocumentRatio, number }.",values:{categoriesDocumentRatio:e.categoriesDocumentRatio.toFixed(2)}});case"noFrequentCategories":return o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.noFrequentCategoryWarningReasonDescription",defaultMessage:"None of the extracted categories frequently have messages assigned to them."});case"manyDeadCategories":return o.a.createElement(s.FormattedMessage,{id:"xpack.infra.logs.logEntryCategories.manyDeadCategoriesWarningReasonDescription",defaultMessage:"{deadCategoriesRatio, number, percent} of the categories won't have new messages assigned to them because they are overshadowed by less specific categories.",values:{deadCategoriesRatio:e.deadCategoriesRatio}})}}},225:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(30),i=a.n(n),s=a(12),r=a(2),l=a.n(r),o=a(20);const c=Object(o.euiStyled)((({className:e,inputClassName:t,...a})=>l.a.createElement(s.EuiDatePicker,i()({},a,{className:t,popperClassName:e}))))`
  z-index: 3 !important;
`},228:function(e,t,a){"use strict";var n=a(277);a.d(t,"a",(function(){return n.LogStream}))},238:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(53),i=a(2),s=n.__importDefault(a(335));t.default=function(e,t){void 0===t&&(t=[]);var a=s.default(e,t,{loading:!0}),n=a[0],r=a[1];return i.useEffect((function(){r()}),[r]),n}},279:function(e,t,a){var n=a(97),i=a(280);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},280:function(e,t,a){(t=a(98)(!1)).push([e.i,"",""]),e.exports=t},281:function(e,t,a){var n=a(97),i=a(282);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);n(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},282:function(e,t,a){(t=a(98)(!1)).push([e.i,"",""]),e.exports=t},335:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(53),i=a(2),s=n.__importDefault(a(119));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var r=i.useRef(0),l=s.default(),o=i.useState(a),c=o[0],u=o[1],d=i.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var i=++r.current;return u((function(e){return n.__assign(n.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return l()&&i===r.current&&u({value:e,loading:!1}),e}),(function(e){return l()&&i===r.current&&u({error:e,loading:!1}),e}))}),t);return[c,d]}},79:function(e,t,a){"use strict";a.d(t,"i",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"k",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return o})),a.d(t,"j",(function(){return c})),a.d(t,"h",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"g",(function(){return m})),a.d(t,"c",(function(){return g})),a.d(t,"b",(function(){return p}));var n=a(1);const i=n.i18n.translate("xpack.infra.header.observabilityTitle",{defaultMessage:"Observability"}),s=n.i18n.translate("xpack.infra.header.logsTitle",{defaultMessage:"Logs"}),r=n.i18n.translate("xpack.infra.logs.index.streamTabTitle",{defaultMessage:"Stream"}),l=n.i18n.translate("xpack.infra.logs.index.anomaliesTabTitle",{defaultMessage:"Anomalies"}),o=n.i18n.translate("xpack.infra.logs.index.logCategoriesBetaBadgeTitle",{defaultMessage:"Categories"}),c=n.i18n.translate("xpack.infra.logs.index.settingsTabTitle",{defaultMessage:"Settings"}),u=n.i18n.translate("xpack.infra.header.infrastructureTitle",{defaultMessage:"Infrastructure"}),d=n.i18n.translate("xpack.infra.metrics.inventoryPageTitle",{defaultMessage:"Inventory"}),m=n.i18n.translate("xpack.infra.metrics.metricsExplorerTitle",{defaultMessage:"Metrics Explorer"}),g=n.i18n.translate("xpack.infra.metrics.hostsTitle",{defaultMessage:"Hosts"}),p=n.i18n.translate("xpack.infra.metricDetailPage.documentTitleError",{defaultMessage:"Uh oh"})},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(19),i=a(2),s=a.n(i),r=a(93);const l=()=>s.a.createElement(r.a,{"data-test-subj":"sourceLoadingPage",message:s.a.createElement(n.FormattedMessage,{id:"xpack.infra.sourceLoadingPage.loadingDataSourcesMessage",defaultMessage:"Loading data sources"})})}}]);