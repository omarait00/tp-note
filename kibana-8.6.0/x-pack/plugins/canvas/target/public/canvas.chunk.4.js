/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[4,17],{108:function(r,n,t){r.exports=t(12)(49)},129:function(r,n,t){r.exports=t(12)(2745)},140:function(r,n,t){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
function e(r){return 1==(null!=(n=r)&&"object"==typeof n&&!1===Array.isArray(n))&&"[object Object]"===Object.prototype.toString.call(r);var n}r.exports=function(r){var n,t;return!1!==e(r)&&"function"==typeof(n=r.constructor)&&!1!==e(t=n.prototype)&&!1!==t.hasOwnProperty("isPrototypeOf")}},160:function(r,n,t){"use strict";t.d(n,"a",(function(){return c}));var e={};function o(r){if(!r.column)throw new Error("column is required for Elasticsearch range filters");const{from:n,to:t,column:e,filterGroup:o}=r;return{group:o,range:{[e]:{gte:n,lte:t}}}}function u(r){return{group:r.filterGroup,query_string:{query:r.query||"*"}}}function i(r){return{group:r.filterGroup,term:{[r.column]:{value:r.value}}}}function c(r){return n=r.map((r=>{try{return function(r){if(!e[r.type])throw new Error(`Unknown filter type: ${r.type}`);try{return e[r.type](r)}catch(n){throw new Error(`Could not create elasticsearch filter from ${r.type}`)}}(r)}catch(r){return}})),Array.isArray(n)?n.filter((r=>Boolean(r))):[];var n}t.r(e),t.d(e,"time",(function(){return o})),t.d(e,"luceneQueryString",(function(){return u})),t.d(e,"exactly",(function(){return i}))},175:function(r,n,t){r.exports=t(12)(22)},176:function(r,n,t){r.exports=t(12)(16)},177:function(r,n,t){r.exports=t(12)(17)},248:function(r,n,t){"use strict";function e(r,n,t,o){var u=Error.call(this,r);return Object.setPrototypeOf&&Object.setPrototypeOf(u,e.prototype),u.expected=n,u.found=t,u.location=o,u.name="SyntaxError",u}function o(r,n,t){return t=t||" ",r.length>n?r:(n-=r.length,r+(t+=t.repeat(n)).slice(0,n))}!function(r,n){function t(){this.constructor=r}t.prototype=n.prototype,r.prototype=new t}(e,Error),e.prototype.format=function(r){var n="Error: "+this.message;if(this.location){var t,e=null;for(t=0;t<r.length;t++)if(r[t].source===this.location.source){e=r[t].text.split(/\r\n|\n|\r/g);break}var u=this.location.start,i=this.location.source+":"+u.line+":"+u.column;if(e){var c=this.location.end,a=o("",u.line.toString().length),s=e[u.line-1],f=u.line===c.line?c.column:s.length+1;n+="\n --\x3e "+i+"\n"+a+" |\n"+u.line+" | "+s+"\n"+a+" | "+o("",u.column-1)+o("",f-u.column,"^")}else n+="\n at "+i}return n},e.buildMessage=function(r,n){var t={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var n=r.parts.map((function(r){return Array.isArray(r)?u(r[0])+"-"+u(r[1]):u(r)}));return"["+(r.inverted?"^":"")+n+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(r){return r.description}};function e(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}function u(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+e(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+e(r)}))}function i(r){return t[r.type](r)}return"Expected "+function(r){var n,t,e=r.map(i);if(e.sort(),e.length>0){for(n=1,t=1;n<e.length;n++)e[n-1]!==e[n]&&(e[t]=e[n],t++);e.length=t}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(n)+" found."},r.exports={SyntaxError:e,parse:function(r,n){var t,o={},u=(n=void 0!==n?n:{}).grammarSource,i={expression:rr,argument:er},c=rr,a="*/",s="\\",f=/^[a-zA-Z0-9_\-]/,l=/^[ \t\r\n]/,p=/^[^\n]/,h=/^["'(){}<>[\]$`|= \t\n\r]/,v=/^[^"'(){}<>[\]$`|= \t\n\r]/,d=/^[^"]/,g=/^[^']/,y=J("|",!1),m=W("function"),w=J("=",!1),b=J("$",!1),x=J("{",!1),A=J("}",!1),S=Q([["a","z"],["A","Z"],["0","9"],"_","-"],!1,!1),E=W("literal"),j=J('"',!1),C=J("'",!1),O=Q([" ","\t","\r","\n"],!1,!1),k=J("//",!1),_=Q(["\n"],!0,!1),P=J("/*",!1),F=J("*/",!1),H={type:"any"},R=J("\\",!1),$=Q(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!1,!1),L=Q(['"',"'","(",")","{","}","<",">","[","]","$","`","|","="," ","\t","\n","\r"],!0,!1),z=Q(['"'],!0,!1),N=Q(["'"],!0,!1),I=function(r,n){return n},M=function(r){return r.join("")},T=0,q=0,G=[{line:1,column:1}],U=0,V=[],Z=0;if("startRule"in n){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');c=i[n.startRule]}function B(){return r.substring(q,T)}function D(){return X(q,T)}function J(r,n){return{type:"literal",text:r,ignoreCase:n}}function Q(r,n,t){return{type:"class",parts:r,inverted:n,ignoreCase:t}}function W(r){return{type:"other",description:r}}function K(n){var t,e=G[n];if(e)return e;for(t=n-1;!G[t];)t--;for(e={line:(e=G[t]).line,column:e.column};t<n;)10===r.charCodeAt(t)?(e.line++,e.column=1):e.column++,t++;return G[n]=e,e}function X(r,n){var t=K(r),e=K(n);return{source:u,start:{offset:r,line:t.line,column:t.column},end:{offset:n,line:e.line,column:e.column}}}function Y(r){T<U||(T>U&&(U=T,V=[]),V.push(r))}function rr(){var n,t,e,u,i,c,a;for(n=T,ur(),(t=nr())===o&&(t=null),e=[],u=T,124===r.charCodeAt(T)?(i="|",T++):(i=o,0===Z&&Y(y)),i!==o?(ur(),(c=nr())!==o?(q=u,u=I(0,c)):(T=u,u=o)):(T=u,u=o);u!==o;)e.push(u),u=T,124===r.charCodeAt(T)?(i="|",T++):(i=o,0===Z&&Y(y)),i!==o?(ur(),(c=nr())!==o?(q=u,u=I(0,c)):(T=u,u=o)):(T=u,u=o);return q=n,lr({type:"expression",chain:(a=t)?[a].concat(e):[]},B(),D())}function nr(){var r,n,t;return Z++,r=T,(n=or())!==o?(t=function(){var r,n,t,e;for(r=T,n=[],t=T,ur()!==o&&(e=tr())!==o?(q=t,t=e):(T=t,t=o);t!==o;)n.push(t),t=T,ur()!==o&&(e=tr())!==o?(q=t,t=e):(T=t,t=o);return(t=ur())===o&&(t=null),q=r,n.reduce(((r,{name:n,value:t})=>({...r,[n]:(r[n]||[]).concat(t)})),{})}(),q=r,r=lr({type:"function",function:n,arguments:t},B(),D())):(T=r,r=o),Z--,r===o&&(n=o,0===Z&&Y(m)),r}function tr(){var n,t,e,u;return n=T,(t=or())!==o?(ur(),61===r.charCodeAt(T)?(e="=",T++):(e=o,0===Z&&Y(w)),e!==o?(ur(),(u=er())!==o?(q=n,n={name:t,value:u}):(T=n,n=o)):(T=n,n=o)):(T=n,n=o),n===o&&(n=T,(t=er())!==o&&(q=n,t={name:"_",value:t}),n=t),n}function er(){var n,t,e,u,i;return n=T,36===r.charCodeAt(T)?(t="$",T++):(t=o,0===Z&&Y(b)),t===o&&(t=null),123===r.charCodeAt(T)?(e="{",T++):(e=o,0===Z&&Y(x)),e!==o&&(u=rr())!==o?(125===r.charCodeAt(T)?(i="}",T++):(i=o,0===Z&&Y(A)),i!==o?(q=n,n=u):(T=n,n=o)):(T=n,n=o),n===o&&(n=T,t=function(){var n;return Z++,n=function(){var n,t,e,u;if(n=T,34===r.charCodeAt(T)?(t='"',T++):(t=o,0===Z&&Y(j)),t!==o){for(e=[],u=sr();u!==o;)e.push(u),u=sr();34===r.charCodeAt(T)?(u='"',T++):(u=o,0===Z&&Y(j)),u!==o?(q=n,n=M(e)):(T=n,n=o)}else T=n,n=o;if(n===o)if(n=T,39===r.charCodeAt(T)?(t="'",T++):(t=o,0===Z&&Y(C)),t!==o){for(e=[],u=fr();u!==o;)e.push(u),u=fr();39===r.charCodeAt(T)?(u="'",T++):(u=o,0===Z&&Y(C)),u!==o?(q=n,n=M(e)):(T=n,n=o)}else T=n,n=o;return n}(),n===o&&(n=function(){var r,n,t,e,u;if(r=T,n=T,Z++,t=cr(),Z--,t===o?n=void 0:(T=n,n=o),n!==o){if(t=[],(e=ar())!==o)for(;e!==o;)t.push(e),e=ar();else t=o;t!==o?(q=r,r="null"===(u=t.join(""))?null:"true"===u||"false"!==u&&(isNaN(Number(u))?u:Number(u))):(T=r,r=o)}else T=r,r=o;return r}()),Z--,n===o&&0===Z&&Y(E),n}(),t!==o&&(q=n,t=lr(t,B(),D())),n=t),n}function or(){var n,t,e;if(n=T,t=[],f.test(r.charAt(T))?(e=r.charAt(T),T++):(e=o,0===Z&&Y(S)),e!==o)for(;e!==o;)t.push(e),f.test(r.charAt(T))?(e=r.charAt(T),T++):(e=o,0===Z&&Y(S));else t=o;return t!==o&&(q=n,t=t.join("")),t}function ur(){var r,n;if(r=[],(n=ir())===o&&(n=cr()),n!==o)for(;n!==o;)r.push(n),(n=ir())===o&&(n=cr());else r=o;return r}function ir(){var n;return l.test(r.charAt(T))?(n=r.charAt(T),T++):(n=o,0===Z&&Y(O)),n}function cr(){var n;return(n=function(){var n,t,e,u;if(n=T,"//"===r.substr(T,2)?(t="//",T+=2):(t=o,0===Z&&Y(k)),t!==o){for(e=[],p.test(r.charAt(T))?(u=r.charAt(T),T++):(u=o,0===Z&&Y(_));u!==o;)e.push(u),p.test(r.charAt(T))?(u=r.charAt(T),T++):(u=o,0===Z&&Y(_));n=t=[t,e]}else T=n,n=o;return n}())===o&&(n=function(){var n,t,e,u,i,c;if(n=T,"/*"===r.substr(T,2)?(t="/*",T+=2):(t=o,0===Z&&Y(P)),t!==o){for(e=[],u=T,i=T,Z++,r.substr(T,2)===a?(c=a,T+=2):(c=o,0===Z&&Y(F)),Z--,c===o?i=void 0:(T=i,i=o),i!==o?(r.length>T?(c=r.charAt(T),T++):(c=o,0===Z&&Y(H)),c!==o?u=i=[i,c]:(T=u,u=o)):(T=u,u=o);u!==o;)e.push(u),u=T,i=T,Z++,r.substr(T,2)===a?(c=a,T+=2):(c=o,0===Z&&Y(F)),Z--,c===o?i=void 0:(T=i,i=o),i!==o?(r.length>T?(c=r.charAt(T),T++):(c=o,0===Z&&Y(H)),c!==o?u=i=[i,c]:(T=u,u=o)):(T=u,u=o);r.substr(T,2)===a?(u=a,T+=2):(u=o,0===Z&&Y(F)),u===o&&(u=null),n=t=[t,e,u]}else T=n,n=o;return n}()),n}function ar(){var n,t,e;return n=T,92===r.charCodeAt(T)?(t=s,T++):(t=o,0===Z&&Y(R)),t!==o?(h.test(r.charAt(T))?(e=r.charAt(T),T++):(e=o,0===Z&&Y($)),e===o&&(92===r.charCodeAt(T)?(e=s,T++):(e=o,0===Z&&Y(R))),e!==o?(q=n,n=e):(T=n,n=o)):(T=n,n=o),n===o&&(v.test(r.charAt(T))?(n=r.charAt(T),T++):(n=o,0===Z&&Y(L))),n}function sr(){var n,t,e;return n=T,92===r.charCodeAt(T)?(t=s,T++):(t=o,0===Z&&Y(R)),t!==o?(34===r.charCodeAt(T)?(e='"',T++):(e=o,0===Z&&Y(j)),e===o&&(92===r.charCodeAt(T)?(e=s,T++):(e=o,0===Z&&Y(R))),e!==o?(q=n,n=e):(T=n,n=o)):(T=n,n=o),n===o&&(d.test(r.charAt(T))?(n=r.charAt(T),T++):(n=o,0===Z&&Y(z))),n}function fr(){var n,t,e;return n=T,92===r.charCodeAt(T)?(t=s,T++):(t=o,0===Z&&Y(R)),t!==o?(39===r.charCodeAt(T)?(e="'",T++):(e=o,0===Z&&Y(C)),e===o&&(92===r.charCodeAt(T)?(e=s,T++):(e=o,0===Z&&Y(R))),e!==o?(q=n,n=e):(T=n,n=o)):(T=n,n=o),n===o&&(g.test(r.charAt(T))?(n=r.charAt(T),T++):(n=o,0===Z&&Y(N))),n}function lr(r,t,{start:{offset:e},end:{offset:o}}){return n.addMeta?{node:r,text:t,start:e,end:o}:r}if((t=c())!==o&&T===r.length)return t;throw t!==o&&T<r.length&&Y({type:"end"}),function(r,n,t){return new e(e.buildMessage(r,n),r,n,t)}(V,U<r.length?r.charAt(U):null,U<r.length?X(U,U+1):X(U,U))}}},249:function(r,n,t){r.exports=t(12)(10)},60:function(r,n,t){"use strict";t.r(n),t.d(n,"ExpressionsService",(function(){return u.ExpressionsService})),t.d(n,"ServicesContext",(function(){return s})),t.d(n,"useServices",(function(){return f})),t.d(n,"withServices",(function(){return l})),t.d(n,"LegacyServicesProvider",(function(){return p})),t.d(n,"CanvasServiceProvider",(function(){return legacy_CanvasServiceProvider})),t.d(n,"services",(function(){return h})),t.d(n,"startLegacyServices",(function(){return v})),t.d(n,"stopServices",(function(){return d})),t.d(n,"searchService",(function(){return g})),t.d(n,"pluginServices",(function(){return y})),t.d(n,"useCustomElementService",(function(){return m})),t.d(n,"useDataViewsService",(function(){return w})),t.d(n,"useEmbeddablesService",(function(){return b})),t.d(n,"useExpressionsService",(function(){return x})),t.d(n,"useFiltersService",(function(){return A})),t.d(n,"useLabsService",(function(){return S})),t.d(n,"useNavLinkService",(function(){return E})),t.d(n,"useNotifyService",(function(){return j})),t.d(n,"usePlatformService",(function(){return C})),t.d(n,"useReportingService",(function(){return O})),t.d(n,"useVisualizationsService",(function(){return k})),t.d(n,"useWorkpadService",(function(){return _}));var e=t(1),o=t.n(e),u=t(4),i=t(16),c=t(17);const a={search:{}},s=Object(i.createContext)(a),f=()=>Object(i.useContext)(s),l=r=>n=>Object(i.createElement)(r,{...n,services:f()}),p=({providers:r={},children:n})=>{const t={search:{...h,...r}.search.getService()};return Object(c.jsx)(s.Provider,{value:t},n)};class legacy_CanvasServiceProvider{constructor(r){o()(this,"factory",void 0),o()(this,"service",void 0),this.factory=r}setService(r){this.service=r}async start(r,n,t,e,o){this.service=await this.factory(r,n,t,e,o)}getService(){if(!this.service)throw new Error("Service not ready");return this.service}stop(){this.service=void 0}}const h={search:new legacy_CanvasServiceProvider(((r,n,t,e)=>({search:e.data.search})))},v=async(r,n,t,e,o)=>{const u=Object.values(h).map((u=>u.start(r,n,t,e,o)));await Promise.all(u)},d=()=>{Object.values(h).forEach((r=>r.stop()))},{search:g}=h,y=new(t(20).PluginServices),m=()=>y.getHooks().customElement.useService(),w=()=>y.getHooks().dataViews.useService(),b=()=>y.getHooks().embeddables.useService(),x=()=>y.getHooks().expressions.useService(),A=()=>y.getHooks().filters.useService(),S=()=>y.getHooks().labs.useService(),E=()=>y.getHooks().navLink.useService(),j=()=>y.getHooks().notify.useService(),C=()=>y.getHooks().platform.useService(),O=()=>y.getHooks().reporting.useService(),k=()=>y.getHooks().visualizations.useService(),_=()=>y.getHooks().workpad.useService()},63:function(r,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"h",(function(){return x})),t.d(n,"g",(function(){return s})),t.d(n,"e",(function(){return f})),t.d(n,"c",(function(){return A})),t.d(n,"a",(function(){return _})),t.d(n,"b",(function(){return P})),t.d(n,"f",(function(){return F}));var e=t(108),o=t.n(e);function u(r){return"object"===o()(null==r?void 0:r.node)}function i(r){return"object"===o()(r)&&"expression"===(null==r?void 0:r.type)}var c=t(248).parse;function a(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expression";try{return c(String(r),{startRule:n})}catch(r){throw new Error("Unable to parse expression: ".concat(r.message))}}function s(r){try{return a(r)}catch(r){return a("markdown\n\"## Crud.\nCanvas could not parse this element's expression. I am so sorry this error isn't more useful. I promise it will be soon.\n\nThanks for understanding,\n#### Management\n\"")}}function f(r){if(null==r)return"null";if("object"===o()(r)){if(!r.type)throw new Error("Objects must have a type property");return r.type}return o()(r)}var l=t(175),p=t.n(l),h=t(249),v=t.n(h),d=t(19);function g(r,n){var t="",e=0;return function(r,n){var t=[[c(r,{addMeta:!0}),n]],e=[];function o(r,n){Object(d.zip)(r.node.chain,n.chain).forEach((function(r){var n=v()(r,2),t=n[0],c=n[1];if(!t||!c||(null==t?void 0:t.node.function)!==(null==c?void 0:c.function))throw Error("Expression changes are not supported.");!function(r,n){if(Object(d.xor)(Object.keys(r.node.arguments),Object.keys(n.arguments)).length)throw Error("Function changes are not supported.");Object(d.forEach)(r.node.arguments,(function(r,t){!function(r,n){if(r.length!==n.length)throw Error("Arguments changes are not supported.");Object(d.zip)(r,n).forEach((function(r){var n=v()(r,2);return function(r,n){u(r)&&i(n)?o(r,n):r.node!==n&&e.push({type:"value",source:r,target:n})}(n[0],n[1])}))}(r,n.arguments[t])}))}(t,c)}))}for(;t.length;)o.apply(void 0,p()(t.shift()));return e}(r,n).sort((function(r,n){var t=r.source,e=n.source;return t.start-e.start})).forEach((function(n){var o;if("value"!==(null==(o=n)?void 0:o.type))throw new Error("Cannot apply patch for the change.");!function(n){if(u(n.source))throw new Error("Patching sub-expressions is not supported.");t+="".concat(r.substring(e,n.source.start)).concat(x(n.target,"argument")),e=n.source.end}(n)})),t+=r.substring(e)}function y(r,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=f(r);function o(r,n){return null==r||"_"===r?n:"".concat(r,"=").concat(n)}if("string"===e){var u=r.replace(/[\\"]/g,"\\$&");return o(n,'"'.concat(u,'"'))}if("boolean"===e||"null"===e||"number"===e)return o(n,"".concat(r));if("expression"===e)return o(n,"{".concat(b(r.chain,t+1),"}"));throw new Error("Invalid argument type in AST: ".concat(e))}function m(r){var n=r.arguments,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==n||"object"!==o()(n)||Array.isArray(n))throw new Error("Arguments can only be an object");var e=Object.keys(n),u=80;return e.map((function(r){return n[r].reduce((function(n,e){var o=y(e,r,t),i=n.split("\n").pop().length;return 0===t&&i+o.length>u?"".concat(n,"\n  ").concat(o):i>0?"".concat(n," ").concat(o):o}),"")}))}function w(r,n){var t;return"".concat(r," ").concat(null!==(t=null==n?void 0:n.join(" "))&&void 0!==t?t:"").trim()}function b(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!r)throw new Error("Expressions must contain a chain");var t=n>0?" | ":"\n| ";return r.map((function(r){if("function"===f(r)){var t=r.function;if(!t)throw new Error("Functions must have a function name");return w(t,m(r,n))}})).join(t)}function x(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expression",t="string"==typeof n?{type:n}:n,e=t.type,o=t.source;if(o&&i(r))return g(o,r);if("argument"===e)return y(r);var u=f(r);if("expression"===u){var c=r,a=c.chain;if(!Array.isArray(a))throw new Error("Expressions must contain a chain");return b(a)}if("function"===u){var s=r,l=s.function,p=m(r);return w(l,p)}throw new Error("Expression must be an expression or argument function")}function A(r){return function(n,t){if(!t||0===t.length)return n;var e=f(n);if(t.includes(e))return n;for(var o=r[e],u=0;u<t.length;u++){if(o&&o.castsTo(t[u]))return o.to(n,t[u],r);var i=r[t[u]];if(i&&i.castsFrom(e))return i.from(n,r)}throw new Error("Can not cast '".concat(e,"' to any of '").concat(t.join(", "),"'"))}}t(129);var S=t(176),E=t.n(S),j=t(177),C=t.n(j),O=t(1),k=t.n(O),_=function(){function r(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name";if(E()(this,r),k()(this,"_prop",void 0),k()(this,"_indexed",void 0),"string"!=typeof n)throw new Error("Registry property name must be a string");this._prop=n,this._indexed=new Object}return C()(r,[{key:"wrapper",value:function(r){return r}},{key:"register",value:function(r){var n="function"==typeof r?r():r;if("object"!==o()(n)||!n[this._prop])throw new Error("Registered functions must return an object with a ".concat(this._prop," property"));this._indexed[n[this._prop].toLowerCase()]=this.wrapper(n)}},{key:"toJS",value:function(){var r=this;return Object.keys(this._indexed).reduce((function(n,t){return n[t]=r.get(t),n}),{})}},{key:"toArray",value:function(){var r=this;return Object.keys(this._indexed).map((function(n){return r.get(n)}))}},{key:"get",value:function(r){if(void 0===r)return null;var n=r.toLowerCase();return this._indexed[n]?Object(d.clone)(this._indexed[n]):null}},{key:"getProp",value:function(){return this._prop}},{key:"reset",value:function(){this._indexed=new Object}}]),r}();function P(r,n){return Object.keys(n).forEach((function(t){if(r[t])throw new Error('There is already a registry named "'.concat(t,'".'));r[t]=n[t]})),r}function F(r,n){return Object.keys(n).forEach((function(t){if(!r[t])throw new Error('There is no registry named "'.concat(t,'".'));if(!r[t].register)throw new Error('Registry "'.concat(t,'" must have a register function.'));n[t].forEach((function(n){return r[t].register(n)}))})),r}},76:function(r,n,t){var e=t(140),o=Object.prototype.hasOwnProperty;function u(r){if(i(r))return!1;if(!r)return!0;if(a(r)&&0===r.length)return!0;if(!c(r)){for(var n in r)if(o.call(r,n))return!1;return!0}return!1}function i(r){return"number"==typeof r}function c(r){return"string"==typeof r}function a(r){return Array.isArray(r)}function s(r,n){for(var t in n)o.call(n,t)&&(r[t]=n[t]);return r}function f(r){var n=parseInt(r);return n.toString()===r?n:r}function l(r,n,t){return null==r?n?t?[]:{}:r:a(r)?r.slice():s({},r)}function p(r,n){if(r!==n&&e(r)&&e(n)){var t={};for(var o in r)r.hasOwnProperty(o)&&(n.hasOwnProperty(o)?t[o]=p(r[o],n[o]):t[o]=r[o]);for(o in n)n.hasOwnProperty(o)&&(t[o]=p(r[o],n[o]));return t}return n}function h(r,n,t,e){if(i(t)&&(t=[t]),u(t))return n;if(c(t))return h(r,n,t.split(".").map(f),e);var o=t[0];return r&&r!==n||(r=l(n,!0,i(o))),1===t.length?e(r,o):(null!=n&&(n=n[o]),r[o]=h(r[o],n,t.slice(1),e),r)}var v={set:function(r,n,t,e){return u(t)?e:h(r,n,t,(function(r,n){return r[n]=e,r}))},update:function(r,n,t,e){return u(t)?e(l(n)):h(r,n,t,(function(r,n){return r[n]=e(r[n]),r}))},push:function(r,n,t){var e=Array.prototype.slice.call(arguments,3);return u(t)?a(n)?n.concat(e):e:h(r,n,t,(function(r,n){return a(r[n])?r[n]=r[n].concat(e):r[n]=e,r}))},insert:function(r,n,t,e,o){if(o=~~o,u(t)){if(!a(n))return[e];var i=n.slice(0,o);return i.push(e),i.concat(n.slice(o))}return h(r,n,t,(function(r,n){var u=r[n];if(!a(u)){if(null!=u&&void 0!==u)throw new Error("Expected "+t+"to be an array. Instead got "+typeof t);u=[]}var i=u.slice(0,o);return i.push(e),r[n]=i.concat(u.slice(o)),r}))},del:function(r,n,t){if(!u(t))return h(r,n,t,(function(r,n){return Array.isArray(r)?void 0!==r[n]&&r.splice(n,1):r.hasOwnProperty(n)&&delete r[n],r}))},assign:function(r,n,t,e){return u(t)?u(e)?n:s(l(n),e):h(r,n,t,(function(r,n){e=Object(e);var t=l(r[n],!0);return s(t,e),r[n]=t,r}))},merge:function(r,n,t,e){return u(t)?u(e)?n:p(n,e):h(r,n,t,(function(r,n){return e=Object(e),r[n]=p(r[n],e),r}))}};r.exports=Object.keys(v).reduce((function(r,n){return r[n]=v[n].bind(null,null),r}),(function(r){var n=r,t=!1,e=Object.keys(v).reduce((function(o,u){return"function"==typeof v[u]&&(o[u]=function(){var o=[n,r].concat(Array.prototype.slice.call(arguments));if(t)throw new Error("Cannot call "+u+" after `value`");return n=v[u].apply(null,o),e}),o}),{});return e.value=function(){return t=!0,n},e}))}}]);