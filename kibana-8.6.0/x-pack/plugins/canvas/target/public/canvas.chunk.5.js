/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.canvas_bundle_jsonpfunction=window.canvas_bundle_jsonpfunction||[]).push([[5],{100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}},101:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=e=>e.startsWith("group")},102:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(19);function o(e){return Object(r.get)(e,"assets",{})}function c(e,t){return e.assets[t]}},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return p}));var r=n(63),o=n(19);const c="filters",i=["removeFilter"],u=[c,"selectFilter",...i],a=e=>e?`${e}`:"-",s=(e,t)=>{return Object(o.flowRight)((n=t,e=>Object.keys(e).reduce(((t,r)=>{var o;return{...t,[r]:{label:e[r].label,formattedValue:(null!==(o=e[r].formatter)&&void 0!==o?o:a)(n[r]),component:e[r].component}}}),{})),(e=>t=>Object.keys(t).reduce(((n,r)=>{const o=t[r];if("function"==typeof o){const t=o(e[r]);return{...n,...t}}return{...n,[r]:o}}),{}))(t))(e);var n},d=(e,t)=>{const n=Object(o.groupBy)(e,(e=>e[t]));return Object.keys(n).map((e=>{var r,o;return{name:null!==(r=n[e])&&void 0!==r&&null!==(o=r[0])&&void 0!==o&&o[t]?e:null,filters:n[e]}}))},f=(e,t)=>{const n=e.map((e=>Object(r.d)(e))),u=t.reduce(((e,t)=>{if(i.includes(t.function))return((e,t)=>{var n,r,c;const i=null!==(n=t.arguments.group)&&void 0!==n?n:[],u=null!==(r=null===(c=t.arguments.ungrouped)||void 0===c?void 0:c[0])&&void 0!==r&&r;return e.filter((e=>{const t=Object(o.get)(e,"chain[0].arguments.filterGroup",[]).filter((e=>""!==e)),n=!(t.length&&i.length&&i.includes(t[0])),r=u&&t.length||!u;return!(!i.length&&!u)&&r&&n}))})(e,t);const r=t.function===c;return((e,t,n=!1)=>{var r,c,i;const u=null!==(r=t.arguments.group)&&void 0!==r?r:[],a=null!==(c=null===(i=t.arguments.ungrouped)||void 0===i?void 0:i[0])&&void 0!==c&&c;return e.filter((e=>{const t=Object(o.get)(e,"chain[0].arguments.filterGroup",[]).filter((e=>""!==e)),r=t.length&&u.length&&u.includes(t[0]),c=a&&!t.length&&(!n||!u.length),i=!u.length&&!a;return c||r||i}))})(r?n:e,t,r)}),n);return u.map((e=>Object(r.h)(e)))},l=e=>Object(r.d)(e).chain.filter((e=>u.includes(e.function))),p=e=>Object(r.d)(e).chain.some((e=>u.includes(e.function)))},104:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(3);const o=()=>r.i18n.translate("xpack.canvas.workpadApp.untitledWorkpadLabel",{defaultMessage:"Untitled workpad"}),c=e=>{document.title=`${e||o()} - Kibana`}},105:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(66);const o=Object(r.createAction)("setAssetContent",((e,t)=>({id:e,value:t}))),c=Object(r.createAction)("setAsset",(e=>({asset:e}))),i=Object(r.createAction)("removeAsset"),u=Object(r.createAction)("setAssets"),a=Object(r.createAction)("resetAssets")},115:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=n(19);function o(e,t){return Object(r.toPath)(t).concat(Object(r.toPath)(e))}function c(e,t){return Object(r.toPath)(e).concat(Object(r.toPath)(t))}function i(e){return Object(r.toPath)(e)}},116:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"function"==typeof e}},117:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"undefined"!=typeof Map&&e instanceof Map}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(19),o=n(72),c=n(115);function i(e){return Object(r.get)(e,["transient","resolvedArgs"])}function u(e,t){return o.c(function(e,t){return Object(r.get)(e,Object(c.c)(t,["transient","resolvedArgs"]))}(e,t))}function a(e){return Object(r.get)(e,["transient","inFlight"],!1)}},141:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=c.default),(0,r.default)((0,o.default)(t)||(0,i.default)(t),"Expected payloadCreator to be a function, undefined or null");var u=(0,i.default)(t)||t===c.default?c.default:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},a=(0,o.default)(n),s=e.toString(),d=function(){var t=u.apply(void 0,arguments),r={type:e};return t instanceof Error&&(r.error=!0),void 0!==t&&(r.payload=t),a&&(r.meta=n.apply(void 0,arguments)),r};return d.toString=function(){return s},d};var r=u(n(86)),o=u(n(116)),c=u(n(142)),i=u(n(306));function u(e){return e&&e.__esModule?e:{default:e}}},142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e}},143:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){if((0,o.default)(e))return Array.from(e.keys());if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t};var r,o=(r=n(117))&&r.__esModule?r:{default:r}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=n(323).createThunk},145:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(129));function c(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var i="function"==typeof Symbol&&Symbol.observable||"@@observable",u=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+u(),REPLACE:"@@redux/REPLACE"+u(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+u()}};function s(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(c(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(c(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(c(2));var o=e,u=t,f=[],l=f,p=!1;function b(){l===f&&(l=f.slice())}function g(){if(p)throw new Error(c(3));return u}function v(e){if("function"!=typeof e)throw new Error(c(4));if(p)throw new Error(c(5));var t=!0;return b(),l.push(e),function(){if(t){if(p)throw new Error(c(6));t=!1,b();var n=l.indexOf(e);l.splice(n,1),f=null}}}function O(e){if(!s(e))throw new Error(c(7));if(void 0===e.type)throw new Error(c(8));if(p)throw new Error(c(9));try{p=!0,u=o(u,e)}finally{p=!1}for(var t=f=l,n=0;n<t.length;n++)(0,t[n])();return e}function j(e){if("function"!=typeof e)throw new Error(c(10));o=e,O({type:a.REPLACE})}function h(){var e,t=v;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(c(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[i]=function(){return this},e}return O({type:a.INIT}),(r={dispatch:O,subscribe:v,getState:g,replaceReducer:j})[i]=h,r}var f=d;function l(e,t){return function(){return t(e.apply(this,arguments))}}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}t.__DO_NOT_USE__ActionTypes=a,t.applyMiddleware=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(c(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},u=t.map((function(e){return e(i)}));return r=p.apply(void 0,u)(n.dispatch),o.default(o.default({},n),{},{dispatch:r})}}},t.bindActionCreators=function(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error(c(16));var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=l(o,t))}return n},t.combineReducers=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];"function"==typeof e[o]&&(n[o]=e[o])}var i,u=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error(c(12));if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error(c(13))}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},a=0;a<u.length;a++){var s=u[a],d=n[s],f=e[s],l=d(f,t);if(void 0===l)throw t&&t.type,new Error(c(14));o[s]=l,r=r||l!==f}return(r=r||u.length!==Object.keys(e).length)?o:e}},t.compose=p,t.createStore=d,t.legacy_createStore=f},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(66);Object(r.createAction)("undoHistory"),Object(r.createAction)("redoHistory");const o=Object(r.createAction)("restoreHistory")},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(83),o=n(77);const c=e=>{const t=Object(r.a)(e.map((e=>e.id)));return Object.keys(t).forEach((e=>t[e]=Object(o.a)(e.split("-")[0]))),e.map((e=>({...e,id:t[e.id],position:{...e.position,parent:e.position.parent?t[e.position.parent]:null}})))}},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return a}));var r=n(66),o=n(144),c=n(65);const i="updateEmbeddableExpression",u=Object(r.createAction)(i),a=Object(o.a)("fetchEmbeddableRenderable",(({dispatch:e,getState:t},n)=>{const r=t().persistent.workpad.pages.find((e=>void 0!==e.elements.find((e=>e.id===n))));if(r){const t=r.elements.find((e=>e.id===n));e(Object(c.g)(t))}}))},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(66);const o="setKeyboardShortcutsDocVisibility",c=Object(r.createAction)(o)},158:function(e,t,n){"use strict";n.d(t,"e",(function(){return Ee})),n.d(t,"a",(function(){return Ie})),n.d(t,"b",(function(){return Se})),n.d(t,"c",(function(){return Me})),n.d(t,"d",(function(){return Pe}));var r=n(145),o=n(19),c=n(328),i=n.n(c),u=n(6),a=n(8),s=n(115),d=n(92);const f=e=>Object(s.b)(e).join("/"),l=(({loadingIndicator:e,pendingCache:t})=>({dispatch:n})=>r=>o=>{if(o.type===d.h){const e=f(o.payload.path);t.push(e),n(Object(d.c)())}else if(o.type===d.j){const e=f(o.payload.path),r=t.indexOf(e);r>=0&&t.splice(r,1),0===t.length&&n(Object(d.e)())}else o.type===d.d?e.show():o.type===d.f&&e.hide();r(o)})({loadingIndicator:a.b,pendingCache:[]});var p=n(87),b=n(65),g=n(75),v=n(62),O=n(104),j=n(78);const h=[Object(r.applyMiddleware)(i.a,(({dispatch:e,getState:t})=>n=>r=>{n(r);const o=t(),c=Object(v.e)(o),i=Object(v.a)(o).length,u=Object(v.d)(o),{ready:a,error:s}=u,d=i-a-s;!(i>0||c.total>0)||a===c.ready&&d===c.pending&&s===c.error&&i===c.total||e(Object(j.b)({total:i,ready:a,pending:d,error:s}))}),(({dispatch:e,getState:t})=>n=>r=>{const o=Object(v.a)(t()).map((e=>e.id));n(r);const c=Object(v.a)(t()).map((e=>e.id)),i=o.filter((e=>!c.includes(e)));i.length>0&&e(Object(d.b)(i))}),l,(({dispatch:e,getState:t})=>n=>r=>{const o=Object(v.C)(t()),c=Object(v.z)(t());if(n(r),Object(v.z)(t())!==c&&Object(O.b)(Object(v.z)(t())),r.type===p.b.toString()&&e(Object(b.e)()),r.type===g.m.toString()&&o!==Object(v.C)(t())){const e=Object(u.a)();"function"==typeof e.getSelection&&e.getSelection().collapse(document.querySelector("body"),0)}}))],y=(Object(u.a)().__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose)(...h);var m=n(329),A=n.n(m),_=n(66),w=n(213);const x=Object(_.handleActions)({[w.b]:e=>({...e,ready:!0}),[w.a]:(e,{payload:t})=>({...e,ready:t})},{});var E=n(76),I=n.n(E),S=n(146);const{set:M,del:P}=I.a,T=Object(_.handleActions)({[S.a]:e=>M(e,"resolvedArgs",{}),[b.k]:(e,{payload:{elementIds:t}})=>{const{selectedToplevelNodes:n}=e;return P({...e,selectedToplevelNodes:n.filter((e=>t.indexOf(e)<0))},["resolvedArgs",t])},[j.c]:(e,{payload:t})=>M(e,"isFirstLoad",Boolean(t)),[j.d]:(e,{payload:t})=>M(e,"fullscreen",Boolean(t)),[j.b]:(e,{payload:t})=>M(e,"elementStats",t),[j.a]:(e,{payload:t})=>({...e,selectedToplevelNodes:t}),[j.e]:(e,{payload:t})=>({...e,zoomScale:t||1}),[p.e]:e=>({...e,selectedToplevelNodes:[]}),[p.a]:e=>({...e,selectedToplevelNodes:[]}),[p.b]:e=>({...e,selectedToplevelNodes:[]}),[g.i]:(e,{payload:t})=>({...e,refresh:{interval:Number(t)||0}}),[g.b]:(e,{payload:t})=>M(e,"autoplay.enabled",Boolean(t)||!1),[g.f]:(e,{payload:t})=>M(e,"autoplay.interval",Number(t)||0)},{}),{set:C,del:R}=I.a;function k(e,t){return e?"error":Boolean(t)?"pending":"ready"}function N(e,t,n){return e||null==t?n&&n.value:t}function $(e,t=!1,n=null){const r=e instanceof Error;return{state:k(r,t),value:N(r,e,n),error:r?e:null}}function F(e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error(`Resolved argument path is invalid: ${e}`);return Object(s.c)(e,"resolvedArgs")}const L=Object(_.handleActions)({[d.g]:(e,{payload:t})=>{const{path:n,loading:r=!0}=t,c=F(n),i=Object(o.get)(e,c,null);return C(e,c,$(Object(o.get)(i,"value",null),r))},[d.i]:(e,{payload:t})=>{const{path:n,value:r}=t,c=F(n),i=Object(o.get)(e,c,null);return C(e,c,$(r,!1,i))},[d.k]:(e,{payload:t})=>t.reduce(((e,t)=>{const n=F(t.path),r=Object(o.get)(e,n,null);return C(e,n,$(t.value,!1,r))}),e),[d.a]:(e,{payload:t})=>{const{path:n}=t;return R(e,F(n))},[d.b]:(e,{payload:t})=>t.reduce(((e,t)=>R(e,F(t))),e),[d.c]:e=>C(e,"inFlight",!0),[d.e]:e=>C(e,"inFlight",!1),[b.h]:(e,{payload:t})=>R(e,F([t,"expressionContext"])),[b.i]:(e,{payload:t})=>{const{elementId:n,index:r}=t,c=Object(o.get)(e,F([n,"expressionContext"]));return c?Object.keys(c).reduce(((e,t)=>parseInt(t,10)>=r?R(e,F([n,"expressionContext",t])):e),e):e},[g.j]:(e,{})=>C(e,"resolvedArgs",{})},{});var D=n(60),W=n(93),B=n(0);const V=Object(_.handleActions)({[g.j]:(e,{payload:t})=>(D.pluginServices.getServices().platform.setRecentlyAccessed(`${B.i}/${t.id}`,t.name,t.id),t),[g.n]:(e,{payload:t})=>({...e,...t}),[g.g]:(e,{payload:t})=>({...e,colors:t}),[g.h]:(e,{payload:t})=>(D.pluginServices.getServices().platform.setRecentlyAccessed(`${B.i}/${e.id}`,t,e.id),{...e,name:t}),[g.m]:(e,{payload:t})=>({...e,isWriteable:Boolean(t)}),[g.k]:(e,{payload:t})=>({...e,css:t}),[g.l]:(e,{payload:t})=>({...e,variables:t}),[g.e]:()=>({...Object(W.e)()})},{});var U=n(147),z=n(77),K=n(101);const{set:Y,del:G,insert:Z}=I.a,q=(e,t)=>t<0||!e.pages[t]||Object(v.s)(e)===t?e:Y(e,"page",t);function H(e,t){return e.pages.findIndex((e=>e.id===t))}function X(e,t,n=e.pages.length-1){return Z(e,"pages",t||Object(W.c)(),n+1)}const J=Object(_.handleActions)({[p.a]:(e,{payload:{gotoPage:t}})=>{const{page:n}=e,r=X(e,void 0,n),o=q(r,n+1);return t(o.page+1),o},[p.b]:(e,{payload:{gotoPage:t,id:n}})=>{const r=e.pages.find((e=>e.id===n));if(!r)return e;const o=e.pages.indexOf(r),c=o+1,i=X(e,function(e){const t=e.elements,n=e.groups||[],r=t.concat(n),o=Object(U.a)(r);return{...e,id:Object(z.a)("page"),groups:o.filter((e=>Object(K.a)(e.id))),elements:o.filter((e=>!Object(K.a)(e.id)))}}(r),o),u=q(i,c);return t(c+1),u},[p.e]:(e,{payload:t})=>q(e,t),[p.c]:(e,{payload:{gotoPage:t,...n}})=>{const{id:r,position:o}=n,c=H(e,r),i=c+o;if(c<0)return e;if(i<0||i>=e.pages.length)return e;const u={...e.pages[c]};let a=Z(G(e,`pages.${c}`),"pages",u,i);const s=e.pages[e.page].id,d=a.pages.findIndex((e=>e.id===s));return a=Y(a,"page",d),t(a.page+1),a},[p.d]:(e,{payload:{id:t,gotoPage:n}})=>{const r=e.page,o=H(e,t);if(o>=0){let t=G(e,`pages.${o}`);const c=r===o,i=0===t.pages.length;return i&&(t=X(t)),i||0===r?(t=Y(t,"page",0),n(1)):(c||o<r)&&(t=Y(t,"page",r-1),n(r)),t}},[p.g]:(e,{payload:t})=>{const n=e.pages.findIndex((e=>e.id===t.pageId));return Y(e,`pages.${n}.style`,t.style)},[p.f]:(e,{payload:t})=>{const n=e.pages.findIndex((e=>e.id===t.pageId));return Y(e,`pages.${n}.transition`,t.transition)}},{}),{assign:Q,push:ee,del:te,set:ne}=I.a,re=e=>"group"===e?"groups":"elements",oe=(e,t,n)=>n.indexOf(e)===t,ce=(e,t,n)=>{const r=e.pages.find((e=>e.id===t));return(null==r?[]:r.groups||[]).find((e=>e.id===n))?"groups":"elements"};function ie(e,t){return Object(o.get)(e,"pages",[]).findIndex((e=>e.id===t))}function ue(e,t,n){return e[n].findIndex((e=>e.id===t))}function ae(e,t,n,r){const c=ie(e,t),i=`pages.${c}.${ce(e,t,n)}`,u=Object(o.get)(e,i,[]).findIndex((e=>e.id===n));return-1===c||-1===u?e:Q(e,`${i}.${u}`,r)}const se=({left:e,top:t,width:n,height:r,angle:o,parent:c})=>({left:e,top:t,width:n,height:r,angle:o,parent:c}),de=({id:e,position:t,expression:n,filter:r})=>({id:e,position:se(t),..."group"!==t.type&&{expression:n},...void 0!==r&&{filter:r}}),fe=Object(_.handleActions)({[b.n]:(e,{payload:t})=>{const{expression:n,pageId:r,elementId:o}=t;return ae(e,r,o,{expression:n})},[b.o]:(e,{payload:t})=>{const{filter:n,elementId:r}=t,o=((e,t)=>{const n=e.pages.find((e=>e.elements.map((e=>e.id)).includes(t)));if(n)return n.id})(e,r);return ae(e,o,r,{filter:n})},[b.p]:(e,{payload:t})=>t.repositionedElements.reduce(((e,{position:t,pageId:n,elementId:r})=>ae(e,n,r,{position:se(t)})),e),[b.d]:(e,{payload:{pageId:t,elementId:n,movement:r}})=>function(e,t,n,r,c){const i=ie(e,t),u=ue(e.pages[i],n,c),a=Object(o.get)(e,["pages",i,c]),s=u,d=function(){if(r<1/0&&r>-1/0)return u+r;if(r===1/0)return a.length-1;if(r===-1/0)return 0;throw new Error("Invalid element layer movement")}();if(d>a.length-1||d<0)return e;const f=a.slice(0);return f.splice(d,0,f.splice(s,1)[0]),ne(e,`pages.${i}.${c}`,f)}(e,t,n,r,ce(e,t,n)),[b.b]:(e,{payload:{pageId:t,element:n}})=>{const r=ie(e,t);return r<0||e.pages[r][re(n.position.type)].find((e=>e.id===n.id))?e:ee(e,`pages.${r}.${re(n.position.type)}`,de(n))},[b.j]:(e,{payload:{pageId:t,elements:n}})=>{const r=ie(e,t);return r<0?e:n.reduce(((e,t)=>ee(e,`pages.${r}.${re(t.position.type)}`,de(t))),e)},[b.k]:(e,{payload:{pageId:t,elementIds:n}})=>{const r=ie(e,t);return r<0?e:n.filter(oe).map((n=>{const o=ce(e,t,n);return{location:o,index:ue(e.pages[r],n,o)}})).sort(((e,t)=>t.index-e.index)).reduce(((e,{location:t,index:n})=>te(e,`pages.${r}.${t}.${n}`)),e)}},{});var le=n(105);const{set:pe,assign:be,del:ge}=I.a,ve=Object(_.handleActions)({[le.d]:(e,{payload:t})=>{const{id:n,value:r}=t;if(!Object(o.get)(e,[n]))throw new Error(`Can not set asset data, id not found: ${n}`);return be(e,n,{value:r})},[le.c]:(e,{payload:t})=>{const{asset:n}=t;return pe(e,n.id,n)},[le.a]:(e,{payload:t})=>ge(e,t),[Object(_.combineActions)(le.e,le.b)]:(e,{payload:t})=>t||{}},{}),Oe=Object(_.handleActions)({[S.a]:(e,{payload:t})=>t},{});var je=n(63),he=n(148);const ye=Object(_.handleActions)({[he.a]:(e,{payload:t})=>{if(!t)return e;const{elementId:n,embeddableExpression:r}=t,o=e.pages.find((e=>void 0!==e.elements.find((e=>e.id===n))));if(!o)return e;const c=o.elements.find((e=>e.id===n));if(!c||c.expression===r)return e;const i=Object(je.d)(c.expression),u=Object(je.d)(r),a=u.chain[0].function,s=i.chain.find((e=>e.function===a));if(!s)return e;s.arguments=u.chain[0].arguments;const d=Object(je.h)(i);return ae(e,o.id,n,{expression:d})}},{});var me=n(214);const Ae=Object(_.handleActions)({[me.a]:(e,{payload:t})=>({...e,sidebar:{...e.sidebar,groupFiltersByOption:t}})},{});var _e=n(149);const we=Object(_.handleActions)({[_e.a]:(e,{payload:t})=>({...e,flyouts:{...e.flyouts,keyboardShortcutsDoc:{...e.flyouts.keyboardShortcutsDoc,isVisible:t}}})},{});let xe;function Ee(){return xe}function Ie(){const e=xe.getState();return xe=void 0,Se(e)}function Se(e){if(void 0!==xe)throw new Error("Redux store can only be initialized once");if(!Object(o.isPlainObject)(e))throw new Error("Initial state must be a plain object");const t=function(e){return Object(r.combineReducers)({assets:ve,app:x,transient:A()(T,L,Ae,we),persistent:A()(Oe,Object(r.combineReducers)({workpad:A()(V,J,fe,ye),schemaVersion:(t=Object(o.get)(e,"persistent.schemaVersion"))=>t}))})}(e);return xe=Object(r.createStore)(t,e,y),xe}function Me(){xe&&xe.replaceReducer((e=>e)),xe=void 0}function Pe(){return xe.getState()}},205:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return 0===e.length}},206:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e.toString()}},207:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"string"==typeof e}},208:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null==e}},209:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,o=(r=n(310))&&r.__esModule?r:{default:r};t.default=function(e){return-1===e.indexOf("/")?(0,o.default)(e):e.split("/").map(o.default).join("/")}},210:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(99),o=i(n(143)),c=i(n(211));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function t(n,i,u,a){var s=void 0===i?{}:i,d=s.namespace,f=void 0===d?r.DEFAULT_NAMESPACE:d,l=s.prefix;return void 0===u&&(u={}),void 0===a&&(a=""),(0,o.default)(n).forEach((function(o){var i=function(e){return a||!l||l&&new RegExp("^"+l+f).test(e)?e:""+l+f+e}(function(e){var t;if(!a)return e;var n=e.toString().split(r.ACTION_TYPE_DELIMITER),o=a.split(r.ACTION_TYPE_DELIMITER);return(t=[]).concat.apply(t,o.map((function(e){return n.map((function(t){return""+e+f+t}))}))).join(r.ACTION_TYPE_DELIMITER)}(o)),s=(0,c.default)(o,n);e(s)?t(s,{namespace:f,prefix:l},u,i):u[i]=s})),u}}},211:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return(0,o.default)(t)?t.get(e):t[e]};var r,o=(r=n(117))&&r.__esModule?r:{default:r}},212:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===t&&(t=i.default);var f=(0,s.default)(e).split(d.ACTION_TYPE_DELIMITER);(0,r.default)(!(0,a.default)(n),"defaultState for reducer handling "+f.join(", ")+" should be defined"),(0,r.default)((0,o.default)(t)||(0,c.default)(t),"Expected reducer to be a function or object with next and throw reducers");var l=(0,o.default)(t)?[t,t]:[t.next,t.throw].map((function(e){return(0,u.default)(e)?i.default:e})),p=l[0],b=l[1];return function(e,t){void 0===e&&(e=n);var r=t.type;return r&&-1!==f.indexOf((0,s.default)(r))?(!0===t.error?b:p)(e,t):e}};var r=f(n(86)),o=f(n(116)),c=f(n(100)),i=f(n(142)),u=f(n(208)),a=f(n(318)),s=f(n(206)),d=n(99);function f(e){return e&&e.__esModule?e:{default:e}}},213:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i}));var r=n(66);const o=Object(r.createAction)("appReady"),c=Object(r.createAction)("appError"),i=Object(r.createAction)("appUnload")},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c}));var r=n(66);const o="setGroupFiltersByOption",c=Object(r.createAction)(o)},304:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];(0,r.default)(l(t),"Expected action types to be strings, symbols, or action creators");var o=t.map(u.default).join(s.ACTION_TYPE_DELIMITER);return{toString:function(){return o}}};var r=d(n(86)),o=d(n(116)),c=d(n(305)),i=d(n(205)),u=d(n(206)),a=d(n(207)),s=n(99);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){return(0,a.default)(e)||(0,o.default)(e)||(0,c.default)(e)}function l(e){return!(0,i.default)(e)&&e.every(f)}},305:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return"symbol"==typeof e||"object"==typeof e&&"[object Symbol]"===Object.prototype.toString.call(e)}},306:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return null===e}},307:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];var i=(0,o.default)((0,d.default)(n))?n.pop():{};return(0,r.default)(n.every(a.default)&&((0,a.default)(e)||(0,o.default)(e)),"Expected optional object followed by string action types"),(0,a.default)(e)?A([e].concat(n),i):j({},y(e,i),A(n,i))};var r=O(n(86)),o=O(n(100)),c=O(n(116)),i=O(n(142)),u=O(n(308)),a=O(n(207)),s=O(n(208)),d=O(n(309)),f=O(n(209)),l=O(n(313)),p=O(n(314)),b=O(n(315)),g=O(n(141)),v=n(99);function O(e){return e&&e.__esModule?e:{default:e}}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){var n=m((0,p.default)(e,t));return(0,b.default)(n,t)}function m(e,t){var n=void 0===t?{}:t,o=n.prefix,a=n.namespace,d=void 0===a?v.DEFAULT_NAMESPACE:a;return(0,l.default)(Object.keys(e),(function(t,n){var a,f=e[n];(0,r.default)(function(e){if((0,c.default)(e)||(0,s.default)(e))return!0;if((0,u.default)(e)){var t=e[0],n=void 0===t?i.default:t,r=e[1];return(0,c.default)(n)&&(0,c.default)(r)}return!1}(f),"Expected function, undefined, null, or array with payload and meta functions for "+n);var l=o?""+o+d+n:n,p=(0,u.default)(f)?g.default.apply(void 0,[l].concat(f)):(0,g.default)(l,f);return j({},t,((a={})[n]=p,a))}))}function A(e,t){var n=m((0,l.default)(e,(function(e,t){var n;return j({},e,((n={})[t]=i.default,n))})),t);return(0,l.default)(Object.keys(n),(function(e,t){var r;return j({},e,((r={})[(0,f.default)(t)]=n[t],r))}))}},308:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return Array.isArray(e)}},309:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return e[e.length-1]}},310:function(e,t,n){var r=n(311);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},311:function(e,t,n){var r=n(312);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},312:function(e,t){e.exports=function(e){return n.test(e)?e.toLowerCase():r.test(e)?(function(e){return e.replace(c,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():o.test(e)?function(e){return e.replace(i,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var n=/\s/,r=/(_|-|\.|:)/,o=/([a-z][A-Z]|[A-Z][a-z])/,c=/[\W_]+(.|$)/g,i=/(.)([A-Z]+)/g},313:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e,t){return e.reduce((function(e,n){return t(e,n)}),{})}},314:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(100));function o(e){return e&&e.__esModule?e:{default:e}}var c=(0,o(n(210)).default)(r.default);t.default=c},315:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=void 0===t?{}:t,i=n.namespace,u=void 0===i?r.DEFAULT_NAMESPACE:i,a=n.prefix;function s(t,n,r){var i=(0,c.default)(r.shift());(0,o.default)(r)?n[i]=e[t]:(n[i]||(n[i]={}),s(t,n[i],r))}var d={};return Object.getOwnPropertyNames(e).forEach((function(e){var t=a?e.replace(""+a+u,""):e;return s(e,d,t.split(u))})),d};var r=n(99),o=i(n(205)),c=i(n(209));function i(e){return e&&e.__esModule?e:{default:e}}},316:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(317)),o=c(n(141));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){return(0,r.default)((0,o.default)(e,t),t.length)}},317:function(e,t){e.exports=function(e,t){return function n(){null==t&&(t=e.length);var r=[].slice.call(arguments);return r.length>=t?e.apply(this,r):function(){return n.apply(this,r.concat([].slice.call(arguments)))}}}},318:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0,t.default=function(e){return void 0===e}},319:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n={}),(0,o.default)((0,c.default)(e)||(0,i.default)(e),"Expected handlers to be a plain object.");var f=(0,a.default)(e,n),l=(0,u.default)(f).map((function(e){return(0,s.default)(e,(0,d.default)(e,f),t)})),p=r.default.apply(void 0,l.concat([t]));return function(e,n){return void 0===e&&(e=t),p(e,n)}};var r=f(n(320)),o=f(n(86)),c=f(n(100)),i=f(n(117)),u=f(n(143)),a=f(n(321)),s=f(n(212)),d=f(n(211));function f(e){return e&&e.__esModule?e:{default:e}}},320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[t.length-1]&&t.pop(),o=t;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,c=Array(n>2?n-2:0),i=2;i<n;i++)c[i-2]=arguments[i];var u=void 0===e,a=void 0===t;return u&&a&&r?r:o.reduce((function(e,n){return n.apply(void 0,[e,t].concat(c))}),u&&!a&&r?r:e)}},e.exports=t.default},321:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(100)),o=i(n(117)),c=i(n(322));function i(e){return e&&e.__esModule?e:{default:e}}var u=(0,i(n(210)).default)((function(e){return((0,r.default)(e)||(0,o.default)(e))&&!(0,c.default)(e)}));t.default=u},322:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,o.default)(e),n=t.every((function(e){return"next"===e||"throw"===e}));return t.length&&t.length<=2&&n};var r,o=(r=n(143))&&r.__esModule?r:{default:r}},323:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(324);Object.defineProperty(t,"createThunk",{enumerable:!0,get:function(){return r.createThunk}})},324:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createThunk=function(e,t){var n=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(n,o){return t.apply(void 0,[{dispatch:n,getState:o,type:e}].concat(r))}};return n.toString=function(){return e.toString()},n}},325:function(e,t,n){var r=n(326),o=n(327);e.exports=function(e,t,n){var c=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var u=0;u<16;++u)t[c+u]=i[u];return t||o(i)}},326:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var o=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}},327:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,o=n;return[o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],"-",o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]],o[e[r++]]].join("")}},328:function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r();o.withExtraArgument=r;var c=o;t.default=c},329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"!=typeof t[0]&&t.shift(),o=t;if(void 0===r)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(e,t){for(var n=arguments.length,c=Array(n>2?n-2:0),i=2;i<n;i++)c[i-2]=arguments[i];var u=void 0===e,a=void 0===t;return u&&a&&r?r:o.reduce((function(e,n,r){if(void 0===n)throw new TypeError("An undefined reducer was passed in at index "+r);return n.apply(void 0,[e,t].concat(c))}),u&&!a&&r?r:e)}},e.exports=t.default},62:function(e,t,n){"use strict";n.d(t,"u",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"A",(function(){return l})),n.d(t,"y",(function(){return p})),n.d(t,"C",(function(){return b})),n.d(t,"s",(function(){return g})),n.d(t,"r",(function(){return v})),n.d(t,"l",(function(){return O})),n.d(t,"k",(function(){return j})),n.d(t,"z",(function(){return h})),n.d(t,"x",(function(){return y})),n.d(t,"B",(function(){return m})),n.d(t,"v",(function(){return A})),n.d(t,"w",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return E})),n.d(t,"h",(function(){return I})),n.d(t,"g",(function(){return P})),n.d(t,"t",(function(){return T})),n.d(t,"q",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"j",(function(){return N})),n.d(t,"c",(function(){return $})),n.d(t,"i",(function(){return F})),n.d(t,"o",(function(){return L})),n.d(t,"b",(function(){return D})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return B}));var r=n(19),o=n(63),c=n(115),i=n(102),u=n(103);const a="persistent.workpad",s=e=>({...e,ast:Object(o.g)(e.expression)});function d(e){return Object(r.get)(e,a)}function f(e){return{...d(e),assets:Object(i.b)(e)}}function l(e){const t=function(e){const t=d(e);return Object(r.get)(t,"variables",[])}(e);return 0===t.length?{}:t.reduce(((e,t)=>({...e,[t.name]:t.value})),{})}function p(e){return{...d(e),pages:void 0}}function b(e){return Object(r.get)(e,Object(c.a)(a,"isWriteable"),!0)}function g(e){return Object(r.get)(e,Object(c.a)(a,"page"))}function v(e){const t=g(e),n=O(e);return Object(r.get)(n,`[${t}].id`)}function O(e){return Object(r.get)(e,Object(c.a)(a,"pages"),[])}function j(e,t){return O(e).find((e=>e.id===t))}function h(e){return Object(r.get)(e,Object(c.a)(a,"name"))}function y(e){return Object(r.get)(e,Object(c.a)(a,"height"))}function m(e){return Object(r.get)(e,Object(c.a)(a,"width"))}function A(e){return O(e).reduce(((e,t)=>(t.elements.forEach((({position:t})=>{const{left:n,top:r,width:o,height:c}=t,i=n+o,u=r+c;n<e.left&&(e.left=n),r<e.top&&(e.top=r),i>e.right&&(e.right=i),u>e.bottom&&(e.bottom=u)})),e)),{left:0,right:m(e),top:0,bottom:y(e)})}function _(e){return Object(r.get)(e,Object(c.a)(a,"colors"))}function w(e){return O(e).reduce(((e,t)=>e.concat(t.elements)),[])}function x(e){const t=e.transient.resolvedArgs,n={ready:0,pending:0,error:0};return Object.values(t).filter((e=>void 0!==e)).forEach((e=>{const{expressionRenderable:t}=e;if(!t)return void n.pending++;const{value:r,state:o}=t;r&&"error"===r.as?n.error++:"ready"===o?n.ready++:n.pending++})),n}function E(e){return Object(r.get)(e,"transient.elementStats")}function I(e){return w(e).reduce(((e,t)=>null!=t.filter&&t.filter.length?e.concat(t.filter):e),[])}function S(e,t){return Object.keys(e).reduce(((n,r)=>"_"!==r&&"group"!==r?n:e[r].reduce(((n,o)=>n.concat(t(o,r,e)||[])),n)),[])}function M(e){if("expression"!==e.type)throw new Error("AST must be an expression");return e.chain.reduce(((e,t)=>{const{function:n,arguments:r}=t;return Object(u.e)(n)?e.concat(S(r,(e=>{if(null!==e&&"object"!=typeof e)return e}))):e.concat(S(r,(e=>{if(null!==e&&"object"==typeof e&&"expression"===e.type)return M(e)})))}),[])}function P(e){return w(e).reduce(((e,t)=>{if(null!=t.filter&&t.filter.length){const n=Object(o.d)(t.filter),c=Object(r.get)(n,"chain[0].arguments.filterGroup[0]");c&&""!==c&&!e.includes(String(c))&&e.push(String(c))}return null!=t.expression&&t.expression.length&&M(Object(o.d)(t.expression)).forEach((t=>{e.includes(String(t))||e.push(String(t))})),e}),[]).sort()}function T(e){return Object(r.get)(e,"transient.selectedToplevelNodes",[])}function C(e){const t=T(e);return 1===t.length?t[0]:null}function R(e){return $(e,C(e))}const k=e=>t=>({...t,position:{...t.position,type:e},..."group"===e&&{expression:'shape fill="rgba(255,255,255,0)" | render'}});function N(e,t,n=!0){const o=t||v(e);if(!o)return[];const c=j(e,o);return c?function(e,t){const n=(e=>{const t=Object(r.get)(e,"elements").map(k("element")),n=Object(r.get)(e,"groups",[]).map(k("group"));return t.concat(n)})(e);return n?t?n.map(s):n.map((e=>Object(r.omit)(e,["ast"]))):[]}(c,n):[]}function $(e,t,n){const o=function(e,t,n=!0){const o=t||v(e);if(!o)return[];const c=j(e,o),i=Object(r.get)(c,"elements");return i?n?i.map((e=>s(e))):i.map((e=>Object(r.omit)(e,["ast"]))):[]}(e,n,!0).find((e=>e.id===t));if(o)return s(o)}function F(e,t,n){const r=N(e,n,!0).find((e=>e.id===t));if(r)return s(r)}function L(e,t,n){if(!t)return;const o=Object(r.get)(e,["transient","resolvedArgs",t]);return n?Object(r.get)(o,n):o}function D(e,t,n){return function(e,t){const n=C(e);if(n)return L(e,n,t)}(e,["expressionContext",t,n-1])}function W(e){const t=O(e),n=e.transient.resolvedArgs,r=t.map((e=>{const{elements:t,...r}=e;return{...r,elements:t.map((e=>{const{id:t,position:r}=e,o=n[t];if(!o)return null;const{expressionRenderable:c}=o;return{id:t,position:r,expressionRenderable:c}}))}})),o=d(e),{pages:c,variables:i,...u}=o;return{pages:r,...u}}function B(e){const t=W(e),{pages:n}=t,r=[];return n.forEach((e=>e.elements.forEach((e=>{if(e&&e.expressionRenderable){const{value:t}=e.expressionRenderable;if(t){const{as:e}=t;r.includes(e)||r.push(e)}}})))),r}},65:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"p",(function(){return w})),n.d(t,"h",(function(){return x})),n.d(t,"i",(function(){return E})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return T})),n.d(t,"e",(function(){return C})),n.d(t,"j",(function(){return R})),n.d(t,"k",(function(){return k})),n.d(t,"o",(function(){return N})),n.d(t,"n",(function(){return $})),n.d(t,"m",(function(){return L})),n.d(t,"l",(function(){return D})),n.d(t,"a",(function(){return W})),n.d(t,"c",(function(){return B})),n.d(t,"b",(function(){return V}));var r=n(66),o=n(76),c=n.n(o),i=n(19),u=n(63),a=n(144),s=n(101),d=n(62),f=n(118),l=n(93),p=n(57),b=n(83),g=n(60),v=n(78),O=n(92);const{actionsElements:j}=p.f,{set:h,del:y}=c.a;function m(e,t,n,r=["ast.chain"]){const o=[t,"expressionContext",...r,n],c=Object(f.c)(e,o);if(null!=c)return{index:n,context:c};const i=n-1;return i<0?{}:m(e,t,i,r)}function A(e,t=!1){const n=["position","expression","filter"];return t?Object(i.pick)(e,n.concat("id")):Object(i.cloneDeep)(Object(i.pick)(e,n))}const _=Object(r.createAction)("elementLayer"),w=Object(r.createAction)("setMultiplePosition",(e=>({repositionedElements:e}))),x=Object(r.createAction)("flushContext"),E=Object(r.createAction)("flushContextAfterIndex"),I=Object(i.debounce)((({dispatch:e,getState:t},n,r,o=!1,c)=>{const u=[...c.split("."),"chain"],a=Object(i.get)(r,u),s=!a||n>=a.length;if(!r||!a||s)throw new Error(j.getInvalidArgIndexErrorMessage(n));const f=n-1,l=[r.id,"expressionContext",c,f];e(O.g({path:l}));const{index:p,context:b}=!0!==o?m(t(),r.id,f-1,[c]):{},v=a.filter(((e,t)=>null!=b?t>p&&t<n:t<n)),y=Object(d.A)(t()),{expressions:A}=g.pluginServices.getServices(),_=h(r,u,v);return A.interpretAst(_.ast,y,b).then((t=>{e(O.i({path:l,value:t}))}))}),100),S=Object(a.a)("fetchContext",I),M=Object(i.debounce)((({dispatch:e,getState:t},n,r,o)=>{const c=[n.id,"expressionRenderable"];e(O.g({path:c}));const i=e=>O.i({path:c,value:e}),u=Object(d.A)(t()),{expressions:a,notify:s}=g.pluginServices.getServices();return a.runInterpreter(r,o,u,{castToRender:!0}).then((t=>{e(i(t))})).catch((t=>{s.error(t),e(i(t))}))}),100),P=Object(a.a)("fetchRenderableWithContext",M),T=Object(a.a)("fetchRenderable",(({dispatch:e},t)=>{const n=t.ast||Object(u.g)(t.expression);e(P(t,n,null))})),C=Object(a.a)("fetchAllRenderables",(({dispatch:e,getState:t},{onlyActivePage:n=!1}={})=>{const r=Object(d.l)(t()),o=r[Object(d.s)(t())],c=Object(i.without)(r,o);function a(n){const r=[];n.forEach((e=>{e.elements.forEach((e=>{r.push(e)}))}));const o=r.map((e=>{const n=e.ast||Object(u.g)(e.expression),r=[e.id,"expressionRenderable"],o=Object(d.A)(t()),{expressions:c,notify:i}=g.pluginServices.getServices();return c.runInterpreter(n,null,o,{castToRender:!0}).then((e=>({path:r,value:e}))).catch((e=>(i.error(e),{path:r,value:e})))}));return Promise.all(o).then((t=>{e(O.k(t))}))}e(O.c()),n?a([o]).then((()=>e(O.e()))):a([o]).then((()=>c.reduce(((e,t)=>e.then((()=>a([t])))),Promise.resolve()))).then((()=>e(O.e())))})),R=Object(a.a)("insertNodes",(({dispatch:e,type:t},n,o)=>{const c=Object(r.createAction)(t),u=n.map(i.cloneDeep);u.forEach((e=>{e.position.top=e.position.top+10,e.position.left=e.position.left+10})),e(c({pageId:o,elements:u})),n.some((e=>e.filter))?e(C()):u.forEach((t=>e(T(t))))})),k=Object(a.a)("removeElements",(({dispatch:e,getState:t},n,o)=>{const c=t(),i=Object(d.j)(c,o),u=n.map((e=>i.find((t=>e===t.id)))).filter((e=>e)),a=Object(b.h)((e=>e.id),(e=>e.position.parent),i,u).map((e=>e.id)),s=a.some((e=>{const t=Object(d.i)(c,e,o);return t.filter&&t.filter.length>0})),f=Object(r.createAction)("removeElements",((e,t)=>({elementIds:e,pageId:t})));e(f(a,o)),s&&e(C())})),N=Object(a.a)("setFilter",(({dispatch:e},t,n,o=!0)=>{e(Object(r.createAction)("setFilter")({filter:t,elementId:n})),!0===o&&e(C())})),$=Object(a.a)("setExpression",(function({dispatch:e,getState:t},n,o,c,i=!0){e(Object(r.createAction)("setExpression")({expression:n,elementId:o,pageId:c}));const u=Object(d.i)(t(),o,c);u.filter&&!["dropdownControl","timefilterControl","exactly"].some((e=>u.expression.includes(e)))?e(N("",o,c,i)):!0===i&&e(T(u))})),F=Object(a.a)("setAst",(({dispatch:e},t,n,r,o=!0)=>{try{const c=Object(u.h)(t);e($(c,n.id,r,o))}catch(t){g.pluginServices.getServices().notify.error(t),e($(n.expression,n.id,r,o))}})),L=Object(a.a)("setAstAtIndex",(({dispatch:e,getState:t},n,r,o,c)=>{e(E({elementId:o.id,index:n}));const u=h(o,`ast.chain.${n}`,r),a=Object(i.get)(u,"ast"),{index:s,context:d}=m(t(),o.id,n-1);if(d){e(F(a,o,c,!1));const t={...a,chain:a.chain.filter(((e,t)=>d?t>s:t>=n))};return e(P(u,t,d))}e(F(a,o,c))})),D=Object(a.a)("setArgument",(({dispatch:e,getState:t},n)=>{const{argName:r,value:o,valueIndex:c,elementId:u,pageId:a,path:s}=n;let f=`${s}.${r}`;null!=c&&(f+="."+c);const l=Object(d.c)(t(),u),p=h(l,f,o),b=s.split(".").slice(0,3),g=Object(i.last)(b),v=Object(i.get)(p,b);e(L(g,v,l,a))})),W=Object(a.a)("addArgumentValue",(({dispatch:e,getState:t},n)=>{const{argName:r,value:o,elementId:c,path:u}=n,a=Object(d.c)(t(),c),s=Object(i.get)(a,[...u.split("."),r],[]).concat(o);e(D({...n,elementId:c,value:s}))})),B=Object(a.a)("deleteArgumentAtIndex",(({dispatch:e},t)=>{const{element:n,pageId:r,argName:o,argIndex:c,path:u}=t,a=u.split("."),s=a.slice(0,3),d=Object(i.last)(s),f=Object(i.get)(n,[...a,o]);let l=null!=c&&f.length>1?y(n,`${u}.${o}.${c}`):y(n,o?`${u}.${o}`:u);const p=a.slice(0,a.length-1),b=Object(i.get)(l,p);Array.isArray(b)&&!b.length&&(l=y(n,p)),e(L(d,Object(i.get)(l,s),n,r))})),V=Object(a.a)("addElement",(({dispatch:e},t,n)=>{const o={...Object(l.a)(),...A(n,!0)};n.width&&(o.position.width=n.width),n.height&&(o.position.height=n.height),e(Object(r.createAction)("addElement")({pageId:t,element:o})),n.filter?e(C()):Object(s.a)(o.id)||e(T(o)),e(Object(v.a)([o.id]))}))},66:function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(304));t.combineActions=r.default;var o=s(n(141));t.createAction=o.default;var c=s(n(307));t.createActions=c.default;var i=s(n(316));t.createCurriedAction=i.default;var u=s(n(212));t.handleAction=u.default;var a=s(n(319));function s(e){return e&&e.__esModule?e:{default:e}}t.handleActions=a.default},72:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i}));var r=n(19);function o(e){return Object(r.get)(e,"state",null)}function c(e){return Object(r.get)(e,"value",null)}function i(e){return"error"!==o(e)?null:Object(r.get)(e,"error",null)}},75:function(e,t,n){"use strict";n.d(t,"n",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"m",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"i",(function(){return l})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return y})),n.d(t,"o",(function(){return m})),n.d(t,"j",(function(){return A}));var r=n(66),o=n(19),c=n(144),i=n(62),u=n(65);const a=Object(r.createAction)("sizeWorkpad"),s=Object(r.createAction)("setName"),d=Object(r.createAction)("setWriteable"),f=Object(r.createAction)("setColors"),l=Object(r.createAction)("setRefreshInterval"),p=Object(r.createAction)("setWorkpadCSS"),b=Object(r.createAction)("setWorkpadVariables"),g=Object(r.createAction)("enableAutoplay"),v=Object(r.createAction)("setAutoplayInterval"),O=Object(r.createAction)("resetWorkpad"),j=Object(c.a)("initializeWorkpad",(({dispatch:e})=>{e(Object(u.e)())})),h=Object(c.a)("addColor",(({dispatch:e,getState:t},n)=>{const r=Object(i.w)(t()).slice(0);Object(o.includes)(r,n)||r.push(n),e(f(r))})),y=Object(c.a)("removeColor",(({dispatch:e,getState:t},n)=>{e(f(Object(o.without)(Object(i.w)(t()),n)))})),m=Object(c.a)("updateWorkpadVariables",(({dispatch:e},t)=>{e(b(t)),e(Object(u.e)())})),A=Object(c.a)("setWorkpad",(({dispatch:e,type:t},n,{loadPages:o=!0}={})=>{e(Object(r.createAction)(t)(n)),o&&e(j())}))},77:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(325),o=n.n(r);function c(e){return`${e}-${o()()}`}},78:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return a}));var r=n(66);const o=Object(r.createAction)("setFullscreen"),c=Object(r.createAction)("selectToplevelNodes"),i=Object(r.createAction)("setFirstLoad"),u=Object(r.createAction)("setElementStats"),a=Object(r.createAction)("setZoomScale")},83:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return d}));const r=e=>[].concat(...e),o=e=>e,c=(e,t,n)=>t.filter((t=>!n.find((n=>e(n)===e(t))))).concat(n.filter((n=>!t.find((t=>e(t)===e(n)))))),i=(e,t)=>(e+t)/2,u=e=>(...t)=>!e(...t),a=(e,t)=>t.filter(((n,r)=>t.findIndex((t=>e(t)===e(n)))===r)),s=e=>Object.assign({},...e.map((e=>({[e]:!0})))),d=(e,t,n,o)=>{const c=o=>{const i=r(o.map((r=>n.filter((n=>t(n)===e(r))))));return i.length?[...o,...c(i,n)]:o};return c(o)}},86:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,c,i,u){if(!e){var a;if(void 0===t)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,c,i,u],d=0;(a=new Error(t.replace(/%s/g,(function(){return s[d++]})))).name="Invariant Violation"}throw a.framesToPop=1,a}}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return d}));var r=n(66);const o=Object(r.createAction)("addPage"),c=Object(r.createAction)("duplicatePage"),i=Object(r.createAction)("movePage",((e,t,n)=>({id:e,position:t,gotoPage:n}))),u=Object(r.createAction)("removePage"),a=Object(r.createAction)("stylePage",((e,t)=>({pageId:e,style:t}))),s=Object(r.createAction)("setPage"),d=Object(r.createAction)("setPageTransition",((e,t)=>({pageId:e,transition:t})))},92:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return b}));var r=n(66);const o="setResolvedLoading",c="setResolvedValue",i="inFlightActive",u="inFlightComplete",a=Object(r.createAction)(o),s=Object(r.createAction)(c),d=Object(r.createAction)("setResolvedValues"),f=Object(r.createAction)("clearResolvedValue"),l=Object(r.createAction)("clearResolvedValues"),p=Object(r.createAction)(i,(()=>{})),b=Object(r.createAction)(u,(()=>{}))},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(77),o=n(0);const c=()=>({id:Object(r.a)("element"),position:{top:20,left:20,height:300,width:500,angle:0,type:"element"},expression:'\n      demodata\n      | pointseries y="median(cost)" x=time color="project"\n      | plot defaultStyle={seriesStyle points=5}\n    ',filter:null}),i=()=>({id:Object(r.a)("page"),style:{background:"#FFF"},transition:{},elements:[],groups:[]}),u=()=>{const e=i();return{name:"My Canvas Workpad",id:Object(r.a)("workpad"),width:1080,height:720,css:o.r,page:0,pages:[e],colors:["#37988d","#c19628","#b83c6f","#3f9939","#1785b0","#ca5f35","#45bdb0","#f2bc33","#e74b8b","#4fbf48","#1ea6dc","#fd7643","#72cec3","#f5cc5d","#ec77a8","#7acf74","#4cbce4","#fd986f","#a1ded7","#f8dd91","#f2a4c5","#a6dfa2","#86d2ed","#fdba9f","#000000","#444444","#777777","#BBBBBB","#FFFFFF","rgba(255,255,255,0)"],variables:[],isWriteable:!0}},a=()=>({groupFiltersByOption:o.q}),s=()=>({keyboardShortcutsDoc:{isVisible:!1}})},99:function(e,t,n){"use strict";t.__esModule=!0,t.ACTION_TYPE_DELIMITER=t.DEFAULT_NAMESPACE=void 0,t.DEFAULT_NAMESPACE="/",t.ACTION_TYPE_DELIMITER="||"}}]);