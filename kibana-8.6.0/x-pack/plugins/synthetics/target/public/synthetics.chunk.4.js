/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.synthetics_bundle_jsonpfunction=window.synthetics_bundle_jsonpfunction||[]).push([[4],{100:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c}));var a=n(63);const r=Object(a.createAction)("GET_JOURNEY_STEPS"),i=Object(a.createAction)("GET_JOURNEY_STEPS_SUCCESS"),o=Object(a.createAction)("GET_JOURNEY_STEPS_FAIL"),c=Object(a.createAction)("PRUNE_JOURNEY_STATE")},118:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return c}));var a=n(63),r=n(54);const i=Object(a.handleActions)({[String(r.r)]:t=>({...t,loading:!0}),[String(r.t)]:(t,e)=>({...t,loading:!1,isLoaded:!0,error:void 0,list:{...e.payload}}),[String(r.s)]:(t,e)=>({...t,error:e.payload,loading:!1,isLoaded:!0}),[String(r.U)]:(t,e)=>{var n;return{...t,isUpdating:[...null!==(n=t.isUpdating)&&void 0!==n?n:[],e.payload]}},[String(r.L.get)]:t=>({...t}),[String(r.L.success)]:(t,e)=>{var n,a,r;const i=t.list.summaries,o=null===(n=e.payload.summaries)||void 0===n?void 0:n[0];return o?{...t,loading:!1,error:void 0,isUpdating:null===(a=t.isUpdating)||void 0===a?void 0:a.filter((t=>t!==o.monitor_id)),refreshedMonitorIds:[...null!==(r=t.refreshedMonitorIds)&&void 0!==r?r:[],o.monitor_id],list:{...t.list,summaries:i.map((t=>t.monitor_id===o.monitor_id?o:t))}}:{...t,isUpdating:[]}},[String(r.L.fail)]:(t,e)=>({...t,error:e.payload,loading:!1,isUpdating:[]}),[String(r.b)]:(t,e)=>{var n;return{...t,refreshedMonitorIds:(null!==(n=t.refreshedMonitorIds)&&void 0!==n?n:[]).filter((t=>t!==e.payload))}}},{list:{nextPagePagination:null,prevPagePagination:null,summaries:[]},loading:!1,isLoaded:!1,refreshedMonitorIds:[]}),o=({monitorList:t})=>{var e;return null!==(e=t.refreshedMonitorIds)&&void 0!==e?e:[]},c=({monitorList:t})=>{var e;return null!==(e=t.isUpdating)&&void 0!==e?e:[]}},128:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return s}));var a=n(63),r=n(83);const i=Object(r.a)("GET_MONITOR_DETAILS"),o=Object(a.createAction)("GET_MONITOR_LOCATIONS"),c=Object(a.createAction)("GET_MONITOR_LOCATIONS_SUCCESS"),s=Object(a.createAction)("GET_MONITOR_LOCATIONS_FAIL")},136:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return b}));var a=n(88),r=n(285),i=n(151),o=n.n(i),c=n(39),s=n(217),d=n(218);const l=o()(),u=Object(a.createStore)(d.a,Object(r.composeWithDevTools)(Object(a.applyMiddleware)(l)));l.run(s.a);const b=new c.Storage(window.localStorage)},144:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return u}));var a=n(63),r=n(107);const i=Object(a.createAction)("FETCH_BLOCKS"),o=Object(a.createAction)("IN_FLIGHT_BLOCKS_ACTION"),c=Object(a.createAction)("PUT_SCREENSHOT_BLOCKS"),s=Object(a.createAction)("PUT_CACHE_SIZE"),d=Object(a.createAction)("UPDATE_HIT_COUNTS"),l=Object(a.createAction)("PRUNE_SCREENSHOT_BLOCK_CACHE"),u=Object(a.handleActions)({[String(l)]:(t,e)=>function(t,e){const{blocks:n,hitCount:a}=t,i=[];let o=0,c=a.length-1;for(;o<e.payload&&c>=0;){const{hash:t}=a[c];if(c--,!n[t])continue;const e=n[t];Object(r.e)(e)&&(o+=e.synthetics.blob.length,i.push(t))}for(const t of i)delete n[t];return{cacheSize:t.cacheSize-o,blocks:{...n},hitCount:a.slice(0,c+1)}}(t,e),[String(d)]:(t,e)=>function(t,e){const n=[...t.hitCount],a=Date.now();return e.payload.forEach((t=>{const e=n.find((e=>e.hash===t));e?e.hitTime=a:n.push({hash:t,hitTime:a})})),n.sort(((t,e)=>e.hitTime-t.hitTime)),{...t,hitCount:n}}(t,e),[String(s)]:(t,e)=>({...t,cacheSize:t.cacheSize+e.payload}),[String(i)]:(t,e)=>({...t,blocks:{...t.blocks,...e.payload.filter((e=>!t.blocks[e])).reduce(((t,e)=>({...t,[e]:{status:"pending"}})),{})}}),[String(o)]:(t,e)=>({...t,blocks:{...t.blocks,...e.payload.reduce(((t,e)=>({...t,[e]:{status:"loading"}})),{})}}),[String(c)]:(t,e)=>({...t,blocks:{...t.blocks,...e.payload.blocks.reduce(((t,e)=>({...t,[e.id]:e})),{})}})},{blocks:{},cacheSize:0,hitCount:[]})},154:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(83);const r=Object(a.a)("DELETE_MONITOR")},155:function(t,e,n){"use strict";function a(t,e){return{[String(e.get)]:e=>({...e,[t]:{...e[t],loading:!0}}),[String(e.success)]:(e,n)=>({...e,[t]:{...e[t],data:n.payload,loading:!1}}),[String(e.fail)]:(e,n)=>({...e,[t]:{...e[t],data:null,error:n.payload,loading:!1}})}}function r(t=null){return{data:t,loading:!1,error:null}}n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return r}))},156:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var a=n(63);const r=Object(a.createAction)("SET_CERTIFICATES_TOTAL"),i=Object(a.handleActions)({[String(r)]:(t,e)=>({...t,total:e.payload.total})},{total:0}),o=({certificates:t})=>t.total},157:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o}));var a=n(63);const r=Object(a.createAction)("GET_NETWORK_EVENTS"),i=Object(a.createAction)("GET_NETWORK_EVENTS_SUCCESS"),o=Object(a.createAction)("GET_NETWORK_EVENTS_FAIL")},158:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s}));var a=n(65),r=n(52),i=n(54);let o;!function(t){t.LOADING="loading",t.IN_PROGRESS="in-progress",t.COMPLETED="completed"}(o||(o={}));const c=Object(a.createReducer)({},(t=>{t.addCase(String(i.V.get),((t,e)=>({...t,[e.payload]:{monitorId:e.payload,status:o.LOADING,schedule:{unit:r.x.MINUTES,number:"3"},locations:[]}}))).addCase(String(i.V.success),((t,{payload:e})=>({...t,[e.monitorId]:{monitorId:e.monitorId,testRunId:e.testRunId,status:o.IN_PROGRESS,errors:e.errors,schedule:e.schedule,locations:e.locations}}))).addCase(String(i.V.fail),((t,e)=>{const n=e.payload;if(null!=n&&n.request.url){var a;const{name:e,message:r}=n,[,i]=null!==(a=Object.entries(t).find((([t])=>{var e;return null!==(e=n.request.url.indexOf(t)>-1)&&void 0!==e&&e})))&&void 0!==a?a:[];if(i)return{...t,[i.monitorId]:{...t[i.monitorId],status:o.COMPLETED,errors:void 0,fetchError:{name:e,message:r}}}}return e.payload.monitorId?{...t,[e.payload.monitorId]:{...t[e.payload.monitorId],status:o.COMPLETED,errors:e.payload.errors,fetchError:void 0}}:t})).addCase(String(i.c),((t,e)=>{const{[e.payload]:n,...a}=t;return a}))})),s=t=>({testNowRuns:e})=>t?e[t]:void 0},159:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var a=n(51);const r=t=>{const e=t.replace(/[^A-Z0-9]+/gi,"_").toLowerCase(),n="_"+a.o;return(e+n).length>64?e.substring(0,64-n.length)+"_":e+"_"},i=t=>`${r(t)}${a.o}`},195:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var a=n(63);const r=Object(a.createAction)("GET SELECTED FILTERS"),i=Object(a.createAction)("SET_SELECTED_FILTERS")},196:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));const a=(t,e)=>e+"/app/management/insightsAndAlerting/triggersActions/alert/"+t},217:function(t,e,n){"use strict";n.d(e,"a",(function(){return st}));var a=n(62),r=n(1),i=n.n(r),o=n(24),c=n(0),s=n(154),d=n(68),l=n(69);function*u(){yield Object(a.takeEvery)(String(s.a.get),(function*(t){try{const{id:e,name:n}=t.payload;yield Object(a.call)(d.a,{id:e}),yield Object(a.put)(s.a.success(e)),l.a.core.notifications.toasts.addSuccess({title:Object(o.toMountPoint)(i.a.createElement("p",{"data-test-subj":"uptimeDeleteMonitorSuccess"},c.i18n.translate("xpack.synthetics.monitorManagement.monitorDeleteSuccessMessage.name",{defaultMessage:'Deleted "{name}"',values:{name:n}})))})}catch(e){l.a.core.notifications.toasts.addError(e,{title:b}),yield Object(a.put)(s.a.fail({id:t.payload.id,error:e}))}}))}const b=c.i18n.translate("xpack.synthetics.monitorManagement.monitorDeleteFailureMessage",{defaultMessage:"Monitor was unable to be deleted. Please try again later."});var f=n(85),O=n(128),g=n(79);function*p(){yield Object(a.takeLatest)(O.a.get,Object(g.a)(d.f,O.a.success,O.a.fail)),yield Object(a.takeLatest)(O.b,Object(g.a)(d.i,O.d,O.c))}var S=n(54);function*y(){yield Object(a.takeLatest)(S.r,Object(g.a)(d.h,S.t,S.s))}function*E(){yield Object(a.takeLatest)(S.L.get,Object(g.a)(d.h,S.L.success,S.L.fail))}function*T(){yield Object(a.takeLeading)(S.x,Object(g.a)(d.j,S.z,S.y)),yield Object(a.takeLeading)(S.E,Object(g.a)(d.p,S.G,S.F)),yield Object(a.takeLeading)(S.H,Object(g.a)(d.d,S.J,S.I)),yield Object(a.takeLatest)(S.f,Object(g.a)(d.b,S.h,S.g)),yield Object(a.takeLatest)(S.i,Object(g.a)(d.c,S.k,S.j))}function*m(){yield Object(a.takeLeading)(S.K.get,Object(g.a)(d.o,S.K.success,S.K.fail))}function*j(){yield Object(a.takeLatest)(S.u,Object(g.a)(d.k,S.w,S.v))}function*_(){yield Object(a.takeEvery)(S.V.get,Object(g.a)(d.w,v,A))}function v(t){return S.V.success(t)}function A(t){return S.V.fail(t)}var I=n(84);function*h(){yield Object(a.takeLeading)(String(I.a),Object(g.a)(d.r,I.c,I.b))}function*L(){const t=c.i18n.translate("xpack.synthetics.settings.error.couldNotSave",{defaultMessage:"Could not save settings!"});yield Object(a.takeLatest)(String(I.d),(function*(e){try{if(!e.payload){const e=new Error("Cannot fetch effect without a payload");return yield Object(a.put)(Object(I.e)(e)),void l.a.core.notifications.toasts.addError(e,{title:t})}yield Object(a.call)(d.u,{settings:e.payload}),yield Object(a.put)(Object(I.f)(e.payload)),l.a.core.notifications.toasts.addSuccess(c.i18n.translate("xpack.synthetics.settings.saveSuccess",{defaultMessage:"Settings saved!"}))}catch(e){l.a.core.notifications.toasts.addError(e,{title:t}),yield Object(a.put)(Object(I.e)(e))}}))}function*N(){yield Object(a.takeLatest)(String(S.B),Object(g.a)(d.m,S.D,S.C))}function*C(){yield Object(a.takeLatest)(String(S.A.get),Object(g.a)(d.l,S.A.success,S.A.fail))}function*M(){yield Object(a.takeLatest)(S.o,Object(g.a)(d.g,S.q,S.p))}var R=n(7),k=n.n(R),w=n(44),G=n(61),U=n(51),D=n(159);const P=async()=>await G.a.get(U.a.ML_CAPABILITIES),x=async()=>await G.a.get(U.a.ML_MODULE_JOBS+U.p),F=async({monitorId:t,heartbeatIndices:e})=>{var n,a;const r=U.a.ML_SETUP_MODULE+U.p,i={prefix:`${Object(D.a)(t)}`,useDedicatedIndex:!1,startDatafeed:!0,start:k()().subtract(2,"w").valueOf(),indexPatternName:e,applyToAllSpaces:!0,query:{bool:{filter:[{term:{"monitor.id":t}},{range:{"monitor.duration.us":{gt:0}}}]}}},o=await G.a.post(r,i);if((null==o||null===(n=o.jobs)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.id)===Object(D.b)(t)){const t=o.jobs[0],e=o.datafeeds[0];if(t.success)return{count:1,jobId:t.id,awaitingNodeAssignment:!0===e.awaitingMlNodeAllocation};{const{error:e}=t;throw new Error(Object(w.extractErrorMessage)(e))}}return null},H=async({monitorId:t})=>{const e={jobIds:[Object(D.b)(t)]};return await G.a.post(U.a.ML_DELETE_JOB,e)},Y=async({dateStart:t,dateEnd:e,listOfMonitorIds:n,anomalyThreshold:a})=>{const r={jobIds:n.map((t=>Object(D.b)(t))),criteriaFields:[],influencers:[],aggregationInterval:"auto",threshold:null!=a?a:25,earliestMs:t,latestMs:e,dateFormatTz:Intl.DateTimeFormat().resolvedOptions().timeZone,maxRecords:500,maxExamples:10};return G.a.post(U.a.ML_ANOMALIES_RESULT,r)};var K=n(73);function*B(){yield Object(a.takeLatest)(S.m.get,Object(g.a)(x,S.m.success,S.m.fail)),yield Object(a.takeLatest)(S.d.get,Object(g.a)(F,S.d.success,S.d.fail)),yield Object(a.takeLatest)(S.l.get,Object(g.a)(Y,S.l.success,S.l.fail)),yield Object(a.takeLatest)(String(S.e.get),(function*(t){try{const e=yield Object(a.call)(H,t.payload);yield Object(a.put)(S.e.success(e));const{data:n}=yield Object(a.select)(K.c);n&&(yield Object(a.put)(K.f.get({alertId:n.id})))}catch(t){yield Object(a.put)(S.e.fail(t))}})),yield Object(a.takeLatest)(S.n.get,Object(g.a)(P,S.n.success,S.n.fail))}var J=n(99);function*q(){yield Object(a.takeLeading)(S.M.get,Object(g.a)(J.a,S.M.success,S.M.fail))}var V=n(100),$=n(97);const W={};function*z(){yield Object(a.takeEvery)(V.a,(function*(t){if(!W[t.payload.checkGroup])try{W[t.payload.checkGroup]=!0;const e=yield Object(a.call)($.a,t.payload);yield Object(a.put)(Object(V.c)(e))}catch(e){yield Object(a.put)(Object(V.b)({checkGroup:t.payload.checkGroup,error:e}))}finally{delete W[t.payload.checkGroup]}}))}var X=n(157),Z=n(52);async function Q(t){return await G.a.get(U.a.NETWORK_EVENTS,{checkGroup:t.checkGroup,stepIndex:t.stepIndex},Z.E)}function*tt(){yield Object(a.takeLatest)(X.a,(function*(t){try{const e=yield Object(a.call)(Q,t.payload);yield Object(a.put)(Object(X.c)({checkGroup:t.payload.checkGroup,stepIndex:t.payload.stepIndex,...e}))}catch(e){yield Object(a.put)(Object(X.b)({checkGroup:t.payload.checkGroup,stepIndex:t.payload.stepIndex,error:e}))}}))}var et=n(144),nt=n(53);function*at(t){yield Object(a.put)(Object(et.e)(t));const e=yield Object(a.call)($.d,t);yield Object(a.put)(Object(et.c)({blocks:e}))}function*rt(){yield Object(a.takeEvery)(String(et.a),(function*(t){t.payload.length>0&&(yield Object(a.put)(Object(et.g)(t.payload)))})),yield Object(a.throttle)(20,String(et.a),(function*(){const{blocks:t}=yield Object(a.select)(nt.G),e=Object.keys(t).filter((e=>{const n=t[e];return Object(Z.G)(n)&&"loading"!==n.status}));e.length>0&&(yield Object(a.fork)(at,e))}))}function*it(){yield Object(a.takeEvery)(String(et.c),(function*(t){const e=t.payload.blocks.reduce(((t,e)=>e.synthetics.blob.length+t),0);yield Object(a.put)(Object(et.d)(e))}))}const ot=4e6;function*ct(){yield Object(a.takeEvery)(String(et.d),(function*(t){const{cacheSize:e}=yield Object(a.select)(nt.G);e>ot&&(yield Object(a.put)(Object(et.b)(e-ot)))}))}function*st(){yield Object(a.fork)(p),yield Object(a.fork)(y),yield Object(a.fork)(E),yield Object(a.fork)(T),yield Object(a.fork)(j),yield Object(a.fork)(_),yield Object(a.fork)(h),yield Object(a.fork)(L),yield Object(a.fork)(N),yield Object(a.fork)(C),yield Object(a.fork)(B),yield Object(a.fork)(M),yield Object(a.fork)(q),yield Object(a.fork)(K.h),yield Object(a.fork)(z),yield Object(a.fork)(tt),yield Object(a.fork)(rt),yield Object(a.fork)(it),yield Object(a.fork)(ct),yield Object(a.fork)(m),yield Object(a.fork)(f.b),yield Object(a.fork)(u)}},218:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var a=n(88),r=n(65),i=n(154);const o=Object(r.createReducer)({error:{},loading:[],deletedMonitorIds:[]},(t=>{t.addCase(String(i.a.get),((t,e)=>{var n;return{...t,loading:[...null!==(n=t.loading)&&void 0!==n?n:[],e.payload.id],error:{...t.error,[e.payload.id]:void 0}}})).addCase(String(i.a.success),((t,e)=>{var n,a;return{...t,loading:null===(n=t.loading)||void 0===n?void 0:n.filter((t=>t!==e.payload)),deletedMonitorIds:[...null!==(a=t.deletedMonitorIds)&&void 0!==a?a:[],e.payload]}})).addCase(String(i.a.fail),((t,e)=>{var n;return{...t,loading:null===(n=t.loading)||void 0===n?void 0:n.filter((t=>t!==e.payload.id)),error:{...t.error,[e.payload.id]:e.payload.error}}}))}));var c=n(85),s=n(128);const d={monitorDetailsList:[],monitorLocationsList:new Map,loading:!1,errors:[]};var l=n(63),u=n(54);const b=Object(l.handleActions)({[String(u.W)]:(t,e)=>({...t,integrationsPopoverOpen:e.payload}),[String(u.P)]:(t,e)=>{var n;return{...t,alertFlyoutVisible:null!==(n=e.payload)&&void 0!==n?n:!t.alertFlyoutVisible}},[String(u.Q)]:(t,e)=>({...t,basePath:e.payload}),[String(u.R)]:(t,e)=>({...t,esKuery:e.payload}),[String(u.O)]:(t,e)=>({...t,alertFlyoutType:e.payload}),[String(u.S)]:(t,e)=>({...t,searchText:e.payload}),[String(u.T)]:(t,e)=>({...t,monitorId:e.payload})},{alertFlyoutVisible:!1,basePath:"",esKuery:"",searchText:"",integrationsPopoverOpen:null,monitorId:""}),f=Object(l.handleActions)({[String(u.u)]:(t,e)=>{var n,a;return{...t,status:e.payload.monitorId===(null==t||null===(n=t.status)||void 0===n||null===(a=n.monitor)||void 0===a?void 0:a.id)?t.status:null,loading:!0}},[String(u.w)]:(t,e)=>{var n,a;return{...t,loading:!1,status:{url:(null===(n=e.payload)||void 0===n?void 0:n.url)||(null===(a=t.status)||void 0===a?void 0:a.url),...e.payload}}},[String(u.v)]:t=>({...t,loading:!1})},{status:null,loading:!1});var O=n(118),g=n(84);const p=Object(l.handleActions)({[String(g.a)]:t=>({...t,loading:!0}),[String(g.c)]:(t,e)=>({loading:!1,settings:e.payload}),[String(g.b)]:(t,e)=>({loading:!1,loadError:e.payload}),[String(g.d)]:t=>({...t,loading:!0}),[String(g.f)]:(t,e)=>({settings:e.payload,saveSucceded:!0,loading:!1}),[String(g.e)]:(t,e)=>({...t,loading:!1,saveSucceeded:!1,saveError:e.payload})},{loading:!0}),S=Object(l.handleActions)({[String(u.A.get)]:t=>({...t,loading:!0}),[String(u.A.success)]:(t,e)=>({...t,loading:!1,pingHistogram:{...e.payload}}),[String(u.A.fail)]:(t,e)=>({...t,errors:[...t.errors,e.payload],loading:!1})},{pingHistogram:null,loading:!1,errors:[]}),y={pingList:{total:0,pings:[]},loading:!1},E=Object(l.handleActions)({[String(u.a)]:t=>({...t,...y}),[String(u.B)]:t=>({...t,loading:!0}),[String(u.D)]:(t,e)=>({...t,pingList:{...e.payload},loading:!1,error:void 0}),[String(u.C)]:(t,e)=>({...t,error:e.payload,loading:!1})},y),T=Object(l.handleActions)({[String(u.o)]:t=>({...t,loading:!0}),[String(u.q)]:(t,e)=>({...t,loading:!1,durationLines:{...e.payload}}),[String(u.p)]:(t,e)=>({...t,errors:[...t.errors,e.payload],loading:!1})},{durationLines:null,loading:!1,errors:[]});var m=n(155);const j={indexStatus:Object(m.a)()},_=Object(l.handleActions)({...Object(m.b)("indexStatus",u.M)},j),v={mlJob:Object(m.a)(),createJob:Object(m.a)(),deleteJob:Object(m.a)(),anomalies:Object(m.a)(),mlCapabilities:Object(m.a)()},A=Object(l.handleActions)({...Object(m.b)("mlJob",u.m),...Object(m.b)("mlCapabilities",u.n),...Object(m.b)("createJob",u.d),...Object(m.b)("deleteJob",u.e),...Object(m.b)("anomalies",u.l),[String(u.N)]:t=>({...t,mlJob:{loading:!1,data:null,error:null},createJob:{data:null,error:null,loading:!1},deleteJob:{data:null,error:null,loading:!1}})},v);var I=n(156),h=n(195),L=n(73),N=n(100);const C=Object(l.handleActions)({[String(N.a)]:(t,{payload:{checkGroup:e}})=>({...t,[e]:t[e]?{...t[e],loading:!0}:{checkGroup:e,steps:[],loading:!0}}),[String(N.c)]:(t,{payload:{checkGroup:e,steps:n,details:a}})=>({...t,[e]:{loading:!1,checkGroup:e,steps:n,details:a}}),[String(N.b)]:(t,{payload:{checkGroup:e,error:n}})=>({...t,[e]:t[e]?{...t[e],loading:!1,error:n}:{checkGroup:e,loading:!1,steps:[],error:n}}),[String(N.d)]:(t,e)=>e.payload.reduce(((e,n)=>({...e,[n]:t[n]})),{})},{});var M=n(157);const R=Object(l.handleActions)({[String(M.a)]:(t,{payload:{checkGroup:e,stepIndex:n}})=>({...t,[e]:t[e]?{[n]:t[e][n]?{...t[e][n],loading:!0,events:[],total:0,isWaterfallSupported:!0}:{loading:!0,events:[],total:0,isWaterfallSupported:!0}}:{[n]:{loading:!0,events:[],total:0,isWaterfallSupported:!0}}}),[String(M.c)]:(t,{payload:{events:e,total:n,checkGroup:a,stepIndex:r,isWaterfallSupported:i,hasNavigationRequest:o}})=>({...t,[a]:t[a]?{[r]:t[a][r]?{...t[a][r],loading:!1,events:e,total:n,isWaterfallSupported:i,hasNavigationRequest:o}:{loading:!1,events:e,total:n,isWaterfallSupported:i,hasNavigationRequest:o}}:{[r]:{loading:!1,events:e,total:n,isWaterfallSupported:i,hasNavigationRequest:o}}}),[String(M.b)]:(t,{payload:{checkGroup:e,stepIndex:n,error:a}})=>({...t,[e]:t[e]?{[n]:t[e][n]?{...t[e][n],loading:!1,events:[],total:0,error:a,isWaterfallSupported:!0}:{loading:!1,events:[],total:0,error:a,isWaterfallSupported:!0}}:{[n]:{loading:!1,events:[],total:0,error:a,isWaterfallSupported:!0}}})},{});var k=n(144),w=n(52);const G={list:{page:1,perPage:10,total:null,monitors:[],syncErrors:[],absoluteTotal:0},locations:[],enablement:null,loading:{monitorList:!1,serviceLocations:!1,enablement:!1},error:{monitorList:null,serviceLocations:null,enablement:null},syntheticsService:{signupUrl:null,loading:!1},throttling:w.e,locationsLoaded:!1},U=Object(r.createReducer)(G,(t=>{t.addCase(u.x,(t=>({...t,loading:{...t.loading,monitorList:!0}}))).addCase(u.z,((t,e)=>({...t,loading:{...t.loading,monitorList:!1},error:{...t.error,monitorList:null},list:{...e.payload}}))).addCase(u.y,((t,e)=>({...t,loading:{...t.loading,monitorList:!1},error:{...t.error,monitorList:e.payload}}))).addCase(u.E,(t=>({...t,loading:{...t.loading,serviceLocations:!0},locationsLoaded:!0}))).addCase(u.G,((t,e)=>({...t,loading:{...t.loading,serviceLocations:!1},error:{...t.error,serviceLocations:null},locations:e.payload.locations,throttling:e.payload.throttling||w.e}))).addCase(u.F,((t,e)=>({...t,loading:{...t.loading,serviceLocations:!1},error:{...t.error,serviceLocations:e.payload}}))).addCase(u.H,(t=>({...t,loading:{...t.loading,enablement:!0}}))).addCase(u.J,((t,e)=>({...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:null},enablement:e.payload}))).addCase(u.I,((t,e)=>({...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:e.payload}}))).addCase(u.f,(t=>({...t,loading:{...t.loading,enablement:!0}}))).addCase(u.h,(t=>{var e,n,a,r;return{...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:null},enablement:{canManageApiKeys:(null===(e=t.enablement)||void 0===e?void 0:e.canManageApiKeys)||!1,canEnable:(null===(n=t.enablement)||void 0===n?void 0:n.canEnable)||!1,areApiKeysEnabled:(null===(a=t.enablement)||void 0===a?void 0:a.areApiKeysEnabled)||!1,isEnabled:!1,isValidApiKey:(null===(r=t.enablement)||void 0===r?void 0:r.isValidApiKey)||!1}}})).addCase(u.g,((t,e)=>({...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:e.payload}}))).addCase(u.i,(t=>({...t,loading:{...t.loading,enablement:!0}}))).addCase(u.k,((t,e)=>({...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:null},enablement:e.payload}))).addCase(u.j,((t,e)=>({...t,loading:{...t.loading,enablement:!1},error:{...t.error,enablement:e.payload}}))).addCase(String(u.K.get),(t=>{var e,n;return{...t,syntheticsService:{isAllowed:null===(e=t.syntheticsService)||void 0===e?void 0:e.isAllowed,signupUrl:null===(n=t.syntheticsService)||void 0===n?void 0:n.signupUrl,loading:!0}}})).addCase(String(u.K.success),((t,e)=>({...t,syntheticsService:{isAllowed:e.payload.serviceAllowed,signupUrl:e.payload.signupUrl,loading:!1}}))).addCase(String(u.K.fail),((t,e)=>({...t,syntheticsService:{isAllowed:!1,signupUrl:null,loading:!1}})))}));var D=n(158);const P=Object(a.combineReducers)({monitor:function(t=d,e){switch(e.type){case String(s.a.get):return{...t,loading:!0};case String(s.a.success):const{monitorId:n}=e.payload;return{...t,monitorDetailsList:{...t.monitorDetailsList,[n]:e.payload},loading:!1};case String(s.a.fail):return{...t,errors:[...t.errors,e.payload],loading:!1};case String(s.b):return{...t,loading:!0};case String(s.d):const a=t.monitorLocationsList;return a.set(e.payload.monitorId,e.payload),{...t,monitorLocationsList:a,loading:!1};case String(s.c):return{...t,errors:[...t.errors,e.payload]};default:return t}},ui:b,monitorList:O.b,monitorManagementList:U,monitorStatus:f,dynamicSettings:p,ping:S,pingList:E,ml:A,monitorDuration:T,indexStatus:_,certificates:I.a,selectedFilters:function(t=null,e){switch(e.type){case String(h.b):return null===e.payload?null:{...e.payload};case String(h.a):default:return t}},alerts:L.a,journeys:C,networkEvents:R,synthetics:k.f,testNowRuns:D.c,agentPolicies:c.a,deleteMonitor:o})},220:function(t,e,n){"use strict";n.d(e,"e",(function(){return g})),n.d(e,"a",(function(){return p})),n.d(e,"f",(function(){return S})),n.d(e,"d",(function(){return y})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return T}));var a=n(2),r=n(61),i=n(51),o=n(0),c=n(3);const{MONITOR_STATUS:s}=a.a,d=t=>{var e,n,a;return o.i18n.translate("xpack.synthetics.alerts.monitorStatus.recoveryMessage",{defaultMessage:"Monitor {monitor} with url {url} has recovered with status Up",values:{monitor:(null==t||null===(e=t.monitor)||void 0===e?void 0:e.name)||(null==t||null===(n=t.monitor)||void 0===n?void 0:n.id),url:null==t||null===(a=t.url)||void 0===a?void 0:a.full}})};function l({defaultActions:t,selectedMonitor:e,defaultEmail:n}){const a=[];return t.forEach((t=>{const r={id:t.id,group:s.id,params:{}},i={id:t.id,group:"recovered",params:{message:d(e)}};switch(t.actionTypeId){case".pagerduty":r.params=O(e),i.params=O(e,!0),a.push(i);break;case".server-log":r.params=b(e),i.params=b(e,!0),a.push(i);break;case".index":r.params=u(e),i.params=u(e,!0),a.push(i);break;case".servicenow":r.params={subAction:"pushToService",subActionParams:{incident:{short_description:c.b.defaultActionMessage,description:c.b.defaultActionMessage,impact:"2",severity:"2",urgency:"2",category:null,subcategory:null,externalId:null,correlation_id:null,correlation_display:null},comments:[]}};break;case".jira":r.params={subAction:"pushToService",subActionParams:{incident:{summary:c.b.defaultActionMessage,externalId:null,description:c.b.defaultActionMessage,issueType:null,priority:"2",labels:null,parent:null},comments:[]}};break;case".webhook":r.params=f(e),i.params=f(e,!0),a.push(i);break;case".slack":case".teams":r.params={message:c.b.defaultActionMessage},a.push(i);break;case".email":n&&(r.params=function(t,e){var n,a,r,i,s;return{to:t.to,subject:o.i18n.translate("xpack.synthetics.monitor.simpleStatusAlert.email.subject",{defaultMessage:"Monitor {monitor} with url {url} is down",values:{monitor:(null==e||null===(n=e.monitor)||void 0===n?void 0:n.name)||(null==e||null===(a=e.monitor)||void 0===a?void 0:a.id),url:null==e||null===(r=e.url)||void 0===r?void 0:r.full}}),message:c.b.defaultActionMessage,cc:null!==(i=t.cc)&&void 0!==i?i:[],bcc:null!==(s=t.bcc)&&void 0!==s?s:[],kibanaFooterLink:{path:"",text:""}}}(n,e));break;default:r.params={message:c.b.defaultActionMessage}}a.push(r)})),a}function u(t,e=!1){return e?{documents:[{monitorName:"{{context.monitorName}}",monitorUrl:"{{{context.monitorUrl}}}",statusMessage:d(t),latestErrorMessage:"",observerLocation:"{{context.observerLocation}}"}],indexOverride:null}:{documents:[{monitorName:"{{context.monitorName}}",monitorUrl:"{{{context.monitorUrl}}}",statusMessage:"{{{context.statusMessage}}}",latestErrorMessage:"{{{context.latestErrorMessage}}}",observerLocation:"{{context.observerLocation}}"}],indexOverride:null}}function b(t,e=!1){return e?{level:"info",message:d(t)}:{level:"warn",message:c.b.defaultActionMessage}}function f(t,e=!1){return{body:e?d(t):c.b.defaultActionMessage}}function O(t,e=!1){return e?{dedupKey:t.monitor.id+s.id,eventAction:"resolve",summary:d(t)}:{dedupKey:t.monitor.id+s.id,eventAction:"trigger",severity:"error",summary:c.b.defaultActionMessage}}const g=async()=>(await r.a.get(i.a.RULE_CONNECTORS)).map((({connector_type_id:t,referenced_by_count:e,is_preconfigured:n,is_deprecated:a,is_missing_secrets:r,...i})=>({...i,actionTypeId:t,referencedByCount:e,isDeprecated:a,isPreconfigured:n,isMissingSecrets:r}))),p=async({defaultActions:t,monitorId:e,selectedMonitor:n,defaultEmail:o})=>{var c;const s={actions:l({defaultActions:t,selectedMonitor:n,defaultEmail:o}),params:{numTimes:1,timerangeUnit:"m",timerangeCount:1,shouldCheckStatus:!0,shouldCheckAvailability:!1,isAutoGenerated:!0,search:`monitor.id : ${e} `,filters:{"url.port":[],"observer.geo.name":[],"monitor.type":[],tags:[]}},consumer:"uptime",rule_type_id:a.b.MONITOR_STATUS,schedule:{interval:"1m"},notify_when:"onActionGroupChange",tags:["UPTIME_AUTO"],name:`${(null==n?void 0:n.monitor.name)||(null==n||null===(c=n.url)||void 0===c?void 0:c.full)}(Simple status alert)`,enabled:!0,throttle:null};return await r.a.post(i.a.CREATE_RULE,s)},S=async()=>{const t={page:1,per_page:500,filter:`alert.attributes.alertTypeId:(${a.b.MONITOR_STATUS})`,default_search_operator:"AND",sort_field:"name.keyword",sort_order:"asc",search_fields:["name","tags"],search:"UPTIME_AUTO"};return await r.a.get(i.a.RULES_FIND,t)},y=async({monitorId:t})=>{const e={page:1,per_page:500,filter:`alert.attributes.alertTypeId:(${a.b.DURATION_ANOMALY})`,default_search_operator:"AND",sort_field:"name.keyword",sort_order:"asc"},n=(await r.a.get(i.a.RULES_FIND,e)).data.find((e=>e.params.monitorId===t));if(n)return{...n,ruleTypeId:n.rule_type_id}},E=async({alertId:t})=>await r.a.delete(i.a.DELETE_RULE+t),T=async()=>(await r.a.get(i.a.CONNECTOR_TYPES,{feature_id:"uptime"})).map((({enabled_in_config:t,enabled_in_license:e,minimum_license_required:n,supported_feature_ids:a,...r})=>({...r,enabledInConfig:t,enabledInLicense:e,minimumLicenseRequired:n,supportedFeatureIds:a})))},221:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s}));const a="synthetics-privates-locations-singleton",r="synthetics-privates-locations";var i=n(61);const o=async()=>await i.a.get("/api/fleet/agent_policies",{page:1,perPage:1e4,sortField:"name",sortOrder:"asc",full:!0,kuery:"ingest-agent-policies.is_managed : false"},null),c=async(t,e)=>(await t.create(r,e,{id:a,overwrite:!0})).attributes,s=async t=>{try{var e;const n=await t.get(r,a);return null!==(e=null==n?void 0:n.attributes.locations)&&void 0!==e?e:[]}catch(t){return[]}}},285:function(t,e,n){"use strict";var a=n(88).compose;e.__esModule=!0,e.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?a:a.apply(null,arguments)},e.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(t){return t}}},53:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"r",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"q",(function(){return s})),n.d(e,"u",(function(){return d})),n.d(e,"w",(function(){return l})),n.d(e,"C",(function(){return u})),n.d(e,"D",(function(){return b})),n.d(e,"E",(function(){return f})),n.d(e,"p",(function(){return O})),n.d(e,"g",(function(){return g})),n.d(e,"b",(function(){return p})),n.d(e,"c",(function(){return S})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return E})),n.d(e,"l",(function(){return T})),n.d(e,"n",(function(){return m})),n.d(e,"m",(function(){return j})),n.d(e,"a",(function(){return _})),n.d(e,"B",(function(){return v})),n.d(e,"A",(function(){return A})),n.d(e,"z",(function(){return I})),n.d(e,"j",(function(){return h})),n.d(e,"t",(function(){return L})),n.d(e,"v",(function(){return N})),n.d(e,"f",(function(){return C})),n.d(e,"y",(function(){return M})),n.d(e,"F",(function(){return R})),n.d(e,"s",(function(){return k})),n.d(e,"o",(function(){return w})),n.d(e,"x",(function(){return G})),n.d(e,"G",(function(){return U})),n.d(e,"H",(function(){return D}));var a=n(75);const r=({ui:{integrationsPopoverOpen:t}})=>t,i=(t,e)=>t.monitor.monitorDetailsList[e.monitor_id],o=(t,e)=>{var n,a,r;return e?null!==(a=null===(r=t.deleteMonitor.loading)||void 0===r?void 0:r.includes(e))&&void 0!==a&&a:(null!==(n=t.deleteMonitor.loading)&&void 0!==n?n:[]).length>0},c=(t,e)=>{var n,a;return null!==(n=null===(a=t.deleteMonitor.deletedMonitorIds)||void 0===a?void 0:a.includes(e))&&void 0!==n&&n},s=t=>t.monitor.loading,d=(t,e)=>{var n;return null===(n=t.monitor.monitorLocationsList)||void 0===n?void 0:n.get(e)},l=t=>t.monitorStatus.status,u=t=>t.dynamicSettings,b=({ping:t})=>t,f=({pingList:t})=>t,O=t=>t.ml.mlCapabilities,g=Object(a.createSelector)(O,(t=>{var e,n;return(null==t||null===(e=t.data)||void 0===e?void 0:e.isPlatinumOrTrialLicense)&&(null==t||null===(n=t.data)||void 0===n?void 0:n.mlFeatureEnabledInSpace)})),p=Object(a.createSelector)(O,(t=>{var e,n;return null==t||null===(e=t.data)||void 0===e||null===(n=e.capabilities)||void 0===n?void 0:n.canCreateJob})),S=Object(a.createSelector)(O,(t=>{var e,n;return null==t||null===(e=t.data)||void 0===e||null===(n=e.capabilities)||void 0===n?void 0:n.canDeleteJob})),y=({ml:t})=>t.mlJob,E=({ml:t})=>t.createJob,T=({ml:t})=>t.createJob.loading,m=({ml:t})=>t.deleteJob.loading,j=({ml:t})=>t.deleteJob,_=({ml:t})=>t.anomalies.data,v=({monitorDuration:t})=>t,A=({ui:{alertFlyoutVisible:t}})=>t,I=({ui:{alertFlyoutType:t}})=>t,h=({indexStatus:t})=>t.indexStatus,L=({monitorList:t})=>t,N=({monitorManagementList:t})=>t,C=({ui:{esKuery:t}})=>t,M=({ui:{searchText:t}})=>t,R=({selectedFilters:t})=>t,k=({ui:{monitorId:t}})=>t,w=({journeys:t})=>t,G=({networkEvents:t})=>t,U=({synthetics:t})=>t,D=t=>t.monitorManagementList.syntheticsService},54:function(t,e,n){"use strict";n.d(e,"P",(function(){return i})),n.d(e,"O",(function(){return o})),n.d(e,"Q",(function(){return c})),n.d(e,"R",(function(){return s})),n.d(e,"S",(function(){return d})),n.d(e,"W",(function(){return l})),n.d(e,"T",(function(){return u})),n.d(e,"r",(function(){return b})),n.d(e,"t",(function(){return f})),n.d(e,"s",(function(){return O})),n.d(e,"U",(function(){return g})),n.d(e,"b",(function(){return p})),n.d(e,"V",(function(){return S})),n.d(e,"c",(function(){return y})),n.d(e,"L",(function(){return E})),n.d(e,"u",(function(){return T})),n.d(e,"w",(function(){return m})),n.d(e,"v",(function(){return j})),n.d(e,"a",(function(){return _})),n.d(e,"A",(function(){return v})),n.d(e,"B",(function(){return A})),n.d(e,"D",(function(){return I})),n.d(e,"C",(function(){return h})),n.d(e,"N",(function(){return L})),n.d(e,"m",(function(){return N})),n.d(e,"d",(function(){return C})),n.d(e,"n",(function(){return M})),n.d(e,"e",(function(){return R})),n.d(e,"l",(function(){return k})),n.d(e,"o",(function(){return w})),n.d(e,"q",(function(){return G})),n.d(e,"p",(function(){return U})),n.d(e,"M",(function(){return D})),n.d(e,"x",(function(){return x})),n.d(e,"z",(function(){return F})),n.d(e,"y",(function(){return H})),n.d(e,"E",(function(){return Y})),n.d(e,"G",(function(){return K})),n.d(e,"F",(function(){return B})),n.d(e,"H",(function(){return J})),n.d(e,"J",(function(){return q})),n.d(e,"I",(function(){return V})),n.d(e,"f",(function(){return $})),n.d(e,"h",(function(){return W})),n.d(e,"g",(function(){return z})),n.d(e,"i",(function(){return X})),n.d(e,"k",(function(){return Z})),n.d(e,"j",(function(){return Q})),n.d(e,"K",(function(){return tt}));var a=n(83);Object(a.a)("GET_SNAPSHOT_COUNT");var r=n(63);const i=Object(r.createAction)("TOGGLE ALERT FLYOUT"),o=Object(r.createAction)("SET ALERT FLYOUT TYPE"),c=Object(r.createAction)("SET BASE PATH"),s=Object(r.createAction)("SET ES KUERY STRING"),d=Object(r.createAction)("SET SEARCH"),l=Object(r.createAction)("TOGGLE INTEGRATION POPOVER STATE"),u=Object(r.createAction)("SET MONITOR ID"),b=Object(r.createAction)("GET_MONITOR_LIST"),f=Object(r.createAction)("GET_MONITOR_LIST_SUCCESS"),O=Object(r.createAction)("GET_MONITOR_LIST_FAIL"),g=Object(r.createAction)("SET_UPDATING_MONITOR_ID"),p=Object(r.createAction)("CLEAR_REFRESH_MONITOR_ID"),S=Object(a.a)("TEST_NOW_MONITOR_ACTION"),y=Object(r.createAction)("CLEAR_TEST_NOW_MONITOR_ACTION"),E=Object(a.a)("GET_UPDATED_MONITOR"),T=Object(r.createAction)("GET_MONITOR_STATUS"),m=Object(r.createAction)("GET_MONITOR_STATUS_SUCCESS"),j=Object(r.createAction)("GET_MONITOR_STATUS_FAIL"),_=Object(r.createAction)("CLEAR PINGS"),v=Object(a.a)("GET_PING_HISTOGRAM"),A=Object(r.createAction)("GET PINGS"),I=Object(r.createAction)("GET PINGS SUCCESS"),h=Object(r.createAction)("GET PINGS FAIL"),L=Object(r.createAction)("RESET_ML_STATE"),N=Object(a.a)("GET_EXISTING_ML_JOB"),C=Object(a.a)("CREATE_ML_JOB"),M=Object(a.a)("GET_ML_CAPABILITIES"),R=Object(a.a)("DELETE_ML_JOB"),k=Object(a.a)("GET_ANOMALY_RECORDS"),w=Object(r.createAction)("GET_MONITOR_DURATION"),G=Object(r.createAction)("GET_MONITOR_DURATION_SUCCESS"),U=Object(r.createAction)("GET_MONITOR_DURATION_FAIL"),D=Object(a.a)("GET INDEX STATUS");var P=n(65);const x=Object(P.createAction)("GET_MONITOR_MANAGEMENT_LIST"),F=Object(P.createAction)("GET_MONITOR_MANAGEMENT_LIST_SUCCESS"),H=Object(P.createAction)("GET_MONITOR_MANAGEMENT_LIST_FAILURE"),Y=Object(P.createAction)("GET_SERVICE_LOCATIONS_LIST"),K=Object(P.createAction)("GET_SERVICE_LOCATIONS_LIST_SUCCESS"),B=Object(P.createAction)("GET_SERVICE_LOCATIONS_LIST_FAILURE"),J=Object(P.createAction)("GET_SYNTHETICS_ENABLEMENT"),q=Object(P.createAction)("GET_SYNTHETICS_ENABLEMENT_SUCCESS"),V=Object(P.createAction)("GET_SYNTHETICS_ENABLEMENT_FAILURE"),$=Object(P.createAction)("DISABLE_SYNTHETICS"),W=Object(P.createAction)("DISABLE_SYNTEHTICS_SUCCESS"),z=Object(P.createAction)("DISABLE_SYNTHETICS_FAILURE"),X=Object(P.createAction)("ENABLE_SYNTHETICS"),Z=Object(P.createAction)("ENABLE_SYNTEHTICS_SUCCESS"),Q=Object(P.createAction)("ENABLE_SYNTHETICS_FAILURE"),tt=Object(a.a)("GET_SYNTHETICS_SERVICE_ALLOWED")},61:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(9),r=n.n(a),i=n(74),o=n(169),c=n(6);class ApiService{get http(){return this._http}set http(t){this._http=t}get addInspectorRequest(){return this._addInspectorRequest}set addInspectorRequest(t){this._addInspectorRequest=t}constructor(){r()(this,"_http",void 0),r()(this,"_addInspectorRequest",void 0)}static getInstance(){return ApiService.instance||(ApiService.instance=new ApiService),ApiService.instance}async get(t,e,n,a=!1){var r;const s=await this._http.fetch({path:t,query:e,asResponse:a});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:s,status:c.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(s);if(Object(i.isRight)(e))return e.right;console.error(`API ${t} is not returning expected response, ${Object(o.a)(e.left)} for response`,s)}return s}async post(t,e,n,a){var r;const s=await this._http.post(t,{method:"POST",body:JSON.stringify(e),query:a});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:s,status:c.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(s);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${Object(o.a)(e.left)}`)}return s}async put(t,e,n,a){const r=await this._http.put(t,{method:"PUT",body:JSON.stringify(e),query:a});if(n){const e=n.decode(r);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${Object(o.a)(e.left)}`)}return r}async delete(t){const e=await this._http.delete(t);if(e instanceof Error)throw e;return e}}r()(ApiService,"instance",void 0);const s=ApiService.getInstance()},68:function(t,e,n){"use strict";n.d(e,"f",(function(){return o})),n.d(e,"i",(function(){return c})),n.d(e,"h",(function(){return s})),n.d(e,"q",(function(){return d})),n.d(e,"k",(function(){return l})),n.d(e,"r",(function(){return b})),n.d(e,"u",(function(){return f})),n.d(e,"e",(function(){return O.a})),n.d(e,"m",(function(){return g})),n.d(e,"l",(function(){return p})),n.d(e,"g",(function(){return S})),n.d(e,"v",(function(){return y})),n.d(e,"s",(function(){return E})),n.d(e,"a",(function(){return T})),n.d(e,"j",(function(){return m})),n.d(e,"p",(function(){return j})),n.d(e,"t",(function(){return _})),n.d(e,"w",(function(){return v})),n.d(e,"d",(function(){return A})),n.d(e,"b",(function(){return I})),n.d(e,"c",(function(){return h})),n.d(e,"o",(function(){return L})),n.d(e,"n",(function(){return N}));var a=n(52),r=n(61),i=n(51);const o=async({monitorId:t,dateStart:e,dateEnd:n})=>{const o={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DETAILS,o,a.n)},c=async({monitorId:t,dateStart:e,dateEnd:n})=>{const o={dateStart:e,dateEnd:n,monitorId:t};return await r.a.get(i.a.MONITOR_LOCATIONS,o,a.o)},s=async t=>await r.a.get(i.a.MONITOR_LIST,t,a.s),d=async({dateRangeStart:t,dateRangeEnd:e,filters:n,query:o})=>{const c={dateRangeStart:t,dateRangeEnd:e,...n&&{filters:n},...o&&{query:o}};return await r.a.get(i.a.SNAPSHOT_COUNT,c,a.z)},l=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_STATUS,a)},u=i.a.DYNAMIC_SETTINGS,b=async()=>await r.a.get(u,void 0,a.h),f=async({settings:t})=>await r.a.post(u,t,a.g);var O=n(99);const g=async({dateRange:{from:t,to:e},...n})=>await r.a.get(i.a.PINGS,{from:t,to:e,...n},a.w),p=async({monitorId:t,dateStart:e,dateEnd:n,filters:a,bucketSize:o,query:c,timeZone:s})=>{const d={dateStart:e,dateEnd:n,monitorId:t,filters:a,bucketSize:o,query:c,timeZone:s};return await r.a.get(i.a.PING_HISTOGRAM,d)},S=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DURATION,a)},y=async({monitor:t,id:e})=>e?await r.a.put(`${i.a.SYNTHETICS_MONITORS}/${e}`,t):await r.a.post(i.a.SYNTHETICS_MONITORS,t,void 0,{preserve_namespace:!0}),E=async({id:t})=>await r.a.get(`${i.a.SYNTHETICS_MONITORS}/${t}`),T=async({id:t})=>await r.a.delete(`${i.a.SYNTHETICS_MONITORS}/${t}`),m=async t=>await r.a.get(i.a.SYNTHETICS_MONITORS,t,a.q),j=async()=>{const{throttling:t,locations:e}=await r.a.get(i.a.SERVICE_LOCATIONS,void 0,a.y);return{throttling:t,locations:e}},_=async({monitor:t,id:e})=>await r.a.post(i.a.RUN_ONCE_MONITOR+`/${e}`,t),v=async t=>await r.a.get(i.a.TRIGGER_MONITOR+`/${t}`),A=async()=>await r.a.get(i.a.SYNTHETICS_ENABLEMENT,void 0,a.p),I=async()=>await r.a.delete(i.a.SYNTHETICS_ENABLEMENT),h=async()=>await r.a.post(i.a.SYNTHETICS_ENABLEMENT),L=async()=>await r.a.get(i.a.SERVICE_ALLOWED),N=async()=>await r.a.get(i.a.SYNTHETICS_APIKEY)},69:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(9),r=n.n(a),i=n(61);class KibanaService{get core(){return this._core}set core(t){this._core=t,i.a.http=this._core.http}get theme(){return this._theme}set theme(t){this._theme=t}get toasts(){return this._core.notifications.toasts}constructor(){r()(this,"_core",void 0),r()(this,"_theme",void 0)}static getInstance(){return KibanaService.instance||(KibanaService.instance=new KibanaService),KibanaService.instance}}r()(KibanaService,"instance",void 0);const o=KibanaService.getInstance()},73:function(t,e,n){"use strict";n.d(e,"e",(function(){return y})),n.d(e,"j",(function(){return E})),n.d(e,"k",(function(){return T})),n.d(e,"i",(function(){return m})),n.d(e,"f",(function(){return j})),n.d(e,"g",(function(){return _})),n.d(e,"a",(function(){return A})),n.d(e,"h",(function(){return L})),n.d(e,"d",(function(){return N})),n.d(e,"n",(function(){return C})),n.d(e,"b",(function(){return M})),n.d(e,"l",(function(){return R})),n.d(e,"c",(function(){return k})),n.d(e,"m",(function(){return w}));var a=n(0),r=n(63),i=n(62),o=n(83),c=n(155),s=n(79),d=n(220),l=n(69),u=n(53),b=n(23),f=n(1),O=n.n(f),g=n(22),p=n(24),S=n(196);const y=Object(o.a)("CREATE ALERT"),E=Object(o.a)("GET CONNECTORS"),T=Object(o.a)("GET ALERTS"),m=Object(o.a)("GET EXISTING ALERTS"),j=Object(o.a)("DELETE ALERTS"),_=Object(o.a)("DELETE ANOMALY ALERT"),v={connectors:Object(c.a)(),newAlert:Object(c.a)(),alerts:Object(c.a)(),anomalyAlert:Object(c.a)(),alertDeletion:Object(c.a)(),anomalyAlertDeletion:Object(c.a)()},A=Object(r.handleActions)({...Object(c.b)("connectors",E),...Object(c.b)("newAlert",y),...Object(c.b)("alerts",T),...Object(c.b)("anomalyAlert",m),...Object(c.b)("alertDeletion",j),...Object(c.b)("anomalyAlertDeletion",_)},v),I=()=>{l.a.core.notifications.toasts.addSuccess(a.i18n.translate("xpack.synthetics.overview.alerts.disabled.success",{defaultMessage:"Rule successfully disabled!"}))},h=t=>{l.a.core.notifications.toasts.addError(t,{title:a.i18n.translate("xpack.synthetics.overview.alerts.disabled.failed",{defaultMessage:"Rule cannot be disabled!"})})};function*L(){yield Object(i.takeLatest)(m.get,Object(s.a)(d.d,m.success,m.fail)),yield Object(i.takeLatest)(_.get,(function*(t){try{yield Object(i.call)(d.b,t.payload),yield Object(i.put)(_.success(t.payload.alertId)),I();const e=yield Object(i.select)(u.s);yield Object(i.put)(m.get({monitorId:e}))}catch(t){h(t),yield Object(i.put)(_.fail(t))}})),yield Object(i.takeLatest)(j.get,(function*(t){try{yield Object(i.call)(d.b,t.payload),yield Object(i.put)(y.success(null)),yield Object(i.put)(j.success(t.payload.alertId)),I(),yield Object(i.put)(T.get())}catch(t){h(t),yield Object(i.put)(j.fail(t))}})),yield Object(i.takeLatest)(E.get,Object(s.a)(d.e,E.success,E.fail)),yield Object(i.takeLatest)(T.get,Object(s.a)(d.f,T.success,T.fail)),yield Object(i.takeLatest)(y.get,(function*(t){try{const e=yield Object(i.call)(d.a,t.payload);yield Object(i.put)(y.success(e)),l.a.core.notifications.toasts.addSuccess(((t,e,n)=>{const r=Object(S.a)(n.id,l.a.core.http.basePath.get());return{title:a.i18n.translate("xpack.synthetics.overview.alerts.enabled.success",{defaultMessage:"Rule successfully enabled "}),text:Object(p.toMountPoint)(O.a.createElement(p.RedirectAppLinks,{application:l.a.core.application},O.a.createElement(g.EuiText,null,O.a.createElement(b.FormattedMessage,{id:"xpack.synthetics.overview.alerts.enabled.success.description",defaultMessage:"A message will be sent to {actionConnectors} when this monitor is down.",values:{actionConnectors:O.a.createElement("strong",null,t.map((({name:t})=>t)).join(", "))}})),O.a.createElement(g.EuiSpacer,{size:"xs"}),O.a.createElement(g.EuiLink,{href:r},a.i18n.translate("xpack.synthetics.enableAlert.editAlert",{defaultMessage:"Edit alert"}))),{theme$:e})}})(t.payload.defaultActions,l.a.theme,e)),yield Object(i.put)(T.get())}catch(t){l.a.core.notifications.toasts.addError(t,{title:a.i18n.translate("xpack.synthetics.overview.alerts.enabled.failed",{defaultMessage:"Rule cannot be enabled!"})}),yield Object(i.put)(y.fail(t))}}))}const N=({alerts:t})=>t.connectors,C=({alerts:t})=>t.newAlert,M=({alerts:t})=>t.alerts,R=({alerts:t})=>t.alertDeletion,k=({alerts:t})=>t.anomalyAlert,w=({alerts:t})=>t.anomalyAlertDeletion.loading},79:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(62);function r(t,e,n){return function*(r){try{const i=yield Object(a.call)(t,r.payload);i instanceof Error?(console.error(i),yield Object(a.put)(n(i))):yield Object(a.put)(e(i))}catch(t){console.error(t),yield Object(a.put)(n(t))}}}},83:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n(63);function r(t){return{get:Object(a.createAction)(t),success:Object(a.createAction)(`${t}_SUCCESS`),fail:Object(a.createAction)(`${t}_FAIL`)}}},84:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return d}));var a=n(63);const r=Object(a.createAction)("GET_DYNAMIC_SETTINGS"),i=Object(a.createAction)("GET_DYNAMIC_SETTINGS_SUCCESS"),o=Object(a.createAction)("GET_DYNAMIC_SETTINGS_FAIL"),c=Object(a.createAction)("SET_DYNAMIC_SETTINGS"),s=Object(a.createAction)("SET_DYNAMIC_SETTINGS_SUCCESS"),d=Object(a.createAction)("SET_DYNAMIC_SETTINGS_FAIL")},85:function(t,e,n){"use strict";n.d(e,"a",(function(){return S})),n.d(e,"c",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"e",(function(){return O})),n.d(e,"f",(function(){return g})),n.d(e,"d",(function(){return p}));var a=n(65),r=n(117);const i=Object(r.a)("[AGENT POLICIES] GET"),o=Object(a.createAction)("SET MANAGE FLYOUT OPEN"),c=Object(a.createAction)("SET MANAGE FLYOUT ADDING NEW");var s=n(62),d=n(221),l=n(90);function*u(){yield Object(s.takeLeading)(i.get,Object(l.a)(d.a,i.success,i.fail))}var b=n(75);const f=t=>t.agentPolicies,O=Object(b.createSelector)(f,(t=>t)),g=Object(b.createSelector)(f,(t=>Boolean(t.isManageFlyoutOpen))),p=Object(b.createSelector)(f,(t=>Boolean(t.isAddingNewPrivateLocation))),S=Object(a.createReducer)({data:null,loading:!1,error:null,isManageFlyoutOpen:!1,isAddingNewPrivateLocation:!1},(t=>{t.addCase(i.get,(t=>{t.loading=!0})).addCase(i.success,((t,e)=>{t.data=e.payload,t.loading=!1})).addCase(i.fail,((t,e)=>{t.error=e.payload,t.loading=!1})).addCase(o,((t,e)=>{t.isManageFlyoutOpen=e.payload})).addCase(c,((t,e)=>{t.isAddingNewPrivateLocation=e.payload}))}))},97:function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return u}));var a=n(61),r=n(139),i=n(107),o=n(51);async function c(t){return a.a.post(o.a.JOURNEY_SCREENSHOT_BLOCKS,{hashes:t})}async function s(t){return a.a.get(`/internal/uptime/journey/${t.checkGroup}`,{syntheticEventTypes:t.syntheticEventTypes},i.c)}async function d({checkGroups:t}){return a.a.get(o.a.JOURNEY_FAILED_STEPS,{checkGroups:t},i.a)}async function l({monitorId:t,timestamp:e,stepIndex:n,location:i}){return await a.a.get(o.a.SYNTHETICS_SUCCESSFUL_CHECK,{monitorId:t,timestamp:e,stepIndex:n,location:i},r.d)}async function u(t){try{var e;const n=new Request(t),a=await fetch(n);if(200!==a.status)return null;const r=a.headers.get("content-type"),i=a.headers.get("caption-name"),o=Number(null!==(e=a.headers.get("max-steps"))&&void 0!==e?e:0);return-1!==(null==r?void 0:r.indexOf("application/json"))?{stepName:i,maxSteps:o,ref:await a.json()}:{stepName:i,maxSteps:o,src:URL.createObjectURL(await a.blob())}}catch(t){return null}}},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(51),r=n(52),i=n(61);let o=null;const c=async()=>o||(o=i.a.get(a.a.INDEX_STATUS,void 0,r.C),o.then((()=>{o=null}),(()=>{o=null})),o)}}]);