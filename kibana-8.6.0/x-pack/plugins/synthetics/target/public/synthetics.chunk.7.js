/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.synthetics_bundle_jsonpfunction=window.synthetics_bundle_jsonpfunction||[]).push([[7],{119:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(22),i=a(0),s=a(1),r=a.n(s),l=a(59),o=a(60);const c=({number:e,onChange:t,onBlur:a,unit:s,readOnly:c=!1})=>{const{allowedScheduleUnits:u}=Object(l.A)(),g=null!=u&&u.length?d.filter((e=>u.includes(e.value))):d,E=1===g.length&&g[0].value===o.i.MINUTES?1:"any";return r.a.createElement(n.EuiFlexGroup,{gutterSize:"s"},r.a.createElement(n.EuiFlexItem,null,r.a.createElement(n.EuiFieldNumber,{"aria-label":i.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.scheduleField.number",{defaultMessage:"Number"}),id:"syntheticsFleetScheduleField--number","data-test-subj":"scheduleFieldInput",step:E,min:1,value:e,onChange:e=>{const a=e.target.value;t({number:a,unit:s})},onBlur:e=>{if(1===E){const a=`${Math.ceil(+e.target.value)}`;t({number:a,unit:s})}a()},readOnly:c})),r.a.createElement(n.EuiFlexItem,null,r.a.createElement(n.EuiSelect,{"aria-label":i.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.scheduleField.unit",{defaultMessage:"Unit"}),id:"syntheticsFleetScheduleField--unit","data-test-subj":"scheduleFieldSelect",options:g,value:s,onChange:a=>{const n=a.target.value;t({number:e,unit:n})},onBlur:()=>a(),disabled:c})))},d=[{text:i.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.scheduleField.seconds",{defaultMessage:"Seconds"}),value:o.i.SECONDS},{text:i.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.scheduleField.minutes",{defaultMessage:"Minutes"}),value:o.i.MINUTES}]},134:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(58),i=a.n(n),s=a(1),r=a.n(s),l=a(22);const o=({onChange:e,onBlur:t,selectedOptions:a,readOnly:n=!1,...o})=>{const[d,u]=Object(s.useState)(a.map((e=>({label:e,key:e})))),[g,E]=Object(s.useState)(!1),m=Object(s.useCallback)((t=>{u(t);const a=t.map((e=>e.label));e(a),E(!1)}),[e,u,E]),p=Object(s.useCallback)((t=>{const n=t.trim(),i={label:n};e([...a,n]),u([...d,i])}),[e,d,a,u]),h=Object(s.useCallback)((e=>{E(!!e&&!c(e))}),[E]);return r.a.createElement(l.EuiComboBox,i()({"data-test-subj":"syntheticsFleetComboBox",noSuggestions:!0,selectedOptions:d,onCreateOption:p,onChange:m,onBlur:()=>null==t?void 0:t(),onSearchChange:h,isInvalid:g,isDisabled:n},o))},c=e=>null!==e.match(/\S+/)},163:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(1),i=a.n(n),s=a(25),r=a.n(s),l=a(22),o=a(27),c=a(24);const d=r()(l.EuiPanel).withConfig({displayName:"CodeEditorContainer",componentId:"sc-1v311hq-0"})(["padding:0;"]),u=({ariaLabel:e,id:t,languageId:a,onChange:n,value:s,readOnly:r=!1})=>i.a.createElement(d,{borderRadius:"none",hasShadow:!1,hasBorder:!0},i.a.createElement(g,{id:`${t}-editor`,"aria-label":e,"data-test-subj":"codeEditorContainer"},i.a.createElement(c.CodeEditor,{languageId:a,width:"100%",height:"250px",value:s,onChange:n,options:{renderValidationDecorations:s?"on":"off",readOnly:r},isCopyable:!0,allowFullScreen:!0}))),g=o.euiStyled.div`
  & > .kibanaCodeEditor {
    z-index: 0;
  }
`},204:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(1),i=a(60),s=a(59);a(64).d;const r=(e="")=>{const{isTLSEnabled:t,isZipUrlTLSEnabled:a,name:r,locations:l,namespace:o}=Object(s.A)(),{fields:c}=Object(s.y)(),{fields:d}=Object(s.C)(),{fields:u}=Object(s.z)(),{fields:g}=Object(s.w)(),{fields:E}=Object(s.x)(),{fields:m}=Object(s.B)(),{fields:p}=Object(s.v)(),{fields:h}=Object(s.D)(),b=Object(n.useMemo)((()=>({is_tls_enabled:t,is_zip_url_tls_enabled:a})),[t,a]);return Object(n.useMemo)((()=>({[i.d.HTTP]:{...c,...E,...h,[i.b.METADATA]:{...c[i.b.METADATA],...b},[i.b.NAME]:e||r,[i.b.LOCATIONS]:l,[i.b.NAMESPACE]:o},[i.d.TCP]:{...d,...m,...h,[i.b.METADATA]:{...d[i.b.METADATA],...b},[i.b.NAME]:e||r,[i.b.LOCATIONS]:l,[i.b.NAMESPACE]:o},[i.d.ICMP]:{...u,[i.b.NAME]:e||r,[i.b.LOCATIONS]:l,[i.b.NAMESPACE]:o},[i.d.BROWSER]:{...g,...p,[i.b.METADATA]:{...g[i.b.METADATA],...b},[i.b.NAME]:e||r,[i.b.LOCATIONS]:l,[i.b.NAMESPACE]:o}})),[b,c,E,d,m,u,g,p,h,e,r,l,o])}},205:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return m}));var n=a(60);const i=/^[0-9]*$/g,s=/[^\:]+:[0-9]{1,5}$/g;function r(e){return Object.keys(e).some((e=>!!e&&/[\s]/g.test(e)))}const l={[n.b.SCHEDULE]:({[n.b.SCHEDULE]:e})=>{const{number:t,unit:a}=e,i=parseFloat(t);return!i||!a||i<1},[n.b.TIMEOUT]:({[n.b.MONITOR_TYPE]:e,[n.b.TIMEOUT]:t,[n.b.SCHEDULE]:a})=>{const{number:i,unit:s}=a;return e!==n.d.BROWSER&&(!t||parseFloat(t)<0||(({scheduleNumber:e,scheduleUnit:t,timeout:a})=>{let i;switch(t){case n.i.SECONDS:i=parseFloat(e);break;case n.i.MINUTES:i=60*parseFloat(e);break;default:i=parseFloat(e)}return parseFloat(a)>i})({timeout:t,scheduleNumber:i,scheduleUnit:s}))}},o={[n.b.RESPONSE_STATUS_CHECK]:({[n.b.RESPONSE_STATUS_CHECK]:e})=>{const t=e;return!!t.length&&t.some((e=>!`${e}`.match(i)))},[n.b.RESPONSE_HEADERS_CHECK]:({[n.b.RESPONSE_HEADERS_CHECK]:e})=>r(e),[n.b.REQUEST_HEADERS_CHECK]:({[n.b.REQUEST_HEADERS_CHECK]:e})=>r(e),[n.b.MAX_REDIRECTS]:({[n.b.MAX_REDIRECTS]:e})=>!!e&&!`${e}`.match(i)||parseFloat(e)<0,[n.b.URLS]:({[n.b.URLS]:e})=>!e,...l},c={[n.b.HOSTS]:({[n.b.HOSTS]:e})=>!e||!`${e}`.match(s),...l},d={[n.b.HOSTS]:({[n.b.HOSTS]:e})=>!e,[n.b.WAIT]:({[n.b.WAIT]:e})=>!!e&&!i.test(`${e}`)&&parseFloat(e)<0,...l},u=(e,t)=>{if(void 0===e||""===e)return!1;const a=parseFloat(e);return isNaN(a)||(t?a<0:a<=0)},g=e=>{try{e&&JSON.parse(null!=e?e:"")}catch(e){return!0}return!1},E={...l,[n.b.SOURCE_ZIP_URL]:({[n.b.SOURCE_ZIP_URL]:e,[n.b.SOURCE_INLINE]:t})=>!e&&!t,[n.b.SOURCE_INLINE]:({[n.b.SOURCE_ZIP_URL]:e,[n.b.SOURCE_INLINE]:t})=>!e&&!t,[n.b.DOWNLOAD_SPEED]:({[n.b.DOWNLOAD_SPEED]:e})=>u(e),[n.b.UPLOAD_SPEED]:({[n.b.UPLOAD_SPEED]:e})=>u(e),[n.b.LATENCY]:({[n.b.LATENCY]:e})=>u(e,!0),[n.b.PARAMS]:({[n.b.PARAMS]:e})=>g(e)},m={[n.d.HTTP]:o,[n.d.TCP]:c,[n.d.ICMP]:d,[n.d.BROWSER]:E}},207:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(1),i=a.n(n),s=a(23),r=a(22),l=a(60);function o({fields:e,onChange:t,onBlur:a,readOnly:n}){return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.EuiFormRow,{helpText:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.enabled.helpText",defaultMessage:"Switch this configuration off to disable the monitor."})},i.a.createElement(r.EuiSwitch,{label:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.enabled.label",defaultMessage:"Enabled"}),"data-test-subj":"syntheticsEnabled",checked:e[l.b.ENABLED],onChange:e=>t({value:e.target.checked,configKey:l.b.ENABLED}),onBlur:()=>null==a?void 0:a(),disabled:n})))}},208:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),i=a.n(n),s=a(23),r=a(22),l=a(92),o=a(80),c=a(59),d=a(60);const u=()=>i.a.createElement(r.EuiCallOut,{title:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.automatic_node_cap.title",defaultMessage:"Automatic cap"}),color:"warning",iconType:"alert"},i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.automatic_node_cap.message",defaultMessage:"When disabling throttling, your monitor will still have its bandwidth capped by the configurations of the Synthetics Nodes in which it's running."})),g=()=>i.a.createElement(r.EuiCallOut,{title:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.exceeded_throttling.title",defaultMessage:"You've exceeded the Synthetics Node bandwidth limits"}),color:"warning",iconType:"alert"},i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.exceeded_throttling.message",defaultMessage:"When using throttling values larger than a Synthetics Node bandwidth limit, your monitor will still have its bandwidth capped."})),E=({throttlingField:e,limit:t})=>i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.throttling_exceeded.message",defaultMessage:"You have exceeded the { throttlingField } limit for Synthetic Nodes. The { throttlingField } value can't be larger than { limit }Mbps.",values:{throttlingField:e,limit:t}}),m=Object(n.memo)((({validate:e,minColumnWidth:t,onFieldBlur:a,readOnly:m=!1})=>{var p,h,b;const{fields:f,setFields:S}=Object(c.v)(),{runsOnService:y,throttling:C}=Object(c.A)(),P=C[d.a.DOWNLOAD],v=C[d.a.UPLOAD],T=Object(n.useCallback)((({value:e,configKey:t})=>{S((a=>({...a,[t]:e})))}),[S]),k=y&&parseFloat(f[d.b.DOWNLOAD_SPEED])>P,F=y&&parseFloat(f[d.b.UPLOAD_SPEED])>v,M=f[d.b.IS_THROTTLING_ENABLED],O=M?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.EuiSpacer,{size:"m"}),i.a.createElement(r.EuiFormRow,{label:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.download.label",defaultMessage:"Download Speed"}),labelAppend:i.a.createElement(o.a,null),isInvalid:!!e&&!(null===(p=e[d.b.DOWNLOAD_SPEED])||void 0===p||!p.call(e,f))||k,error:k?i.a.createElement(E,{throttlingField:"download",limit:P}):i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.download.error",defaultMessage:"Download speed must be greater than zero."})},i.a.createElement(r.EuiFieldNumber,{min:0,step:.001,value:f[d.b.DOWNLOAD_SPEED],onChange:e=>{T({value:e.target.value,configKey:d.b.DOWNLOAD_SPEED})},onBlur:()=>null==a?void 0:a(d.b.DOWNLOAD_SPEED),"data-test-subj":"syntheticsBrowserDownloadSpeed",append:i.a.createElement(r.EuiText,{size:"xs"},i.a.createElement("strong",null,"Mbps")),readOnly:m})),i.a.createElement(r.EuiFormRow,{label:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.upload.label",defaultMessage:"Upload Speed"}),labelAppend:i.a.createElement(o.a,null),isInvalid:!!e&&!(null===(h=e[d.b.UPLOAD_SPEED])||void 0===h||!h.call(e,f))||F,error:F?i.a.createElement(E,{throttlingField:"upload",limit:v}):i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.upload.error",defaultMessage:"Upload speed must be greater than zero."})},i.a.createElement(r.EuiFieldNumber,{min:0,step:.001,value:f[d.b.UPLOAD_SPEED],onChange:e=>T({value:e.target.value,configKey:d.b.UPLOAD_SPEED}),onBlur:()=>null==a?void 0:a(d.b.UPLOAD_SPEED),"data-test-subj":"syntheticsBrowserUploadSpeed",append:i.a.createElement(r.EuiText,{size:"xs"},i.a.createElement("strong",null,"Mbps")),readOnly:m})),i.a.createElement(r.EuiFormRow,{label:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.latency.label",defaultMessage:"Latency"}),labelAppend:i.a.createElement(o.a,null),isInvalid:!!e&&!(null===(b=e[d.b.LATENCY])||void 0===b||!b.call(e,f)),error:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.latency.error",defaultMessage:"Latency must not be negative."})},i.a.createElement(r.EuiFieldNumber,{min:0,value:f[d.b.LATENCY],onChange:e=>T({value:e.target.value,configKey:d.b.LATENCY}),onBlur:()=>null==a?void 0:a(d.b.LATENCY),"data-test-subj":"syntheticsBrowserLatency",append:i.a.createElement(r.EuiText,{size:"xs"},i.a.createElement("strong",null,"ms")),readOnly:m}))):i.a.createElement(i.a.Fragment,null,i.a.createElement(r.EuiSpacer,null),i.a.createElement(u,null));return i.a.createElement(l.a,{minColumnWidth:t,title:i.a.createElement("h4",null,i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.title",defaultMessage:"Throttling options"})),description:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.description",defaultMessage:"Control the monitor's download and upload speeds, and its latency to simulate your application's behaviour on slower or laggier networks."})},i.a.createElement(r.EuiSwitch,{id:"uptimeFleetIsThrottlingEnabled","aria-label":"enable throttling configuration","data-test-subj":"syntheticsBrowserIsThrottlingEnabled",checked:f[d.b.IS_THROTTLING_ENABLED],label:i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.throttling.switch.description",defaultMessage:"Enable throttling"}),onChange:e=>T({value:e.target.checked,configKey:d.b.IS_THROTTLING_ENABLED}),onBlur:()=>null==a?void 0:a(d.b.IS_THROTTLING_ENABLED),disabled:m}),M&&(k||F)?i.a.createElement(i.a.Fragment,null,i.a.createElement(r.EuiSpacer,null),i.a.createElement(g,null)):null,O)}))},216:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));var n=a(1),i=a.n(n),s=a(0),r=a(23),l=a(22),o=a(92),c=a(60),d=a(59),u=a(80);const g={certificateAuthorities:"",certificate:"",key:"",keyPassphrase:"",verificationMode:c.l.STRICT,version:[]},E=Object(n.memo)((({onChange:e,defaultValues:t=g,tlsRole:a})=>{const[o,d]=Object(n.useState)(null),[E,h]=Object(n.useState)(void 0),[S,y]=Object(n.useState)(t);return Object(n.useEffect)((()=>{e(S)}),[S,e]),i.a.createElement(l.EuiFormFieldset,{legend:{children:i.a.createElement(l.EuiScreenReaderOnly,null,i.a.createElement("span",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.legend",defaultMessage:"Certificate settings"})))}},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.label",defaultMessage:"Verification mode"}),helpText:S.verificationMode?p[S.verificationMode]:""},i.a.createElement(l.EuiSelect,{options:b,value:S.verificationMode,onChange:e=>{const t=e.target.value;y((e=>({...e,verificationMode:t})))},"data-test-subj":"syntheticsTLSVerificationMode"})),S.verificationMode===c.l.NONE&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiCallOut,{title:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.warning.title",defaultMessage:"Disabling TLS"}),color:"warning",size:"s"},i.a.createElement("p",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.warning.description",defaultMessage:"This mode disables many of the security benefits of SSL/TLS and should only be used after cautious consideration."}))),i.a.createElement(l.EuiSpacer,{size:"s"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.version.label",defaultMessage:"Supported TLS protocols"}),error:E,isInvalid:void 0!==E},i.a.createElement(l.EuiComboBox,{placeholder:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.version.placeholder",{defaultMessage:"Select one or more TLS protocols."}),options:f,selectedOptions:(S.version||[]).map((e=>({label:e}))),inputRef:d,onChange:e=>{y((t=>({...t,version:e.map((e=>e.label))}))),h(void 0)},onSearchChange:(e,t)=>{h(0===e.length||t?void 0:`"${e}" is not a valid option`)},onBlur:()=>{if(o){const{value:e}=o;h(0===e.length?void 0:`"${e}" is not a valid option`)}}})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateAuthorities.label",defaultMessage:"Certificate authorities"}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateAuthorities.helpText",defaultMessage:"PEM formatted custom certificate authorities."}),labelAppend:i.a.createElement(u.a,null)},i.a.createElement(l.EuiTextArea,{value:S.certificateAuthorities,onChange:e=>{const t=e.target.value;y((e=>({...e,certificateAuthorities:t})))},onBlur:e=>{const t=e.target.value;y((e=>({...e,certificateAuthorities:t.trim()})))},"data-test-subj":"syntheticsTLSCA"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(i.a.Fragment,null,m[a]," ",i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificate.label",defaultMessage:"certificate"})),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificate.helpText",defaultMessage:"PEM formatted certificate for TLS client authentication."}),labelAppend:i.a.createElement(u.a,null)},i.a.createElement(l.EuiTextArea,{value:S.certificate,onChange:e=>{const t=e.target.value;y((e=>({...e,certificate:t})))},onBlur:e=>{const t=e.target.value;y((e=>({...e,certificate:t.trim()})))},"data-test-subj":"syntheticsTLSCert"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(i.a.Fragment,null,m[a]," ",i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateKey.label",defaultMessage:"key"})),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateKey.helpText",defaultMessage:"PEM formatted certificate key for TLS client authentication."}),labelAppend:i.a.createElement(u.a,null)},i.a.createElement(l.EuiTextArea,{value:S.key,onChange:e=>{const t=e.target.value;y((e=>({...e,key:t})))},onBlur:e=>{const t=e.target.value;y((e=>({...e,key:t.trim()})))},"data-test-subj":"syntheticsTLSCertKey"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(i.a.Fragment,null,m[a]," ",i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateKeyPassphrase.label",defaultMessage:"key passphrase"})),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.certificateKeyPassphrase.helpText",defaultMessage:"Certificate key passphrase for TLS client authentication."}),labelAppend:i.a.createElement(u.a,null)},i.a.createElement(l.EuiFieldPassword,{value:S.keyPassphrase,onChange:e=>{const t=e.target.value;y((e=>({...e,keyPassphrase:t})))},"data-test-subj":"syntheticsTLSCertKeyPassphrase"})))})),m={client:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.tlsRole.client",defaultMessage:"Client"}),server:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certsField.tlsRole.server",defaultMessage:"Server"})},p={[c.l.CERTIFICATE]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.certificate.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA), but does not perform any hostname verification."}),[c.l.FULL]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.full.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA) and also verifies that the server’s hostname (or IP address) matches the names identified within the certificate."}),[c.l.NONE]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.none.description",{defaultMessage:"Performs no verification of the server’s certificate. It is primarily intended as a temporary diagnostic mechanism when attempting to resolve TLS errors; its use in production environments is strongly discouraged."}),[c.l.STRICT]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.strict.description",{defaultMessage:"Verifies that the provided certificate is signed by a trusted authority (CA) and also verifies that the server’s hostname (or IP address) matches the names identified within the certificate. If the Subject Alternative Name is empty, it returns an error."})},h={[c.l.CERTIFICATE]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.certificate.label",{defaultMessage:"Certificate"}),[c.l.FULL]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.full.label",{defaultMessage:"Full"}),[c.l.NONE]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.none.label",{defaultMessage:"None"}),[c.l.STRICT]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.certsField.verificationMode.strict.label",{defaultMessage:"Strict"})},b=[{value:c.l.CERTIFICATE,text:h[c.l.CERTIFICATE]},{value:c.l.FULL,text:h[c.l.FULL]},{value:c.l.NONE,text:h[c.l.NONE]},{value:c.l.STRICT,text:h[c.l.STRICT]}],f=Object.values(c.k).map((e=>({label:e}))),S=()=>{const{defaultValues:e,setFields:t}=Object(d.D)(),{isTLSEnabled:a}=Object(d.A)(),s=Object(n.useCallback)((e=>{t({[c.b.TLS_CERTIFICATE_AUTHORITIES]:e.certificateAuthorities,[c.b.TLS_CERTIFICATE]:e.certificate,[c.b.TLS_KEY]:e.key,[c.b.TLS_KEY_PASSPHRASE]:e.keyPassphrase,[c.b.TLS_VERIFICATION_MODE]:e.verificationMode,[c.b.TLS_VERSION]:e.version})}),[t]);return Object(n.useEffect)((()=>{a||t({[c.b.TLS_CERTIFICATE_AUTHORITIES]:void 0,[c.b.TLS_CERTIFICATE]:void 0,[c.b.TLS_KEY]:void 0,[c.b.TLS_KEY_PASSPHRASE]:void 0,[c.b.TLS_VERIFICATION_MODE]:void 0,[c.b.TLS_VERSION]:void 0})}),[t,a]),a?i.a.createElement(E,{defaultValues:{certificateAuthorities:e[c.b.TLS_CERTIFICATE_AUTHORITIES],certificate:e[c.b.TLS_CERTIFICATE],key:e[c.b.TLS_KEY],keyPassphrase:e[c.b.TLS_KEY_PASSPHRASE],verificationMode:e[c.b.TLS_VERIFICATION_MODE],version:e[c.b.TLS_VERSION]},onChange:s,tlsRole:"client"}):null};var y=a(134);function C({fields:e,onChange:t,onFieldBlur:a,validate:s}){var o;const{monitorType:g}=Object(d.A)(),E=g===c.d.BROWSER;return Object(n.useEffect)((()=>{g===c.d.BROWSER&&t({value:null,configKey:c.b.TIMEOUT})}),[t,g]),i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.APMServiceName.label",defaultMessage:"APM service name"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.APMServiceName.helpText",defaultMessage:"APM service name for this monitor. Corresponds to the service.name ECS field. Set this when monitoring an app that is also using APM to enable integrations between Uptime and APM data in Kibana."})},i.a.createElement(l.EuiFieldText,{value:e[c.b.APM_SERVICE_NAME],onChange:e=>t({value:e.target.value,configKey:c.b.APM_SERVICE_NAME}),onBlur:()=>null==a?void 0:a(c.b.APM_SERVICE_NAME),"data-test-subj":"syntheticsAPMServiceName"})),!E&&i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.label",defaultMessage:"Timeout in seconds"}),isInvalid:!(null===(o=s[c.b.TIMEOUT])||void 0===o||!o.call(s,e)),error:parseInt(e[c.b.TIMEOUT]||"",10)<0?i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.moreThanZeroError",defaultMessage:"Timeout must be greater than or equal to 0"}):i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.lessThanIntervalError",defaultMessage:"Timeout must be less than the monitor frequency"}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.timeout.helpText",defaultMessage:"The total time allowed for testing the connection and exchanging data."})},i.a.createElement(l.EuiFieldNumber,{min:0,value:e[c.b.TIMEOUT]||"",onChange:e=>t({value:e.target.value,configKey:c.b.TIMEOUT}),onBlur:()=>null==a?void 0:a(c.b.TIMEOUT),step:"any"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tags.label",defaultMessage:"Tags"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tags.helpText",defaultMessage:"A list of tags that will be sent with the monitor event. Press enter to add a new tag. Displayed in Uptime and enables searching by tag."})},i.a.createElement(y.a,{selectedOptions:e[c.b.TAGS],onChange:e=>t({value:e,configKey:c.b.TAGS}),onBlur:()=>null==a?void 0:a(c.b.TAGS),"data-test-subj":"syntheticsTags"})))}var P=a(207);const v=({validate:e,onInputChange:t,onFieldBlur:a,children:n,fields:s})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(P.a,{fields:s,onChange:t,onBlur:()=>null==a?void 0:a(c.b.ENABLED)}),n,i.a.createElement(C,{fields:s,validate:e,onChange:t,onFieldBlur:a}));var T=a(119);const k=Object(n.memo)((({validate:e,onFieldBlur:t})=>{var a,s,o;const{fields:g,setFields:E}=Object(d.y)(),m=Object(n.useCallback)((({value:e,configKey:t})=>{E((a=>({...a,[t]:e})))}),[E]);return i.a.createElement(v,{fields:g,validate:e,onInputChange:m,onFieldBlur:t},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.URL",defaultMessage:"URL"}),isInvalid:!(null===(a=e[c.b.URLS])||void 0===a||!a.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.URL.error",defaultMessage:"URL is required"})},i.a.createElement(l.EuiFieldText,{value:g[c.b.URLS],onChange:e=>m({value:e.target.value,configKey:c.b.URLS}),onBlur:()=>t(c.b.URLS),"data-test-subj":"syntheticsUrlField"})),i.a.createElement(l.EuiFormRow,{id:"syntheticsFleetScheduleField",label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Frequency"}),isInvalid:!(null===(s=e[c.b.SCHEDULE])||void 0===s||!s.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor frequency is required"})},i.a.createElement(T.a,{onChange:e=>m({value:e,configKey:c.b.SCHEDULE}),onBlur:()=>t(c.b.SCHEDULE),number:g[c.b.SCHEDULE].number,unit:g[c.b.SCHEDULE].unit})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects",defaultMessage:"Max redirects"}),isInvalid:!(null===(o=e[c.b.MAX_REDIRECTS])||void 0===o||!o.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects.error",defaultMessage:"Max redirects must be 0 or greater"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.maxRedirects.helpText",defaultMessage:"The total number of redirections to follow."})},i.a.createElement(l.EuiFieldNumber,{min:0,value:g[c.b.MAX_REDIRECTS],onChange:e=>m({value:e.target.value,configKey:c.b.MAX_REDIRECTS}),onBlur:()=>t(c.b.MAX_REDIRECTS)})))}));var F=a(25),M=a.n(F);const O=M()(l.EuiFormFieldset).withConfig({displayName:"StyledFieldset",componentId:"sc-1ebl73a-0"})(["&&&{legend{width:calc(100% - 52px);margin-right:40px;}.euiFlexGroup{margin-left:0;}.euiFlexItem{margin-left:0;padding-left:12px;}}"]),x=M()(l.EuiFieldText).withConfig({displayName:"StyledField",componentId:"sc-1ebl73a-1"})(["text-align:left;"]),R=({addPairControlLabel:e,defaultPairs:t,onChange:a,onBlur:o,"data-test-subj":c})=>{const[d,u]=Object(n.useState)(t),g=Object(n.useCallback)(((e,t,a)=>{const n=e.target.value;u((e=>{const i=[...e],[s,r]=e[t];return i[t]=a?[n,r]:[s,n],i}))}),[u]),E=Object(n.useCallback)((()=>{u((e=>[["",""],...e]))}),[u]),m=Object(n.useCallback)((e=>{u((t=>{const a=[...t];return a.splice(e,1),[...a]}))}),[u]);return Object(n.useEffect)((()=>{a(d)}),[a,d]),i.a.createElement("div",{"data-test-subj":c},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFlexGroup,{justifyContent:"flexEnd"},i.a.createElement(l.EuiFlexItem,{grow:!1},i.a.createElement(l.EuiButton,{iconType:"plus",onClick:E,"data-test-subj":`${c}__button`},e))),i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(O,{legend:d.length?{children:i.a.createElement(l.EuiFlexGroup,{responsive:!1},i.a.createElement(l.EuiFlexItem,null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.keyValuePairsField.key.label",defaultMessage:"Key"})),i.a.createElement(l.EuiFlexItem,null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.keyValuePairsField.value.label",defaultMessage:"Value"})))}:void 0},d.map(((e,t)=>{const[a,r]=e;return i.a.createElement(n.Fragment,{key:t},i.a.createElement(l.EuiSpacer,{size:"xs"}),i.a.createElement(l.EuiFormControlLayoutDelimited,{fullWidth:!0,append:i.a.createElement(l.EuiFormLabel,null,i.a.createElement(l.EuiButtonIcon,{iconType:"trash","aria-label":s.i18n.translate("xpack.synthetics.keyValuePairsField.deleteItem.label",{defaultMessage:"Delete item number {index}, {key}:{value}",values:{index:t+1,key:a,value:r}}),onClick:()=>m(t)})),startControl:i.a.createElement(x,{"aria-label":s.i18n.translate("xpack.synthetics.keyValuePairsField.key.ariaLabel",{defaultMessage:"Key"}),"data-test-subj":`keyValuePairsKey${t}`,value:a,onChange:e=>g(e,t,!0),onBlur:()=>null==o?void 0:o()}),endControl:i.a.createElement(x,{"aria-label":s.i18n.translate("xpack.synthetics.keyValuePairsField.value.ariaLabel",{defaultMessage:"Value"}),"data-test-subj":`keyValuePairsValue${t}`,value:r,onChange:e=>g(e,t,!1),onBlur:()=>null==o?void 0:o()}),delimiter:":"}),i.a.createElement(l.EuiSpacer,{size:"xs"}))}))))},I=({contentMode:e,defaultValue:t,onChange:a,onBlur:s,"data-test-subj":l})=>{const o=[...Object.keys(t).filter((e=>"Content-Type"!==e)).map((e=>[e||"",t[e]||""]))],[c,d]=Object(n.useState)(o);return Object(n.useEffect)((()=>{const t=c.reduce(((e,t)=>{const[a,n]=t;return a?{...e,[a]:n}:e}),{});a(e?{"Content-Type":A[e],...t}:t)}),[e,c,a]),i.a.createElement(R,{addPairControlLabel:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.headerField.addHeader.label",defaultMessage:"Add header"}),defaultPairs:c,onChange:d,onBlur:()=>null==s?void 0:s(),"data-test-subj":l})},A={[c.f.JSON]:c.c.JSON,[c.f.PLAINTEXT]:c.c.TEXT,[c.f.XML]:c.c.XML,[c.f.FORM]:c.c.FORM};var _,w=a(89),L=a(163);!function(e){e.CODE="code",e.FORM="form"}(_||(_={}));const U=({onChange:e,onBlur:t,type:a,value:o})=>{const[d,u]=Object(n.useState)({[_.FORM]:a===c.f.FORM?o:"",[_.CODE]:a!==c.f.FORM?o:""});Object(n.useEffect)((()=>{e({type:a,value:a===c.f.FORM?d[_.FORM]:d[_.CODE]})}),[e,a,d]);const g=Object(n.useCallback)((t=>{e({type:t,value:t===c.f.FORM?d[_.FORM]:d[_.CODE]})}),[e,d]),E=Object(n.useCallback)((e=>{const t=e.reduce(((e,t)=>{const[a,n]=t;return a?{...e,[a]:n}:e}),{});return u((e=>({...e,[c.f.FORM]:Object(w.stringify)(t)})))}),[u]),m=Object(n.useMemo)((()=>{const e=Object(w.parse)(d[c.f.FORM]);return Object.keys(e).map((t=>[t,`${e[t]}`]))}),[d]),p=[{id:c.f.PLAINTEXT,name:j[c.f.PLAINTEXT],"data-test-subj":`syntheticsRequestBodyTab__${c.f.PLAINTEXT}`,content:i.a.createElement(L.a,{ariaLabel:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.codeEditor.text.ariaLabel",{defaultMessage:"Text code editor"}),id:c.f.PLAINTEXT,languageId:c.g.PLAINTEXT,onChange:e=>{u((t=>({...t,[_.CODE]:e}))),null==t||t()},value:d[_.CODE]})},{id:c.f.JSON,name:j[c.f.JSON],"data-test-subj":`syntheticsRequestBodyTab__${c.f.JSON}`,content:i.a.createElement(L.a,{ariaLabel:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.codeEditor.json.ariaLabel",{defaultMessage:"JSON code editor"}),id:c.f.JSON,languageId:c.g.JSON,onChange:e=>{u((t=>({...t,[_.CODE]:e}))),null==t||t()},value:d[_.CODE]})},{id:c.f.XML,name:j[c.f.XML],"data-test-subj":`syntheticsRequestBodyTab__${c.f.XML}`,content:i.a.createElement(L.a,{ariaLabel:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.codeEditor.xml.ariaLabel",{defaultMessage:"XML code editor"}),id:c.f.XML,languageId:c.g.XML,onChange:e=>{u((t=>({...t,[_.CODE]:e}))),null==t||t()},value:d[_.CODE]})},{id:c.f.FORM,name:j[c.f.FORM],"data-test-subj":`syntheticsRequestBodyTab__${c.f.FORM}`,content:i.a.createElement(R,{addPairControlLabel:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.formField.addFormField.label",defaultMessage:"Add form field"}),defaultPairs:m,onChange:E,onBlur:()=>null==t?void 0:t()})}];return i.a.createElement(l.EuiTabbedContent,{tabs:p,initialSelectedTab:p.find((e=>e.id===a)),autoFocus:"selected",onTabClick:e=>{g(e.id)}})},j={[c.f.FORM]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBodyType.form",{defaultMessage:"Form"}),[c.f.PLAINTEXT]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBodyType.text",{defaultMessage:"Text"}),[c.f.JSON]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBodyType.JSON",{defaultMessage:"JSON"}),[c.f.XML]:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBodyType.XML",{defaultMessage:"XML"})},N=({defaultValue:e,onChange:t,onBlur:a})=>{const[o,d]=Object(n.useState)(e!==c.h.NEVER?e:c.h.ON_ERROR),[u,g]=Object(n.useState)(e!==c.h.NEVER);return Object(n.useEffect)((()=>{u?(d(o),t(o)):t(c.h.NEVER)}),[u,o,d,t]),Object(n.useEffect)((()=>{t(o)}),[t,o]),i.a.createElement(l.EuiFlexGroup,null,i.a.createElement(l.EuiFlexItem,{"data-test-subj":"syntheticsIndexResponseBody"},i.a.createElement(l.EuiCheckbox,{id:"uptimeFleetIndexResponseBody",checked:u,label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.indexResponseBody",defaultMessage:"Index response body"}),onChange:e=>{const t=e.target.checked;g(t)},onBlur:()=>null==a?void 0:a()})),u&&i.a.createElement(l.EuiFlexItem,null,i.a.createElement(l.EuiSelect,{"aria-label":s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.responseBodyIndexPolicy",{defaultMessage:"Response body index policy"}),"data-test-subj":"indexResponseBodyFieldSelect",options:B,value:o,onChange:e=>{d(e.target.value)},onBlur:()=>null==a?void 0:a()})))},B=[{value:c.h.ALWAYS,text:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.responseBodyIndex.always",{defaultMessage:"Always"})},{value:c.h.ON_ERROR,text:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.responseBodyIndex.onError",{defaultMessage:"On error"})}],D=Object(n.memo)((({validate:e,children:t,minColumnWidth:a,onFieldBlur:g})=>{var E,m,p;const{fields:h,setFields:b}=Object(d.x)(),f=Object(n.useCallback)((({value:e,configKey:t})=>{b((a=>({...a,[t]:e})))}),[b]);return i.a.createElement(l.EuiAccordion,{id:"uptimeFleetHttpAdvancedOptions",buttonContent:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions",defaultMessage:"Advanced HTTP options"}),"data-test-subj":"syntheticsHTTPAdvancedFieldsAccordion"},i.a.createElement(l.EuiSpacer,{size:"xl"}),i.a.createElement(o.a,{minColumnWidth:a,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.title",defaultMessage:"Request configuration"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.description",defaultMessage:"Configure an optional request to send to the remote host including method, body, and headers."}),"data-test-subj":"httpAdvancedFieldsSection"},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.username.label",defaultMessage:"Username"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.username.helpText",defaultMessage:"Username for authenticating with the server."})},i.a.createElement(l.EuiFieldText,{value:h[c.b.USERNAME],onChange:e=>f({value:e.target.value,configKey:c.b.USERNAME}),onBlur:()=>null==g?void 0:g(c.b.USERNAME),"data-test-subj":"syntheticsUsername"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.password.label",defaultMessage:"Password"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.password.helpText",defaultMessage:"Password for authenticating with the server."})},i.a.createElement(l.EuiFieldPassword,{value:h[c.b.PASSWORD],onChange:e=>f({value:e.target.value,configKey:c.b.PASSWORD}),onBlur:()=>null==g?void 0:g(c.b.PASSWORD),"data-test-subj":"syntheticsPassword"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyURL.http.label",defaultMessage:"Proxy URL"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyUrl.http.helpText",defaultMessage:"HTTP proxy URL."})},i.a.createElement(l.EuiFieldText,{value:h[c.b.PROXY_URL],onChange:e=>f({value:e.target.value,configKey:c.b.PROXY_URL}),onBlur:()=>null==g?void 0:g(c.b.PROXY_URL),"data-test-subj":"syntheticsProxyUrl"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestMethod.label",defaultMessage:"Request method"}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestMethod.helpText",defaultMessage:"The HTTP method to use."})},i.a.createElement(l.EuiSelect,{options:H,value:h[c.b.REQUEST_METHOD_CHECK],onChange:e=>f({value:e.target.value,configKey:c.b.REQUEST_METHOD_CHECK}),onBlur:()=>null==g?void 0:g(c.b.REQUEST_METHOD_CHECK),"data-test-subj":"syntheticsRequestMethod"})),i.a.createElement(l.EuiFormRow,{fullWidth:!0,label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestHeaders",defaultMessage:"Request headers"}),labelAppend:i.a.createElement(u.a,null),isInvalid:!(null===(E=e[c.b.REQUEST_HEADERS_CHECK])||void 0===E||!E.call(e,h)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestHeadersField.error",defaultMessage:"Header key must be a valid HTTP token."}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestHeadersField.helpText",defaultMessage:"A dictionary of additional HTTP headers to send. By default the client will set the User-Agent header to identify itself."})},i.a.createElement(I,{contentMode:h[c.b.REQUEST_BODY_CHECK].value?h[c.b.REQUEST_BODY_CHECK].type:void 0,defaultValue:h[c.b.REQUEST_HEADERS_CHECK],onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.REQUEST_HEADERS_CHECK})),[f]),onBlur:()=>null==g?void 0:g(c.b.REQUEST_HEADERS_CHECK),"data-test-subj":"syntheticsRequestHeaders"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestConfiguration.requestBody",defaultMessage:"Request body"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.requestBody.helpText",defaultMessage:"Request body content."}),fullWidth:!0},i.a.createElement(U,{value:h[c.b.REQUEST_BODY_CHECK].value,type:h[c.b.REQUEST_BODY_CHECK].type,onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.REQUEST_BODY_CHECK})),[f]),onBlur:()=>null==g?void 0:g(c.b.REQUEST_BODY_CHECK)}))),i.a.createElement(l.EuiSpacer,{size:"xl"}),i.a.createElement(o.a,{minColumnWidth:a,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfiguration.title",defaultMessage:"Response configuration"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfiguration.description",defaultMessage:"Control the indexing of the HTTP response contents."})},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFormRow,{helpText:i.a.createElement(i.a.Fragment,null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.indexResponseHeaders.helpText",defaultMessage:"Controls the indexing of the HTTP response headers to "}),i.a.createElement(l.EuiCode,null,"http.response.body.headers")),"data-test-subj":"syntheticsIndexResponseHeaders"},i.a.createElement(l.EuiCheckbox,{id:"uptimeFleetIndexResponseHeaders",checked:h[c.b.RESPONSE_HEADERS_INDEX],label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseConfig.indexResponseHeaders",defaultMessage:"Index response headers"}),onChange:e=>f({value:e.target.checked,configKey:c.b.RESPONSE_HEADERS_INDEX}),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_HEADERS_INDEX)})),i.a.createElement(l.EuiFormRow,{helpText:i.a.createElement(i.a.Fragment,null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.indexResponseBody.helpText",defaultMessage:"Controls the indexing of the HTTP response body contents to "}),i.a.createElement(l.EuiCode,null,"http.response.body.contents"))},i.a.createElement(N,{defaultValue:h[c.b.RESPONSE_BODY_INDEX],onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.RESPONSE_BODY_INDEX})),[f]),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_BODY_INDEX)}))),i.a.createElement(o.a,{minColumnWidth:a,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.title",defaultMessage:"Response checks"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.description",defaultMessage:"Configure the expected HTTP response."})},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.label",defaultMessage:"Check response status equals"}),labelAppend:i.a.createElement(u.a,null),isInvalid:!(null===(m=e[c.b.RESPONSE_STATUS_CHECK])||void 0===m||!m.call(e,h)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.error",defaultMessage:"Status code must contain digits only."}),helpText:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.responseStatusCheck.helpText",{defaultMessage:"A list of expected status codes. Press enter to add a new code. 4xx and 5xx codes are considered down by default. Other codes are considered up."})},i.a.createElement(y.a,{selectedOptions:h[c.b.RESPONSE_STATUS_CHECK],onChange:e=>f({value:e,configKey:c.b.RESPONSE_STATUS_CHECK}),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_STATUS_CHECK),"data-test-subj":"syntheticsResponseStatusCheck"})),i.a.createElement(l.EuiFormRow,{fullWidth:!0,label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseChecks.checkResponseHeadersContain",defaultMessage:"Check response headers contain"}),labelAppend:i.a.createElement(u.a,null),isInvalid:!(null===(p=e[c.b.RESPONSE_HEADERS_CHECK])||void 0===p||!p.call(e,h)),error:[i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseHeadersField.error",defaultMessage:"Header key must be a valid HTTP token."})],helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseHeadersField.helpText",defaultMessage:"A list of expected response headers."})},i.a.createElement(I,{defaultValue:h[c.b.RESPONSE_HEADERS_CHECK],onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.RESPONSE_HEADERS_CHECK})),[f]),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_HEADERS_CHECK),"data-test-subj":"syntheticsResponseHeaders"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseCheckPositive.label",defaultMessage:"Check response body contains"}),labelAppend:i.a.createElement(u.a,null),helpText:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseBodyCheckPositive.helpText",{defaultMessage:"A list of regular expressions to match the body output. Press enter to add a new expression. Only a single expression needs to match."})},i.a.createElement(y.a,{selectedOptions:h[c.b.RESPONSE_BODY_CHECK_POSITIVE],onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.RESPONSE_BODY_CHECK_POSITIVE})),[f]),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_BODY_CHECK_POSITIVE),"data-test-subj":"syntheticsResponseBodyCheckPositive"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseCheckNegative.label",defaultMessage:"Check response body does not contain"}),labelAppend:i.a.createElement(u.a,null),helpText:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.httpAdvancedOptions.responseBodyCheckNegative.helpText",{defaultMessage:"A list of regular expressions to match the the body output negatively. Press enter to add a new expression. Return match failed if single expression matches."})},i.a.createElement(y.a,{selectedOptions:h[c.b.RESPONSE_BODY_CHECK_NEGATIVE],onChange:Object(n.useCallback)((e=>f({value:e,configKey:c.b.RESPONSE_BODY_CHECK_NEGATIVE})),[f]),onBlur:()=>null==g?void 0:g(c.b.RESPONSE_BODY_CHECK_NEGATIVE),"data-test-subj":"syntheticsResponseBodyCheckNegative"}))),t)})),H=Object.values(c.e).map((e=>({value:e,text:e}))),K=Object(n.memo)((({validate:e,onFieldBlur:t})=>{var a,s;const{fields:o,setFields:u}=Object(d.C)(),g=Object(n.useCallback)((({value:e,configKey:t})=>{u((a=>({...a,[t]:e})))}),[u]);return i.a.createElement(v,{fields:o,validate:e,onInputChange:g,onFieldBlur:t},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tcp.hosts",defaultMessage:"Host:Port"}),isInvalid:!(null===(a=e[c.b.HOSTS])||void 0===a||!a.call(e,o)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.tcp.hosts.error",defaultMessage:"Host and port are required"})},i.a.createElement(l.EuiFieldText,{value:o[c.b.HOSTS],onChange:e=>g({value:e.target.value,configKey:c.b.HOSTS}),onBlur:()=>t(c.b.HOSTS),"data-test-subj":"syntheticsTCPHostField"})),i.a.createElement(l.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Frequency"}),isInvalid:!(null===(s=e[c.b.SCHEDULE])||void 0===s||!s.call(e,o)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor frequency is required"})},i.a.createElement(T.a,{onChange:e=>g({value:e,configKey:c.b.SCHEDULE}),onBlur:()=>t(c.b.SCHEDULE),number:o[c.b.SCHEDULE].number,unit:o[c.b.SCHEDULE].unit})))})),V=Object(n.memo)((({children:e,minColumnWidth:t,onFieldBlur:a})=>{const{fields:s,setFields:g}=Object(d.B)(),E=Object(n.useCallback)((({value:e,configKey:t})=>{g((a=>({...a,[t]:e})))}),[g]);return i.a.createElement(l.EuiAccordion,{id:"uptimeFleetTCPAdvancedOptions",buttonContent:"Advanced TCP options","data-test-subj":"syntheticsTCPAdvancedFieldsAccordion"},i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(o.a,{minColumnWidth:t,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.title",defaultMessage:"Request configuration"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.description",defaultMessage:"Configure the payload sent to the remote host."})},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyURL.label",defaultMessage:"Proxy URL"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.proxyUrl.tcp.helpText",defaultMessage:"The URL of the SOCKS5 proxy to use when connecting to the server. The value must be a URL with a scheme of socks5://."})},i.a.createElement(l.EuiFieldText,{value:s[c.b.PROXY_URL],onChange:e=>E({value:e.target.value,configKey:c.b.PROXY_URL}),onBlur:()=>null==a?void 0:a(c.b.PROXY_URL),"data-test-subj":"syntheticsProxyUrl"})),!!s[c.b.PROXY_URL]&&i.a.createElement(l.EuiFormRow,{"data-test-subj":"syntheticsUseLocalResolver"},i.a.createElement(l.EuiCheckbox,{id:"uptimeFleetUseLocalResolverCheckbox",checked:s[c.b.PROXY_USE_LOCAL_RESOLVER],label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.resolveHostnamesLocally",defaultMessage:"Resolve hostnames locally"}),onChange:e=>E({value:e.target.checked,configKey:c.b.PROXY_USE_LOCAL_RESOLVER})})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.requestPayload.label",defaultMessage:"Request payload"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.requestConfiguration.requestPayload.helpText",defaultMessage:"A payload string to send to the remote host."})},i.a.createElement(l.EuiFieldText,{value:s[c.b.REQUEST_SEND_CHECK],onChange:Object(n.useCallback)((e=>E({value:e.target.value,configKey:c.b.REQUEST_SEND_CHECK})),[E]),onBlur:()=>null==a?void 0:a(c.b.REQUEST_SEND_CHECK),"data-test-subj":"syntheticsTCPRequestSendCheck"}))),i.a.createElement(o.a,{minColumnWidth:t,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvancedOptions.responseConfiguration.title",defaultMessage:"Response checks"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvancedOptions.responseConfiguration.description",defaultMessage:"Configure the expected response from the remote host."})},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.responseConfiguration.responseContains.label",defaultMessage:"Check response contains"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tcpAdvacnedSettings.responseConfiguration.responseContains.helpText",defaultMessage:"The expected remote host response."})},i.a.createElement(l.EuiFieldText,{value:s[c.b.RESPONSE_RECEIVE_CHECK],onChange:Object(n.useCallback)((e=>E({value:e.target.value,configKey:c.b.RESPONSE_RECEIVE_CHECK})),[E]),onBlur:()=>null==a?void 0:a(c.b.RESPONSE_RECEIVE_CHECK),"data-test-subj":"syntheticsTCPResponseReceiveCheck"}))),e)})),z=Object(n.memo)((({validate:e,onFieldBlur:t})=>{var a,s,o;const{fields:g,setFields:E}=Object(d.z)(),m=Object(n.useCallback)((({value:e,configKey:t})=>{E((a=>({...a,[t]:e})))}),[E]);return i.a.createElement(v,{fields:g,validate:e,onInputChange:m,onFieldBlur:t},i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.icmp.hosts",defaultMessage:"Host"}),isInvalid:!(null===(a=e[c.b.HOSTS])||void 0===a||!a.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.icmp.hosts.error",defaultMessage:"Host is required"})},i.a.createElement(l.EuiFieldText,{value:g[c.b.HOSTS],onChange:e=>m({value:e.target.value,configKey:c.b.HOSTS}),onBlur:()=>t(c.b.HOSTS),"data-test-subj":"syntheticsICMPHostField"})),i.a.createElement(l.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Frequency"}),isInvalid:!(null===(s=e[c.b.SCHEDULE])||void 0===s||!s.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor frequency is required"})},i.a.createElement(T.a,{onChange:e=>m({value:e,configKey:c.b.SCHEDULE}),onBlur:()=>t(c.b.SCHEDULE),number:g[c.b.SCHEDULE].number,unit:g[c.b.SCHEDULE].unit})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.label",defaultMessage:"Wait in seconds"}),isInvalid:!(null===(o=e[c.b.WAIT])||void 0===o||!o.call(e,g)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.error",defaultMessage:"Wait must be 0 or greater"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.wait.helpText",defaultMessage:"The duration to wait before emitting another ICMP Echo Request if no response is received."})},i.a.createElement(l.EuiFieldNumber,{min:0,value:g[c.b.WAIT],onChange:e=>m({value:e.target.value,configKey:c.b.WAIT}),onBlur:()=>t(c.b.WAIT),step:"any"})))}));var Z=a(71);function q({onUpload:e}){const t=Object(n.useRef)(null),[a,s]=Object(n.useState)(null),r=Object(n.useRef)(null);return i.a.createElement(l.EuiFormRow,{isInvalid:Boolean(a),error:a,label:Y},i.a.createElement(l.EuiFilePicker,{id:"syntheticsFleetScriptRecorderUploader","data-test-subj":"syntheticsFleetScriptRecorderUploader",ref:r,initialPromptText:W,onChange:a=>{if(a&&a.length){var n;if(a.length&&!a[0].type.includes("javascript"))return s(X),void(null===(n=r.current)||void 0===n||n.removeFiles());t.current=new FileReader,t.current.onloadend=()=>(a=>{var n;const i=null==t||null===(n=t.current)||void 0===n?void 0:n.result;var l;if("step"!==(null==i?void 0:i.trim().slice(0,4)))return s(G),void(null===(l=r.current)||void 0===l||l.removeFiles());e({scriptText:i,fileName:a}),s(null)})(a[0].name),t.current.readAsText(a[0])}else e({scriptText:"",fileName:""})},display:"large"}))}const Y=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.fieldLabel",{defaultMessage:"Testing script"}),W=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.label",{defaultMessage:"Select recorder-generated .js file"}),X=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.invalidFileError",{defaultMessage:"Invalid file type. Please upload a .js file generated by the Elastic Synthetics Recorder."}),G=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.uploader.parsingError",{defaultMessage:"Error uploading file. Please upload a .js file generated by the Elastic Synthetics Recorder in inline script format."});function J({onChange:e,script:t,fileName:a}){const[s,o]=Object(n.useState)(!1),{isEditable:c}=Object(Z.b)(),d=Object(n.useCallback)((({scriptText:t,fileName:a})=>{e({scriptText:t,fileName:a})}),[e]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiLink,{href:"https://github.com/elastic/synthetics-recorder/releases/",target:"_blank"},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.recorderLink",defaultMessage:"Download the Elastic Synthetics Recorder"})),i.a.createElement(l.EuiSpacer,{size:"m"}),c&&t?i.a.createElement(l.EuiFormRow,{label:"Testing script"},i.a.createElement(l.EuiText,{size:"s"},i.a.createElement("strong",null,a))):i.a.createElement(q,{onUpload:d}),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(l.EuiFlexItem,{grow:!1},i.a.createElement(l.EuiButton,{onClick:()=>o(!0),iconType:"editorCodeBlock",iconSide:"right"},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.showScriptLabel",defaultMessage:"Show script"}))),i.a.createElement(l.EuiFlexItem,{grow:!1},c&&i.a.createElement(l.EuiButton,{onClick:()=>e({scriptText:"",fileName:""}),iconType:"trash",iconSide:"right",color:"danger"},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.removeScriptLabel",defaultMessage:"Remove script"}))))),s&&i.a.createElement(l.EuiFlyout,{ownFocus:!0,onClose:()=>o(!1),"aria-labelledby":"syntheticsBrowserScriptBlockHeader",closeButtonAriaLabel:Q},i.a.createElement(l.EuiFlyoutHeader,{hasBorder:!0},i.a.createElement(l.EuiTitle,{size:"m"},i.a.createElement("span",{id:"syntheticsBrowserScriptBlockHeader"},a||$))),i.a.createElement("div",{style:{height:"100%"}},i.a.createElement(l.EuiCodeBlock,{language:"js",overflowHeight:"100%",fontSize:"m",isCopyable:!0},t))))}const $=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.scriptRecorder.mockFileName",{defaultMessage:"test_script.js"}),Q=s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.scriptRecorder.closeButtonLabel",{defaultMessage:"Close script flyout"}),ee=()=>{const{defaultValues:e,setFields:t}=Object(d.w)(),{isZipUrlTLSEnabled:a,setIsZipUrlTLSEnabled:s}=Object(d.A)(),o=Object(n.useCallback)((e=>{t((t=>({...t,[c.b.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:e.certificateAuthorities,[c.b.ZIP_URL_TLS_CERTIFICATE]:e.certificate,[c.b.ZIP_URL_TLS_KEY]:e.key,[c.b.ZIP_URL_TLS_KEY_PASSPHRASE]:e.keyPassphrase,[c.b.ZIP_URL_TLS_VERIFICATION_MODE]:e.verificationMode,[c.b.ZIP_URL_TLS_VERSION]:e.version})))}),[t]);return Object(n.useEffect)((()=>{a||t((e=>({...e,[c.b.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]:void 0,[c.b.ZIP_URL_TLS_CERTIFICATE]:void 0,[c.b.ZIP_URL_TLS_KEY]:void 0,[c.b.ZIP_URL_TLS_KEY_PASSPHRASE]:void 0,[c.b.ZIP_URL_TLS_VERIFICATION_MODE]:void 0,[c.b.ZIP_URL_TLS_VERSION]:void 0})))}),[t,a]),i.a.createElement(l.EuiFormRow,null,i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSwitch,{id:"syntheticsBrowserIsZipUrlTLSEnabled","data-test-subj":"syntheticsBrowserIsZipUrlTLSEnabled",checked:!!a,label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certificateSettings.enableZipUrlSSLSettings.label",defaultMessage:"Enable TLS configuration for Zip URL"}),onChange:e=>s(e.target.checked)}),a?i.a.createElement(E,{defaultValues:{certificateAuthorities:e[c.b.ZIP_URL_TLS_CERTIFICATE_AUTHORITIES]||d.u[c.b.TLS_CERTIFICATE_AUTHORITIES],certificate:e[c.b.ZIP_URL_TLS_CERTIFICATE]||d.u[c.b.TLS_CERTIFICATE],key:e[c.b.ZIP_URL_TLS_KEY]||d.u[c.b.TLS_KEY],keyPassphrase:e[c.b.ZIP_URL_TLS_KEY_PASSPHRASE]||d.u[c.b.TLS_KEY_PASSPHRASE],verificationMode:e[c.b.ZIP_URL_TLS_VERIFICATION_MODE]||d.u[c.b.TLS_VERIFICATION_MODE],version:e[c.b.ZIP_URL_TLS_VERSION]||d.u[c.b.TLS_VERSION]},onChange:o,tlsRole:"client"}):null))};var te,ae=a(15);!function(e){e.INLINE="syntheticsBrowserInlineConfig",e.SCRIPT_RECORDER="syntheticsBrowserScriptRecorderConfig",e.ZIP="syntheticsBrowserZipURLConfig"}(te||(te={}));const ne={zipUrl:"",proxyUrl:"",folder:"",username:"",password:"",inlineScript:"",params:"",isGeneratedScript:!1,fileName:""},ie=({onChange:e,onFieldBlur:t,defaultConfig:a=ne,validate:o})=>{var g,E,m,p,h,b,f;const{isZipUrlSourceEnabled:S}=Object(d.A)(),[y,C]=Object(n.useState)((e=>e.inlineScript&&e.isGeneratedScript?te.SCRIPT_RECORDER:te.INLINE)(a)),[P,v]=Object(n.useState)(a);Object(n.useEffect)((()=>{e(P)}),[P,e]);const T=null!==(g=null==o||null===(E=o[c.b.SOURCE_INLINE])||void 0===E?void 0:E.call(o,{[c.b.SOURCE_INLINE]:P.inlineScript}))&&void 0!==g&&g,k=null!==(m=null==o||null===(p=o[c.b.SOURCE_ZIP_URL])||void 0===p?void 0:p.call(o,{[c.b.SOURCE_ZIP_URL]:P.zipUrl}))&&void 0!==m&&m,F=i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.label",defaultMessage:"Zip URL"}),M=i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.params.label",defaultMessage:"Parameters"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.params.helpText",defaultMessage:"Use JSON to define parameters that can be referenced in your script with {code}",values:{code:i.a.createElement(l.EuiCode,null,"params.value")}})},i.a.createElement(L.a,{ariaLabel:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.codeEditor.json.ariaLabel",{defaultMessage:"JSON code editor"}),id:"jsonParamsEditor",languageId:c.g.JSON,onChange:e=>{v((t=>({...t,params:e}))),t(c.b.PARAMS)},value:P.params,"data-test-subj":"syntheticsBrowserParams"})),O="syntheticsBrowserZipURLConfig",x=[{id:"syntheticsBrowserInlineConfig",name:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.label",defaultMessage:"Inline script"}),"data-test-subj":"syntheticsSourceTab__inline",content:i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiFormRow,{isInvalid:T,error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.error",defaultMessage:"Script is required"}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.inlineScript.helpText",defaultMessage:"Runs Synthetic test scripts that are defined inline."})},i.a.createElement(L.a,{ariaLabel:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.requestBody.codeEditor.javascript.ariaLabel",{defaultMessage:"JavaScript code editor"}),id:"javascript",languageId:c.g.JAVASCRIPT,onChange:e=>{v((t=>({...t,inlineScript:e}))),t(c.b.SOURCE_INLINE)},value:P.inlineScript})),M)},{id:"syntheticsBrowserScriptRecorderConfig",name:i.a.createElement(l.EuiFlexGroup,{responsive:!1,alignItems:"center",gutterSize:"xs"},i.a.createElement(l.EuiFlexItem,{grow:!1},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browser.scriptRecorder.label",defaultMessage:"Script recorder"})),i.a.createElement(se,{grow:!1},i.a.createElement(l.EuiBetaBadge,{label:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.browser.scriptRecorder.experimentalLabel",{defaultMessage:"Tech preview"}),iconType:"beaker",tooltipContent:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.browser.scriptRecorder.experimentalTooltip",{defaultMessage:"Preview the quickest way to create Elastic Synthetics monitoring scripts with our Elastic Synthetics Recorder"})}))),"data-test-subj":"syntheticsSourceTab__scriptRecorder",content:i.a.createElement(i.a.Fragment,null,i.a.createElement(J,{onChange:({scriptText:e,fileName:t})=>v((a=>({...a,inlineScript:e,isGeneratedScript:!0,fileName:t}))),script:P.inlineScript,fileName:P.fileName}),i.a.createElement(l.EuiSpacer,{size:"s"}),M)},{id:O,name:F,"data-test-subj":"syntheticsSourceTab__zipUrl",content:i.a.createElement(i.a.Fragment,null,i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiCallOut,{title:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.deprecation.title",defaultMessage:"Zip URL is deprecated"}),size:"s",color:"warning"},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.deprecation.content",defaultMessage:"Zip URL is deprecated and will be removed in a future version. Use project monitors instead to create monitors from a remote repository and to migrate existing Zip URL monitors. {link}",values:{link:i.a.createElement(l.EuiLink,{target:"_blank",href:null===(h=Object(ae.a)())||void 0===h||null===(b=h.links)||void 0===b||null===(f=b.observability)||void 0===f?void 0:f.syntheticsProjectMonitors,external:!0},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.zipUrl.deprecation.link",defaultMessage:"Learn more"}))}})),i.a.createElement(l.EuiSpacer,{size:"m"}),i.a.createElement(l.EuiFormRow,{label:F,isInvalid:k,error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.error",defaultMessage:"Zip URL is required"}),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrl.helpText",defaultMessage:"Location of the synthetics project repository zip file."})},i.a.createElement(l.EuiFieldText,{onChange:({target:{value:e}})=>v((t=>({...t,zipUrl:e}))),onBlur:()=>t(c.b.SOURCE_ZIP_URL),value:P.zipUrl,"data-test-subj":"syntheticsBrowserZipUrl"})),i.a.createElement(ee,null),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.brower.proxyURL.label",defaultMessage:"Proxy Zip URL"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.http.helpText",defaultMessage:"HTTP proxy for Zip URL."})},i.a.createElement(l.EuiFieldText,{onChange:({target:{value:e}})=>v((t=>({...t,proxyUrl:e}))),onBlur:()=>t(c.b.SOURCE_ZIP_PROXY_URL),value:P.proxyUrl,"data-test-subj":"syntheticsBrowserZipUrlProxy"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlFolder.label",defaultMessage:"Folder"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlFolder.helpText",defaultMessage:"Relative directory path where the synthetic journey files are located in the repository."})},i.a.createElement(l.EuiFieldText,{onChange:({target:{value:e}})=>v((t=>({...t,folder:e}))),onBlur:()=>t(c.b.SOURCE_ZIP_FOLDER),value:P.folder,"data-test-subj":"syntheticsBrowserZipUrlFolder"})),M,i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlUsername.label",defaultMessage:"Zip URL Username"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlUsername.helpText",defaultMessage:"The username for authenticating with the zip endpoint."})},i.a.createElement(l.EuiFieldText,{onChange:({target:{value:e}})=>v((t=>({...t,username:e}))),onBlur:()=>t(c.b.SOURCE_ZIP_USERNAME),value:P.username,"data-test-subj":"syntheticsBrowserZipUrlUsername"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlPassword.abel",defaultMessage:"Zip URL Password"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.zipUrlPassword.helpText",defaultMessage:"The password for authenticating with the zip endpoint."})},i.a.createElement(l.EuiFieldPassword,{onChange:({target:{value:e}})=>v((t=>({...t,password:e}))),onBlur:()=>t(c.b.SOURCE_ZIP_PASSWORD),value:P.password,"data-test-subj":"syntheticsBrowserZipUrlPassword"})))}],R=S?x:x.filter((e=>e.id!==O));return i.a.createElement(l.EuiTabbedContent,{tabs:R,initialSelectedTab:R.find((e=>e.id===y)),autoFocus:"selected",onTabClick:e=>{e.id!==y&&v(ne),C(e.id)}})},se=M()(l.EuiFlexItem).withConfig({displayName:"StyledBetaBadgeWrapper",componentId:"sc-871l4-0"})([".euiToolTipAnchor{display:flex;}"]),re=Object(n.memo)((({validate:e,onFieldBlur:t})=>{var a;const{fields:s,setFields:o,defaultValues:u}=Object(d.w)(),g=Object(n.useCallback)((({value:e,configKey:t})=>{o((a=>({...a,[t]:e})))}),[o]),E=Object(n.useCallback)((({zipUrl:e,folder:t,username:a,password:n,inlineScript:i,params:s,proxyUrl:r,isGeneratedScript:l,fileName:d})=>{o((o=>({...o,[c.b.SOURCE_ZIP_URL]:e,[c.b.SOURCE_ZIP_PROXY_URL]:r,[c.b.SOURCE_ZIP_FOLDER]:t,[c.b.SOURCE_ZIP_USERNAME]:a,[c.b.SOURCE_ZIP_PASSWORD]:n,[c.b.SOURCE_INLINE]:i,[c.b.PARAMS]:s,[c.b.METADATA]:{...o[c.b.METADATA],script_source:{is_generated_script:l,file_name:d}}})))}),[o]);return i.a.createElement(v,{fields:s,validate:e,onInputChange:g,onFieldBlur:t},i.a.createElement(l.EuiFormRow,{id:"syntheticsFleetScheduleField--number syntheticsFleetScheduleField--unit",label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval",defaultMessage:"Frequency"}),isInvalid:!(null===(a=e[c.b.SCHEDULE])||void 0===a||!a.call(e,s)),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorInterval.error",defaultMessage:"Monitor frequency is required"})},i.a.createElement(T.a,{onChange:e=>g({value:e,configKey:c.b.SCHEDULE}),onBlur:()=>t(c.b.SCHEDULE),number:s[c.b.SCHEDULE].number,unit:s[c.b.SCHEDULE].unit})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browser.sourceType.label",defaultMessage:"Source Type"})},i.a.createElement(ie,{validate:e,onChange:E,onFieldBlur:t,defaultConfig:Object(n.useMemo)((()=>{var e,t;return{zipUrl:u[c.b.SOURCE_ZIP_URL],proxyUrl:u[c.b.SOURCE_ZIP_PROXY_URL],folder:u[c.b.SOURCE_ZIP_FOLDER],username:u[c.b.SOURCE_ZIP_USERNAME],password:u[c.b.SOURCE_ZIP_PASSWORD],inlineScript:u[c.b.SOURCE_INLINE],params:u[c.b.PARAMS],isGeneratedScript:null===(e=u[c.b.METADATA].script_source)||void 0===e?void 0:e.is_generated_script,fileName:null===(t=u[c.b.METADATA].script_source)||void 0===t?void 0:t.file_name}}),[u])})))}));var le=a(208);const oe=Object(n.memo)((({validate:e,children:t,minColumnWidth:a,onFieldBlur:s})=>{const{fields:g,setFields:E}=Object(d.v)(),{fields:m}=Object(d.w)(),p=Object(n.useCallback)((({value:e,configKey:t})=>{E((a=>({...a,[t]:e})))}),[E]);return i.a.createElement(l.EuiAccordion,{id:"syntheticsIntegrationBrowserAdvancedOptions",buttonContent:"Advanced Browser options","data-test-subj":"syntheticsBrowserAdvancedFieldsAccordion"},i.a.createElement(l.EuiSpacer,{size:"m"}),m[c.b.SOURCE_ZIP_URL]&&i.a.createElement(o.a,{minColumnWidth:a,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.filtering.title",defaultMessage:"Selective tests"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.filtering.description",defaultMessage:"Use these options to apply the selected monitor settings to a subset of the tests in your suite. Only the configured subset will be run by this monitor."})},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersMatch.label",defaultMessage:"Filter match"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersMatch.helpText",defaultMessage:"Run only journeys with a name that matches the provided glob with this monitor."})},i.a.createElement(l.EuiFieldText,{value:g[c.b.JOURNEY_FILTERS_MATCH],onChange:e=>p({value:e.target.value,configKey:c.b.JOURNEY_FILTERS_MATCH}),onBlur:()=>null==s?void 0:s(c.b.JOURNEY_FILTERS_MATCH),"data-test-subj":"syntheticsBrowserJourneyFiltersMatch"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersTags.label",defaultMessage:"Filter tags"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.journeyFiltersTags.helpText",defaultMessage:"Run only journeys with the given tags with this monitor."})},i.a.createElement(y.a,{selectedOptions:g[c.b.JOURNEY_FILTERS_TAGS],onChange:e=>p({value:e,configKey:c.b.JOURNEY_FILTERS_TAGS}),onBlur:()=>null==s?void 0:s(c.b.JOURNEY_FILTERS_TAGS),"data-test-subj":"syntheticsBrowserJourneyFiltersTags"}))),i.a.createElement(o.a,{minColumnWidth:a,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.title",defaultMessage:"Synthetics agent options"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.description",defaultMessage:"Provide fine-tuned configuration for the synthetics agent."})},i.a.createElement(l.EuiSpacer,{size:"s"}),i.a.createElement(l.EuiFormRow,{helpText:i.a.createElement(i.a.Fragment,null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.ignoreHttpsErrors.helpText",defaultMessage:"Set this option to true to disable TLS/SSL validation in the synthetics browser. This is useful for testing sites that use self-signed certs."})),"data-test-subj":"syntheticsBrowserIgnoreHttpsErrors"},i.a.createElement(l.EuiCheckbox,{id:"syntheticsBrowserIgnoreHttpsErrorsCheckbox",checked:g[c.b.IGNORE_HTTPS_ERRORS],label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.ignoreHttpsErrors.label",defaultMessage:"Ignore HTTPS errors"}),onChange:e=>p({value:e.target.checked,configKey:c.b.IGNORE_HTTPS_ERRORS}),onBlur:()=>null==s?void 0:s(c.b.IGNORE_HTTPS_ERRORS)})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.screenshots.label",defaultMessage:"Screenshot options"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.screenshots.helpText",defaultMessage:"Set this option to manage the screenshots captured by the synthetics agent."})},i.a.createElement(l.EuiSelect,{options:ce,value:g[c.b.SCREENSHOTS],onChange:e=>p({value:e.target.value,configKey:c.b.SCREENSHOTS}),onBlur:()=>null==s?void 0:s(c.b.SCREENSHOTS),"data-test-subj":"syntheticsBrowserScreenshots"})),i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.syntheticsArgs.label",defaultMessage:"Synthetics args"}),labelAppend:i.a.createElement(u.a,null),helpText:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.browserAdvancedSettings.syntheticsArgs.helpText",defaultMessage:"Extra arguments to pass to the synthetics agent package. Takes a list of strings. This is useful in rare scenarios, and should not ordinarily need to be set."})},i.a.createElement(y.a,{selectedOptions:g[c.b.SYNTHETICS_ARGS],onChange:e=>p({value:e,configKey:c.b.SYNTHETICS_ARGS}),onBlur:()=>null==s?void 0:s(c.b.SYNTHETICS_ARGS),"data-test-subj":"syntheticsBrowserSyntheticsArgs"}))),i.a.createElement(le.a,{validate:e,minColumnWidth:a,onFieldBlur:s}),t)})),ce=Object.values(c.j).map((e=>({value:e,text:e.replace(/-/g," ")}))),de=({children:e})=>e?i.a.createElement(l.EuiAccordion,{id:"uptimeFleetIcmpAdvancedOptions",buttonContent:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.icmpAdvancedOptions",defaultMessage:"Advanced ICMP options"}),"data-test-subj":"syntheticsICMPAdvancedFieldsAccordion"},i.a.createElement(l.EuiSpacer,{size:"xl"}),e):i.a.createElement(i.a.Fragment,null),ue=[{value:c.d.BROWSER,text:s.i18n.translate("xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.browserLabel",{defaultMessage:"Browser (Beta)"})},{value:c.d.HTTP,text:"HTTP"},{value:c.d.TCP,text:"TCP"},{value:c.d.ICMP,text:"ICMP"}],ge=Object(n.memo)((({validate:e,dataStreams:t=[],children:a,appendAdvancedFields:s,minColumnWidth:u,onFieldBlur:g})=>{var E;const{monitorType:m,setMonitorType:p,isTLSEnabled:h,setIsTLSEnabled:b,isEditable:f}=Object(d.A)(),y=m===c.d.HTTP,C=m===c.d.TCP,P=m===c.d.BROWSER,v=m===c.d.ICMP,T=Object(n.useMemo)((()=>ue.filter((e=>t.includes(e.value)))),[t]),F=window.location.pathname.includes("/app/uptime");return i.a.createElement(l.EuiForm,{component:"form"},i.a.createElement(o.a,{minColumnWidth:u,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSectionTitle",defaultMessage:"Monitor settings"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSectionDescription",defaultMessage:"Configure your monitor with the following options."}),"data-test-subj":"monitorSettingsSection"},i.a.createElement(l.EuiFlexGroup,null,i.a.createElement(l.EuiFlexItem,null,a,!f&&i.a.createElement(l.EuiFormRow,{label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType",defaultMessage:"Monitor Type"}),isInvalid:!(null===(E=e[c.b.MONITOR_TYPE])||void 0===E||!E.call(e,{[c.b.MONITOR_TYPE]:m})),error:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.error",defaultMessage:"Monitor type is required"})},i.a.createElement(l.EuiSelect,{options:T,value:m,onChange:e=>p(e.target.value),onBlur:()=>null==g?void 0:g(c.b.MONITOR_TYPE),"data-test-subj":"syntheticsMonitorTypeField"})),i.a.createElement(l.EuiSpacer,{size:"s"}),P&&!F&&i.a.createElement(l.EuiCallOut,{title:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.warning.title",defaultMessage:"Requirement"}),size:"s"},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.warning.content",defaultMessage:'To create a "Browser" monitor, please ensure you are using the {agent} Docker container, which contains the dependencies to run these monitors. For more information, please visit our {link}.',values:{agent:i.a.createElement(l.EuiCode,null,"elastic-agent-complete"),link:i.a.createElement(l.EuiLink,{target:"_blank",href:"https://www.elastic.co/guide/en/observability/current/synthetics-quickstart-fleet.html",external:!0},i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.monitorIntegrationSettingsSection.monitorType.browser.warning.link",defaultMessage:"synthetics documentation"}))}})),i.a.createElement(l.EuiSpacer,{size:"s"}),(t=>{switch(t){case c.d.HTTP:return i.a.createElement(k,{validate:e,onFieldBlur:e=>null==g?void 0:g(e)});case c.d.ICMP:return i.a.createElement(z,{validate:e,onFieldBlur:e=>null==g?void 0:g(e)});case c.d.TCP:return i.a.createElement(K,{validate:e,onFieldBlur:e=>null==g?void 0:g(e)});case c.d.BROWSER:return i.a.createElement(re,{validate:e,onFieldBlur:e=>null==g?void 0:g(e)});default:return null}})(m)))),(y||C)&&i.a.createElement(o.a,{minColumnWidth:u,title:i.a.createElement("h4",null,i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tlsSettings.label",defaultMessage:"TLS settings"})),description:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.tlsSettings.description",defaultMessage:"Configure TLS options, including verification mode, certificate authorities, and client certificates."}),id:"uptimeFleetIsTLSEnabled"},i.a.createElement(l.EuiSwitch,{id:"uptimeFleetIsTLSEnabled","data-test-subj":"syntheticsIsTLSEnabled",checked:!!h,label:i.a.createElement(r.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.certificateSettings.enableSSLSettings.label",defaultMessage:"Enable TLS configuration"}),onChange:e=>b(e.target.checked)}),i.a.createElement(S,null)),i.a.createElement(l.EuiSpacer,{size:"m"}),y&&i.a.createElement(D,{validate:e,minColumnWidth:u,onFieldBlur:g},s),C&&i.a.createElement(V,{minColumnWidth:u,onFieldBlur:g},s),P&&i.a.createElement(oe,{validate:e,minColumnWidth:u,onFieldBlur:g},s),v&&i.a.createElement(de,null,s))}))},59:function(e,t,a){"use strict";a.d(t,"h",(function(){return n.a})),a.d(t,"A",(function(){return n.b})),a.d(t,"f",(function(){return d})),a.d(t,"q",(function(){return l})),a.d(t,"y",(function(){return u})),a.d(t,"d",(function(){return p})),a.d(t,"p",(function(){return g})),a.d(t,"x",(function(){return h})),a.d(t,"l",(function(){return y})),a.d(t,"t",(function(){return b})),a.d(t,"C",(function(){return C})),a.d(t,"g",(function(){return k})),a.d(t,"r",(function(){return P})),a.d(t,"z",(function(){return F})),a.d(t,"j",(function(){return R})),a.d(t,"s",(function(){return M})),a.d(t,"B",(function(){return I})),a.d(t,"c",(function(){return L})),a.d(t,"o",(function(){return A})),a.d(t,"w",(function(){return U})),a.d(t,"a",(function(){return D})),a.d(t,"n",(function(){return j})),a.d(t,"v",(function(){return H})),a.d(t,"m",(function(){return Z})),a.d(t,"u",(function(){return K})),a.d(t,"D",(function(){return q})),a.d(t,"e",(function(){return W})),a.d(t,"k",(function(){return X})),a.d(t,"b",(function(){return G})),a.d(t,"i",(function(){return J}));var n=a(71),i=a(1),s=a.n(i),r=a(64);const l=r.f,o={setFields:e=>{throw new Error("setFields was not initialized for HTTP Simple Fields, set it when you invoke the context")},fields:l,defaultValues:l},c=Object(i.createContext)(o),d=({children:e,defaultValues:t=l})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(c.Provider,{value:r,children:e})},u=()=>Object(i.useContext)(c),g=r.e,E={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:g,defaultValues:g},m=Object(i.createContext)(E),p=({children:e,defaultValues:t=g})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(m.Provider,{value:r,children:e})},h=()=>Object(i.useContext)(m),b=r.j,f={setFields:e=>{throw new Error("setFields was not initialized for TCP Simple Fields, set it when you invoke the context")},fields:b,defaultValues:b},S=Object(i.createContext)(f),y=({children:e,defaultValues:t=b})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(S.Provider,{value:r,children:e})},C=()=>Object(i.useContext)(S),P=r.g,v={setFields:e=>{throw new Error("setFields was not initialized for ICMP Simple Fields, set it when you invoke the context")},fields:P,defaultValues:P},T=Object(i.createContext)(v),k=({children:e,defaultValues:t=P})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(T.Provider,{value:r,children:e})},F=()=>Object(i.useContext)(T),M=r.i,O={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:M,defaultValues:M},x=Object(i.createContext)(O),R=({children:e,defaultValues:t=M})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(x.Provider,{value:r,children:e})},I=()=>Object(i.useContext)(x),A=r.b,_={setFields:e=>{throw new Error("setFields was not initialized for Browser Simple Fields, set it when you invoke the context")},fields:A,defaultValues:A},w=Object(i.createContext)(_),L=({children:e,defaultValues:t=A})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(w.Provider,{value:r,children:e})},U=()=>Object(i.useContext)(w),j=r.a,N={setFields:e=>{throw new Error("setFields was not initialized for Browser Advanced Fields, set it when you invoke the context")},fields:j,defaultValues:j},B=Object(i.createContext)(N),D=({children:e,defaultValues:t=j})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(B.Provider,{value:r,children:e})},H=()=>Object(i.useContext)(B),K=r.k,V={setFields:e=>{throw new Error("setFields was not initialized, set it when you invoke the context")},fields:K,defaultValues:K},z=Object(i.createContext)(V),Z=({children:e,defaultValues:t=K})=>{const[a,n]=Object(i.useState)(t),r=Object(i.useMemo)((()=>({fields:a,setFields:n,defaultValues:t})),[a,t]);return s.a.createElement(z.Provider,{value:r,children:e})},q=()=>Object(i.useContext)(z);function Y(e,t){return e.reduce(((e,a)=>{const n=a;return e[n]=null==t?void 0:t[n],e}),{})}const W=({defaultValues:e,children:t})=>{const a=Object.keys(l),n=Object.keys(g),i=Y(a,e||{}),r=Y(n,e||{}),o=e?r:void 0,c=e?i:void 0;return s.a.createElement(p,{defaultValues:o},s.a.createElement(d,{defaultValues:c},t))},X=({defaultValues:e,children:t})=>{const a=Object.keys(b),n=Object.keys(M),i=Y(a,e||{}),r=Y(n,e||{}),l=e?i:void 0,o=e?r:void 0;return s.a.createElement(R,{defaultValues:o},s.a.createElement(y,{defaultValues:l},t))},G=({defaultValues:e,children:t})=>{const a=Object.keys(A),n=Object.keys(j),i=Y(a,e||{}),r=Y(n,e||{}),l=e?i:void 0,o=e?r:void 0;return s.a.createElement(D,{defaultValues:o},s.a.createElement(L,{defaultValues:l},t))},J=({children:e,httpDefaultValues:t,tcpDefaultValues:a,icmpDefaultValues:i,browserDefaultValues:r,tlsDefaultValues:l,policyDefaultValues:o})=>s.a.createElement(n.a,o,s.a.createElement(W,{defaultValues:t},s.a.createElement(X,{defaultValues:a},s.a.createElement(Z,{defaultValues:l},s.a.createElement(k,{defaultValues:i},s.a.createElement(G,{defaultValues:r},e))))))},60:function(e,t,a){"use strict";a.d(t,"n",(function(){return s})),a.d(t,"m",(function(){return r}));var n=a(52),i=a(66);a.d(t,"a",(function(){return i.a})),a.d(t,"b",(function(){return i.b})),a.d(t,"c",(function(){return i.c})),a.d(t,"d",(function(){return i.e})),a.d(t,"e",(function(){return i.g})),a.d(t,"f",(function(){return i.i})),a.d(t,"g",(function(){return i.j})),a.d(t,"h",(function(){return i.o})),a.d(t,"i",(function(){return i.p})),a.d(t,"j",(function(){return i.q})),a.d(t,"k",(function(){return i.t})),a.d(t,"l",(function(){return i.v})),a(91);const s={[n.c.FORM]:n.l.FORM,[n.c.JSON]:n.l.JSON,[n.c.TEXT]:n.l.PLAINTEXT,[n.c.XML]:n.l.XML},r={[n.b.DOWNLOAD_SPEED]:n.F.DOWNLOAD,[n.b.UPLOAD_SPEED]:n.F.UPLOAD,[n.b.LATENCY]:n.F.LATENCY}},71:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return m}));var n=a(1),i=a.n(n),s=a(26),r=a(51),l=a(64),o=a(52),c=a(60);const d=c.d.HTTP,u={setMonitorType:e=>{throw new Error("setMonitorType was not initialized, set it when you invoke the context")},setName:e=>{throw new Error("setName was not initialized, set it when you invoke the context")},setLocations:e=>{throw new Error("setLocations was not initialized, set it when you invoke the context")},setIsTLSEnabled:e=>{throw new Error("setIsTLSEnabled was not initialized, set it when you invoke the context")},setIsZipUrlTLSEnabled:e=>{throw new Error("setIsZipUrlTLSEnabled was not initialized, set it when you invoke the context")},setNamespace:e=>{throw new Error("setNamespace was not initialized, set it when you invoke the context")},monitorType:d,defaultMonitorType:d,runsOnService:!1,defaultIsTLSEnabled:!1,defaultIsZipUrlTLSEnabled:!1,defaultName:"",defaultLocations:[],isEditable:!1,isZipUrlSourceEnabled:!0,allowedScheduleUnits:[o.x.MINUTES,o.x.SECONDS],defaultNamespace:l.h,throttling:o.e,sourceType:o.B.UI},g=Object(n.createContext)(u);function E({children:e,throttling:t=o.e,defaultMonitorType:a=d,defaultIsTLSEnabled:u=!1,defaultIsZipUrlTLSEnabled:E=!1,defaultName:m="",defaultLocations:p=[],defaultNamespace:h=l.h,isEditable:b=!1,runsOnService:f=!1,isZipUrlSourceEnabled:S=!0,allowedScheduleUnits:y=[o.x.MINUTES,o.x.SECONDS],sourceType:C}){const[P,v]=Object(n.useState)(a),[T,k]=Object(n.useState)(m),[F,M]=Object(n.useState)(p),[O,x]=Object(n.useState)(u),[R,I]=Object(n.useState)(E),[A,_]=Object(n.useState)(h),w=Object(s.useRouteMatch)(r.r);Object(n.useEffect)((()=>{null!=w&&w.isExact&&v(c.d.BROWSER)}),[null==w?void 0:w.isExact]);const L=Object(n.useMemo)((()=>({monitorType:P,setMonitorType:v,defaultMonitorType:a,runsOnService:f,isTLSEnabled:O,isZipUrlTLSEnabled:R,setIsTLSEnabled:x,setIsZipUrlTLSEnabled:I,defaultIsTLSEnabled:u,defaultIsZipUrlTLSEnabled:E,isEditable:b,defaultName:m,name:T,setName:k,defaultLocations:p,locations:F,setLocations:M,isZipUrlSourceEnabled:S,allowedScheduleUnits:y,namespace:A,setNamespace:_,throttling:t,sourceType:C})),[P,a,f,O,S,R,u,E,b,T,m,F,p,y,A,t,C]);return i.a.createElement(g.Provider,{value:L,children:e})}function m(){return Object(n.useContext)(g)}},80:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1),i=a.n(n),s=a(23),r=a(22);const l=()=>i.a.createElement(r.EuiText,{size:"xs",color:"subdued"},i.a.createElement(s.FormattedMessage,{id:"xpack.synthetics.createPackagePolicy.stepConfigure.inputVarFieldOptionalLabel",defaultMessage:"Optional"}))},92:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(22),i=a(27);const s=Object(i.euiStyled)(n.EuiDescribedFormGroup)`
  > .euiFlexGroup {
    ${({minColumnWidth:e})=>e?"flex-wrap: wrap;":""}
    > .euiFlexItem {
      ${({minColumnWidth:e})=>e?`min-width: ${e};`:""}
    }
  }
`}}]);