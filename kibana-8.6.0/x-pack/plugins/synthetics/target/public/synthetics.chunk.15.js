/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.synthetics_bundle_jsonpfunction=window.synthetics_bundle_jsonpfunction||[]).push([[15],{298:function(t,e,n){"use strict";n.r(e),n.d(e,"UptimeDataHelper",(function(){return c}));var a=n(42),r=n.n(a),i=n(68),s=n(69);async function o({absoluteTime:t,relativeTime:e,intervalString:n,timeZone:a}){const s=new Date(t.start).toISOString(),o=new Date(t.end).toISOString(),c=await Object(i.q)({dateRangeStart:s,dateRangeEnd:o}),d=await Object(i.l)({dateStart:s,dateEnd:o,bucketSize:n,timeZone:null!=a?a:r.a.tz.guess()});return{appLink:`/app/uptime?dateRangeStart=${e.start}&dateRangeEnd=${e.end}`,stats:{monitors:{type:"number",value:c.total},up:{type:"number",value:c.up},down:{type:"number",value:c.down}},series:{up:{coordinates:d.histogram.map((t=>({x:t.x,y:t.upCount||0})))},down:{coordinates:d.histogram.map((t=>({x:t.x,y:t.downCount||0})))}}}}function c(t){return s.a.core=t,{indexStatus:i.e,overviewData:o}}},61:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(9),r=n.n(a),i=n(74),s=n(169),o=n(6);class ApiService{get http(){return this._http}set http(t){this._http=t}get addInspectorRequest(){return this._addInspectorRequest}set addInspectorRequest(t){this._addInspectorRequest=t}constructor(){r()(this,"_http",void 0),r()(this,"_addInspectorRequest",void 0)}static getInstance(){return ApiService.instance||(ApiService.instance=new ApiService),ApiService.instance}async get(t,e,n,a=!1){var r;const c=await this._http.fetch({path:t,query:e,asResponse:a});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:c,status:o.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(c);if(Object(i.isRight)(e))return e.right;console.error(`API ${t} is not returning expected response, ${Object(s.a)(e.left)} for response`,c)}return c}async post(t,e,n,a){var r;const c=await this._http.post(t,{method:"POST",body:JSON.stringify(e),query:a});if(null===(r=this.addInspectorRequest)||void 0===r||r.call(this,{data:c,status:o.FETCH_STATUS.SUCCESS,loading:!1}),n){const e=n.decode(c);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${Object(s.a)(e.left)}`)}return c}async put(t,e,n,a){const r=await this._http.put(t,{method:"PUT",body:JSON.stringify(e),query:a});if(n){const e=n.decode(r);if(Object(i.isRight)(e))return e.right;console.warn(`API ${t} is not returning expected response, ${Object(s.a)(e.left)}`)}return r}async delete(t){const e=await this._http.delete(t);if(e instanceof Error)throw e;return e}}r()(ApiService,"instance",void 0);const c=ApiService.getInstance()},68:function(t,e,n){"use strict";n.d(e,"f",(function(){return s})),n.d(e,"i",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"q",(function(){return d})),n.d(e,"k",(function(){return u})),n.d(e,"r",(function(){return p})),n.d(e,"u",(function(){return I})),n.d(e,"e",(function(){return g.a})),n.d(e,"m",(function(){return f})),n.d(e,"l",(function(){return h})),n.d(e,"g",(function(){return T})),n.d(e,"v",(function(){return l})),n.d(e,"s",(function(){return E})),n.d(e,"a",(function(){return _})),n.d(e,"j",(function(){return w})),n.d(e,"p",(function(){return y})),n.d(e,"t",(function(){return O})),n.d(e,"w",(function(){return v})),n.d(e,"d",(function(){return N})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return R})),n.d(e,"o",(function(){return b})),n.d(e,"n",(function(){return A}));var a=n(52),r=n(61),i=n(51);const s=async({monitorId:t,dateStart:e,dateEnd:n})=>{const s={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DETAILS,s,a.n)},o=async({monitorId:t,dateStart:e,dateEnd:n})=>{const s={dateStart:e,dateEnd:n,monitorId:t};return await r.a.get(i.a.MONITOR_LOCATIONS,s,a.o)},c=async t=>await r.a.get(i.a.MONITOR_LIST,t,a.s),d=async({dateRangeStart:t,dateRangeEnd:e,filters:n,query:s})=>{const o={dateRangeStart:t,dateRangeEnd:e,...n&&{filters:n},...s&&{query:s}};return await r.a.get(i.a.SNAPSHOT_COUNT,o,a.z)},u=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_STATUS,a)},S=i.a.DYNAMIC_SETTINGS,p=async()=>await r.a.get(S,void 0,a.h),I=async({settings:t})=>await r.a.post(S,t,a.g);var g=n(99);const f=async({dateRange:{from:t,to:e},...n})=>await r.a.get(i.a.PINGS,{from:t,to:e,...n},a.w),h=async({monitorId:t,dateStart:e,dateEnd:n,filters:a,bucketSize:s,query:o,timeZone:c})=>{const d={dateStart:e,dateEnd:n,monitorId:t,filters:a,bucketSize:s,query:o,timeZone:c};return await r.a.get(i.a.PING_HISTOGRAM,d)},T=async({monitorId:t,dateStart:e,dateEnd:n})=>{const a={monitorId:t,dateStart:e,dateEnd:n};return await r.a.get(i.a.MONITOR_DURATION,a)},l=async({monitor:t,id:e})=>e?await r.a.put(`${i.a.SYNTHETICS_MONITORS}/${e}`,t):await r.a.post(i.a.SYNTHETICS_MONITORS,t,void 0,{preserve_namespace:!0}),E=async({id:t})=>await r.a.get(`${i.a.SYNTHETICS_MONITORS}/${t}`),_=async({id:t})=>await r.a.delete(`${i.a.SYNTHETICS_MONITORS}/${t}`),w=async t=>await r.a.get(i.a.SYNTHETICS_MONITORS,t,a.q),y=async()=>{const{throttling:t,locations:e}=await r.a.get(i.a.SERVICE_LOCATIONS,void 0,a.y);return{throttling:t,locations:e}},O=async({monitor:t,id:e})=>await r.a.post(i.a.RUN_ONCE_MONITOR+`/${e}`,t),v=async t=>await r.a.get(i.a.TRIGGER_MONITOR+`/${t}`),N=async()=>await r.a.get(i.a.SYNTHETICS_ENABLEMENT,void 0,a.p),m=async()=>await r.a.delete(i.a.SYNTHETICS_ENABLEMENT),R=async()=>await r.a.post(i.a.SYNTHETICS_ENABLEMENT),b=async()=>await r.a.get(i.a.SERVICE_ALLOWED),A=async()=>await r.a.get(i.a.SYNTHETICS_APIKEY)},69:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(9),r=n.n(a),i=n(61);class KibanaService{get core(){return this._core}set core(t){this._core=t,i.a.http=this._core.http}get theme(){return this._theme}set theme(t){this._theme=t}get toasts(){return this._core.notifications.toasts}constructor(){r()(this,"_core",void 0),r()(this,"_theme",void 0)}static getInstance(){return KibanaService.instance||(KibanaService.instance=new KibanaService),KibanaService.instance}}r()(KibanaService,"instance",void 0);const s=KibanaService.getInstance()},99:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(51),r=n(52),i=n(61);let s=null;const o=async()=>s||(s=i.a.get(a.a.INDEX_STATUS,void 0,r.C),s.then((()=>{s=null}),(()=>{s=null})),s)}}]);