/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[47],{291:function(t,e,s){"use strict";s.r(e),s.d(e,"RuleAlertList",(function(){return p})),s.d(e,"default",(function(){return p}));var a=s(1),n=s(89),l=s.n(n),i=s(21),r=s(4),u=s(3),o=s(117),c=s(2),d=s(0);const b=({alert:t,onMuteAction:e,disabled:s})=>{const[n,l]=Object(a.useState)(null==t?void 0:t.isMuted),[i,u]=Object(a.useState)(!1);return i?Object(d.jsx)(r.EuiLoadingSpinner,{size:"m"}):Object(d.jsx)(r.EuiSwitch,{name:"mute",disabled:s,compressed:!0,checked:n,onChange:async()=>{u(!0),await e(t),l(!n),u(!1)},"data-test-subj":`muteAlertButton_${t.alert}`,showLabel:!1,label:"mute"})},j=(t,e)=>[{field:"alert",name:u.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.alertsList.columns.Alert",{defaultMessage:"Alert"}),sortable:!1,truncateText:!0,width:"45%","data-test-subj":"alertsTableCell-alert",render:t=>Object(d.jsx)(r.EuiToolTip,{anchorClassName:"eui-textTruncate",content:t},Object(d.jsx)("span",null,t))},{field:"status",name:u.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.alertsList.columns.status",{defaultMessage:"Status"}),width:"15%",render:t=>Object(d.jsx)(r.EuiHealth,{color:t.healthColor,className:"alertsList__health"},t.label,t.actionGroup?` (${t.actionGroup})`:""),sortable:!1,"data-test-subj":"alertsTableCell-status"},{field:"start",width:"190px",render:t=>t?l()(t).format("D MMM YYYY @ HH:mm:ss"):"",name:u.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.alertsList.columns.start",{defaultMessage:"Start"}),sortable:!1,"data-test-subj":"alertsTableCell-start"},{field:"duration",render:t=>{return t?[(e=l.a.duration(t)).hours(),e.minutes(),e.seconds()].map((t=>Object(i.padStart)(`${t}`,2,"0"))).join(":"):"";var e},name:u.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.alertsList.columns.duration",{defaultMessage:"Duration"}),sortable:!1,width:"80px","data-test-subj":"alertsTableCell-duration"},{field:"",align:o.RIGHT_ALIGNMENT,width:"60px",name:u.i18n.translate("xpack.triggersActionsUI.sections.ruleDetails.alertsList.columns.mute",{defaultMessage:"Mute"}),render:s=>Object(d.jsx)(b,{disabled:e,onMuteAction:async()=>await t(s),alert:s}),sortable:!1,"data-test-subj":"alertsTableCell-actions"}],m=()=>({"data-test-subj":"alert-row"}),g=()=>({"data-test-subj":"cell"}),p=t=>{const{items:e,readOnly:s,onMuteAction:n}=t,[l,u]=Object(a.useState)({index:0,size:c.e}),o=function(t,e){return Object(i.chunk)(t,e.size)[e.index]||[]}(e,l),b=Object(a.useMemo)((()=>({pageIndex:l.index,pageSize:l.size,totalItemCount:e.length})),[l,e]),p=Object(a.useCallback)((({page:t})=>{u(t)}),[u]);return Object(d.jsx)(r.EuiBasicTable,{items:o,pagination:b,onChange:p,rowProps:m,cellProps:g,columns:j(n,s),"data-test-subj":"alertsList",tableLayout:"fixed",className:"alertsList"})}}}]);