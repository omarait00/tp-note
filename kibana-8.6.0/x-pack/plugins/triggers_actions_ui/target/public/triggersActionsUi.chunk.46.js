/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[46],{287:function(e,t,s){"use strict";s.r(t);var n=s(4),i=s(93),o=s.n(i),c=s(1),l=s.n(c),a=s(18),u=s(48),b=s(15),r=s(171),d=s(132),j=s(0);const O={display:"inline-block",position:"relative"},m=({totalItems:e,items:t,alerts:s})=>{const[{rowSelection:i,isAllSelected:l},m]=Object(c.useContext)(d.a),[p,x]=Object(c.useState)(!1),[k]=Object(a.useUiSetting$)("format:number:defaultPattern"),[C,f]=Object(c.useState)(!1),A=((e,t)=>{const[{isAllSelected:s,rowSelection:i}]=Object(c.useContext)(d.a),o=Object(c.useMemo)((()=>e.map((e=>{const o=s&&e.disableOnQuery;return Object(j.jsx)(n.EuiContextMenuItem,{key:e.key,"data-test-subj":e["data-test-subj"],disabled:o,onClick:()=>{const n=((e,t)=>Array.from(t.values()).map((t=>{const s=e[t];return{_id:s._id,_index:s._index,data:[{field:u.s,value:s[u.s]},{field:u.F,value:s[u.F]}],ecs:{_id:s._id,_index:s._index}}})))(t,i);e.onClick(n,s)}},o&&e.disabledLabel?e.disabledLabel:e.label)}))),[t,s,e,i]);return o})(t,s);Object(c.useEffect)((()=>{f(l)}),[l]);const S=i.size,_=Object(c.useMemo)((()=>o()(e).format(k)),[k,e]),y=Object(c.useMemo)((()=>o()(S).format(k)),[k,S]),g=Object(c.useCallback)((()=>{x((e=>!e))}),[x]),w=Object(c.useCallback)((()=>{x(!1)}),[x]),v=Object(c.useCallback)((()=>{p&&x(!1)}),[p]),E=Object(c.useCallback)((()=>{m(C?{action:b.g.clear}:{action:b.g.selectAll})}),[C,m]),M=Object(c.useMemo)((()=>C?r.c(_,e):r.c(y,S)),[C,_,y,e,S]),h=Object(c.useMemo)((()=>C?r.a:r.d(_,e)),[C,_,e]);return Object(j.jsx)("div",{style:O,onClick:v,"data-test-subj":"bulk-actions-button-container","aria-hidden":!0},Object(j.jsx)(n.EuiPopover,{isOpen:p,anchorPosition:"upCenter",panelPaddingSize:"none",button:Object(j.jsx)(n.EuiButtonEmpty,{"aria-label":"selectedShowBulkActions","data-test-subj":"selectedShowBulkActionsButton",size:"xs",iconType:"arrowDown",iconSide:"right",color:"primary",onClick:g},M),closePopover:w},Object(j.jsx)(n.EuiContextMenuPanel,{size:"s",items:A})),Object(j.jsx)(n.EuiButtonEmpty,{size:"xs","aria-label":"selectAllAlerts","data-test-subj":"selectAllAlertsButton",iconType:C?"cross":"pagesSelect",onClick:E},h))};t.default=l.a.memo(m)}}]);