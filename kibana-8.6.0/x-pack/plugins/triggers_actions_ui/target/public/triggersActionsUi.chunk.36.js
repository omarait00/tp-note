/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[36],{126:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i(1);var o=i(3),s=i(4),n=i(0);const r=({children:e,onClose:t})=>Object(n.jsx)(s.EuiPopoverTitle,null,Object(n.jsx)(s.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(n.jsx)(s.EuiFlexItem,null,e),Object(n.jsx)(s.EuiFlexItem,{grow:!1},Object(n.jsx)(s.EuiButtonIcon,{iconType:"cross",color:"danger","aria-label":o.i18n.translate("xpack.triggersActionsUI.common.expressionItems.components.closablePopoverTitle.closeLabel",{defaultMessage:"Close"}),onClick:()=>t()}))))},281:function(e,t,i){"use strict";i.r(t),i.d(t,"GroupByExpression",(function(){return p})),i.d(t,"default",(function(){return p}));var o=i(1),s=i.n(o),n=i(88),r=i(3),l=i(4),u=i(9),a=i(126),c=i(0);const p=({groupBy:e,errors:t,onChangeSelectedTermSize:i,onChangeSelectedTermField:p,onChangeSelectedGroupBy:d,display:g="inline",fields:j,termSize:x,termField:m,customGroupByTypes:v,popupPosition:b})=>{const O=null!=v?v:u.builtInGroupByTypes,[y,I]=Object(o.useState)(!1),E={text:r.i18n.translate("xpack.triggersActionsUI.common.expressionItems.groupByType.timeFieldOptionLabel",{defaultMessage:"Select a field"}),value:""};return Object(c.jsx)(l.EuiPopover,{button:Object(c.jsx)(l.EuiExpression,{description:`${O[e].sizeRequired?r.i18n.translate("xpack.triggersActionsUI.common.expressionItems.groupByType.groupedOverLabel",{defaultMessage:"grouped over"}):r.i18n.translate("xpack.triggersActionsUI.common.expressionItems.groupByType.overLabel",{defaultMessage:"over"})}`,"data-test-subj":"groupByExpression",value:`${O[e].text} ${O[e].sizeRequired?`${x} ${m?`'${m}'`:""}`:""}`,isActive:y||"top"===e&&!(x&&m),onClick:()=>{I(!0)},display:"inline"===g?"inline":"columns",isInvalid:!("all"===e||x&&m)}),isOpen:y,closePopover:()=>{I(!1)},ownFocus:!0,display:"fullWidth"===g?"block":"inline-block",anchorPosition:null!=b?b:"downRight",repositionOnScroll:!0},Object(c.jsx)("div",null,Object(c.jsx)(a.a,{onClose:()=>I(!1)},Object(c.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.common.expressionItems.groupByType.overButtonLabel",defaultMessage:"over"})),Object(c.jsx)(l.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(c.jsx)(l.EuiFlexItem,{grow:!1},Object(c.jsx)(l.EuiSelect,{"data-test-subj":"overExpressionSelect",value:e,onChange:e=>{O[e.target.value].sizeRequired?(i(1),p("")):(i(void 0),p(void 0)),d(e.target.value)},options:Object.values(O).map((({text:e,value:t})=>({text:e,value:t})))})),O[e].sizeRequired?Object(c.jsx)(s.a.Fragment,null,Object(c.jsx)(l.EuiFlexItem,{grow:!1},Object(c.jsx)(l.EuiFormRow,{isInvalid:t.termSize.length>0,error:t.termSize},Object(c.jsx)(l.EuiFieldNumber,{isInvalid:t.termSize.length>0,value:x||"",onChange:e=>{const{value:t}=e.target,o=""!==t?parseFloat(t):void 0;i(o)},min:1,max:1e3}))),Object(c.jsx)(l.EuiFlexItem,{grow:!1},Object(c.jsx)(l.EuiFormRow,{isInvalid:t.termField.length>0&&void 0!==m,error:t.termField},Object(c.jsx)(l.EuiSelect,{"data-test-subj":"fieldsExpressionSelect",value:m,isInvalid:t.termField.length>0&&void 0!==m,onChange:e=>{p(e.target.value)},options:j.reduce(((t,i)=>(O[e].validNormalizedTypes.includes(i.normalizedType)&&t.push({text:i.name,value:i.name}),t)),[E]),onBlur:()=>{void 0===m&&p("")}})))):null)))}}}]);